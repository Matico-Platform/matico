/*! For license information please see 2.d9c11ba5.chunk.js.LICENSE.txt */
(this["webpackJsonpsimple-map-viewer"]=this["webpackJsonpsimple-map-viewer"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(328)},function(e,t,n){e.exports=n(352)()},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(351)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(294);var i=n(164),o=n(295);function a(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}},function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"h",(function(){return i.d})),n.d(t,"i",(function(){return i.e})),n.d(t,"f",(function(){return i.c})),n.d(t,"b",(function(){return i.b})),n.d(t,"a",(function(){return i.a})),n.d(t,"m",(function(){return o.c})),n.d(t,"k",(function(){return o.b})),n.d(t,"n",(function(){return o.d})),n.d(t,"c",(function(){return y})),n.d(t,"l",(function(){return _})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c}));var r=new(n(529).a)({id:"luma.gl"}),i=n(41),o=(n(246),n(98)),a=n(81),s=n(34),u=n(50);function l(e){var t=e.luma;if(e.canvas&&t){var n=t.canvasSizeInfo.clientWidth;return n?e.drawingBufferWidth/n:1}return 1}function c(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=l(e),i=e.drawingBufferWidth,o=e.drawingBufferHeight;return h(t,r,i,o,n)}function f(e){var t="undefined"===typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function h(e,t,n,r,i){var o,a=d(e[0],t,n),s=p(e[1],t,r,i),u=d(e[0]+1,t,n),l=u===n-1?u:u-1;return u=p(e[1]+1,t,r,i),i?(o=s,s=u=0===u?u:u+1):o=u===r-1?u:u-1,{x:a,y:s,width:Math.max(l-a+1,1),height:Math.max(o-s+1,1)}}function d(e,t,n){return Math.min(Math.round(e*t),n-1)}function p(e,t,n,r){return r?Math.max(0,n-1-Math.round(e*t)):Math.min(Math.round(e*t),n-1)}var g=Object(s.isBrowser)(),m=g&&"undefined"!==typeof document,v={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(g,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var t,n=e=Object.assign({},v,e),r=n.width,i=n.height;function o(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}e.onError=o;var a=e,s=a.canvas,l=x({canvas:s,width:r,height:i,onError:o});return(t=w(l,e))?(O(t=b(t,e)),t):null}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||k(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var n=t=Object.assign({},v,t),i=n.manageState,o=n.debug;return i&&Object(a.c)(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log.apply(r,[1].concat(t))()}}),g&&o&&(s.global.makeDebugContext?(e=s.global.makeDebugContext(e,t),r.level=Math.max(r.level,1)):r.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){var n=f(t.useDevicePixels);S(e,n,t)}else{var r=e.getExtension("STACKGL_resize_drawingbuffer");r&&"width"in t&&"height"in t&&r.resize(t.width,t.height)}}function w(e,t){var n=t.onError,r=null,i=function(e){return r=e.statusMessage||r};e.addEventListener("webglcontextcreationerror",i,!1);var o=t.webgl1,a=void 0===o||o,s=t.webgl2,u=void 0===s||s,l=null;return u&&(l=(l=l||e.getContext("webgl2",t))||e.getContext("experimental-webgl2",t)),a&&(l=(l=l||e.getContext("webgl",t))||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",i,!1),l?(t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1),t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1),l):n("Failed to create ".concat(u&&!a?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"))}function x(e){var t,n=e.canvas,r=e.width,i=void 0===r?800:r,o=e.height,a=void 0===o?600:o,s=e.onError;"string"===typeof n?(m&&"complete"===document.readyState||s("createGLContext called on canvas '".concat(n,"' before page was loaded")),t=document.getElementById(n)):n?t=n:((t=document.createElement("canvas")).id="lumagl-canvas",t.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",t.style.height=Number.isFinite(a)?"".concat(a,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}function O(e){var t=Object(i.e)(e)?"WebGL2":"WebGL1",n=function(e){var t=e.getParameter(7936),n=e.getParameter(7937),r=e.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e),o=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",a=e.debug?" debug":"";r.info(1,"".concat(t).concat(a," context ").concat(o))()}function k(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}function S(e,t,n){var i="width"in n?n.width:e.canvas.clientWidth,o="height"in n?n.height:e.canvas.clientHeight;i&&o||(r.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,i=e.canvas.width||1,o=e.canvas.height||1),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var a=e.luma.canvasSizeInfo;if(a.clientWidth!==i||a.clientHeight!==o||a.devicePixelRatio!==t){var s=t,u=Math.floor(i*s),l=Math.floor(o*s);e.canvas.width=u,e.canvas.height=l,e.drawingBufferWidth===u&&e.drawingBufferHeight===l||(r.warn("Device pixel ratio clamped")(),s=Math.min(e.drawingBufferWidth/i,e.drawingBufferHeight/o),e.canvas.width=Math.floor(i*s),e.canvas.height=Math.floor(o*s)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:i,clientHeight:o,devicePixelRatio:t})}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Pe})),n.d(t,"b",(function(){return Le})),n.d(t,"c",(function(){return ve}));var r=n(135),i=n(0),o=n.n(i),a=n(291),s=n.n(a),u=n(162),l=n(122),c=n(137),f=n(82),h=n.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},g=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},m=Object.freeze([]),v=Object.freeze({});function y(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function _(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).SC_ATTR)||"data-styled",x="undefined"!=typeof window&&"HTMLElement"in window,O=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).SC_DISABLE_SPEEDY)),k={};function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),C=new Map,A=new Map,P=1,j=function(e){if(C.has(e))return C.get(e);for(;A.has(P);)P++;var t=P++;return C.set(e,t),A.set(t,e),t},T=function(e){return A.get(e)},M=function(e,t){C.set(e,t),A.set(t,e)},R="style["+w+'][data-styled-version="5.2.3"]',L=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),I=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},D=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(L);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(M(l,u),I(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},z=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.2.3");var a=z();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},N=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}S(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),B=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),$=x,U={isServer:!x,useCSSOMInjection:!O},W=function(){function e(e,t,n){void 0===e&&(e=v),void 0===t&&(t={}),this.options=d({},U,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&x&&$&&($=!1,function(e){for(var t=document.querySelectorAll(R),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(D(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return j(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new V(i):r?new N(i):new B(i),new E(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(j(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(j(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(j(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=T(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=w+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function q(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=G(t%52)+n;return(G(t%52)+n).replace(H,"$1-$2")}var X=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Z=function(e){return X(5381,e)};function K(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(y(n)&&!_(n))return!1}return!0}var Y=Z("5.2.3"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&K(e),this.componentId=t,this.baseHash=X(Y,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=me(this.rules,e,t,n).join(""),a=q(X(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,l=X(this.baseHash,n.hash),c="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)c+=h;else if(h){var d=me(h,e,t,n),p=Array.isArray(d)?d.join(""):d;l=X(l,p+f),c+=p}}if(c){var g=q(l>>>0);if(!t.hasNameForId(r,g)){var m=n(c,"."+g,void 0,r);t.insertRules(r,g,m)}i.push(g)}}return i.join(" ")},e}(),Q=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,o=void 0===e?v:e,a=o.options,s=void 0===a?v:a,l=o.plugins,c=void 0===l?m:l,f=new u.a(s),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,l,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,o){return 0===r&&-1!==ee.indexOf(o[n.length])||o.match(i)?e:"."+t};function g(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Q,""),l=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(a||!o?"":o,l)}return f.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),g.hash=c.length?c.reduce((function(e,t){return t.name||S(15),X(e,t.name)}),5381).toString():"",g}var ne=o.a.createContext(),re=(ne.Consumer,o.a.createContext()),ie=(re.Consumer,new W),oe=te();function ae(){return Object(i.useContext)(ne)||ie}function se(){return Object(i.useContext)(re)||oe}function ue(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ae(),u=Object(i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=Object(i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(ne.Provider,{value:u},o.a.createElement(re.Provider,{value:l},e.children))}var le=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return S(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),ce=/([A-Z])/,fe=/([A-Z])/g,he=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return ce.test(e)?e.replace(fe,de).replace(he,"-ms-"):e}var ge=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=me(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ge(e)?"":_(e)?"."+e.styledComponentId:y(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof le?n?(e.inject(n,r),e.getName(r)):e:g(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!ge(t[a])&&(g(t[a])?o.push.apply(o,e(t[a],a)):y(t[a])?o.push(pe(a)+":",t[a],";"):o.push(pe(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in l.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e)||g(e)?me(p(m,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(p(e,n))}new Set;var ye=function(e,t,n){return void 0===n&&(n=v),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function we(e){return e.replace(be,"-").replace(_e,"")}var xe=function(e){return q(Z(e)>>>0)};function Oe(e){return"string"==typeof e&&!0}var ke=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Se=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ee(e,t,n){var r=e[n];ke(t)&&ke(r)?Ce(r,t):e[n]=t}function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(ke(a))for(var s in a)Se(s)&&Ee(e,a[s],s)}return e}var Ae=o.a.createContext();Ae.Consumer;function Pe(e){var t=Object(i.useContext)(Ae),n=Object(i.useMemo)((function(){return function(e,t){return e?y(e)?e(t):Array.isArray(e)||"object"!=typeof e?S(8):t?d({},t,{},e):e:S(14)}(e.theme,t)}),[e.theme,t]);return e.children?o.a.createElement(Ae.Provider,{value:n},e.children):null}var je={};function Te(e,t,n){var r=_(e),a=!Oe(e),s=t.attrs,u=void 0===s?m:s,l=t.componentId,f=void 0===l?function(e,t){var n="string"!=typeof e?"sc":we(e);je[n]=(je[n]||0)+1;var r=n+"-"+xe("5.2.3"+n+je[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,p=t.displayName,g=void 0===p?function(e){return Oe(e)?"styled."+e:"Styled("+b(e)+")"}(e):p,w=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||f,x=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,O=t.shouldForwardProp;r&&e.shouldForwardProp&&(O=t.shouldForwardProp?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var k,S=new J(n,w,r?e.componentStyle:void 0),E=S.isStatic&&0===u.length,C=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,l=e.shouldForwardProp,f=e.styledComponentId,h=e.target,p=function(e,t,n){void 0===e&&(e=v);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in y(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(ye(t,Object(i.useContext)(Ae),s)||v,t,o),g=p[0],m=p[1],b=function(e,t,n,r){var i=ae(),o=se();return t?e.generateAndInjectStyles(v,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,g),_=n,w=m.$as||t.$as||m.as||t.as||h,x=Oe(w),O=m!==t?d({},t,{},m):t,k={};for(var S in O)"$"!==S[0]&&"as"!==S&&("forwardedAs"===S?k.as=O[S]:(l?l(S,c.a):!x||Object(c.a)(S))&&(k[S]=O[S]));return t.style&&m.style!==t.style&&(k.style=d({},t.style,{},m.style)),k.className=Array.prototype.concat(u,f,b!==f?b:null,t.className,m.className).filter(Boolean).join(" "),k.ref=_,Object(i.createElement)(w,k)}(k,e,t,E)};return C.displayName=g,(k=o.a.forwardRef(C)).attrs=x,k.componentStyle=S,k.displayName=g,k.shouldForwardProp=O,k.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,k.styledComponentId=w,k.target=r?e.target:e,k.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Oe(e)?e:we(b(e)));return Te(e,d({},i,{attrs:x,componentId:o}),n)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ce({},e.defaultProps,t):t}}),k.toString=function(){return"."+k.styledComponentId},a&&h()(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var Me=function(e){return function e(t,n,i){if(void 0===i&&(i=v),!Object(r.isValidElementType)(n))return S(1,String(n));var o=function(){return t(n,i,ve.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,d({},i,{},r))},o.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Te,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Me[e]=Me(e)}));var Re=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=K(e),W.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=ve.apply(void 0,[e].concat(n)),s="sc-global-"+xe(JSON.stringify(a)),u=new Re(a,s);function l(e){var t=ae(),n=se(),r=Object(i.useContext)(Ae),o=Object(i.useRef)(t.allocateGSInstance(s)).current;return Object(i.useLayoutEffect)((function(){return c(o,e,t,r,n),function(){return u.removeStyles(o,t)}}),[o,e,t,r,n]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,k,n,i);else{var o=d({},t,{theme:ye(t,r,l.defaultProps)});u.renderStyles(e,o,n,i)}}return o.a.memo(l)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=z();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.2.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?S(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return S(2);var n=((t={})[w]="",t["data-styled-version"]="5.2.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=z();return r&&(n.nonce=r),[o.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?S(2):o.a.createElement(ue,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return S(3)}}();t.d=Me}).call(this,n(54))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(64);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){e.exports=n(227)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(99);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(123);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(107),i=n.n(r),o=n(27);function a(e,t){return!t||"object"!==i()(t)&&"function"!==typeof t?Object(o.a)(e):t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=l(n(391)),i=l(n(467)),o=l(n(493)),a=l(n(494)),s=l(n(495)),u=l(n(496));function l(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=u.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),u=(0,i.default)(e,s);return(0,o.default)(u)};t.default=c},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(139);var i=n(293),o=n(164);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=n(227)},function(e,t,n){"use strict";var r=n(56);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.e}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(25),i={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(i,"IDENTITY",{get:function(){return r.a.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")()||0}});var o={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},a={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}}},function(e,t,n){"use strict";n.d(t,"q",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"p",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"i",(function(){return y})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return _}));var r=n(17);function i(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function o(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=n*s-r*a,b=n*u-i*a,_=n*l-o*a,w=r*u-i*s,x=r*l-o*s,O=i*l-o*u,k=c*g-f*p,S=c*m-h*p,E=c*v-d*p,C=f*m-h*g,A=f*v-d*g,P=h*v-d*m,j=y*P-b*A+_*C+w*E-x*S+O*k;return j?(j=1/j,e[0]=(s*P-u*A+l*C)*j,e[1]=(i*A-r*P-o*C)*j,e[2]=(g*O-m*x+v*w)*j,e[3]=(h*x-f*O-d*w)*j,e[4]=(u*E-a*P-l*S)*j,e[5]=(n*P-i*E+o*S)*j,e[6]=(m*_-p*O-v*b)*j,e[7]=(c*O-h*_+d*b)*j,e[8]=(a*A-s*E+l*k)*j,e[9]=(r*E-n*A-o*k)*j,e[10]=(p*x-g*_+v*y)*j,e[11]=(f*_-c*x-d*y)*j,e[12]=(s*S-a*C-u*k)*j,e[13]=(n*C-r*S+i*k)*j,e[14]=(g*b-p*w-m*y)*j,e[15]=(c*w-f*b+h*y)*j,e):null}function a(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],g=e[14],m=e[15];return(t*a-n*o)*(f*m-h*g)-(t*s-r*o)*(c*m-h*p)+(t*u-i*o)*(c*g-f*p)+(n*s-r*a)*(l*m-h*d)-(n*u-i*a)*(l*g-f*d)+(r*u-i*s)*(l*p-c*d)}function s(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*f+x*g,e[1]=b*i+_*u+w*h+x*m,e[2]=b*o+_*l+w*d+x*v,e[3]=b*a+_*c+w*p+x*y,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*s+w*f+x*g,e[5]=b*i+_*u+w*h+x*m,e[6]=b*o+_*l+w*d+x*v,e[7]=b*a+_*c+w*p+x*y,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*s+w*f+x*g,e[9]=b*i+_*u+w*h+x*m,e[10]=b*o+_*l+w*d+x*v,e[11]=b*a+_*c+w*p+x*y,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*s+w*f+x*g,e[13]=b*i+_*u+w*h+x*m,e[14]=b*o+_*l+w*d+x*v,e[15]=b*a+_*c+w*p+x*y,e}function u(e,t,n){var r,i,o,a,s,u,l,c,f,h,d,p,g=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*g+s*m+f*v+t[12],e[13]=i*g+u*m+h*v+t[13],e[14]=o*g+l*m+d*v+t[14],e[15]=a*g+c*m+p*v+t[15]),e}function l(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c(e,t,n,i){var o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,_,w,x,O,k,S,E,C,A,P=i[0],j=i[1],T=i[2],M=Math.hypot(P,j,T);return M<r.b?null:(P*=M=1/M,j*=M,T*=M,o=Math.sin(n),s=1-(a=Math.cos(n)),u=t[0],l=t[1],c=t[2],f=t[3],h=t[4],d=t[5],p=t[6],g=t[7],m=t[8],v=t[9],y=t[10],b=t[11],_=P*P*s+a,w=j*P*s+T*o,x=T*P*s-j*o,O=P*j*s-T*o,k=j*j*s+a,S=T*j*s+P*o,E=P*T*s+j*o,C=j*T*s-P*o,A=T*T*s+a,e[0]=u*_+h*w+m*x,e[1]=l*_+d*w+v*x,e[2]=c*_+p*w+y*x,e[3]=f*_+g*w+b*x,e[4]=u*O+h*k+m*S,e[5]=l*O+d*k+v*S,e[6]=c*O+p*k+y*S,e[7]=f*O+g*k+b*S,e[8]=u*E+h*C+m*A,e[9]=l*E+d*C+v*A,e[10]=c*E+p*C+y*A,e[11]=f*E+g*C+b*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function f(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=u*i+h*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=h*i-u*r,e}function h(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=u*i-h*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=u*r+h*i,e}function d(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+f*r,e[3]=u*i+h*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=f*i-s*r,e[7]=h*i-u*r,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,l,c),e}function g(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*u,g=o*a,m=o*s,v=o*u;return e[0]=1-f-p,e[1]=c+v,e[2]=h-m,e[3]=0,e[4]=c-v,e[5]=1-l-p,e[6]=d+g,e[7]=0,e[8]=h+m,e[9]=d-g,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e}function v(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}function y(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e}function b(e,t,n,i){var o,a,s,u,l,c,f,h,d,p,g=t[0],m=t[1],v=t[2],y=i[0],b=i[1],_=i[2],w=n[0],x=n[1],O=n[2];return Math.abs(g-w)<r.b&&Math.abs(m-x)<r.b&&Math.abs(v-O)<r.b?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(f=g-w,h=m-x,d=v-O,o=b*(d*=p=1/Math.hypot(f,h,d))-_*(h*=p),a=_*(f*=p)-y*d,s=y*h-b*f,(p=Math.hypot(o,a,s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),u=h*s-d*a,l=d*o-f*s,c=f*a-h*o,(p=Math.hypot(u,l,c))?(u*=p=1/p,l*=p,c*=p):(u=0,l=0,c=0),e[0]=o,e[1]=u,e[2]=f,e[3]=0,e[4]=a,e[5]=l,e[6]=h,e[7]=0,e[8]=s,e[9]=c,e[10]=d,e[11]=0,e[12]=-(o*g+a*m+s*v),e[13]=-(u*g+l*m+c*v),e[14]=-(f*g+h*m+d*v),e[15]=1,e)}function _(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=t[0],_=t[1],w=t[2],x=t[3],O=t[4],k=t[5],S=t[6],E=t[7],C=t[8],A=t[9],P=t[10],j=t[11],T=t[12],M=t[13],R=t[14],L=t[15];return Math.abs(n-b)<=r.b*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-_)<=r.b*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=r.b*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=r.b*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-O)<=r.b*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(u-k)<=r.b*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(l-S)<=r.b*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-E)<=r.b*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-C)<=r.b*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(h-A)<=r.b*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-P)<=r.b*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(p-j)<=r.b*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(g-T)<=r.b*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(m-M)<=r.b*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(v-R)<=r.b*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(y-L)<=r.b*Math.max(1,Math.abs(y),Math.abs(L))}},function(e,t,n){"use strict";var r=n(529);t.a=new r.a({id:"deck"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(63);function i(e,t){if(null==e)return{};var n,i,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return c}));n(19),n(127),n(18),n(57),Math.PI,Math.PI;var r={};function i(e){return Math.round(e/r.EPSILON)*r.EPSILON}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.precision,o=void 0===n?r.precision||4:n;return e=i(e),"".concat(parseFloat(e.toPrecision(o)))}function a(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function s(e,t,n){if(a(e)){n=n||((i=e).clone?i.clone():new Array(i.length));for(var r=0;r<n.length&&r<e.length;++r)n[r]=t(e[r],r,n);return n}var i;return t(e)}function u(e,t,n){return s(e,(function(e){return Math.max(t,Math.min(n,e))}))}function l(e,t,n){return a(e)?e.map((function(e,r){return l(e,t[r],n)})):n*t+(1-n)*e}function c(e,t,n){var i=r.EPSILON;n&&(r.EPSILON=n);try{if(e===t)return!0;if(a(e)&&a(t)){if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!c(e[o],t[o]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{r.EPSILON=i}}r.EPSILON=1e-12,r.debug=!1,r.precision=4,r.printTypes=!1,r.printDegrees=!1,r.printRowMajor=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u}));var r=n(29);function i(e,t){if(e.length!==t)return!1;for(var n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}function o(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(r.b.debug&&!i(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}var s={};function u(e,t){s[e]||(s[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}},function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return p}));var r=n(19),i=function(e){return"boolean"===typeof e},o=function(e){return"function"===typeof e},a=function(e){return null!==e&&"object"===Object(r.a)(e)},s=function(e){return a(e)&&e.constructor==={}.constructor},u=function(e){return e&&"function"===typeof e[Symbol.iterator]},l=function(e){return e&&"function"===typeof e[Symbol.asyncIterator]},c=function(e){return e&&o(e.next)},f=function(e){return"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},h=function(e){return"undefined"!==typeof Blob&&e instanceof Blob},d=function(e){return e&&"object"===Object(r.a)(e)&&e.isBuffer},p=function(e){return function(e){return"undefined"!==typeof ReadableStream&&e instanceof ReadableStream||a(e)&&o(e.tee)&&o(e.cancel)&&o(e.getReader)}(e)||function(e){return a(e)&&o(e.read)&&o(e.pipe)&&i(e.readable)}(e)}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(364)},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return F})),n.d(t,"l",(function(){return N})),n.d(t,"m",(function(){return B})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return D}));var r=n(51),i=n(0),o=n.n(i),a=(n(1),n(71)),s=n(217),u=n(65),l=n(7),c=n(218),f=n.n(c),h=(n(135),n(63)),d=n(82),p=n.n(d),g=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History"),m=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(m.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(g.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(a.d)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return o.a.createElement(v,{history:this.history,children:this.props.children})},t}(o.a.Component);var b=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);function _(e){var t=e.message,n=e.when,r=void 0===n||n;return o.a.createElement(m.Consumer,null,(function(e){if(e||Object(u.a)(!1),!r||e.staticContext)return null;var n=e.history.block;return o.a.createElement(b,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var w={},x=0;function O(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(w[e])return w[e];var t=f.a.compile(e);return x<1e4&&(w[e]=t,x++),t}(e)(t,{pretty:!0})}function k(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(m.Consumer,null,(function(e){e||Object(u.a)(!1);var r=e.history,s=e.staticContext,c=i?r.push:r.replace,f=Object(a.c)(t?"string"===typeof n?O(n,t.params):Object(l.a)({},n,{pathname:O(n.pathname,t.params)}):n);return s?(c(f),null):o.a.createElement(b,{onMount:function(){c(f)},onUpdate:function(e,t){var n=Object(a.c)(t.to);Object(a.f)(n,Object(l.a)({},f,{key:n.key}))||c(f)},to:n})}))}var S={},E=0;function C(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=S[n]||(S[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return E<1e4&&(r[e]=o,E++),o}(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),d=e===c;return o&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var A=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(m.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?C(n.pathname,e.props):t.match,i=Object(l.a)({},t,{location:n,match:r}),a=e.props,s=a.children,c=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(m.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:c?o.a.createElement(c,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function P(e){return"/"===e.charAt(0)?e:"/"+e}function j(e,t){if(!e)return t;var n=P(e);return 0!==t.pathname.indexOf(n)?t:Object(l.a)({},t,{pathname:t.pathname.substr(n.length)})}function T(e){return"string"===typeof e?e:Object(a.e)(e)}function M(e){return function(){Object(u.a)(!1)}}function R(){}var L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return R},t.handleBlock=function(){return R},t}Object(r.a)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,s=void 0===o?{}:o;s.action=t,s.location=function(e,t){return e?Object(l.a)({},t,{pathname:P(e)+t.pathname}):t}(i,Object(a.c)(e)),s.url=T(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,i=void 0===r?{}:r,s=e.location,u=void 0===s?"/":s,c=Object(h.a)(e,["basename","context","location"]),f={createHref:function(e){return P(n+T(e))},action:"POP",location:j(n,Object(a.c)(u)),push:this.handlePush,replace:this.handleReplace,go:M(),goBack:M(),goForward:M(),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(v,Object(l.a)({},c,{history:f,staticContext:i}))},t}(o.a.Component);var I=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(m.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?C(i.pathname,Object(l.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);function D(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(h.a)(t,["wrappedComponentRef"]);return o.a.createElement(m.Consumer,null,(function(t){return t||Object(u.a)(!1),o.a.createElement(e,Object(l.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,p()(n,e)}var z=o.a.useContext;function F(){return z(g)}function N(){return z(m).location}function B(){var e=z(m).match;return e?e.params:{}}function V(e){var t=N(),n=z(m).match;return e?C(t.pathname,e):n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return R})),n.d(t,"l",(function(){return B})),n.d(t,"d",(function(){return G})),n.d(t,"g",(function(){return q})),n.d(t,"k",(function(){return O})),n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return T})),n.d(t,"m",(function(){return M})),n.d(t,"h",(function(){return S})),n.d(t,"f",(function(){return E})),n.d(t,"b",(function(){return C})),n.d(t,"j",(function(){return A})),n.d(t,"i",(function(){return P}));var r=n(18),i=n(8),o=n(5),a=n(4),s=n(39);function u(e,t){var n=s.n([],t,e);return s.k(n,n,1/n[3]),n}function l(e,t){var n=e%t;return n<0?t+n:n}function c(e,t,n){return n*t+(1-n)*e}var f=n(24),h=n(48),d=n(37);function p(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}var g=Math.PI,m=g/4,v=g/180,y=180/g,b=512,_=4003e4;function w(e){return Math.pow(2,e)}function x(e){return Math.log2(e)}function O(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];p(Number.isFinite(n)),p(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var o=r*v;return[b*(n*v+g)/(2*g),b*(g+Math.log(Math.tan(m+.5*o)))/(2*g)]}function k(e){var t=Object(i.a)(e,2),n=t[0],r=t[1],o=n/b*(2*g)-g,a=2*(Math.atan(Math.exp(r/b*(2*g)-g))-m);return[o*y,a*y]}function S(e){var t=e.latitude;p(Number.isFinite(t));var n=Math.cos(t*v);return x(_*n)-9}function E(e){var t=e.latitude,n=e.longitude,r=e.highPrecision,i=void 0!==r&&r;p(Number.isFinite(t)&&Number.isFinite(n));var o={},a=Math.cos(t*v),s=512/360,u=s/a,l=12790407194604047e-21/a;if(o.unitsPerMeter=[l,l,l],o.metersPerUnit=[1/l,1/l,1/l],o.unitsPerDegree=[s,u,l],o.degreesPerUnit=[.703125,1/u,1/l],i){var c=v*Math.tan(t*v)/a,f=s*c/2,h=12790407194604047e-21*c,d=h/u*l;o.unitsPerDegree2=[0,f,h],o.unitsPerMeter2=[d,0,d]}return o}function C(e,t){var n=Object(i.a)(e,3),r=n[0],o=n[1],a=n[2],s=Object(i.a)(t,3),u=s[0],l=s[1],c=s[2],f=E({longitude:r,latitude:o,highPrecision:!0}),h=f.unitsPerMeter,d=f.unitsPerMeter2,p=O(e);p[0]+=u*(h[0]+d[0]*l),p[1]+=l*(h[1]+d[1]*l);var g=k(p),m=(a||0)+(c||0);return Number.isFinite(a)||Number.isFinite(c)?[g[0],g[1],m]:g}function A(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,o=e.scale,a=e.center,s=void 0===a?null:a,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return f.p(u,u,[0,0,-i]),f.l(u,u,-n*v),f.n(u,u,r*v),o/=t,f.o(u,u,[o,o,o]),s&&f.p(u,u,d.g([],s)),u}function P(e){var t=e.width,n=e.height,r=e.altitude,i=void 0===r?1.5:r,o=e.pitch,a=void 0===o?0:o,s=e.nearZMultiplier,u=void 0===s?1:s,l=e.farZMultiplier,c=void 0===l?1:l,f=a*v,h=Math.atan(.5/i),d=Math.sin(h)*i/Math.sin(Math.min(Math.max(Math.PI/2-f-h,.01),Math.PI-.01));return{fov:2*h,aspect:t/n,focalDistance:i,near:u,far:(Math.sin(f)*d+i)*c}}function j(e){var t=e.width,n=e.height,r=e.pitch,i=P({width:t,height:n,altitude:e.altitude,pitch:r,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}),o=i.fov,a=i.aspect,s=i.near,u=i.far;return f.j([],o,a,s,u)}function T(e,t){var n=Object(i.a)(e,3),r=n[0],o=n[1],a=n[2],s=void 0===a?0:a;return p(Number.isFinite(r)&&Number.isFinite(o)&&Number.isFinite(s)),u(t,[r,o,s,1])}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(i.a)(e,3),o=r[0],a=r[1],s=r[2];if(p(Number.isFinite(o)&&Number.isFinite(a),"invalid pixel coordinate"),Number.isFinite(s)){var l=u(t,[o,a,s,1]);return l}var c=u(t,[o,a,0,1]),f=u(t,[o,a,1,1]),d=c[2],g=f[2],m=d===g?0:((n||0)-d)/(g-d);return h.c([],c,f,m)}function R(e){var t=e.width,n=e.height,r=e.bounds,o=e.minExtent,a=void 0===o?0:o,s=e.maxZoom,u=void 0===s?24:s,l=e.padding,c=void 0===l?0:l,f=e.offset,h=void 0===f?[0,0]:f,d=Object(i.a)(r,2),g=Object(i.a)(d[0],2),m=g[0],v=g[1],y=Object(i.a)(d[1],2),b=y[0],_=y[1];if(Number.isFinite(c)){c={top:c,bottom:c,left:c,right:c}}else p(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var w=new z({width:t,height:n,longitude:0,latitude:0,zoom:0}),x=w.project([m,_]),O=w.project([b,v]),k=[Math.max(Math.abs(O[0]-x[0]),a),Math.max(Math.abs(O[1]-x[1]),a)],S=[t-c.left-c.right-2*Math.abs(h[0]),n-c.top-c.bottom-2*Math.abs(h[1])];p(S[0]>0&&S[1]>0);var E=S[0]/k[0],C=S[1]/k[1],A=(c.right-c.left)/2/E,P=(c.bottom-c.top)/2/C,j=[(O[0]+x[0])/2+A,(O[1]+x[1])/2+P],T=w.unproject(j),M=Math.min(u,w.zoom+Math.log2(Math.abs(Math.min(E,C))));return p(Number.isFinite(M)),{longitude:T[0],latitude:T[1],zoom:M}}var L=Math.PI/180;function I(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.width,o=e.height,a=e.unproject,s={targetZ:r},u=a([0,o],s),l=a([i,o],s),c=Math.atan(.5/e.altitude),f=(90-e.pitch)*L;return c>f-.01?(t=D(e,0,r),n=D(e,i,r)):(t=a([0,0],s),n=a([i,0],s)),[u,l,n,t]}function D(e,t,n){var r=e.pixelUnprojectionMatrix,i=u(r,[t,0,1,1]),o=u(r,[t,e.height,1,1]),a=(n*e.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2]),s=k(h.c([],i,o,a));return s[2]=n,s}var z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},n=t.width,r=t.height,i=t.latitude,a=void 0===i?0:i,s=t.longitude,u=void 0===s?0:s,l=t.zoom,c=void 0===l?0:l,f=t.pitch,h=void 0===f?0:f,d=t.bearing,p=void 0===d?0:d,g=t.altitude,m=void 0===g?1.5:g,v=t.nearZMultiplier,y=void 0===v?.02:v,b=t.farZMultiplier,_=void 0===b?1.01:b;Object(o.a)(this,e),n=n||1,r=r||1;var x=w(c);m=Math.max(.75,m);var k=O([u,a]);k[2]=0,this.projectionMatrix=j({width:n,height:r,pitch:h,altitude:m,nearZMultiplier:y,farZMultiplier:_}),this.viewMatrix=A({height:r,scale:x,center:k,pitch:h,bearing:p,altitude:m}),this.width=n,this.height=r,this.scale=x,this.latitude=a,this.longitude=u,this.zoom=c,this.pitch=h,this.bearing=p,this.altitude=m,this.center=k,this.distanceScales=E(this),this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}return Object(a.a)(e,[{key:"_initMatrices",value:function(){var e=this.width,t=this.height,n=this.projectionMatrix,r=this.viewMatrix,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];f.h(i,i,n),f.h(i,i,r),this.viewProjectionMatrix=i;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];f.o(o,o,[e/2,-t/2,1]),f.p(o,o,[1,-1,0]),f.h(o,o,i);var a=f.f([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&f.b(t.projectionMatrix,this.projectionMatrix)&&f.b(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,o=this.projectPosition(e),a=T(o,this.pixelProjectionMatrix),s=Object(i.a)(a,2),u=s[0],l=s[1],c=r?l:this.height-l;return 2===e.length?[u,c]:[u,c,a[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,o=t.targetZ,a=void 0===o?void 0:o,s=Object(i.a)(e,3),u=s[0],l=s[1],c=s[2],f=r?l:this.height-l,h=a&&a*this.distanceScales.unitsPerMeter[2],d=M([u,f,c],this.pixelUnprojectionMatrix,h),p=this.unprojectPosition(d),g=Object(i.a)(p,3),m=g[0],v=g[1],y=g[2];return Number.isFinite(c)?[m,v,y]:Number.isFinite(a)?[m,v,a]:[m,v]}},{key:"projectPosition",value:function(e){var t=O(e),n=Object(i.a)(t,2);return[n[0],n[1],(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(e){var t=k(e),n=Object(i.a)(t,2);return[n[0],n[1],(e[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(e){return O(e)}},{key:"unprojectFlat",value:function(e){return k(e)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=M(e.pos,this.pixelUnprojectionMatrix),r=O(t),i=h.a([],r,h.d([],n));return k(h.a([],this.center,i))}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=R(Object.assign({width:r,height:i,bounds:t},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new e({width:r,height:i,longitude:a,latitude:s,zoom:u})}},{key:"getBounds",value:function(e){var t=this.getBoundingRegion(e),n=Math.min.apply(Math,Object(r.a)(t.map((function(e){return e[0]})))),i=Math.max.apply(Math,Object(r.a)(t.map((function(e){return e[0]}))));return[[n,Math.min.apply(Math,Object(r.a)(t.map((function(e){return e[1]}))))],[i,Math.max.apply(Math,Object(r.a)(t.map((function(e){return e[1]}))))]]}},{key:"getBoundingRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I(this,e.z||0)}}]),e}(),F=85.05113,N=-85.05113;function B(e){var t=e.width,n=e.height,r=e.longitude,i=e.latitude,o=e.zoom,a=e.pitch,s=void 0===a?0:a,u=e.bearing,c=void 0===u?0:u;(r<-180||r>180)&&(r=l(r+180,360)-180),(c<-180||c>180)&&(c=l(c+180,360)-180);var f=new z({width:t,height:n,longitude:r,latitude:i,zoom:o}),h=f.project([r,F])[1],d=f.project([r,N])[1],p=0;return d-h<n&&(o+=Math.log2(n/(d-h)),h=(f=new z({width:t,height:n,longitude:r,latitude:i,zoom:o})).project([r,F])[1],d=f.project([r,N])[1]),h>0?p=h:d<n&&(p=d-n),p&&(i=f.unproject([t/2,n/2+p])[1]),{width:t,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:c}}function V(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=.01,W=["longitude","latitude","zoom"],H={curve:1.414,speed:1.2};function G(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={},o=X(e,t,r),a=o.startZoom,s=o.startCenterXY,u=o.uDelta,l=o.w0,f=o.u1,d=o.S,p=o.rho,g=o.rho2,m=o.r0;if(f<U){var v,y=V(W);try{for(y.s();!(v=y.n()).done;){var b=v.value,_=e[b],w=t[b];i[b]=c(_,w,n)}}catch(T){y.e(T)}finally{y.f()}return i}var O=n*d,S=Math.cosh(m)/Math.cosh(m+p*O),E=l*((Math.cosh(m)*Math.tanh(m+p*O)-Math.sinh(m))/g)/f,C=1/S,A=a+x(C),P=h.e([],u,E);h.a(P,P,s);var j=k(P);return i.longitude=j[0],i.latitude=j[1],i.zoom=A,i}function q(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r=Object.assign({},H,r),o=i.screenSpeed,a=i.speed,s=i.maxDuration,u=X(e,t,r),l=u.S,c=u.rho,f=1e3*l;return n=Number.isFinite(o)?f/(o/c):f/a,Number.isFinite(s)&&n>s?0:n}function X(e,t,n){var r=(n=Object.assign({},H,n)).curve,i=e.zoom,o=[e.longitude,e.latitude],a=w(i),s=t.zoom,u=[t.longitude,t.latitude],l=w(s-i),c=O(o),f=O(u),d=h.f([],f,c),p=Math.max(e.width,e.height),g=p/l,m=h.b(d)*a,v=Math.max(m,U),y=r*r,b=(g*g-p*p+y*y*v*v)/(2*p*y*v),_=(g*g-p*p-y*y*v*v)/(2*g*y*v),x=Math.log(Math.sqrt(b*b+1)-b),k=Math.log(Math.sqrt(_*_+1)-_);return{startZoom:i,startCenterXY:c,uDelta:d,w0:p,u1:m,S:(k-x)/r,rho:r,rho2:y,r0:x,r1:k}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return f})),n.d(t,"o",(function(){return h})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return v})),n.d(t,"f",(function(){return y}));var r=n(17);function i(){var e=new r.a(3);return r.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e,t,n){var i=new r.a(3);return i[0]=e,i[1]=t,i[2]=n,i}function a(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function s(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function u(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function l(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function c(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function f(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function h(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],l=t[2],c=i*l-o*u,f=o*s-r*l,h=r*u-i*s,d=i*h-o*f,p=o*c-r*h,g=r*f-i*c,m=2*a;return c*=m,f*=m,h*=m,d*=2,p*=2,g*=2,e[0]=s+c+d,e[1]=u+f+p,e[2]=l+h+g,e}function d(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function p(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function g(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function m(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],l=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=l&&u(e,t)/l;return Math.acos(Math.min(Math.max(c,-1),1))}var v=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},y=function(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)};!function(){var e=i()}()},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"l",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"m",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return y}));var r=n(17);function i(e){var t=new r.a(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,n,i){var o=new r.a(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function u(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function l(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function c(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function f(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function h(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e}function d(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function p(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}function g(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function m(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,f=l*i+u*r-a*o,h=l*o+a*i-s*r,d=-a*r-s*i-u*o;return e[0]=c*l+d*-a+f*-u-h*-s,e[1]=f*l+d*-s+h*-a-c*-u,e[2]=h*l+d*-u+c*-s-f*-a,e[3]=t[3],e}function v(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function y(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=t[0],u=t[1],l=t[2],c=t[3];return Math.abs(n-s)<=r.b*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.b*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.b*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.b*Math.max(1,Math.abs(a),Math.abs(c))}!function(){var e=function(){var e=new r.a(4);return r.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(50),i="Invalid WebGLRenderingContext";function o(e){return"undefined"!==typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version)))}function a(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function s(e){return a(e)?e:null}function u(e){return Object(r.a)(o(e),i),e}function l(e){return Object(r.a)(a(e),"Requires WebGL2"),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(138);var i=n(123);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(25),i={};function o(e){i=e}function a(e){var t;r.a.level>0&&i[e]&&(t=i[e]).call.apply(t,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},i={COMPONENT:Symbol.for("component"),ASYNC_DEFAULTS:Symbol.for("asyncPropDefaults"),ASYNC_ORIGINAL:Symbol.for("asyncPropOriginal"),ASYNC_RESOLVED:Symbol.for("asyncPropResolved")}},,function(e,t,n){"use strict";var r=n(173),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return f}));var r=n(17);function i(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function o(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function a(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function s(e,t){return e[0]=-t[0],e[1]=-t[1],e}function u(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function l(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function c(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}var f=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};!function(){var e=function(){var e=new r.a(2);return r.a!=Float32Array&&(e[0]=0,e[1]=0),e}()}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(5),i=n(4),o=n(27),a=n(13),s=n(15),u=n(6),l=n(52),c=n(69),f=n(97),h=n(9),d=n(225),p=n(33);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var m={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},v={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:m},y={removedProps:m},b=function(e){Object(a.a)(n,e);var t=g(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,n),(i=t.call(this,e,a)).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),i.target=a.target||(i.gl.webgl2?36662:34962),i.initialize(a),Object.seal(Object(o.a)(i)),i}return Object(i.a)(n,[{key:"getElementCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/c.a.getBytesPerElement(e))}},{key:"getVertexCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/c.a.getBytesPerVertex(e))}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=Object(d.a)("Buffer",e,v),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}},{key:"setProps",value:function(e){return"accessor"in(e=Object(d.a)("Buffer",e,y))&&this.setAccessor(e.accessor),this}},{key:"setAccessor",value:function(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new c.a(e),this}},{key:"reallocate",value:function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,n=t.data,r=t.offset,i=void 0===r?0:r,o=t.srcOffset,a=void 0===o?0:o,s=e.byteLength||e.length;Object(p.a)(n);var u=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(u,this.handle),0!==a||void 0!==s?(Object(h.a)(this.gl),this.gl.bufferSubData(this.target,i,n,a,s)):this.gl.bufferSubData(u,i,n),this.gl.bindBuffer(u,null),this.debugData=null,this._inferType(n),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,n=e.readOffset,r=void 0===n?0:n,i=e.writeOffset,o=void 0===i?0:i,a=e.size,s=this.gl;return Object(h.a)(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,r,o,a),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,n=void 0===t?null:t,r=e.srcByteOffset,i=void 0===r?0:r,o=e.dstOffset,a=void 0===o?0:o,s=e.length,u=void 0===s?0:s;Object(h.a)(this.gl);var l,c,d=Object(f.c)(this.accessor.type||5126,{clamped:!1}),g=this._getAvailableElementCount(i),m=a;n?l=(c=n.length)-m:c=m+(l=Math.min(g,u||g));var v=Math.min(g,l);return u=u||v,Object(p.a)(u<=v),n=n||new d(c),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,n,a,u),this.gl.bindBuffer(36662,null),n}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=e.offset,a=void 0===o?0:o,s=e.size;return 35345===n||35982===n?void 0!==s?this.gl.bindBufferRange(n,i,this.handle,a,s):(Object(p.a)(0===a),this.gl.bindBufferBase(n,i,this.handle)):this.gl.bindBuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=35345===n||35982===n;return o?this.gl.bindBufferBase(n,i,null):this.gl.bindBuffer(n,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;Object(p.a)(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();var r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=n,this._trackAllocatedMemory(n);var i=Object(f.b)(e);return Object(p.a)(i),this.setAccessor(new c.a(this.accessor,{type:i})),this}},{key:"_setByteLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(p.a)(e>=0),this._trackDeallocatedMemory();var n=e;0===e&&(n=new Float32Array(0));var r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(e){var t=e/Object(f.c)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}},{key:"_inferType",value:function(e){this.accessor.type||this.setAccessor(new c.a(this.accessor,{type:Object(f.b)(e)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"setByteLength",value:function(e){return h.j.deprecated("setByteLength","reallocate")(),this.reallocate(e)}},{key:"updateAccessor",value:function(e){return h.j.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new c.a(this.accessor,e),this}},{key:"type",get:function(){return h.j.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return h.j.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}]),n}(l.a)},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(99);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(5),i=n(4),o=n(9),a=n(143),s=n(104),u=n(147),l=n(33),c=n(527);function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d="Resource subclass must define virtual methods",p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.a)(this,e),Object(o.b)(t);var i=n.id,a=n.userData,s=void 0===a?{}:a;this.gl=t,this.gl2=t,this.id=i||Object(u.c)(this.constructor.name),this.userData=s,this._bound=!1,this._handle=n.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}return Object(i.a)(e,[{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.id,")")}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteChildren,n=void 0!==t&&t,r=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,r&&n&&r.filter(Boolean).forEach((function(e){return e.delete()})),this}},{key:"bind",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object(s.b)(this.gl,e),Object(l.a)(e);var n=this.constructor.PARAMETERS||{},r=n[e];if(r){var i=Object(o.i)(this.gl),a=(!("webgl2"in r)||i)&&(!("extension"in r)||this.gl.getExtension(r.extension));if(!a){var u=r.webgl1,c="webgl2"in r?r.webgl2:r.webgl1,f=i?c:u;return f}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parameters,r=t.keys,i=this.constructor.PARAMETERS||{},a=Object(o.i)(this.gl),u={},l=n||Object.keys(i),c=f(l);try{for(c.s();!(e=c.n()).done;){var h=e.value,d=i[h],p=d&&(!("webgl2"in d)||a)&&(!("extension"in d)||this.gl.getExtension(d.extension));if(p){var g=r?Object(s.a)(this.gl,h):h;u[g]=this.getParameter(h,t),r&&"GLenum"===d.type&&(u[g]=Object(s.a)(this.gl,u[g]))}}}catch(m){c.e(m)}finally{c.f()}return u}},{key:"setParameter",value:function(e,t){e=Object(s.b)(this.gl,e),Object(l.a)(e);var n=(this.constructor.PARAMETERS||{})[e];if(n){var r=Object(o.i)(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=Object(s.b)(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"stubRemovedMethods",value:function(e,t,n){return Object(c.a)(this,e,t,n)}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(d)}},{key:"_deleteHandle",value:function(){throw new Error(d)}},{key:"_bindHandle",value:function(e){throw new Error(d)}},{key:"_getOptsFromHandle",value:function(){throw new Error(d)}},{key:"_getParameter",value:function(e,t){throw new Error(d)}},{key:"_setParameter",value:function(e,t){throw new Error(d)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var e=this.constructor.name,t=a.a.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var e=this.constructor.name;a.a.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.name,n=a.a.get("Memory Usage");n.get("GPU Memory").addCount(e),n.get("".concat(t," Memory")).addCount(e),this.byteLength=e}},{key:"_trackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.constructor.name,t=a.a.get("Memory Usage");t.get("GPU Memory").subtractCount(this.byteLength),t.get("".concat(e," Memory")).subtractCount(this.byteLength),this.byteLength=0}},{key:"handle",get:function(){return this._handle}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return d}));var r={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M432 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},i={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},o={prefix:"fas",iconName:"arrow-right",icon:[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]},a={prefix:"fas",iconName:"calculator",icon:[448,512,[],"f1ec","M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"]},s={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"]},u={prefix:"fas",iconName:"chevron-right",icon:[320,512,[],"f054","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"]},l={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"]},c={prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"]},f={prefix:"fas",iconName:"map",icon:[576,512,[],"f279","M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"]},h={prefix:"fas",iconName:"palette",icon:[512,512,[],"f53f","M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"]},d={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,n){"use strict";(function(e){var r=n(29),i=n(288);n.d(t,"b",(function(){return i.a}));var o=n(242);n.d(t,"a",(function(){return o.a})),n.d(t,"d",(function(){return r.c})),n.d(t,"c",(function(){return r.a})),n.d(t,"e",(function(){return r.f}));var a={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e};(a.global||a.self||a.window).mathgl={config:r.b}}).call(this,n(40))},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserRouter",(function(){return f})),n.d(t,"HashRouter",(function(){return h})),n.d(t,"Link",(function(){return y})),n.d(t,"NavLink",(function(){return w}));var r=n(35);n.d(t,"MemoryRouter",(function(){return r.a})),n.d(t,"Prompt",(function(){return r.b})),n.d(t,"Redirect",(function(){return r.c})),n.d(t,"Route",(function(){return r.d})),n.d(t,"Router",(function(){return r.e})),n.d(t,"StaticRouter",(function(){return r.f})),n.d(t,"Switch",(function(){return r.g})),n.d(t,"generatePath",(function(){return r.i})),n.d(t,"matchPath",(function(){return r.j})),n.d(t,"useHistory",(function(){return r.k})),n.d(t,"useLocation",(function(){return r.l})),n.d(t,"useParams",(function(){return r.m})),n.d(t,"useRouteMatch",(function(){return r.n})),n.d(t,"withRouter",(function(){return r.o}));var i=n(51),o=n(0),a=n.n(o),s=n(71),u=(n(1),n(7)),l=n(63),c=n(65),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.e,{history:this.history,children:this.props.children})},t}(a.a.Component);var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.e,{history:this.history,children:this.props.children})},t}(a.a.Component);var d=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},g=function(e){return e},m=a.a.forwardRef;"undefined"===typeof m&&(m=g);var v=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(l.a)(e,["innerRef","navigate","onClick"]),s=o.target,c=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return c.ref=g!==m&&t||n,a.a.createElement("a",c)}));var y=m((function(e,t){var n=e.component,i=void 0===n?v:n,o=e.replace,s=e.to,f=e.innerRef,h=Object(l.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.h.Consumer,null,(function(e){e||Object(c.a)(!1);var n=e.history,r=p(d(s,e.location),e.location),l=r?n.createHref(r):"",v=Object(u.a)({},h,{href:l,navigate:function(){var t=d(s,e.location);(o?n.replace:n.push)(t)}});return g!==m?v.ref=t||f:v.innerRef=f,a.a.createElement(i,v)}))})),b=function(e){return e},_=a.a.forwardRef;"undefined"===typeof _&&(_=b);var w=_((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,h=e.className,g=e.exact,m=e.isActive,v=e.location,w=e.sensitive,x=e.strict,O=e.style,k=e.to,S=e.innerRef,E=Object(l.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.h.Consumer,null,(function(e){e||Object(c.a)(!1);var n=v||e.location,o=p(d(k,n),n),l=o.pathname,C=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=C?Object(r.j)(n.pathname,{path:C,exact:g,sensitive:w,strict:x}):null,P=!!(m?m(A,n):A),j=P?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(h,s):h,T=P?Object(u.a)({},O,{},f):O,M=Object(u.a)({"aria-current":P&&i||null,className:j,style:T,to:o},E);return b!==_?M.ref=t||S:M.innerRef=S,a.a.createElement(y,M)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(144),i=n(1),o=n.n(i),a=n(0),s=n.n(a);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function g(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=p(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{})}var m=!1;try{m=!0}catch(w){}function v(e){return r.b.icon?r.b.icon(e):null===e?null:"object"===u(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function y(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?l({},e,t):{}}function b(e){var t=e.forwardedRef,n=h(e,["forwardedRef"]),i=n.icon,o=n.mask,a=n.symbol,s=n.className,u=n.title,c=n.titleId,p=v(i),g=y("classes",[].concat(d(function(e){var t,n=e.spin,r=e.pulse,i=e.fixedWidth,o=e.inverse,a=e.border,s=e.listItem,u=e.flip,c=e.size,f=e.rotation,h=e.pull,d=(l(t={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":o,"fa-border":a,"fa-li":s,"fa-flip-horizontal":"horizontal"===u||"both"===u,"fa-flip-vertical":"vertical"===u||"both"===u},"fa-".concat(c),"undefined"!==typeof c&&null!==c),l(t,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f&&0!==f),l(t,"fa-pull-".concat(h),"undefined"!==typeof h&&null!==h),l(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(d).map((function(e){return d[e]?e:null})).filter((function(e){return e}))}(n)),d(s.split(" ")))),w=y("transform","string"===typeof n.transform?r.b.transform(n.transform):n.transform),x=y("mask",v(o)),O=Object(r.a)(p,f({},g,{},w,{},x,{symbol:a,title:u,titleId:c}));if(!O)return function(){var e;!m&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",p),null;var k=O.abstract,S={ref:t};return Object.keys(n).forEach((function(e){b.defaultProps.hasOwnProperty(e)||(S[e]=n[e])})),_(k[0],S)}b.displayName="FontAwesomeIcon",b.propTypes={border:o.a.bool,className:o.a.string,mask:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),fixedWidth:o.a.bool,inverse:o.a.bool,flip:o.a.oneOf(["horizontal","vertical","both"]),icon:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),listItem:o.a.bool,pull:o.a.oneOf(["right","left"]),pulse:o.a.bool,rotation:o.a.oneOf([0,90,180,270]),size:o.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o.a.bool,symbol:o.a.oneOfType([o.a.bool,o.a.string]),title:o.a.string,transform:o.a.oneOfType([o.a.string,o.a.object]),swapOpacity:o.a.bool},b.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var _=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=g(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[p(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,u=h(r,["style"]);return o.attrs.style=f({},o.attrs.style,{},s),t.apply(void 0,[n.tag,f({},o.attrs,{},u)].concat(d(i)))}.bind(null,s.a.createElement)},,function(e,t,n){"use strict";var r=n(228),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(8),i=n(5),o=n(4),a=n(13),s=n(15),u=n(6),l=n(9),c=n(34),f=n(52),h=n(49),d=n(96),p=n(147),g=n(33);function m(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var b=[9729,9728],_=c.global.WebGLBuffer||function(){},w=function(e){Object(a.a)(n,e);var t=y(n);function n(e,r){var o;Object(i.a)(this,n);var a=r.id,s=void 0===a?Object(p.c)("texture"):a,u=r.handle,l=r.target;return(o=t.call(this,e,{id:s,handle:u})).target=l,o.textureUnit=void 0,o.loaded=!1,o.width=void 0,o.height=void 0,o.depth=void 0,o.format=void 0,o.type=void 0,o.dataFormat=void 0,o.border=void 0,o.textureUnit=void 0,o.mipmaps=void 0,o}return Object(o.a)(n,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=t.linearFiltering,i=!0;return n&&(i=(i=i&&Object(d.d)(e,n))&&(!r||Object(d.e)(e,n))),i}}]),Object(o.a)(n,[{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data;if(n instanceof Promise)return n.then((function(n){return e.initialize(Object.assign({},t,{pixels:n,data:n}))})),this;var r="undefined"!==typeof HTMLVideoElement&&n instanceof HTMLVideoElement;if(r&&n.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,n.addEventListener("loadeddata",(function(){return e.initialize(t)})),this;var i=t.pixels,o=void 0===i?null:i,a=t.format,s=void 0===a?6408:a,u=t.border,c=void 0===u?0:u,f=t.recreate,h=void 0!==f&&f,d=t.parameters,p=void 0===d?{}:d,g=t.pixelStore,m=void 0===g?{}:g,v=t.textureUnit,y=void 0===v?void 0:v;n||(n=o);var b=t.width,_=t.height,w=t.dataFormat,x=t.type,O=t.compressed,k=void 0!==O&&O,S=t.mipmaps,E=void 0===S||S,C=t.depth,A=void 0===C?0:C,P=this._deduceParameters({format:s,type:x,dataFormat:w,compressed:k,data:n,width:b,height:_});return b=P.width,_=P.height,k=P.compressed,w=P.dataFormat,x=P.type,this.width=b,this.height=_,this.depth=A,this.format=s,this.type=x,this.dataFormat=w,this.border=c,this.textureUnit=y,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),E&&this._isNPOT()&&(l.j.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),E=!1,this._updateForNPOT(p)),this.mipmaps=E,this.setImageData({data:n,width:b,height:_,depth:A,format:s,type:x,dataFormat:w,border:c,mipmaps:E,parameters:m,compressed:k}),E&&this.generateMipmap(),this.setParameters(p),h&&(this.data=n),r&&(this._video={video:n,parameters:p,lastTime:n.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?n.currentTime:-1}),this}},{key:"update",value:function(){if(this._video){var e=this._video,t=e.video,n=e.parameters;if(e.lastTime===t.currentTime||t.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:t,parameters:n}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=t.currentTime}}},{key:"resize",value:function(e){var t=e.height,n=e.width,r=e.mipmaps,i=void 0!==r&&r;return n!==this.width||t!==this.height?this.initialize({width:n,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(l.j.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(l.n)(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(e){this._trackDeallocatedMemory("Texture");var t=e.target,n=void 0===t?this.target:t,i=e.pixels,o=void 0===i?null:i,a=e.level,s=void 0===a?0:a,u=e.format,c=void 0===u?this.format:u,f=e.border,h=void 0===f?this.border:f,p=e.offset,v=void 0===p?0:p,y=e.parameters,b=void 0===y?{}:y,_=e.data,w=void 0===_?null:_,x=e.type,O=void 0===x?this.type:x,k=e.width,S=void 0===k?this.width:k,E=e.height,C=void 0===E?this.height:E,A=e.dataFormat,P=void 0===A?this.dataFormat:A,j=e.compressed,T=void 0!==j&&j;w||(w=o);var M=this._deduceParameters({format:c,type:O,dataFormat:P,compressed:T,data:w,width:S,height:C});O=M.type,P=M.dataFormat,T=M.compressed,S=M.width,C=M.height;var R=this.gl;R.bindTexture(this.target,this.handle);var L,I,D=this._getDataType({data:w,compressed:T});if(w=D.data,L=D.dataType,Object(l.n)(this.gl,b,(function(){switch(L){case"null":R.texImage2D(n,s,c,S,C,h,P,O,w);break;case"typed-array":R.texImage2D(n,s,c,S,C,h,P,O,w,v);break;case"buffer":(I=Object(l.a)(R)).bindBuffer(35052,w.handle||w),I.texImage2D(n,s,c,S,C,h,P,O,v),I.bindBuffer(35052,null);break;case"browser-object":Object(l.i)(R)?R.texImage2D(n,s,c,S,C,h,P,O,w):R.texImage2D(n,s,c,P,O,w);break;case"compressed":var e,t=m(w.entries());try{for(t.s();!(e=t.n()).done;){var i=Object(r.a)(e.value,2),o=i[0],a=i[1];R.compressedTexImage2D(n,o,a.format,a.width,a.height,h,a.data)}}catch(u){t.e(u)}finally{t.f()}break;default:Object(g.a)(!1,"Unknown image data type")}})),w&&w.byteLength)this._trackAllocatedMemory(w.byteLength,"Texture");else{var z=d.a[this.dataFormat]||4,F=d.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*z*F,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(e){var t=this,n=e.target,r=void 0===n?this.target:n,i=e.pixels,o=void 0===i?null:i,a=e.data,s=void 0===a?null:a,u=e.x,c=void 0===u?0:u,f=e.y,d=void 0===f?0:f,p=e.width,m=void 0===p?this.width:p,v=e.height,y=void 0===v?this.height:v,b=e.level,w=void 0===b?0:b,x=e.format,O=void 0===x?this.format:x,k=e.type,S=void 0===k?this.type:k,E=e.dataFormat,C=void 0===E?this.dataFormat:E,A=e.compressed,P=void 0!==A&&A,j=e.offset,T=void 0===j?0:j,M=e.border,R=(void 0===M&&this.border,e.parameters),L=void 0===R?{}:R,I=this._deduceParameters({format:O,type:S,dataFormat:C,compressed:P,data:s,width:m,height:y});if(S=I.type,C=I.dataFormat,P=I.compressed,m=I.width,y=I.height,Object(g.a)(0===this.depth,"texSubImage not supported for 3D textures"),s||(s=o),s&&s.data){var D=s;s=D.data,m=D.shape[0],y=D.shape[1]}s instanceof h.a&&(s=s.handle),this.gl.bindTexture(this.target,this.handle),Object(l.n)(this.gl,L,(function(){if(P)t.gl.compressedTexSubImage2D(r,w,c,d,m,y,O,s);else if(null===s)t.gl.texSubImage2D(r,w,c,d,m,y,C,S,null);else if(ArrayBuffer.isView(s))t.gl.texSubImage2D(r,w,c,d,m,y,C,S,s,T);else if(s instanceof _){var e=Object(l.a)(t.gl);e.bindBuffer(35052,s),e.texSubImage2D(r,w,c,d,m,y,C,S,T),e.bindBuffer(35052,null)}else if(Object(l.i)(t.gl)){Object(l.a)(t.gl).texSubImage2D(r,w,c,d,m,y,C,S,s)}else t.gl.texSubImage2D(r,w,c,d,C,S,s)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return l.j.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}},{key:"_getDataType",value:function(e){var t=e.data,n=e.compressed;return void 0!==n&&n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof h.a?{data:t.handle,dataType:"buffer"}:t instanceof _?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(e){var t=e.format,n=e.data,r=e.width,i=e.height,o=e.dataFormat,a=e.type,s=e.compressed,u=d.b[t];o=o||u&&u.dataFormat,a=a||u&&u.types[0],s=s||u&&u.compressed;var l=this._deduceImageSize(n,r,i);return{dataFormat:o,type:a,compressed:s,width:r=l.width,height:i=l.height,format:t,data:n}}},{key:"_deduceImageSize",value:function(e,t,n){var r;return r="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:n}:{width:t>=0?t:1,height:n>=0?n:1},Object(g.a)(r,"Could not deduced texture size"),Object(g.a)(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),Object(g.a)(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:Object(g.a)(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!Object(l.i)(this.gl)&&(!(!this.width||!this.height)&&(!Object(p.b)(this.width)||!Object(p.b)(this.height)))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case 10241:-1===b.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}]),n}(f.a)},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(17);function i(){var e=new r.a(9);return r.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function a(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*a-s*l,h=-c*o+s*u,d=l*o-a*u,p=n*f+r*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*a)*p,e[3]=h*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-l*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}function s(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)}function u(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=n[0],d=n[1],p=n[2],g=n[3],m=n[4],v=n[5],y=n[6],b=n[7],_=n[8];return e[0]=h*r+d*a+p*l,e[1]=h*i+d*s+p*c,e[2]=h*o+d*u+p*f,e[3]=g*r+m*a+v*l,e[4]=g*i+m*s+v*c,e[5]=g*o+m*u+v*f,e[6]=y*r+b*a+_*l,e[7]=y*i+b*s+_*c,e[8]=y*o+b*u+_*f,e}function l(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=n[0],d=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=h*r+d*a+l,e[7]=h*i+d*s+c,e[8]=h*o+d*u+f,e}function c(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=Math.sin(n),d=Math.cos(n);return e[0]=d*r+h*a,e[1]=d*i+h*s,e[2]=d*o+h*u,e[3]=d*a-h*r,e[4]=d*s-h*i,e[5]=d*u-h*o,e[6]=l,e[7]=c,e[8]=f,e}function f(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function h(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*u,g=o*a,m=o*s,v=o*u;return e[0]=1-f-p,e[3]=c-v,e[6]=h+m,e[1]=c+v,e[4]=1-l-p,e[7]=d-g,e[2]=h-m,e[5]=d+g,e[8]=1-l-f,e}},function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n(19),o={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document,process:"object"===("undefined"===typeof r?"undefined":Object(i.a)(r))&&r},a=o.window||o.self||o.global,s=o.process||{};console}).call(this,n(40),n(54))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));"undefined"!==typeof window&&window,"undefined"!==typeof e||window;var r="undefined"!==typeof document?document:{}}).call(this,n(40))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(127),i=n(5),o=n(4),a=n(97),s=n(33),u=n(225),l={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},c={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},f=function(){function e(){var t=this;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach((function(e){return t._assign(e)})),Object.freeze(this)}return Object(o.a)(e,null,[{key:"getBytesPerElement",value:function(e){return Object(a.c)(e.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(e){return Object(s.a)(e.size),Object(a.c)(e.type||5126).BYTES_PER_ELEMENT*e.size}},{key:"resolve",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Object(r.a)(e,[l].concat(n))}}]),Object(o.a)(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"_assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(e=Object(u.a)("Accessor",e,c)).type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"===typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}},{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return f}));var r=n(75),i=n(22);function o(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function a(e){return[e[12],e[13],e[14]]}function s(e){var t={};return t.left=c(e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),t.right=c(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),t.bottom=c(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),t.top=c(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),t.near=c(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),t.far=c(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14]),t}var u,l=new i.b;function c(e,t,n,r){l.set(e,t,n);var o=l.len();return{distance:r/o,normal:new i.b(-e/o,-t/o,-n/o)}}function f(e,t){var n=t.size,i=void 0===n?1:n,o=t.startIndex,a=void 0===o?0:o,s=t.endIndex;Number.isFinite(s)||(s=e.length);var l=(s-a)/i;u=r.a.allocate(u,l,{type:Float32Array,size:2*i});for(var c,f=a,h=0;f<s;){for(var d=0;d<i;d++){var p=e[f++];u[h+d]=p,u[h+d+i]=(c=p)-Math.fround(c)}h+=2*i}return u.subarray(0,l*i*2)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p}));var r=n(7);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),l=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!l)for(;f--;f)a.unshift("..");!l||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},l=n(65);function c(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function O(e){void 0===e&&(e={}),y||Object(l.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,m=o.keyLength,O=void 0===m?6:m,k=e.basename?d(c(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return k&&(o=h(o,k)),g(o,r,n)}function E(){return Math.random().toString(36).substr(2,O)}var C=v();function A(e){Object(r.a)(B,e),B.length=t.length,C.notifyListeners(B.location,B.action)}function P(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(S(e.state))}function j(){M(S(x()))}var T=!1;function M(e){if(T)T=!1,A();else{C.confirmTransitionTo(e,"POP",f,(function(t){t?A({action:"POP",location:e}):function(e){var t=B.location,n=L.indexOf(t.key);-1===n&&(n=0);var r=L.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(T=!0,D(i))}(e)}))}}var R=S(x()),L=[R.key];function I(e){return k+p(e)}function D(e){t.go(e)}var z=0;function F(e){1===(z+=e)&&1===e?(window.addEventListener(_,P),i&&window.addEventListener(w,j)):0===z&&(window.removeEventListener(_,P),i&&window.removeEventListener(w,j))}var N=!1;var B={length:t.length,action:"POP",location:R,createHref:I,push:function(e,r){var i="PUSH",o=g(e,r,E(),B.location);C.confirmTransitionTo(o,i,f,(function(e){if(e){var r=I(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var l=L.indexOf(B.location.key),c=L.slice(0,l+1);c.push(o.key),L=c,A({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=g(e,r,E(),B.location);C.confirmTransitionTo(o,i,f,(function(e){if(e){var r=I(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var l=L.indexOf(B.location.key);-1!==l&&(L[l]=o.key),A({action:i,location:o})}else window.location.replace(r)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return N||(F(1),N=!0),function(){return N&&(N=!1,F(-1)),t()}},listen:function(e){var t=C.appendListener(e);return F(1),function(){F(-1),t()}}};return B}var k="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:c},slash:{encodePath:c,decodePath:c}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(E(window.location.href)+"#"+e)}function P(e){void 0===e&&(e={}),y||Object(l.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(c(e.basename)):"",f=S[s],m=f.encodePath,_=f.decodePath;function w(){var e=_(C());return u&&(e=h(e,u)),g(e)}var x=v();function O(e){Object(r.a)(B,e),B.length=t.length,x.notifyListeners(B.location,B.action)}var P=!1,j=null;function T(){var e,t,n=C(),r=m(n);if(n!==r)A(r);else{var i=w(),a=B.location;if(!P&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(j===p(i))return;j=null,function(e){if(P)P=!1,O();else{var t="POP";x.confirmTransitionTo(e,t,o,(function(n){n?O({action:t,location:e}):function(e){var t=B.location,n=I.lastIndexOf(p(t));-1===n&&(n=0);var r=I.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(P=!0,D(i))}(e)}))}}(i)}}var M=C(),R=m(M);M!==R&&A(R);var L=w(),I=[p(L)];function D(e){t.go(e)}var z=0;function F(e){1===(z+=e)&&1===e?window.addEventListener(k,T):0===z&&window.removeEventListener(k,T)}var N=!1;var B={length:t.length,action:"POP",location:L,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+m(u+p(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,B.location);x.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=m(u+t);if(C()!==i){j=t,function(e){window.location.hash=e}(i);var o=I.lastIndexOf(p(B.location)),a=I.slice(0,o+1);a.push(t),I=a,O({action:n,location:r})}else O()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,B.location);x.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=m(u+t);C()!==i&&(j=t,A(i));var o=I.indexOf(p(B.location));-1!==o&&(I[o]=t),O({action:n,location:r})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return N||(F(1),N=!0),function(){return N&&(N=!1,F(-1)),t()}},listen:function(e){var t=x.appendListener(e);return F(1),function(){F(-1),t()}}};return B}function j(e,t,n){return Math.min(Math.max(e,t),n)}function T(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,l=void 0===u?6:u,c=v();function f(e){Object(r.a)(_,e),_.length=_.entries.length,c.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,l)}var d=j(s,0,o.length-1),m=o.map((function(e){return g(e,void 0,"string"===typeof e?h():e.key||h())})),y=p;function b(e){var t=j(_.index+e,0,_.entries.length-1),r=_.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var _={length:m.length,action:"POP",location:m[d],index:d,entries:m,createHref:y,push:function(e,t){var r="PUSH",i=g(e,t,h(),_.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=g(e,t,h(),_.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(_.entries[_.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return _}},function(e,t,n){"use strict";t.__esModule=!0,t.LIB_NAME=void 0;t.LIB_NAME="react-dropdown-select"},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(215),i=n.n(r),o=n(0),a=n(137),s=n(51);var u=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(a){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),l=n(162),c=(n(121),"/*|*/");function f(e){e&&h.current.insert(e+"}")}var h={current:null},d=function(e,t,n,r,i,o,a,s,u,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return h.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+c;break;case 3:switch(s){case 102:case 112:return h.current.insert(n[0]+t),"";default:return t+(0===l?c:"")}case-2:t.split("/*|*/}").forEach(f)}},p=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new l.a(t);var i,o={};i=e.container||document.head;var a,s=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),r.use(e.stylisPlugins)(d),a=function(e,t,n,i){var o=t.name;h.current=n,r(e,t.styles),i&&(c.inserted[o]=!0)};var c={key:n,sheet:new u({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:a};return c};n(367);function g(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var m=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}},v=n(171),y=n(122),b=n(163),_=/[A-Z]|^ms/g,w=/_EMO_([^_]+?)_([^]*?)_EMO_/g,x=function(e){return 45===e.charCodeAt(1)},O=function(e){return null!=e&&"boolean"!==typeof e},k=Object(b.a)((function(e){return x(e)?e:e.replace(_,"-$&").toLowerCase()})),S=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(w,(function(e,t,n){return C={name:t,styles:n,next:C},t}))}return 1===y.a[e]||x(e)||"number"!==typeof t||0===t?t:t+"px"};function E(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return C={name:n.name,styles:n.styles,next:C},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)C={name:i.name,styles:i.styles,next:C},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=E(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":O(a)&&(r+=k(o)+":"+S(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=E(e,t,a,!1);switch(o){case"animation":case"animationName":r+=k(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)O(a[u])&&(r+=k(o)+":"+S(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=C,a=n(e);return C=o,E(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var C,A=/label:\s*([^\s;\n{]+)\s*;/g;var P=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";C=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=E(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=E(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);A.lastIndex=0;for(var s,u="";null!==(s=A.exec(i));)u+="-"+s[1];return{name:Object(v.a)(i)+u,styles:i,next:C}},j=(Object.prototype.hasOwnProperty,Object(o.createContext)("undefined"!==typeof HTMLElement?p():null)),T=Object(o.createContext)({}),M=(j.Provider,function(e){var t=function(t,n){return Object(o.createElement)(j.Consumer,null,(function(r){return e(t,r,n)}))};return Object(o.forwardRef)(t)});o.Component;var R=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function L(e,t,n){var r=[],i=g(e,r,n);return r.length<2?n:i+t(r)}M((function(e,t){return Object(o.createElement)(T.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=P(n,t.registered);return m(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return L(t.registered,r,R(n))},theme:n},o=e.children(i);return!0,o}))}));var I=a.a,D=function(e){return"theme"!==e&&"innerRef"!==e},z=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?I:D};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function e(t,n){var r,i,a;void 0!==n&&(r=n.label,a=n.target,i=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var s=t.__emotion_real===t,u=s&&t.__emotion_base||t;"function"!==typeof i&&s&&(i=t.__emotion_forwardProp);var l=i||z(u),c=!l("as");return function(){var f=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=M((function(e,t,n){return Object(o.createElement)(T.Consumer,null,(function(r){var s=c&&e.as||u,f="",d=[],p=e;if(null==e.theme){for(var v in p={},e)p[v]=e[v];p.theme=r}"string"===typeof e.className?f=g(t.registered,d,e.className):null!=e.className&&(f=e.className+" ");var y=P(h.concat(d),t.registered,p);m(t,y,"string"===typeof s);f+=t.key+"-"+y.name,void 0!==a&&(f+=" "+a);var b=c&&void 0===i?z(s):l,_={};for(var w in e)c&&"as"===w||b(w)&&(_[w]=e[w]);return _.className=f,_.ref=n||e.innerRef,Object(o.createElement)(s,_)}))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=h,v.__emotion_forwardProp=i,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,r){return e(t,void 0!==r?N({},n||{},{},r):n).apply(void 0,h)},v}}},function(e,t,n){"use strict";var r=n(5),i=n(4),o=function(){function e(t){Object(r.a)(this,e),this._pool=[],this.props={overAlloc:2,poolSize:100},this.setProps(t)}return Object(i.a)(e,[{key:"setProps",value:function(e){Object.assign(this.props,e)}},{key:"allocate",value:function(e,t,n){var r,i=n.size,o=void 0===i?1:i,a=n.type,s=n.padding,u=void 0===s?0:s,l=n.copy,c=void 0!==l&&l,f=n.initialize,h=void 0!==f&&f,d=n.maxCount,p=a||e&&e.constructor||Float32Array,g=t*o+u;if(ArrayBuffer.isView(e)){if(g<=e.length)return e;if(g*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new p(e.buffer,0,g)}d&&(r=d*o+u);var m=this._allocate(p,g,h,r);return e&&c?m.set(e):h||m.fill(0,0,4),this._release(e),m}},{key:"release",value:function(e){this._release(e)}},{key:"_allocate",value:function(e,t,n,r){var i=Math.max(Math.ceil(t*this.props.overAlloc),1);i>r&&(i=r);var o=this._pool,a=e.BYTES_PER_ELEMENT*i,s=o.findIndex((function(e){return e.byteLength>=a}));if(s>=0){var u=new e(o.splice(s,1)[0],0,i);return n&&u.fill(0),u}return new e(i)}},{key:"_release",value:function(e){if(ArrayBuffer.isView(e)){var t=this._pool,n=e.buffer,r=n.byteLength,i=t.findIndex((function(e){return e.byteLength>=r}));i<0?t.push(n):(i>0||t.length<this.props.poolSize)&&t.splice(i,0,n),t.length>this.props.poolSize&&t.shift()}}}]),e}();t.a=new o},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return _}));var r,i,o,a=n(8),s=n(18),u=n(2),l=n(41),c=(r={},Object(u.a)(r,3042,!1),Object(u.a)(r,32773,new Float32Array([0,0,0,0])),Object(u.a)(r,32777,32774),Object(u.a)(r,34877,32774),Object(u.a)(r,32969,1),Object(u.a)(r,32968,0),Object(u.a)(r,32971,1),Object(u.a)(r,32970,0),Object(u.a)(r,3106,new Float32Array([0,0,0,0])),Object(u.a)(r,3107,[!0,!0,!0,!0]),Object(u.a)(r,2884,!1),Object(u.a)(r,2885,1029),Object(u.a)(r,2929,!1),Object(u.a)(r,2931,1),Object(u.a)(r,2932,513),Object(u.a)(r,2928,new Float32Array([0,1])),Object(u.a)(r,2930,!0),Object(u.a)(r,3024,!0),Object(u.a)(r,36006,null),Object(u.a)(r,2886,2305),Object(u.a)(r,33170,4352),Object(u.a)(r,2849,1),Object(u.a)(r,32823,!1),Object(u.a)(r,32824,0),Object(u.a)(r,10752,0),Object(u.a)(r,32938,1),Object(u.a)(r,32939,!1),Object(u.a)(r,3089,!1),Object(u.a)(r,3088,new Int32Array([0,0,1024,1024])),Object(u.a)(r,2960,!1),Object(u.a)(r,2961,0),Object(u.a)(r,2968,4294967295),Object(u.a)(r,36005,4294967295),Object(u.a)(r,2962,519),Object(u.a)(r,2967,0),Object(u.a)(r,2963,4294967295),Object(u.a)(r,34816,519),Object(u.a)(r,36003,0),Object(u.a)(r,36004,4294967295),Object(u.a)(r,2964,7680),Object(u.a)(r,2965,7680),Object(u.a)(r,2966,7680),Object(u.a)(r,34817,7680),Object(u.a)(r,34818,7680),Object(u.a)(r,34819,7680),Object(u.a)(r,2978,[0,0,1024,1024]),Object(u.a)(r,3333,4),Object(u.a)(r,3317,4),Object(u.a)(r,37440,!1),Object(u.a)(r,37441,!1),Object(u.a)(r,37443,37444),Object(u.a)(r,35723,4352),Object(u.a)(r,36010,null),Object(u.a)(r,35977,!1),Object(u.a)(r,3330,0),Object(u.a)(r,3332,0),Object(u.a)(r,3331,0),Object(u.a)(r,3314,0),Object(u.a)(r,32878,0),Object(u.a)(r,3316,0),Object(u.a)(r,3315,0),Object(u.a)(r,32877,0),r),f=function(e,t,n){return t?e.enable(n):e.disable(n)},h=function(e,t,n){return e.hint(n,t)},d=function(e,t,n){return e.pixelStorei(n,t)};function p(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var g=(i={},Object(u.a)(i,3042,f),Object(u.a)(i,32773,(function(e,t){return e.blendColor.apply(e,Object(s.a)(t))})),Object(u.a)(i,32777,"blendEquation"),Object(u.a)(i,34877,"blendEquation"),Object(u.a)(i,32969,"blendFunc"),Object(u.a)(i,32968,"blendFunc"),Object(u.a)(i,32971,"blendFunc"),Object(u.a)(i,32970,"blendFunc"),Object(u.a)(i,3106,(function(e,t){return e.clearColor.apply(e,Object(s.a)(t))})),Object(u.a)(i,3107,(function(e,t){return e.colorMask.apply(e,Object(s.a)(t))})),Object(u.a)(i,2884,f),Object(u.a)(i,2885,(function(e,t){return e.cullFace(t)})),Object(u.a)(i,2929,f),Object(u.a)(i,2931,(function(e,t){return e.clearDepth(t)})),Object(u.a)(i,2932,(function(e,t){return e.depthFunc(t)})),Object(u.a)(i,2928,(function(e,t){return e.depthRange.apply(e,Object(s.a)(t))})),Object(u.a)(i,2930,(function(e,t){return e.depthMask(t)})),Object(u.a)(i,3024,f),Object(u.a)(i,35723,h),Object(u.a)(i,36006,(function(e,t){var n=Object(l.e)(e)?36009:36160;return e.bindFramebuffer(n,t)})),Object(u.a)(i,2886,(function(e,t){return e.frontFace(t)})),Object(u.a)(i,33170,h),Object(u.a)(i,2849,(function(e,t){return e.lineWidth(t)})),Object(u.a)(i,32823,f),Object(u.a)(i,32824,"polygonOffset"),Object(u.a)(i,10752,"polygonOffset"),Object(u.a)(i,35977,f),Object(u.a)(i,32938,"sampleCoverage"),Object(u.a)(i,32939,"sampleCoverage"),Object(u.a)(i,3089,f),Object(u.a)(i,3088,(function(e,t){return e.scissor.apply(e,Object(s.a)(t))})),Object(u.a)(i,2960,f),Object(u.a)(i,2961,(function(e,t){return e.clearStencil(t)})),Object(u.a)(i,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),Object(u.a)(i,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),Object(u.a)(i,2962,"stencilFuncFront"),Object(u.a)(i,2967,"stencilFuncFront"),Object(u.a)(i,2963,"stencilFuncFront"),Object(u.a)(i,34816,"stencilFuncBack"),Object(u.a)(i,36003,"stencilFuncBack"),Object(u.a)(i,36004,"stencilFuncBack"),Object(u.a)(i,2964,"stencilOpFront"),Object(u.a)(i,2965,"stencilOpFront"),Object(u.a)(i,2966,"stencilOpFront"),Object(u.a)(i,34817,"stencilOpBack"),Object(u.a)(i,34818,"stencilOpBack"),Object(u.a)(i,34819,"stencilOpBack"),Object(u.a)(i,2978,(function(e,t){return e.viewport.apply(e,Object(s.a)(t))})),Object(u.a)(i,3333,d),Object(u.a)(i,3317,d),Object(u.a)(i,37440,d),Object(u.a)(i,37441,d),Object(u.a)(i,37443,d),Object(u.a)(i,3330,d),Object(u.a)(i,3332,d),Object(u.a)(i,3331,d),Object(u.a)(i,36010,(function(e,t){return e.bindFramebuffer(36008,t)})),Object(u.a)(i,3314,d),Object(u.a)(i,32878,d),Object(u.a)(i,3316,d),Object(u.a)(i,3315,d),Object(u.a)(i,32877,d),Object(u.a)(i,"framebuffer",(function(e,t){var n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)})),Object(u.a)(i,"blend",(function(e,t){return t?e.enable(3042):e.disable(3042)})),Object(u.a)(i,"blendColor",(function(e,t){return e.blendColor.apply(e,Object(s.a)(t))})),Object(u.a)(i,"blendEquation",(function(e,t){t=p(t)?t:[t,t],e.blendEquationSeparate.apply(e,Object(s.a)(t))})),Object(u.a)(i,"blendFunc",(function(e,t){t=p(t)&&2===t.length?[].concat(Object(s.a)(t),Object(s.a)(t)):t,e.blendFuncSeparate.apply(e,Object(s.a)(t))})),Object(u.a)(i,"clearColor",(function(e,t){return e.clearColor.apply(e,Object(s.a)(t))})),Object(u.a)(i,"clearDepth",(function(e,t){return e.clearDepth(t)})),Object(u.a)(i,"clearStencil",(function(e,t){return e.clearStencil(t)})),Object(u.a)(i,"colorMask",(function(e,t){return e.colorMask.apply(e,Object(s.a)(t))})),Object(u.a)(i,"cull",(function(e,t){return t?e.enable(2884):e.disable(2884)})),Object(u.a)(i,"cullFace",(function(e,t){return e.cullFace(t)})),Object(u.a)(i,"depthTest",(function(e,t){return t?e.enable(2929):e.disable(2929)})),Object(u.a)(i,"depthFunc",(function(e,t){return e.depthFunc(t)})),Object(u.a)(i,"depthMask",(function(e,t){return e.depthMask(t)})),Object(u.a)(i,"depthRange",(function(e,t){return e.depthRange.apply(e,Object(s.a)(t))})),Object(u.a)(i,"dither",(function(e,t){return t?e.enable(3024):e.disable(3024)})),Object(u.a)(i,"derivativeHint",(function(e,t){e.hint(35723,t)})),Object(u.a)(i,"frontFace",(function(e,t){return e.frontFace(t)})),Object(u.a)(i,"mipmapHint",(function(e,t){return e.hint(33170,t)})),Object(u.a)(i,"lineWidth",(function(e,t){return e.lineWidth(t)})),Object(u.a)(i,"polygonOffsetFill",(function(e,t){return t?e.enable(32823):e.disable(32823)})),Object(u.a)(i,"polygonOffset",(function(e,t){return e.polygonOffset.apply(e,Object(s.a)(t))})),Object(u.a)(i,"sampleCoverage",(function(e,t){return e.sampleCoverage.apply(e,Object(s.a)(t))})),Object(u.a)(i,"scissorTest",(function(e,t){return t?e.enable(3089):e.disable(3089)})),Object(u.a)(i,"scissor",(function(e,t){return e.scissor.apply(e,Object(s.a)(t))})),Object(u.a)(i,"stencilTest",(function(e,t){return t?e.enable(2960):e.disable(2960)})),Object(u.a)(i,"stencilMask",(function(e,t){var n=t=p(t)?t:[t,t],r=Object(a.a)(n,2),i=r[0],o=r[1];e.stencilMaskSeparate(1028,i),e.stencilMaskSeparate(1029,o)})),Object(u.a)(i,"stencilFunc",(function(e,t){var n=t=p(t)&&3===t.length?[].concat(Object(s.a)(t),Object(s.a)(t)):t,r=Object(a.a)(n,6),i=r[0],o=r[1],u=r[2],l=r[3],c=r[4],f=r[5];e.stencilFuncSeparate(1028,i,o,u),e.stencilFuncSeparate(1029,l,c,f)})),Object(u.a)(i,"stencilOp",(function(e,t){var n=t=p(t)&&3===t.length?[].concat(Object(s.a)(t),Object(s.a)(t)):t,r=Object(a.a)(n,6),i=r[0],o=r[1],u=r[2],l=r[3],c=r[4],f=r[5];e.stencilOpSeparate(1028,i,o,u),e.stencilOpSeparate(1029,l,c,f)})),Object(u.a)(i,"viewport",(function(e,t){return e.viewport.apply(e,Object(s.a)(t))})),i);function m(e,t,n){return void 0!==t[e]?t[e]:n[e]}var v={blendEquation:function(e,t,n){return e.blendEquationSeparate(m(32777,t,n),m(34877,t,n))},blendFunc:function(e,t,n){return e.blendFuncSeparate(m(32969,t,n),m(32968,t,n),m(32971,t,n),m(32970,t,n))},polygonOffset:function(e,t,n){return e.polygonOffset(m(32824,t,n),m(10752,t,n))},sampleCoverage:function(e,t,n){return e.sampleCoverage(m(32938,t,n),m(32939,t,n))},stencilFuncFront:function(e,t,n){return e.stencilFuncSeparate(1028,m(2962,t,n),m(2967,t,n),m(2963,t,n))},stencilFuncBack:function(e,t,n){return e.stencilFuncSeparate(1029,m(34816,t,n),m(36003,t,n),m(36004,t,n))},stencilOpFront:function(e,t,n){return e.stencilOpSeparate(1028,m(2964,t,n),m(2965,t,n),m(2966,t,n))},stencilOpBack:function(e,t,n){return e.stencilOpSeparate(1029,m(34817,t,n),m(34818,t,n),m(34819,t,n))}},y={enable:function(e,t){return e(Object(u.a)({},t,!0))},disable:function(e,t){return e(Object(u.a)({},t,!1))},pixelStorei:function(e,t,n){return e(Object(u.a)({},t,n))},hint:function(e,t,n){return e(Object(u.a)({},t,n))},bindFramebuffer:function(e,t,n){var r;switch(t){case 36160:return e((r={},Object(u.a)(r,36006,n),Object(u.a)(r,36010,n),r));case 36009:return e(Object(u.a)({},36006,n));case 36008:return e(Object(u.a)({},36010,n));default:return null}},blendColor:function(e,t,n,r,i){return e(Object(u.a)({},32773,new Float32Array([t,n,r,i])))},blendEquation:function(e,t){var n;return e((n={},Object(u.a)(n,32777,t),Object(u.a)(n,34877,t),n))},blendEquationSeparate:function(e,t,n){var r;return e((r={},Object(u.a)(r,32777,t),Object(u.a)(r,34877,n),r))},blendFunc:function(e,t,n){var r;return e((r={},Object(u.a)(r,32969,t),Object(u.a)(r,32968,n),Object(u.a)(r,32971,t),Object(u.a)(r,32970,n),r))},blendFuncSeparate:function(e,t,n,r,i){var o;return e((o={},Object(u.a)(o,32969,t),Object(u.a)(o,32968,n),Object(u.a)(o,32971,r),Object(u.a)(o,32970,i),o))},clearColor:function(e,t,n,r,i){return e(Object(u.a)({},3106,new Float32Array([t,n,r,i])))},clearDepth:function(e,t){return e(Object(u.a)({},2931,t))},clearStencil:function(e,t){return e(Object(u.a)({},2961,t))},colorMask:function(e,t,n,r,i){return e(Object(u.a)({},3107,[t,n,r,i]))},cullFace:function(e,t){return e(Object(u.a)({},2885,t))},depthFunc:function(e,t){return e(Object(u.a)({},2932,t))},depthRange:function(e,t,n){return e(Object(u.a)({},2928,new Float32Array([t,n])))},depthMask:function(e,t){return e(Object(u.a)({},2930,t))},frontFace:function(e,t){return e(Object(u.a)({},2886,t))},lineWidth:function(e,t){return e(Object(u.a)({},2849,t))},polygonOffset:function(e,t,n){var r;return e((r={},Object(u.a)(r,32824,t),Object(u.a)(r,10752,n),r))},sampleCoverage:function(e,t,n){var r;return e((r={},Object(u.a)(r,32938,t),Object(u.a)(r,32939,n),r))},scissor:function(e,t,n,r,i){return e(Object(u.a)({},3088,new Int32Array([t,n,r,i])))},stencilMask:function(e,t){var n;return e((n={},Object(u.a)(n,2968,t),Object(u.a)(n,36005,t),n))},stencilMaskSeparate:function(e,t,n){return e(Object(u.a)({},1028===t?2968:36005,n))},stencilFunc:function(e,t,n,r){var i;return e((i={},Object(u.a)(i,2962,t),Object(u.a)(i,2967,n),Object(u.a)(i,2963,r),Object(u.a)(i,34816,t),Object(u.a)(i,36003,n),Object(u.a)(i,36004,r),i))},stencilFuncSeparate:function(e,t,n,r,i){var o;return e((o={},Object(u.a)(o,1028===t?2962:34816,n),Object(u.a)(o,1028===t?2967:36003,r),Object(u.a)(o,1028===t?2963:36004,i),o))},stencilOp:function(e,t,n,r){var i;return e((i={},Object(u.a)(i,2964,t),Object(u.a)(i,2965,n),Object(u.a)(i,2966,r),Object(u.a)(i,34817,t),Object(u.a)(i,34818,n),Object(u.a)(i,34819,r),i))},stencilOpSeparate:function(e,t,n,r,i){var o;return e((o={},Object(u.a)(o,1028===t?2964:34817,n),Object(u.a)(o,1028===t?2965:34818,r),Object(u.a)(o,1028===t?2966:34819,i),o))},viewport:function(e,t,n,r,i){return e(Object(u.a)({},2978,[t,n,r,i]))}},b=function(e,t){return e.isEnabled(t)},_=(o={},Object(u.a)(o,3042,b),Object(u.a)(o,2884,b),Object(u.a)(o,2929,b),Object(u.a)(o,3024,b),Object(u.a)(o,32823,b),Object(u.a)(o,32926,b),Object(u.a)(o,32928,b),Object(u.a)(o,3089,b),Object(u.a)(o,2960,b),Object(u.a)(o,35977,b),o)},,function(e,t,n){var r=n(251),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(329)},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g}));var r=n(5),i=n(4),o=n(77),a=n(98),s=n(50),u=n(140);function l(e,t){var n=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache||(e.state.cache[t]=n.apply(void 0,arguments)),e.state.enable?e.state.cache[t]:n.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function c(e,t,n){var r=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=n.apply(void 0,[e.state._updateCache].concat(i)),s=a.valueChanged,u=a.oldValue;return s&&r.apply(void 0,i),u},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}function f(e){var t=e.useProgram.bind(e);e.useProgram=function(n){e.state.program!==n&&(t(n),e.state.program=n)}}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.copyState,s=void 0!==i&&i,u=n.log,l=void 0===u?function(){}:u;Object(r.a)(this,e),this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=s?Object(a.a)(t):Object.assign({},o.c),this.log=l,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(i.a)(e,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){Object(s.a)(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];Object(a.c)(this.gl,e),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,n=!1,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in e){Object(s.a)(void 0!==i);var o=e[i],a=this.cache[i];Object(u.a)(o,a)||(n=!0,t=a,r&&!(i in r)&&(r[i]=a),this.cache[i]=o)}return{valueChanged:n,oldValue:t}}}]),e}();function d(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enable,i=void 0===r||r,a=n.copyState;if(Object(s.a)(void 0!==a),!t.state){var u="undefined"!==typeof e?e:window,d=u.polyfillContext;for(var p in d&&d(t),t.state=new h(t,{copyState:a}),f(t),o.b){var g=o.b[p];c(t,p,g)}l(t,"getParameter"),l(t,"isEnabled")}return t.state.enable=i,t}function p(e){e.state||d(e,{copyState:!1}),e.state.push()}function g(e){Object(s.a)(e.state),e.state.pop()}}).call(this,n(40))},function(e,t,n){"use strict";var r=n(135),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(t),g=u(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=h(n,v);try{l(t,v,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;for(var n in e){var i=e[n],o=t[n];if(!(i===o||Array.isArray(i)&&Array.isArray(o)&&r(i,o)))return!1}return!0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(2),i=n(8),o=n(5),a=n(27),s=n(26),u=n(4),l=n(13),c=n(15),f=n(6),h=n(9),d=n(52),p=n(126),g=n(114),m=n(221),v=n(224),y=n(528),b=n(104),_=n(33);function w(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k="Multiple render targets not supported",S=function(e){Object(l.a)(n,e);var t=O(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,n),(r=t.call(this,e,i)).width=null,r.height=null,r.attachments={},r.readBuffer=36064,r.drawBuffers=[36064],r.ownResources=[],r.initialize(i),Object.seal(Object(a.a)(r)),r}return Object(u.a)(n,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){var e=Object(h.a)(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){var e=Object(h.a)(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.colorBufferFloat,r=t.colorBufferHalfFloat,i=!0;return n&&(i=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(i=i&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),i}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new n(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}}]),Object(u.a)(n,[{key:"initialize",value:function(e){var t=e.width,n=void 0===t?1:t,r=e.height,i=void 0===r?1:r,o=e.attachments,a=void 0===o?null:o,s=e.color,u=void 0===s||s,l=e.depth,c=void 0===l||l,f=e.stencil,h=void 0!==f&&f,d=e.check,p=void 0===d||d,g=e.readBuffer,m=void 0===g?void 0:g,v=e.drawBuffers,y=void 0===v?void 0:v;if(Object(_.a)(n>=0&&i>=0,"Width and height need to be integers"),this.width=n,this.height=i,a)for(var b in a){var w=a[b];(Array.isArray(w)?w[0]:w).resize({width:n,height:i})}else a=this._createDefaultAttachments(u,c,h,n,i);this.update({clearAttachments:!0,attachments:a,readBuffer:m,drawBuffers:y}),a&&p&&this.checkStatus()}},{key:"delete",value:function(){var e,t=w(this.ownResources);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(r){t.e(r)}finally{t.f()}return Object(s.a)(Object(f.a)(n.prototype),"delete",this).call(this),this}},{key:"update",value:function(e){var t=e.attachments,n=void 0===t?{}:t,r=e.readBuffer,i=e.drawBuffers,o=e.clearAttachments,a=void 0!==o&&o,s=e.resizeAttachments,u=void 0===s||s;this.attach(n,{clearAttachments:a,resizeAttachments:u});var l=this.gl,c=l.bindFramebuffer(36160,this.handle);return r&&this._setReadBuffer(r),i&&this._setDrawBuffers(i),l.bindFramebuffer(36160,c||null),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;if(null===this.handle)return Object(_.a)(void 0===t&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var r in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),t!==this.width&&n!==this.height&&h.j.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(n))(),this.attachments)this.attachments[r].resize({width:t,height:n});return this.width=t,this.height=n,this}},{key:"attach",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clearAttachments,o=void 0!==r&&r,a=n.resizeAttachments,s=void 0===a||a,u={};o&&Object.keys(this.attachments).forEach((function(e){u[e]=null})),Object.assign(u,e);var l=this.gl.bindFramebuffer(36160,this.handle);for(var c in u){Object(_.a)(void 0!==c,"Misspelled framebuffer binding point?");var f=Number(c),h=u[f],d=h;if(d)if(d instanceof g.a)this._attachRenderbuffer({attachment:f,renderbuffer:d});else if(Array.isArray(h)){var p=Object(i.a)(h,3),m=p[0],v=p[1],y=void 0===v?0:v,b=p[2],w=void 0===b?0:b;d=m,this._attachTexture({attachment:f,texture:m,layer:y,level:w})}else this._attachTexture({attachment:f,texture:d,layer:0,level:0});else this._unattach(f);s&&d&&d.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,l||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((function(e){return!t.attachments[e]})).forEach((function(e){delete t.attachments[e]}))}},{key:"checkStatus",value:function(){this.gl;var e=this.getStatus();if(36053!==e)throw new Error(E(e));return this}},{key:"getStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),n=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),n}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.depth,r=e.stencil,i=e.drawBuffers,o=void 0===i?[]:i,a=this.gl.bindFramebuffer(36160,this.handle);return(t||n||r)&&Object(m.a)(this.gl,{color:t,depth:n,stencil:r}),o.forEach((function(e,t){Object(m.b)({drawBuffer:t,value:e})})),this.gl.bindFramebuffer(36160,a||null),this}},{key:"readPixels",value:function(){return h.j.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return h.j.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return h.j.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return h.j.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return h.j.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return h.j.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(e){var t=e.attachments,n=void 0===t?[]:t,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.width,u=e.height,l=Object(h.a)(this.gl),c=l.bindFramebuffer(36008,this.handle);return 0===i&&0===a&&void 0===s&&void 0===u?l.invalidateFramebuffer(36008,n):l.invalidateFramebuffer(36008,n,i,a,s,u),l.bindFramebuffer(36008,c),this}},{key:"getAttachmentParameter",value:function(e,t,n){var r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=Object(b.a)(this.gl,r)),r}},{key:"getAttachmentParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],i={},o=w(r);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=n?Object(b.a)(this.gl,a):a;i[s]=this.getAttachmentParameter(t,a,n)}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"getParameters",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.keys(this.attachments),n={},r=0,i=t;r<i.length;r++){var o=i[r],a=Number(o),s=e?Object(b.a)(this.gl,a):a;n[s]=this.getAttachmentParameters(a,e)}return n}},{key:"show",value:function(){return"undefined"!==typeof window&&window.open(Object(v.a)(this),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>h.j.level||"undefined"===typeof window)return this;t=t||"Framebuffer ".concat(this.id);var n=Object(v.a)(this,{targetMaxHeight:100});return h.j.image({logLevel:e,message:t,image:n},t)(),this}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?36160:t;return this.gl.bindFramebuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?36160:t;return this.gl.bindFramebuffer(n,null),this}},{key:"_createDefaultAttachments",value:function(e,t,n,i,o){var a,s=null;e&&((s=s||{})[36064]=new p.a(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:i,height:o,mipmaps:!1,parameters:(a={},Object(r.a)(a,10241,9729),Object(r.a)(a,10240,9729),Object(r.a)(a,10242,33071),Object(r.a)(a,10243,33071),a)}),this.ownResources.push(s[36064]));return t&&n?((s=s||{})[33306]=new g.a(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:i,height:111}),this.ownResources.push(s[33306])):t?((s=s||{})[36096]=new g.a(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:i,height:o}),this.ownResources.push(s[36096])):n&&Object(_.a)(!1),s}},{key:"_unattach",value:function(e){var t=this.attachments[e];t&&(t instanceof g.a?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.renderbuffer;this.gl.framebufferRenderbuffer(36160,n,36161,r.handle),this.attachments[n]=r}},{key:"_attachTexture",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.texture,i=e.layer,o=e.level,a=this.gl;switch(a.bindTexture(r.target,r.handle),r.target){case 35866:case 32879:Object(h.a)(a).framebufferTextureLayer(36160,n,r.target,o,i);break;case 34067:var s=function(e){return e<34069?e+34069:e}(i);a.framebufferTexture2D(36160,n,s,r.handle,o);break;case 3553:a.framebufferTexture2D(36160,n,3553,r.handle,o);break;default:Object(_.a)(!1,"Illegal texture type")}a.bindTexture(r.target,null),this.attachments[n]=r}},{key:"_setReadBuffer",value:function(e){var t=Object(h.f)(this.gl);t?t.readBuffer(e):Object(_.a)(36064===e||1029===e,k),this.readBuffer=e}},{key:"_setDrawBuffers",value:function(e){var t=this.gl,n=Object(h.a)(t);if(n)n.drawBuffers(e);else{var r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):Object(_.a)(1===e.length&&(36064===e[0]||1029===e[0]),k)}this.drawBuffers=e}},{key:"_getAttachmentParameterFallback",value:function(e){var t=Object(y.a)(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(e){return this.gl.bindFramebuffer(36160,e)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}}]),n}(d.a);function E(e){return(S.STATUS||{})[e]||"Framebuffer error ".concat(e)}S.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(5),i=n(4);function o(){}var a={onStart:o,onUpdate:o,onInterrupt:o,onEnd:o},s=function(){function e(t){Object(r.a)(this,e),this._inProgress=!1,this._handle=null,this.timeline=t,this.settings={}}return Object(i.a)(e,[{key:"start",value:function(e){this.cancel(),this.settings=Object.assign({},a,e),this._inProgress=!0,this.settings.onStart(this)}},{key:"end",value:function(){this._inProgress&&(this.timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd(this))}},{key:"cancel",value:function(){this._inProgress&&(this.settings.onInterrupt(this),this.timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}},{key:"update",value:function(){if(!this._inProgress)return!1;if(null===this._handle){var e=this.timeline,t=this.settings;this._handle=e.addChannel({delay:e.getTime(),duration:t.duration})}return this.time=this.timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate(this),this.timeline.isFinished(this._handle)&&this.end(),!0}},{key:"_onUpdate",value:function(){}},{key:"inProgress",get:function(){return this._inProgress}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n(0),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(n.n(r).a.version.split("."),2),o=i[0],a=i[1],s=Number(a)>13||Number(o)>13,u=function(e){return s?e:e&&e.getDOMNode()},l={},c=!0;function f(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.process&&c||n&&l[t]||(console.warn(t),l[t]=!0)}}).call(this,n(40))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r=[],i=[];function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=r,a={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?o=e:e.length>0&&(i.length=e.length,o=i):o=r,(t>0||Number.isFinite(n))&&(o=(Array.isArray(o)?o:Array.from(o)).slice(t,n),a.index=t-1),{iterable:o,objectInfo:a}}function a(e){return e&&e[Symbol.asyncIterator]}function s(e,t){var n=t.size,r=t.stride,i=t.offset,o=t.startIndices,a=t.nested,s=e.BYTES_PER_ELEMENT,u=r?r/s:n,l=i?i/s:0,c=Math.floor((e.length-l)/u);return function(t,r){var i=r.index,s=r.target;if(!o){for(var f=i*u+l,h=0;h<n;h++)s[h]=e[f+h];return s}var d,p=o[i],g=o[i+1]||c;if(a){d=new Array(g-p);for(var m=p;m<g;m++){var v=m*u+l;s=new Array(n);for(var y=0;y<n;y++)s[y]=e[v+y];d[m-p]=s}}else if(u===n)d=e.subarray(p*n+l,g*n+l);else{d=new e.constructor((g-p)*n);for(var b=0,_=p;_<g;_++)for(var w=_*u+l,x=0;x<n;x++)d[b++]=e[w+x]}return d}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r="vs",i="fs"},,,function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(2),i=n(76);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);var t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches,n=e.options&&e.options[e.id];return t=t||n&&n.workerUrl}function u(e){var t;return Object(i.a)(e,"null loader"),Object(i.a)(s(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=a(a({},e=e[0]),{},{options:a(a({},e.options),t)})),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),Object(i.a)(e.extensions&&e.extensions.length>0&&e.extensions[0]),(e.parseTextSync||e.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var r,i=n(8),o=n(2),a=n(33),s=5126,u=5124,l=5125,c=(r={},Object(o.a)(r,s,[s,1,"float"]),Object(o.a)(r,35664,[s,2,"vec2"]),Object(o.a)(r,35665,[s,3,"vec3"]),Object(o.a)(r,35666,[s,4,"vec4"]),Object(o.a)(r,u,[u,1,"int"]),Object(o.a)(r,35667,[u,2,"ivec2"]),Object(o.a)(r,35668,[u,3,"ivec3"]),Object(o.a)(r,35669,[u,4,"ivec4"]),Object(o.a)(r,l,[l,1,"uint"]),Object(o.a)(r,36294,[l,2,"uvec2"]),Object(o.a)(r,36295,[l,3,"uvec3"]),Object(o.a)(r,36296,[l,4,"uvec4"]),Object(o.a)(r,35670,[s,1,"bool"]),Object(o.a)(r,35671,[s,2,"bvec2"]),Object(o.a)(r,35672,[s,3,"bvec3"]),Object(o.a)(r,35673,[s,4,"bvec4"]),Object(o.a)(r,35674,[s,8,"mat2"]),Object(o.a)(r,35685,[s,8,"mat2x3"]),Object(o.a)(r,35686,[s,8,"mat2x4"]),Object(o.a)(r,35675,[s,12,"mat3"]),Object(o.a)(r,35687,[s,12,"mat3x2"]),Object(o.a)(r,35688,[s,12,"mat3x4"]),Object(o.a)(r,35676,[s,16,"mat4"]),Object(o.a)(r,35689,[s,16,"mat4x2"]),Object(o.a)(r,35690,[s,16,"mat4x3"]),r);function f(e){switch(e){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return Object(a.a)(!1),0}}function h(e){var t=c[e];if(!t)return null;var n=Object(i.a)(t,2);return{type:n[0],components:n[1]}}function d(e,t){switch(e){case 5120:case 5121:case 5122:case 5123:e=s}for(var n in c){var r=Object(i.a)(c[n],3),o=r[0],a=r[1],u=r[2];if(o===e&&a===t)return{glType:n,name:u}}return null}},function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return A})),n.d(t,"a",(function(){return P}));var r=n(2),i=n(551),o=n(31),a=n(12),s=n.n(a),u=n(20),l="",c={};function f(e){for(var t in c)if(e.startsWith(t)){var n=c[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(l).concat(e)),e}var h=n(113);function d(e){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,!t.headers.get("Content-Type").includes("application/json")){e.next=10;break}return e.t0=n,e.next=7,t.text();case 7:n=e.t0+=e.sent,e.next=11;break;case 10:n+=t.statusText;case 11:e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(1),e.abrupt("return",n);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(s.a.mark((function e(t){var n,r,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},"string"===typeof t){e.next=5;break}return e.next=4,Object(h.b)(t);case 4:return e.abrupt("return",e.sent);case 5:return t=f(t),e.next=8,fetch(t,n);case 8:if((r=e.sent).ok||!n.throws){e.next=15;break}return e.t0=Error,e.next=13,d(r);case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(5),y=n(4),b=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"log",value:function(){return function(e){}}},{key:"info",value:function(){return function(e){}}},{key:"warn",value:function(){return function(e){}}},{key:"error",value:function(){return function(e){}}}]),e}();function _(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={baseUri:"",fetch:null,CDN:"https://unpkg.com/@loaders.gl",worker:!0,log:new(function(){function e(){Object(v.a)(this,e),this.console=console}return Object(y.a)(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.log).bind.apply(e,[this.console].concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.info).bind.apply(e,[this.console].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.warn).bind.apply(e,[this.console].concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.error).bind.apply(e,[this.console].concat(n))}}]),e}()),metadata:!1,transforms:[],reuseWorkers:!0},S={dataType:"(no longer used)",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"},E=function(){i.a.loaders=i.a.loaders||{};var e=i.a.loaders;return e._state=e._state||{},e._state},C=function(){var e=E();return e.globalOptions=e.globalOptions||O({},k),e.globalOptions};function A(e,t,n,r){return n=n||[],function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;j(e,null,n,k,S,t);var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=e&&e[o.id]||{},s=o.options&&o.options[o.id]||{},u=o.defaultOptions&&o.defaultOptions[o.id]||{};j(a,o.id,n,s,u,t)}}catch(l){i.e(l)}finally{i.f()}}(e,n=Array.isArray(n)?n:[n]),M(t,e,r)}function P(e,t){var n=C(),r=e.fetch||n.fetch;return"function"===typeof r?r:Object(o.f)(r)?function(e){return g(e,r)}:t&&t.fetch?t.fetch:function(t){return g(t,e)}}function j(e,t,n,r,i,a){var s=t||"Top level",u=t?"".concat(t,"."):"";for(var l in e){var c=!t&&Object(o.f)(e[l]);if(!(l in r))if(l in i)n.warn("".concat(s," loader option '").concat(u).concat(l,"' deprecated, use '").concat(i[l],"'"));else if(!c){var f=T(l,a);n.warn("".concat(s," loader option '").concat(u).concat(l,"' not recognized. ").concat(f))}}}function T(e,t){var n,r=e.toLowerCase(),i="",o=_(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;for(var s in a.options){if(e===s)return"Did you mean '".concat(a.id,".").concat(s,"'?");var u=s.toLowerCase();(r.startsWith(u)||u.startsWith(r))&&(i=i||"Did you mean '".concat(a.id,".").concat(s,"'?"))}}}catch(l){o.e(l)}finally{o.f()}return i}function M(e,t,n){var r=O({},e.options||{});return null===r.log&&(r.log=new b),R(r,C()),R(r,t),function(e,t){t&&!e.baseUri&&(e.baseUri=t)}(r,n),r}function R(e,t){for(var n in t)if(n in t){var r=t[n];Object(o.g)(r)&&Object(o.g)(e[n])?e[n]=O(O({},e[n]),t[n]):e[n]=t[n]}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h}));var r,i,o,a=n(2),s=n(9),u=(r={},Object(a.a)(r,6407,{dataFormat:6407,types:[5121,33635]}),Object(a.a)(r,6408,{dataFormat:6408,types:[5121,32819,32820]}),Object(a.a)(r,6406,{dataFormat:6406,types:[5121]}),Object(a.a)(r,6409,{dataFormat:6409,types:[5121]}),Object(a.a)(r,6410,{dataFormat:6410,types:[5121]}),Object(a.a)(r,33326,{dataFormat:6403,types:[5126],gl2:!0}),Object(a.a)(r,33328,{dataFormat:33319,types:[5126],gl2:!0}),Object(a.a)(r,34837,{dataFormat:6407,types:[5126],gl2:!0}),Object(a.a)(r,34836,{dataFormat:6408,types:[5126],gl2:!0}),r),l=(i={},Object(a.a)(i,6403,1),Object(a.a)(i,36244,1),Object(a.a)(i,33319,2),Object(a.a)(i,33320,2),Object(a.a)(i,6407,3),Object(a.a)(i,36248,3),Object(a.a)(i,6408,4),Object(a.a)(i,36249,4),Object(a.a)(i,6402,1),Object(a.a)(i,34041,1),Object(a.a)(i,6406,1),Object(a.a)(i,6409,1),Object(a.a)(i,6410,2),i),c=(o={},Object(a.a)(o,5126,4),Object(a.a)(o,5125,4),Object(a.a)(o,5124,4),Object(a.a)(o,5123,2),Object(a.a)(o,5122,2),Object(a.a)(o,5131,2),Object(a.a)(o,5120,1),Object(a.a)(o,5121,1),o);function f(e,t){var n=u[t];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;var r=Object(s.i)(e)&&n.gl2||n.gl1;return"string"===typeof r?e.getExtension(r):r}function h(e,t){var n=u[t];switch(n&&n.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a}));function r(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clamped,r=void 0===n||n;switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return r?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function o(e){var t=e.data,n=e.width,r=e.height,i=e.bytesPerPixel,o=void 0===i?4:i,a=e.temp,s=n*o;a=a||new Uint8Array(s);for(var u=0;u<r/2;++u){var l=u*s,c=(r-u-1)*s;a.set(t.subarray(l,l+s)),t.copyWithin(l,c,c+s),t.set(a,c)}}function a(e){for(var t=e.data,n=e.width,r=e.height,i=Math.round(n/2),o=Math.round(r/2),a=new Uint8Array(i*o*4),s=0;s<o;s++)for(var u=0;u<i;u++)for(var l=0;l<4;l++)a[4*(s*i+u)+l]=t[4*(2*s*n+2*u)+l];return{data:a,width:i,height:o}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return d}));var r=n(77),i=n(81),o=n(50),a=n(41),s=n(140);function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(Object(o.a)(Object(a.d)(e),"setParameters requires a WebGL context"),!Object(s.b)(t)){var n={};for(var i in t){var u=Number(i),l=r.e[i];l&&("string"===typeof l?n[l]=!0:l(e,t[i],u))}var c=e.state&&e.state.cache;if(c)for(var f in n){(0,r.a[f])(e,t,c)}}}function f(e,t){if("number"===typeof(t=t||r.c)){var n=t,i=r.d[n];return i?i(e,n):e.getParameter(n)}var o,a={},s=u(Array.isArray(t)?t:Object.keys(t));try{for(s.s();!(o=s.n()).done;){var l=o.value,c=r.d[l];a[l]=c?c(e,Number(l)):e.getParameter(Number(l))}}catch(f){s.e(f)}finally{s.f()}return a}function h(e){c(e,r.c)}function d(e,t,n){if(Object(s.b)(t))return n(e);var r,o=t.nocatch,a=void 0===o||o;if(Object(i.b)(e),c(e,t),a)r=n(e),Object(i.a)(e);else try{r=n(e)}finally{Object(i.a)(e)}return r}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return Array.isArray(e)?i(e,t,[]):t(e)?[e]:[]}function i(e,t,n){for(var r=-1;++r<e.length;){var o=e[r];Array.isArray(o)?i(o,t,n):t(o)&&n.push(o)}return n}function o(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u);return t}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e,t,n){var r=t[0],i=t[1],o=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/o,e[1]=(n[1]*r+n[5]*i)/o,e}function i(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o||1;return e[0]=(n[0]*r+n[4]*i+n[8]*o)/a,e[1]=(n[1]*r+n[5]*i+n[9]*o)/a,e[2]=(n[2]*r+n[6]*i+n[10]*o)/a,e}function o(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2],e}function a(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=n[0]*r+n[3]*i+n[6]*o,e[1]=n[1]*r+n[4]*i+n[7]*o,e[2]=n[2]*r+n[5]*i+n[8]*o,e[3]=t[3],e}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(31),i=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,o=/^([-\w.]+\/[-\w.+]+)/;function a(e){if("string"!==typeof e)return"";var t=e.match(i);return t?t[1]:""}var s=/\?.*/;function u(e){if(Object(r.i)(e)){var t=function(e){if("string"!==typeof e)return"";var t=e.match(o);return t?t[1]:e}(e.headers.get("content-type")),n=a(e.url);return{url:c(e.url||""),type:t||n||null}}return Object(r.b)(e)?{url:c(e.name||""),type:e.type||""}:"string"===typeof e?{url:c(e),type:a(e)}:{url:"",type:""}}function l(e){return Object(r.i)(e)?e.headers["content-length"]||-1:Object(r.b)(e)?e.size:"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function c(e){return e.replace(s,"")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=n(497);t.Motion=r(i);var o=n(499);t.StaggeredMotion=r(o);var a=n(500);t.TransitionMotion=r(a);var s=n(502);t.spring=r(s);var u=n(276);t.presets=r(u);var l=n(161);t.stripStyle=r(l);var c=n(503);t.reorderKeys=r(c)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(33);function i(e,t){if("string"!==typeof t)return t;var n=Number(t);if(!isNaN(n))return n;var i=e[t=t.replace(/^.*\./,"")];return Object(r.a)(void 0!==i,"Accessing undefined constant GL.".concat(t)),i}function o(e,t){for(var n in t=Number(t),e)if(e[n]===t)return"GL.".concat(n);return String(t)}},function(e,t,n){var r=n(132),i=n(393),o=n(394),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(419),i=n(422);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 0.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 0.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},i=n(23),o=Object.keys(i.a).map((function(e){return"const int COORDINATE_SYSTEM_".concat(e," = ").concat(i.a[e],";")})).join(""),a=Object.keys(i.c).map((function(e){return"const int PROJECTION_MODE_".concat(e," = ").concat(i.c[e],";")})).join(""),s="".concat(o,"\n").concat(a,"\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0;\nconst float GLOBE_RADIUS = 256.0;\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z;\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy;\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter;\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\nvec3 project_normal(vec3 vector) {\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  return normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    dy = clamp(dy, -1., 1.);\n  }\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  );\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy) * WORLD_SCALE,\n        project_size(position_world.z),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n"),u=n(169),l={};t.a={name:"project",dependencies:[r],vs:s,getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return e.viewport?Object(u.b)(e):{}}}},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(Array.isArray(e)){var n=e.length;if(!t||t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function i(e){var t,n={};return function(i){for(var o in i)if(!r(i[o],n[o])){t=e(i),n=i;break}return t}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(8),i=n(5),o=n(4),a=n(25),s=n(70),u=n(22),l=n(24),c=n(36),f=n(23),h=Math.PI/180,d=Object(s.a)(),p=[0,0,0],g={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]},m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e);var n=t.id,r=void 0===n?null:n,o=t.x,a=void 0===o?0:o,s=t.y,u=void 0===s?0:s,l=t.width,c=void 0===l?1:l,f=t.height,h=void 0===f?1:f;this.id=r||this.constructor.displayName||"viewport",this.x=a,this.y=u,this.width=c||1,this.height=h||1,this._frustumPlanes={},this._initViewMatrix(t),this._initProjectionMatrix(t),this._initPixelMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(o.a)(e,[{key:"equals",value:function(t){return t instanceof e&&(this===t||t.width===this.width&&t.height===this.height&&t.scale===this.scale&&Object(u.d)(t.projectionMatrix,this.projectionMatrix)&&Object(u.d)(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,o=this.projectPosition(e),a=Object(c.o)(o,this.pixelProjectionMatrix),s=Object(r.a)(a,2),u=s[0],l=s[1],f=i?l:this.height-l;return 2===e.length?[u,f]:[u,f,a[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,o=t.targetZ,a=Object(r.a)(e,3),s=a[0],u=a[1],l=a[2],f=i?u:this.height-u,h=o&&o*this.distanceScales.unitsPerMeter[2],d=Object(c.m)([s,f,l],this.pixelUnprojectionMatrix,h),p=this.unprojectPosition(d),g=Object(r.a)(p,3),m=g[0],v=g[1],y=g[2];return Number.isFinite(l)?[m,v,y]:Number.isFinite(o)?[m,v,o]:[m,v]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=Object(r.a)(t,2);return[n[0],n[1],(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=Object(r.a)(t,2);return[n[0],n[1],(e[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(e){return this.isGeospatial?Object(c.k)(e):e}},{key:"unprojectFlat",value:function(e){return this.isGeospatial?Object(c.n)(e):e}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={targetZ:e.z||0},n=this.unproject([0,0],t),r=this.unproject([this.width,0],t),i=this.unproject([0,this.height],t),o=this.unproject([this.width,this.height],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}},{key:"getDistanceScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?Object(c.f)({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}},{key:"containsPixel",value:function(e){var t=e.x,n=e.y,r=e.width,i=void 0===r?1:r,o=e.height,a=void 0===o?1:o;return t<this.x+this.width&&this.x<t+i&&n<this.y+this.height&&this.y<n+a}},{key:"getFrustumPlanes",value:function(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,Object(s.c)(this.viewProjectionMatrix)),this._frustumPlanes}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"getCameraDirection",value:function(){return this.cameraDirection}},{key:"getCameraUp",value:function(){return this.cameraUp}},{key:"_createProjectionMatrix",value:function(e){var t=e.orthographic,n=e.fovyRadians,r=e.aspect,i=e.focalDistance,o=e.near,a=e.far;return t?(new u.a).orthographic({fovy:n,aspect:r,focalDistance:i,near:o,far:a}):(new u.a).perspective({fovy:n,aspect:r,near:o,far:a})}},{key:"_initViewMatrix",value:function(e){var t=e.viewMatrix,n=void 0===t?d:t,r=e.longitude,i=void 0===r?null:r,o=e.latitude,a=void 0===o?null:o,s=e.zoom,l=void 0===s?null:s,f=e.position,h=void 0===f?null:f,m=e.modelMatrix,v=void 0===m?null:m,y=e.focalDistance,b=void 0===y?1:y,_=e.distanceScales,w=void 0===_?null:_;this.isGeospatial=Number.isFinite(a)&&Number.isFinite(i),this.zoom=l,Number.isFinite(this.zoom)||(this.zoom=this.isGeospatial?Object(c.h)({latitude:a})+Math.log2(b):0);var x=Math.pow(2,this.zoom);this.scale=x,this.distanceScales=this.isGeospatial?Object(c.f)({latitude:a,longitude:i}):w||g,this.focalDistance=b,this.distanceScales.metersPerUnit=new u.b(this.distanceScales.metersPerUnit),this.distanceScales.unitsPerMeter=new u.b(this.distanceScales.unitsPerMeter),this.position=p,this.meterOffset=p,h&&(this.position=h,this.modelMatrix=v,this.meterOffset=v?v.transformVector(h):h),this.isGeospatial?(this.longitude=i,this.latitude=a,this.center=this._getCenterInWorld({longitude:i,latitude:a})):this.center=h?this.projectPosition(h):[0,0,0],this.viewMatrixUncentered=n,this.viewMatrix=(new u.a).multiplyRight(this.viewMatrixUncentered).translate(new u.b(this.center||p).negate())}},{key:"_getCenterInWorld",value:function(e){var t=e.longitude,n=e.latitude,r=this.meterOffset,i=this.distanceScales,o=new u.b(this.projectPosition([t,n,0]));if(r){var a=new u.b(r).scale(i.unitsPerMeter);o.add(a)}return o}},{key:"_initProjectionMatrix",value:function(e){var t=e.projectionMatrix,n=void 0===t?null:t,r=e.orthographic,i=void 0!==r&&r,o=e.fovyRadians,a=e.fovy,s=void 0===a?75:a,u=e.near,l=void 0===u?.1:u,c=e.far,f=void 0===c?1e3:c,d=e.focalDistance,p=void 0===d?1:d;this.projectionMatrix=n||this._createProjectionMatrix({orthographic:i,fovyRadians:o||s*h,aspect:this.width/this.height,focalDistance:p,near:l,far:f})}},{key:"_initPixelMatrices",value:function(){var e=Object(s.a)();l.h(e,e,this.projectionMatrix),l.h(e,e,this.viewMatrix),this.viewProjectionMatrix=e,this.viewMatrixInverse=l.f([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=Object(s.b)(this.viewMatrixInverse);var t=Object(s.a)(),n=Object(s.a)();l.o(t,t,[this.width/2,-this.height/2,1]),l.p(t,t,[1,-1,0]),l.h(n,t,this.viewProjectionMatrix),this.pixelProjectionMatrix=n,this.viewportMatrix=t,this.pixelUnprojectionMatrix=l.f(Object(s.a)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||a.a.warn("Pixel project matrix not invertible")()}},{key:"metersPerPixel",get:function(){return this.distanceScales.metersPerUnit[2]/this.scale}},{key:"projectionMode",get:function(){return this.isGeospatial?this.zoom<12?f.c.WEB_MERCATOR:f.c.WEB_MERCATOR_AUTO_OFFSET:f.c.IDENTITY}}]),e}();m.displayName="Viewport"},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Select=void 0;var r=m(n(74)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(0)),o=m(n(80)),a=(m(n(1)),m(n(369))),s=m(n(370)),u=m(n(373)),l=m(n(376)),c=m(n(377)),f=m(n(378)),h=m(n(379)),d=n(119),p=n(72);function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(t){var n;return b(y(n=e.call(this,t)||this),"onDropdownClose",(function(){n.setState({cursor:null}),n.props.onDropdownClose()})),b(y(n),"onScroll",(function(){n.props.closeOnScroll&&n.dropDown("close"),n.updateSelectBounds()})),b(y(n),"updateSelectBounds",(function(){return n.select.current&&n.setState({selectBounds:n.select.current.getBoundingClientRect()})})),b(y(n),"getSelectBounds",(function(){return n.state.selectBounds})),b(y(n),"dropDown",(function(e,t,r){void 0===e&&(e="toggle"),void 0===r&&(r=!1);var i=t&&t.target||t&&t.srcElement;return void 0!==n.props.onDropdownCloseRequest&&n.state.dropdown&&!1===r&&"close"===e?n.props.onDropdownCloseRequest({props:n.props,methods:n.methods,state:n.state,close:function(){return n.dropDown("close",null,!0)}}):n.props.portal&&!n.props.closeOnScroll&&!n.props.closeOnSelect&&t&&i&&i.offsetParent&&i.offsetParent.classList.contains("react-dropdown-select-dropdown")?void 0:n.props.keepOpen?n.setState({dropdown:!0}):"close"===e&&n.state.dropdown?(n.select.current.blur(),n.setState({dropdown:!1,search:n.props.clearOnBlur?"":n.state.search,searchResults:n.props.options})):"open"!==e||n.state.dropdown?"toggle"===e&&(n.select.current.focus(),n.setState({dropdown:!n.state.dropdown})):n.setState({dropdown:!0})})),b(y(n),"getSelectRef",(function(){return n.select.current})),b(y(n),"addItem",(function(e){if(n.props.multi){if((0,d.valueExistInSelected)((0,d.getByPath)(e,n.props.valueField),n.state.values,n.props))return n.removeItem(null,e,!1);n.setState({values:[].concat(n.state.values,[e])})}else n.setState({values:[e],dropdown:!1});return n.props.clearOnSelect&&n.setState({search:""}),!0})),b(y(n),"removeItem",(function(e,t,r){void 0===r&&(r=!1),e&&r&&(e.preventDefault(),e.stopPropagation(),n.dropDown("close")),n.setState({values:n.state.values.filter((function(e){return(0,d.getByPath)(e,n.props.valueField)!==(0,d.getByPath)(t,n.props.valueField)}))})})),b(y(n),"setSearch",(function(e){n.setState({cursor:null}),n.setState({search:e.target.value},(function(){n.setState({searchResults:n.searchResults()})}))})),b(y(n),"getInputSize",(function(){return n.state.search?n.state.search.length:0<n.state.values.length?n.props.addPlaceholder.length:n.props.placeholder.length})),b(y(n),"toggleSelectAll",(function(){return n.setState({values:0===n.state.values.length?n.selectAll():n.clearAll()})})),b(y(n),"clearAll",(function(){n.props.onClearAll(),n.setState({values:[]})})),b(y(n),"selectAll",(function(e){void 0===e&&(e=[]),n.props.onSelectAll();var t=0<e.length?e:n.props.options.filter((function(e){return!e.disabled}));n.setState({values:t})})),b(y(n),"isSelected",(function(e){return!!n.state.values.find((function(t){return(0,d.getByPath)(t,n.props.valueField)===(0,d.getByPath)(e,n.props.valueField)}))})),b(y(n),"areAllSelected",(function(){return n.state.values.length===n.props.options.filter((function(e){return!e.disabled})).length})),b(y(n),"safeString",(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})),b(y(n),"sortBy",(function(){var e=n.props,t=e.sortBy,r=e.options;return t?(r.sort((function(e,n){return(0,d.getProp)(e,t)<(0,d.getProp)(n,t)?-1:(0,d.getProp)(e,t)>(0,d.getProp)(n,t)?1:0})),r):r})),b(y(n),"searchFn",(function(e){var t=e.state,r=e.methods,i=new RegExp(r.safeString(t.search),"i");return r.sortBy().filter((function(e){return i.test((0,d.getByPath)(e,n.props.searchBy)||(0,d.getByPath)(e,n.props.valueField))}))})),b(y(n),"searchResults",(function(){var e={state:n.state,props:n.props,methods:n.methods};return n.props.searchFn(e)||n.searchFn(e)})),b(y(n),"activeCursorItem",(function(e){return n.setState({activeCursorItem:e})})),b(y(n),"handleKeyDown",(function(e){var t={event:e,state:n.state,props:n.props,methods:n.methods,setState:n.setState.bind(y(n))};return n.props.handleKeyDownFn(t)||n.handleKeyDownFn(t)})),b(y(n),"handleKeyDownFn",(function(e){var t=e.event,r=e.state,i=e.props,o=e.methods,a=e.setState,s=r.cursor,u=r.searchResults,l="Escape"===t.key,c="Enter"===t.key,f="ArrowUp"===t.key,h="ArrowDown"===t.key,p="Backspace"===t.key,g="Tab"===t.key&&!t.shiftKey,m=t.shiftKey&&"Tab"===t.key;if(h&&!r.dropdown)return t.preventDefault(),n.dropDown("open"),a({cursor:0});if((h||g&&r.dropdown)&&null===s)return a({cursor:0});if((f||h||m&&r.dropdown||g&&r.dropdown)&&t.preventDefault(),l&&n.dropDown("close"),c){var v=u[s];if(v&&!v.disabled){if(i.create&&(0,d.valueExistInSelected)(r.search,r.values,i))return null;o.addItem(v)}}return(h||g&&r.dropdown)&&u.length===s?a({cursor:0}):((h||g&&r.dropdown)&&a((function(e){return{cursor:e.cursor+1}})),(f||m&&r.dropdown)&&0<s&&a((function(e){return{cursor:e.cursor-1}})),(f||m&&r.dropdown)&&0===s&&a({cursor:u.length}),void(p&&i.backspaceDelete&&0===n.getInputSize()&&n.setState({values:n.state.values.slice(0,-1)})))})),b(y(n),"renderDropdown",(function(){return n.props.portal?o.default.createPortal(i.default.createElement(u.default,{props:n.props,state:n.state,methods:n.methods}),n.dropdownRoot):i.default.createElement(u.default,{props:n.props,state:n.state,methods:n.methods})})),b(y(n),"createNew",(function(e){var t,r=((t={})[n.props.labelField]=e,t[n.props.valueField]=e,t);n.addItem(r),n.props.onCreateNew(r),n.setState({search:""})})),n.state={dropdown:!1,values:t.values,search:"",selectBounds:{},cursor:null,searchResults:t.options},n.methods={removeItem:n.removeItem,dropDown:n.dropDown,addItem:n.addItem,setSearch:n.setSearch,getInputSize:n.getInputSize,toggleSelectAll:n.toggleSelectAll,clearAll:n.clearAll,selectAll:n.selectAll,searchResults:n.searchResults,getSelectRef:n.getSelectRef,isSelected:n.isSelected,getSelectBounds:n.getSelectBounds,areAllSelected:n.areAllSelected,handleKeyDown:n.handleKeyDown,activeCursorItem:n.activeCursorItem,createNew:n.createNew,sortBy:n.sortBy,safeString:n.safeString},n.select=i.default.createRef(),n.dropdownRoot="undefined"!=typeof document&&document.createElement("div"),n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.portal&&this.props.portal.appendChild(this.dropdownRoot),(0,d.isomorphicWindow)().addEventListener("resize",(0,d.debounce)(this.updateSelectBounds)),(0,d.isomorphicWindow)().addEventListener("scroll",(0,d.debounce)(this.onScroll)),this.dropDown("close"),this.select&&this.updateSelectBounds()},n.componentDidUpdate=function(e,t){var n=this;!(0,d.isEqual)(e.values,this.props.values)&&(0,d.isEqual)(e.values,t.values)&&(this.setState({values:this.props.values},(function(){n.props.onChange(n.state.values)})),this.updateSelectBounds()),e.options!==this.props.options&&this.setState({searchResults:this.searchResults()}),t.values!==this.state.values&&(this.props.onChange(this.state.values),this.updateSelectBounds()),t.search!==this.state.search&&this.updateSelectBounds(),t.values!==this.state.values&&this.props.closeOnSelect&&this.dropDown("close"),e.multi!==this.props.multi&&this.updateSelectBounds(),t.dropdown&&t.dropdown!==this.state.dropdown&&this.onDropdownClose(),t.dropdown||t.dropdown===this.state.dropdown||this.props.onDropdownOpen()},n.componentWillUnmount=function(){this.props.portal&&this.props.portal.removeChild(this.dropdownRoot),(0,d.isomorphicWindow)().removeEventListener("resize",(0,d.debounce)(this.updateSelectBounds,this.props.debounceDelay)),(0,d.isomorphicWindow)().removeEventListener("scroll",(0,d.debounce)(this.onScroll,this.props.debounceDelay))},n.render=function(){var e=this;return i.default.createElement(a.default,{onClickOutside:function(t){return e.dropDown("close",t)}},i.default.createElement(w,v({onKeyDown:this.handleKeyDown,"aria-label":"Dropdown select","aria-expanded":this.state.dropdown,onClick:function(t){return e.dropDown("open",t)},tabIndex:this.props.disabled?"-1":"0",direction:this.props.direction,style:this.props.style,ref:this.select,disabled:this.props.disabled,className:p.LIB_NAME+" "+this.props.className,color:this.props.color},this.props.additionalProps),i.default.createElement(s.default,{props:this.props,state:this.state,methods:this.methods}),(this.props.name||this.props.required)&&i.default.createElement("input",{tabIndex:-1,style:{opacity:0,width:0,position:"absolute"},name:this.props.name,required:this.props.required,pattern:this.props.pattern,defaultValue:this.state.values.map((function(t){return t[e.props.labelField]})).toString()||[],disabled:this.props.disabled}),this.props.loading&&i.default.createElement(l.default,{props:this.props}),this.props.clearable&&i.default.createElement(c.default,{props:this.props,state:this.state,methods:this.methods}),this.props.separator&&i.default.createElement(f.default,{props:this.props,state:this.state,methods:this.methods}),this.props.dropdownHandle&&i.default.createElement(h.default,{onClick:function(){return e.select.current.focus()},props:this.props,state:this.state,methods:this.methods}),this.state.dropdown&&!this.props.disabled&&this.renderDropdown()))},t}(i.Component);t.Select=_,_.defaultProps={addPlaceholder:"",placeholder:"Select...",values:[],options:[],multi:!1,disabled:!1,searchBy:"label",sortBy:null,clearable:!1,searchable:!0,dropdownHandle:!0,separator:!1,keepOpen:void 0,noDataLabel:"No data",createNewLabel:"add {search}",disabledLabel:"disabled",dropdownGap:5,closeOnScroll:!1,debounceDelay:0,labelField:"label",valueField:"value",color:"#0074D9",keepSelectedInList:!0,closeOnSelect:!1,clearOnBlur:!0,clearOnSelect:!0,dropdownPosition:"bottom",dropdownHeight:"300px",autoFocus:!1,portal:null,create:!1,direction:"ltr",name:null,required:!1,pattern:void 0,onChange:function(){},onDropdownOpen:function(){},onDropdownClose:function(){},onDropdownCloseRequest:void 0,onClearAll:function(){},onSelectAll:function(){},onCreateNew:function(){},searchFn:function(){},handleKeyDownFn:function(){},additionalProps:null,backspaceDelete:!0};var w=(0,r.default)("div",{target:"e1gzf2xs0",label:"ReactDropdownSelect"})("box-sizing:border-box;position:relative;display:flex;border:1px solid #ccc;width:100%;border-radius:2px;padding:2px 5px;flex-direction:row;direction:",(function(e){return e.direction}),";align-items:center;cursor:pointer;min-height:36px;",(function(e){return e.disabled?"cursor: not-allowed;pointer-events: none;opacity: 0.3;":"pointer-events: all;"}),":hover,:focus-within{border-color:",(function(e){return e.color}),";}:focus,:focus-within{outline:0;box-shadow:0 0 0 3px ",(function(e){var t=e.color;return(0,d.hexToRGBA)(t,.2)}),";}*{box-sizing:border-box;}"),x=_;t.default=x},function(e,t,n){"use strict";(function(e){var r=n(46),i=n(305),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.a.Buffer:void 0,u=(s?s.isBuffer:void 0)||i.a;t.a=u}).call(this,n(205)(e))},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(12),i=n.n(r),o=n(20),a=n(31),s=n(102);function u(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(i.a.mark((function e(t){var n,r,o,u,l,c,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(a.i)(t)){e.next=2;break}return e.abrupt("return",t);case 2:return n={},(r=Object(s.a)(t))>=0&&(n["content-length"]=String(r)),o=Object(s.b)(t),u=o.url,(l=o.type)&&(n["content-type"]=l),e.next=9,p(t);case 9:return(c=e.sent)&&(n["x-first-bytes"]=c),"string"===typeof t&&(t=(new TextEncoder).encode(t)),f=new Response(t,{headers:n}),Object.defineProperty(f,"url",{value:u}),e.abrupt("return",f);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,h(t);case 3:throw n=e.sent,new Error(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(i.a.mark((function e(t){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,r=t.headers.get("Content-Type"),o=t.statusText,!r.includes("application/json")){e.next=11;break}return e.t0=o,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,o=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:n=(n+=o).length>60?"".concat(n.slice(60),"..."):n,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(i.a.mark((function e(t){var n,r,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=5,"string"!==typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,n)));case 3:if(!(t instanceof Blob)){e.next=8;break}return r=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){return e(t.target&&t.target.result)},t.readAsDataURL(r)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return o=t.slice(0,n),a=m(o),e.abrupt("return","data:base64,".concat(a));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,i=n(5),o=n(27),a=n(4),s=n(13),u=n(15),l=n(6),c=n(52),f=n(2),h="EXT_color_buffer_float",d=(r={},Object(f.a)(r,33189,{bpp:2}),Object(f.a)(r,33190,{gl2:!0,bpp:3}),Object(f.a)(r,36012,{gl2:!0,bpp:4}),Object(f.a)(r,36168,{bpp:1}),Object(f.a)(r,34041,{bpp:4}),Object(f.a)(r,35056,{gl2:!0,bpp:4}),Object(f.a)(r,36013,{gl2:!0,bpp:5}),Object(f.a)(r,32854,{bpp:2}),Object(f.a)(r,36194,{bpp:2}),Object(f.a)(r,32855,{bpp:2}),Object(f.a)(r,33321,{gl2:!0,bpp:1}),Object(f.a)(r,33330,{gl2:!0,bpp:1}),Object(f.a)(r,33329,{gl2:!0,bpp:1}),Object(f.a)(r,33332,{gl2:!0,bpp:2}),Object(f.a)(r,33331,{gl2:!0,bpp:2}),Object(f.a)(r,33334,{gl2:!0,bpp:4}),Object(f.a)(r,33333,{gl2:!0,bpp:4}),Object(f.a)(r,33323,{gl2:!0,bpp:2}),Object(f.a)(r,33336,{gl2:!0,bpp:2}),Object(f.a)(r,33335,{gl2:!0,bpp:2}),Object(f.a)(r,33338,{gl2:!0,bpp:4}),Object(f.a)(r,33337,{gl2:!0,bpp:4}),Object(f.a)(r,33340,{gl2:!0,bpp:8}),Object(f.a)(r,33339,{gl2:!0,bpp:8}),Object(f.a)(r,32849,{gl2:!0,bpp:3}),Object(f.a)(r,32856,{gl2:!0,bpp:4}),Object(f.a)(r,32857,{gl2:!0,bpp:4}),Object(f.a)(r,36220,{gl2:!0,bpp:4}),Object(f.a)(r,36238,{gl2:!0,bpp:4}),Object(f.a)(r,36975,{gl2:!0,bpp:4}),Object(f.a)(r,36214,{gl2:!0,bpp:8}),Object(f.a)(r,36232,{gl2:!0,bpp:8}),Object(f.a)(r,36226,{gl2:!0,bpp:16}),Object(f.a)(r,36208,{gl2:!0,bpp:16}),Object(f.a)(r,33325,{gl2:h,bpp:2}),Object(f.a)(r,33327,{gl2:h,bpp:4}),Object(f.a)(r,34842,{gl2:h,bpp:8}),Object(f.a)(r,33326,{gl2:h,bpp:4}),Object(f.a)(r,33328,{gl2:h,bpp:8}),Object(f.a)(r,34836,{gl2:h,bpp:16}),Object(f.a)(r,35898,{gl2:h,bpp:4}),r),p=n(9),g=n(33);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function v(e,t,n){var r=n[t];if(!r)return!1;var i=Object(p.i)(e)&&r.gl2||r.gl1;return"string"===typeof i?e.getExtension(i):i}var y=function(e){Object(s.a)(n,e);var t=m(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,n),(r=t.call(this,e,a)).initialize(a),Object.seal(Object(o.a)(r)),r}return Object(a.a)(n,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null},n=t.format;return!n||v(e,n,d)}},{key:"getSamplesForFormat",value:function(e,t){var n=t.format;return e.getInternalformatParameter(36161,n,32937)}}]),Object(a.a)(n,[{key:"initialize",value:function(e){var t=e.format,n=e.width,r=void 0===n?1:n,i=e.height,o=void 0===i?1:i,a=e.samples,s=void 0===a?0:a;return Object(g.a)(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==s&&Object(p.i)(this.gl)?this.gl.renderbufferStorageMultisample(36161,s,t,r,o):this.gl.renderbufferStorage(36161,t,r,o),this.format=t,this.width=r,this.height=o,this.samples=s,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*d[this.format].bpp),this}},{key:"resize",value:function(e){var t=e.width,n=e.height;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(e){this.gl.bindRenderbuffer(36161,e)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}]),n}(c.a)},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var r="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!==typeof window?window:e,o=("undefined"!==typeof e||window,"undefined"!==typeof document&&document,!1);try{var a={get passive(){return o=!0,!0}};i.addEventListener("test",a,a),i.removeEventListener("test",a,a)}catch(s){}}).call(this,n(40))},,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.isomorphicWindow=t.getProp=t.getByPath=t.isEqual=t.debounce=t.hexToRGBA=t.valueExistInSelected=void 0;t.valueExistInSelected=function(e,t,r){return!!t.find((function(t){return n(t,r.valueField)===e||n(t,r.labelField)===e}))};t.hexToRGBA=function(e,t){return 4===e.length&&(e=""+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"}"),"rgba("+parseInt(e.slice(1,3),16)+", "+parseInt(e.slice(3,5),16)+", "+parseInt(e.slice(5,7),16)+(t&&", "+t)+")"};t.debounce=function(e,t){var n;return void 0===t&&(t=0),function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,i),n=null}),t)}};t.isEqual=function(e,t){return JSON.stringify(e)===JSON.stringify(t)};var n=function(e,t){return t?t.split(".").reduce((function(e,t){return e[t]}),e):void 0};t.getByPath=n;t.getProp=function e(t,n,r){if(!n)return t;var i=Array.isArray(n)?n:n.split(".").filter((function(e){return e.length}));return i.length?e(t[i.shift()],i,r):void 0===t?r:t};t.isomorphicWindow=function(){return"undefined"==typeof window&&(e.window={}),window}}).call(this,n(40))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(138);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(5),i=n(4),o=n(13),a=n(15),s=n(6),u=n(99);var l=n(127);function c(e){var t="function"===typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Object(l.a)(e,arguments,Object(s.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(u.a)(r,e)})(e)}var f=n(29),h=n(57);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var p=function(e){Object(o.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"to",value:function(e){return e===this?this:Object(f.e)(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(f.b)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+Object(f.d)(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!Object(f.c)(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,n){void 0===n&&(n=t,t=e,e=this);for(var r=0;r<this.ELEMENTS;++r){var i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]+=o[a];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]-=o[a];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}},{key:"multiplyByScalar",value:function(e){return this.scale(e)}},{key:"check",value:function(){if(f.b.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"ELEMENTS",get:function(){return Object(h.a)(!1),0}},{key:"RANK",get:function(){return Object(h.a)(!1),0}},{key:"elements",get:function(){return this}}]),n}(c(Array))},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(5),i=n(27),o=n(4),a=n(13),s=n(15),u=n(6),l=n(9),c=n(62),f=n(33),h="";function d(e,t){return Object(f.a)("string"===typeof e),e=h+e,new Promise((function(n,r){try{var i=new Image;i.onload=function(){return n(i)},i.onerror=function(){return r(new Error("Could not load image ".concat(e,".")))},i.crossOrigin=t&&t.crossOrigin||"anonymous",i.src=e}catch(o){r(o)}}))}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var g=function(e){Object(a.a)(n,e);var t=p(n);function n(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,n),Object(l.b)(e),(a instanceof Promise||"string"===typeof a)&&(a={data:a}),"string"===typeof a.data&&(a=Object.assign({},a,{data:d(a.data)})),(o=t.call(this,e,Object.assign({},a,{target:3553}))).initialize(a),Object.seal(Object(i.a)(o)),o}return Object(o.a)(n,null,[{key:"isSupported",value:function(e,t){return c.a.isSupported(e,t)}}]),n}(c.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(99);function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return(o=i()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&Object(r.a)(o,n.prototype),o}).apply(null,arguments)}},function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n(40))},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g}));var r,i,o=n(2),a=n(50),s=n(41),u="OES_element_index",l="WEBGL_draw_buffers",c="WEBGL_debug_renderer_info",f=function(e){return Object(s.e)(e)?void 0:0},h=(r={},Object(o.a)(r,3074,(function(e){return Object(s.e)(e)?void 0:36064})),Object(o.a)(r,35723,(function(e){return Object(s.e)(e)?void 0:4352})),Object(o.a)(r,35977,f),Object(o.a)(r,32937,f),Object(o.a)(r,36795,(function(e,t){var n=Object(s.e)(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0})),Object(o.a)(r,37445,(function(e,t){var n=e.getExtension(c);return t(n&&n.UNMASKED_VENDOR_WEBGL||7936)})),Object(o.a)(r,37446,(function(e,t){var n=e.getExtension(c);return t(n&&n.UNMASKED_RENDERER_WEBGL||7937)})),Object(o.a)(r,34047,(function(e,t){var n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(o.a)(r,32883,f),Object(o.a)(r,35071,f),Object(o.a)(r,37447,f),Object(o.a)(r,36063,(function(e,t){if(!Object(s.e)(e)){var n=e.getExtension(l);return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(o.a)(r,35379,f),Object(o.a)(r,35374,f),Object(o.a)(r,35377,f),Object(o.a)(r,34852,(function(e){if(!Object(s.e)(e)){var t=e.getExtension(l);return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(o.a)(r,36203,(function(e){return e.getExtension(u)?2147483647:65535})),Object(o.a)(r,33001,(function(e){return e.getExtension(u)?16777216:65535})),Object(o.a)(r,33e3,(function(e){return 16777216})),Object(o.a)(r,37157,f),Object(o.a)(r,35373,f),Object(o.a)(r,35657,f),Object(o.a)(r,36183,f),Object(o.a)(r,37137,f),Object(o.a)(r,34045,f),Object(o.a)(r,35978,f),Object(o.a)(r,35979,f),Object(o.a)(r,35968,f),Object(o.a)(r,35376,f),Object(o.a)(r,35375,f),Object(o.a)(r,35659,f),Object(o.a)(r,37154,f),Object(o.a)(r,35371,f),Object(o.a)(r,35658,f),Object(o.a)(r,35076,f),Object(o.a)(r,35077,f),Object(o.a)(r,35380,f),r);var d="ANGLE_instanced_arrays";var p=(i={},Object(o.a)(i,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){Object(a.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(o.a)(i,d,{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){Object(a.a)(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(o.a)(i,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){Object(a.a)(!1)}}),Object(o.a)(i,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){Object(a.a)(!1)},deleteQuery:function(){Object(a.a)(!1)},beginQuery:function(){Object(a.a)(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}}),i),g={readBuffer:function(e,t,n){Object(s.e)(e)&&t(n)},getVertexAttrib:function(e,t,n,r){var i,o=function(e,t){return{webgl2:Object(s.e)(e),ext:e.getExtension(t)}}(e,d),a=o.webgl2,u=o.ext;switch(r){case 35069:i=!!a&&void 0;break;case 35070:i=a||u?void 0:0}return void 0!==i?i:t(n,r)},getProgramParameter:function(e,t,n,r){if(!Object(s.e)(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:function(e,t,n,r,i){if(!Object(s.e)(e))switch(i){case 32937:return new Int32Array([0])}return e.getInternalformatParameter(n,r,i)},getTexParameter:function(e,t,n,r){switch(r){case 34046:var i=e.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:function(e,t,n){var r=h[n],i="function"===typeof r?r(e,t,n):r;return void 0!==i?i:t(n)},hint:function(e,t,n,r){return t(n,r)}}},,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(79).Symbol;e.exports=r},function(e,t,n){var r=n(253),i=n(401),o=n(153);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){"use strict";var r=n(277),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),l=function(e,t,n,r){var i;(!(t in e)||"function"===typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)l(e,o[s],t[o[s]],n[o[s]])};c.supportsDescriptors=!!u,e.exports=c},function(e,t,n){"use strict";e.exports=n(333)},function(e,t,n){"use strict";(function(e){function r(){var t;if("undefined"!==typeof window&&window.performance)t=window.performance.now();else if("undefined"!==typeof e&&e.hrtime){var n=e.hrtime();t=1e3*n[0]+n[1]/1e6}else t=Date.now();return t}n.d(t,"a",(function(){return r}))}).call(this,n(54))},function(e,t,n){"use strict";var r=n(163),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(r.a)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=o},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){for(var t in e)return!1;return!0}function i(e,t){if(e===t)return!0;var n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(19),o={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document},a=o.global||o.self||o.window,s="object"!==("undefined"===typeof r?"undefined":Object(i.a)(r))||"[object process]"!==String(r)||r.browser,u="undefined"!==typeof r&&r.version&&r.version.match(/v([0-9]*)/);u&&parseFloat(u[1])}).call(this,n(40),n(54))},function(e,t,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),f=Math.round,h=Math.abs,d=Date.now;function p(e,t,n){return setTimeout(w(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=v((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=v((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function x(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function O(e,t){return e===s?t:e}function k(e,t,n){m(A(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){m(A(t),(function(t){e.removeEventListener(t,n,!1)}))}function E(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function j(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];P(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function M(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}return s}var R=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var I="ontouchstart"in i,D=M(i,"PointerEvent")!==s,z=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F="touch",N="mouse",B=24,V=["x","y"],$=["clientX","clientY"];function U(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){x(e.options.enable,[e])&&n.handler(t)},this.init()}function W(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=H(t));i>1&&!n.firstMultiple?n.firstMultiple=H(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=t.center=G(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=K(u,l),t.distance=Z(u,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=X(t.deltaX,t.deltaY);var c=q(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,t.scale=a?(f=a.pointers,p=r,Z(p[0],p[1],$)/Z(f[0],f[1],$)):1,t.rotation=a?function(e,t){return K(t[1],t[0],$)+K(e[1],e[0],$)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(u>25||a.velocity===s)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,f=q(u,l,c);r=f.x,i=f.y,n=h(f.x)>h(f.y)?f.x:f.y,o=X(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var f,p;var g=e.element;E(t.srcEvent.target,g)&&(g=t.srcEvent.target);t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function H(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function q(e,t,n){return{x:t/e||0,y:n/e||0}}function X(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function Z(e,t,n){n||(n=V);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function K(e,t,n){n||(n=V);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4},J="mousedown",Q="mousemove mouseup";function ee(){this.evEl=J,this.evWin=Q,this.pressed=!1,U.apply(this,arguments)}_(ee,U,{handler:function(e){var t=Y[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:N,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:F,3:"pen",4:N,5:"kinect"},re="pointerdown",ie="pointermove pointerup pointercancel";function oe(){this.evEl=re,this.evWin=ie,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(re="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),_(oe,U,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=te[r],o=ne[e.pointerType]||e.pointerType,a=o==F,s=P(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",ue="touchstart touchmove touchend touchcancel";function le(){this.evTarget=se,this.evWin=ue,this.started=!1,U.apply(this,arguments)}function ce(e,t){var n=j(e.touches),r=j(e.changedTouches);return 12&t&&(n=T(n.concat(r),"identifier",!0)),[n,r]}_(le,U,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=ce.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:F,srcEvent:e})}}});var fe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},he="touchstart touchmove touchend touchcancel";function de(){this.evTarget=he,this.targetIds={},U.apply(this,arguments)}function pe(e,t){var n=j(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=j(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return E(e.target,u)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[T(o.concat(s),"identifier",!0),s]:void 0}_(de,U,{handler:function(e){var t=fe[e.type],n=pe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:F,srcEvent:e})}});function ge(){U.apply(this,arguments);var e=w(this.handler,this);this.touch=new de(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function me(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ve.call(this,t)):12&e&&ve.call(this,t)}function ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ye(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(ge,U,{handler:function(e,t,n){var r=n.pointerType==F,i=n.pointerType==N;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)me.call(this,t,n);else if(i&&ye.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var be=M(c.style,"touchAction"),_e=be!==s,we="compute",xe="auto",Oe="manipulation",ke="none",Se="pan-x",Ee="pan-y",Ce=function(){if(!_e)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function Ae(e,t){this.manager=e,this.set(t)}Ae.prototype={set:function(e){e==we&&(e=this.compute()),_e&&this.manager.element.style&&Ce[e]&&(this.manager.element.style[be]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){x(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(C(e,ke))return ke;var t=C(e,Se),n=C(e,Ee);if(t&&n)return ke;if(t||n)return t?Se:Ee;if(C(e,Oe))return Oe;return xe}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=C(r,ke)&&!Ce.none,o=C(r,Ee)&&!Ce["pan-y"],a=C(r,Se)&&!Ce["pan-x"];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&6&n||a&&n&B?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Pe=32;function je(e){this.options=u({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Te(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Me(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Re(e,t){var n=t.manager;return n?n.get(e):e}function Le(){je.apply(this,arguments)}function Ie(){Le.apply(this,arguments),this.pX=null,this.pY=null}function De(){Le.apply(this,arguments)}function ze(){je.apply(this,arguments),this._timer=null,this._input=null}function Fe(){Le.apply(this,arguments)}function Ne(){Le.apply(this,arguments)}function Be(){je.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ve(e,t){return(t=t||{}).recognizers=O(t.recognizers,Ve.defaults.preset),new $e(e,t)}je.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Re(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=Re(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=Re(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=Re(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Te(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Te(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Pe},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!x(this.options.enable,[this,t]))return this.reset(),void(this.state=Pe);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(Le,je,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:Pe}}),_(Ie,Le,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Ee),e&B&&t.push(Se),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Le.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Me(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(De,Le,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ke]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(ze,je,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Pe},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(Fe,Le,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ke]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Ne,Le,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ie.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&B&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Me(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Be,je,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Z(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Pe},failTimeout:function(){return this._timer=p((function(){this.state=Pe}),this.options.interval,this),Pe},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ve.VERSION="2.0.7",Ve.defaults={domEvents:!1,touchAction:we,enable:!0,inputTarget:null,inputClass:null,preset:[[Fe,{enable:!1}],[De,{enable:!1},["rotate"]],[Ne,{direction:6}],[Ie,{direction:6},["swipe"]],[Be],[Be,{event:"doubletap",taps:2},["tap"]],[ze]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function $e(e,t){var n;this.options=u({},Ve.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(D?oe:z?de:I?ge:ee))(n,W),this.touchAction=new Ae(this,this.options.touchAction),Ue(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ue(e,t){var n,r=e.element;r.style&&(m(e.options.cssProps,(function(i,o){n=M(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}$e.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof je)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return m(A(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return m(A(e),(function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ve,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Pe,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:B,DIRECTION_ALL:30,Manager:$e,Input:U,TouchAction:Ae,TouchInput:de,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:ge,SingleTouchInput:le,Recognizer:je,AttrRecognizer:Le,Tap:Be,Pan:Ie,Swipe:Ne,Pinch:De,Rotate:Fe,Press:ze,on:k,off:S,each:m,merge:b,extend:y,assign:u,inherit:_,bindFn:w,prefixed:M}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Ve,(r=function(){return Ve}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(5),i=n(4),o=n(9),a=n(223),s=n(34),u="8.4.4",l=new(function(){function e(){Object(r.a)(this,e),this.stats=new Map}return Object(i.a)(e,[{key:"get",value:function(e){return this.stats.has(e)||this.stats.set(e,new a.a({id:e})),this.stats.get(e)}}]),e}());if(s.global.luma&&s.global.luma.VERSION!==u)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(s.global.luma.VERSION," vs ").concat(u));s.global.luma||(Object(s.isBrowser)()&&o.j.log(1,"luma.gl ".concat(u," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),s.global.luma=s.global.luma||{VERSION:u,version:u,log:o.j,stats:l,globals:{modules:{},nodeIO:{}}});s.global.luma},function(e,t,n){"use strict";(function(e,r){function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return je})),n.d(t,"b",(function(){return Pe}));var l=function(){},c={},f={},h={mark:l,measure:l};try{"undefined"!==typeof window&&(c=window),"undefined"!==typeof document&&(f=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(h=performance)}catch(Te){}var d=(c.navigator||{}).userAgent,p=void 0===d?"":d,g=c,m=f,v=h,y=(g.document,!!m.documentElement&&!!m.head&&"function"===typeof m.addEventListener&&"function"===typeof m.createElement),b=(~p.indexOf("MSIE")||p.indexOf("Trident/"),"svg-inline--fa"),_="data-fa-i2svg",w=(function(){try{}catch(Te){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),x=w.concat([11,12,13,14,15,16,17,18,19,20]),O={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},k=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",O.GROUP,O.SWAP_OPACITY,O.PRIMARY,O.SECONDARY].concat(w.map((function(e){return"".concat(e,"x")}))).concat(x.map((function(e){return"w-".concat(e)}))),g.FontAwesomeConfig||{});if(m&&"function"===typeof m.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=u(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=m.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(k[r]=i)}))}var S=s({},{familyPrefix:"fa",replacementClass:b,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},k);S.autoReplaceSvg||(S.observeMutations=!1);var E=s({},S);g.FontAwesomeConfig=E;var C=g||{};C.___FONT_AWESOME___||(C.___FONT_AWESOME___={}),C.___FONT_AWESOME___.styles||(C.___FONT_AWESOME___.styles={}),C.___FONT_AWESOME___.hooks||(C.___FONT_AWESOME___.hooks={}),C.___FONT_AWESOME___.shims||(C.___FONT_AWESOME___.shims=[]);var A=C.___FONT_AWESOME___,P=[];y&&((m.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(m.readyState)||m.addEventListener("DOMContentLoaded",(function e(){m.removeEventListener("DOMContentLoaded",e),1,P.map((function(e){return e()}))})));var j,T="pending",M="settled",R="fulfilled",L="rejected",I=function(){},D="undefined"!==typeof e&&"undefined"!==typeof e.process&&"function"===typeof e.process.emit,z="undefined"===typeof r?setTimeout:r,F=[];function N(){for(var e=0;e<F.length;e++)F[e][0](F[e][1]);F=[],j=!1}function B(e,t){F.push([e,t]),j||(j=!0,z(N,0))}function V(e){var t=e.owner,n=t._state,r=t._data,i=e[n],o=e.then;if("function"===typeof i){n=R;try{r=i(r)}catch(Te){H(o,Te)}}$(o,r)||(n===R&&U(o,r),n===L&&H(o,r))}function $(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===i(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?W(e,r):U(e,r))}),(function(t){n||(n=!0,H(e,t))})),!0}}catch(Te){return n||H(e,Te),!0}return!1}function U(e,t){e!==t&&$(e,t)||W(e,t)}function W(e,t){e._state===T&&(e._state=M,e._data=t,B(q,e))}function H(e,t){e._state===T&&(e._state=M,e._data=t,B(X,e))}function G(e){e._then=e._then.forEach(V)}function q(e){e._state=R,G(e)}function X(t){t._state=L,G(t),!t._handled&&D&&e.process.emit("unhandledRejection",t._data,t)}function Z(t){e.process.emit("rejectionHandled",t)}function K(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof K===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){H(t,e)}try{e((function(e){U(t,e)}),n)}catch(Te){n(Te)}}(e,this)}K.prototype={constructor:K,_state:T,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(I),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===L&&D&&B(Z,this)),this._state===R||this._state===L?B(V,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},K.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new K((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"===typeof a.then?a.then(o(s),n):r[s]=a;i||t(r)}))},K.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new K((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},K.resolve=function(e){return e&&"object"===i(e)&&e.constructor===K?e:new K((function(t){t(e)}))},K.reject=function(e){return new K((function(t,n){n(e)}))};var Y={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function J(e){if(e&&y){var t=m.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=m.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return m.head.insertBefore(t,r),e}}function Q(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function ee(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function te(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function ne(e){return e.size!==Y.size||e.x!==Y.x||e.y!==Y.y||e.rotate!==Y.rotate||e.flipX||e.flipY}function re(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var ie={x:0,y:0,width:"100%",height:"100%"};function oe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function ae(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,u=e.symbol,l=e.title,c=e.maskId,f=e.titleId,h=e.extra,d=e.watchable,p=void 0!==d&&d,g=r.found?r:n,m=g.width,v=g.height,y="fak"===i,b=y?"":"fa-w-".concat(Math.ceil(m/v*16)),w=[E.replacementClass,o?"".concat(E.familyPrefix,"-").concat(o):"",b].filter((function(e){return-1===h.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(h.classes).join(" "),x={children:[],attributes:s({},h.attributes,{"data-prefix":i,"data-icon":o,class:w,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},O=y&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};p&&(x.attributes[_]=""),l&&x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(f||Q())},children:[l]});var k=s({},x,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:a,symbol:u,styles:s({},O,h.styles)}),S=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.maskId,u=e.transform,l=i.width,c=i.icon,f=o.width,h=o.icon,d=re({transform:u,containerWidth:f,iconWidth:l}),p={tag:"rect",attributes:s({},ie,{fill:"white"})},g=c.children?{children:c.children.map(oe)}:{},m={tag:"g",attributes:s({},d.inner),children:[oe(s({tag:c.tag,attributes:s({},c.attributes,d.path)},g))]},v={tag:"g",attributes:s({},d.outer),children:[m]},y="mask-".concat(a||Q()),b="clip-".concat(a||Q()),_={tag:"mask",attributes:s({},ie,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,v]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=h,"g"===t.tag?t.children:[t])},_]};return n.push(w,{tag:"rect",attributes:s({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(y,")")},ie)}),{children:n,attributes:r}}(k):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=te(e.styles);if(o.length>0&&(n.style=o),ne(i)){var a=re({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:s({},a.outer),children:[{tag:"g",attributes:s({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:s({},r.icon.attributes,a.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(k),C=S.children,A=S.attributes;return k.children=C,k.attributes=A,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:s({},i,{id:!0===o?"".concat(t,"-").concat(E.familyPrefix,"-").concat(n):o}),children:r}]}]}(k):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(ne(a)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=te(s({},o,{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(k)}var se=function(){},ue=(E.measurePerformance&&v&&v.mark&&v.measure,function(e,t,n,r){var i,o,a,s=Object.keys(e),u=s.length,l=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<u;i++)a=l(a,e[o=s[i]],o,e);return a});function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof A.hooks.addPack||i?A.styles[e]=s({},A.styles[e]||{},o):A.hooks.addPack(e,o),"fas"===e&&le("fa",t)}var ce=A.styles,fe=A.shims,he=function(){var e=function(e){return ue(ce,(function(t,n,r){return t[r]=ue(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in ce;ue(fe,(function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:o},e}),{})};he();A.styles;function de(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function pe(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?ee(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(ee(e[n]),'" ')}),"").trim()}(r),">").concat(o.map(pe).join(""),"</").concat(t,">")}var ge=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function me(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}me.prototype=Object.create(Error.prototype),me.prototype.constructor=me;var ve={fill:"currentColor"},ye={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},be={tag:"path",attributes:s({},ve,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},_e=s({},ye,{attributeName:"opacity"});s({},ve,{cx:"256",cy:"364",r:"28"}),s({},ye,{attributeName:"r",values:"28;14;28;28;14;28;"}),s({},_e,{values:"1;0;1;1;0;1;"}),s({},ve,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),s({},_e,{values:"1;0;0;0;0;1;"}),s({},ve,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),s({},_e,{values:"0;0;1;1;0;0;"}),A.styles;function we(e){var t=e[0],n=e[1],r=u(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(E.familyPrefix,"-").concat(O.GROUP)},children:[{tag:"path",attributes:{class:"".concat(E.familyPrefix,"-").concat(O.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(E.familyPrefix,"-").concat(O.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}A.styles;function xe(){var e="fa",t=b,n=E.familyPrefix,r=E.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}function Oe(){E.autoAddCss&&!Ae&&(J(xe()),Ae=!0)}function ke(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return pe(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(y){var t=m.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Se(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return de(Ce.definitions,n,r)||de(A.styles,n,r)}var Ee,Ce=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=s({},e.definitions[t]||{},i[t]),le(t,i[t]),he()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][o]=a})),e}}])&&o(t.prototype,n),r&&o(t,r),e}()),Ae=!1,Pe={transform:function(e){return ge(e)}},je=(Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Y:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,u=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,f=t.title,h=void 0===f?null:f,d=t.titleId,p=void 0===d?null:d,g=t.classes,m=void 0===g?[]:g,v=t.attributes,y=void 0===v?{}:v,b=t.styles,_=void 0===b?{}:b;if(e){var w=e.prefix,x=e.iconName,O=e.icon;return ke(s({type:"icon"},e),(function(){return Oe(),E.autoA11y&&(h?y["aria-labelledby"]="".concat(E.replacementClass,"-title-").concat(p||Q()):(y["aria-hidden"]="true",y.focusable="false")),ae({icons:{main:we(O),mask:u?we(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:x,transform:s({},Y,r),symbol:o,title:h,maskId:c,titleId:p,extra:{attributes:y,styles:_,classes:m}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Se(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Se(r||{})),Ee(n,s({},t,{mask:r}))})}).call(this,n(40),n(381).setImmediate)},function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,f=i.random;function h(e,t){if(t=t||{},(e=e||"")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,f=!1,h=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(j[e])e=j[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=B.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=B.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=B.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=B.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=B.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=B.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=B.hex8.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),a:N(t[4]),format:n?"name":"hex8"};if(t=B.hex6.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),format:n?"name":"hex"};if(t=B.hex4.exec(e))return{r:I(t[1]+""+t[1]),g:I(t[2]+""+t[2]),b:I(t[3]+""+t[3]),a:N(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=B.hex3.exec(e))return{r:I(t[1]+""+t[1]),g:I(t[2]+""+t[2]),b:I(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(V(e.r)&&V(e.g)&&V(e.b)?(d=e.r,p=e.g,g=e.b,t={r:255*R(d,255),g:255*R(p,255),b:255*R(g,255)},f=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):V(e.h)&&V(e.s)&&V(e.v)?(r=z(e.s),s=z(e.v),t=function(e,t,n){e=6*R(e,360),t=R(t,100),n=R(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}(e.h,r,s),f=!0,h="hsv"):V(e.h)&&V(e.s)&&V(e.l)&&(r=z(e.s),u=z(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=R(e,360),t=R(t,100),n=R(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,u),f=!0,h="hsl"),e.hasOwnProperty("a")&&(n=e.a));var d,p,g;return n=M(n),{ok:f,format:e.format||h,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function d(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function g(e,t,n,r){var i=[D(u(e).toString(16)),D(u(t).toString(16)),D(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,n,r){return[D(F(r)),D(u(e).toString(16)),D(u(t).toString(16)),D(u(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s-=t/100,n.s=L(n.s),h(n)}function y(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s+=t/100,n.s=L(n.s),h(n)}function b(e){return h(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l+=t/100,n.l=L(n.l),h(n)}function w(e,t){t=0===t?0:t||10;var n=h(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),h(n)}function x(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l-=t/100,n.l=L(n.l),h(n)}function O(e,t){var n=h(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,h(n)}function k(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function S(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+120)%360,s:t.s,l:t.l}),h({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+90)%360,s:t.s,l:t.l}),h({h:(n+180)%360,s:t.s,l:t.l}),h({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+72)%360,s:t.s,l:t.l}),h({h:(n+216)%360,s:t.s,l:t.l})]}function A(e,t,n){t=t||6,n=n||30;var r=h(e).toHsl(),i=360/n,o=[h(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(h(r));return o}function P(e,t){t=t||6;for(var n=h(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(h({h:r,s:i,v:o})),o=(o+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=M(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[D(u(e).toString(16)),D(u(t).toString(16)),D(u(n).toString(16)),D(F(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*R(this._r,255))+"%",g:u(100*R(this._g,255))+"%",b:u(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*R(this._r,255))+"%, "+u(100*R(this._g,255))+"%, "+u(100*R(this._b,255))+"%)":"rgba("+u(100*R(this._r,255))+"%, "+u(100*R(this._g,255))+"%, "+u(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=h(e);n="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},h.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:z(e[r]));e=n}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:f(),g:f(),b:f()})},h.mix=function(e,t,n){n=0===n?0:n||50;var r=h(e).toRgb(),i=h(t).toRgb(),o=n/100;return h({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},h.readability=function(e,t){var n=h(e),r=h(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(e,t,n){var r,i,o=h.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},h.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=h.readability(e,t[l]))>u&&(u=r,s=h(t[l]));return h.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,h.mostReadable(e,["#fff","#000"],n))};var j=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=h.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(j);function M(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function L(e){return l(1,c(0,e))}function I(e){return parseInt(e,16)}function D(e){return 1==e.length?"0"+e:""+e}function z(e){return e<=1&&(e=100*e+"%"),e}function F(e){return i.round(255*parseFloat(e)).toString(16)}function N(e){return I(e)/255}var B=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function V(e){return!!B.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";n.d(t,"a",(function(){return lp})),n.d(t,"c",(function(){return ag})),n.d(t,"b",(function(){return nm})),n.d(t,"d",(function(){return lm}));var r={};n.r(r),n.d(r,"arc",(function(){return Da})),n.d(r,"area",(function(){return Ka})),n.d(r,"line",(function(){return Za})),n.d(r,"pie",(function(){return Qa})),n.d(r,"areaRadial",(function(){return os})),n.d(r,"radialArea",(function(){return os})),n.d(r,"lineRadial",(function(){return is})),n.d(r,"radialLine",(function(){return is})),n.d(r,"pointRadial",(function(){return as})),n.d(r,"linkHorizontal",(function(){return ps})),n.d(r,"linkVertical",(function(){return gs})),n.d(r,"linkRadial",(function(){return ms})),n.d(r,"symbol",(function(){return Is})),n.d(r,"symbols",(function(){return Ls})),n.d(r,"symbolCircle",(function(){return vs})),n.d(r,"symbolCross",(function(){return ys})),n.d(r,"symbolDiamond",(function(){return ws})),n.d(r,"symbolSquare",(function(){return Es})),n.d(r,"symbolStar",(function(){return Ss})),n.d(r,"symbolTriangle",(function(){return As})),n.d(r,"symbolWye",(function(){return Rs})),n.d(r,"curveBasisClosed",(function(){return Vs})),n.d(r,"curveBasisOpen",(function(){return Us})),n.d(r,"curveBasis",(function(){return Ns})),n.d(r,"curveBundle",(function(){return Hs})),n.d(r,"curveCardinalClosed",(function(){return Ks})),n.d(r,"curveCardinalOpen",(function(){return Js})),n.d(r,"curveCardinal",(function(){return Xs})),n.d(r,"curveCatmullRomClosed",(function(){return ru})),n.d(r,"curveCatmullRomOpen",(function(){return ou})),n.d(r,"curveCatmullRom",(function(){return tu})),n.d(r,"curveLinearClosed",(function(){return su})),n.d(r,"curveLinear",(function(){return Ga})),n.d(r,"curveMonotoneX",(function(){return gu})),n.d(r,"curveMonotoneY",(function(){return mu})),n.d(r,"curveNatural",(function(){return bu})),n.d(r,"curveStep",(function(){return wu})),n.d(r,"curveStepAfter",(function(){return Ou})),n.d(r,"curveStepBefore",(function(){return xu})),n.d(r,"stack",(function(){return Cu})),n.d(r,"stackOffsetExpand",(function(){return Au})),n.d(r,"stackOffsetDiverging",(function(){return Pu})),n.d(r,"stackOffsetNone",(function(){return ku})),n.d(r,"stackOffsetSilhouette",(function(){return ju})),n.d(r,"stackOffsetWiggle",(function(){return Tu})),n.d(r,"stackOrderAppearance",(function(){return Mu})),n.d(r,"stackOrderAscending",(function(){return Lu})),n.d(r,"stackOrderDescending",(function(){return Du})),n.d(r,"stackOrderInsideOut",(function(){return zu})),n.d(r,"stackOrderNone",(function(){return Su})),n.d(r,"stackOrderReverse",(function(){return Fu}));var i=n(1),o=n.n(i),a=function(e){return function(){return e}};function s(e){return e[0]}function u(e){return e[1]}function l(){this._=null}function c(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function f(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function h(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function d(e){for(;e.L;)e=e.L;return e}l.prototype={constructor:l,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=d(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(f(this,n),n=(e=n).U),n.C=!1,r.C=!0,h(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(h(this,n),n=(e=n).U),n.C=!1,r.C=!0,f(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?d(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,f(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,h(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,f(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,h(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,f(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,h(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var p=l;function g(e,t,n,r){var i=[null,null],o=N.push(i)-1;return i.left=e,i.right=t,n&&v(i,e,t,n),r&&v(i,t,e,r),z[e.index].halfedges.push(o),z[t.index].halfedges.push(o),i}function m(e,t,n){var r=[t,n];return r.left=e,r}function v(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function y(e,t,n,r,i){var o,a=e[0],s=e[1],u=a[0],l=a[1],c=0,f=1,h=s[0]-u,d=s[1]-l;if(o=t-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}return!(c>0||f<1)||(c>0&&(e[0]=[u+c*h,l+c*d]),f<1&&(e[1]=[u+f*h,l+f*d]),!0)}}}}}function b(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,u=e[0],l=e.left,c=e.right,f=l[0],h=l[1],d=c[0],p=c[1],g=(f+d)/2,m=(h+p)/2;if(p===h){if(g<t||g>=r)return;if(f>d){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(s=m-(a=(f-d)/(p-h))*g,a<-1||a>1)if(f>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<p){if(u){if(u[0]>=r)return}else u=[t,a*t+s];o=[r,a*r+s]}else{if(u){if(u[0]<t)return}else u=[r,a*r+s];o=[t,a*t+s]}return e[0]=u,e[1]=o,!0}function _(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function w(e,t){return t[+(t.left!==e.site)]}function x(e,t){return t[+(t.left===e.site)]}var O,k=[];function S(){c(this),this.x=this.y=this.arc=this.site=this.cy=null}function E(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,f=o[1]-s,h=2*(u*f-l*c);if(!(h>=-V)){var d=u*u+l*l,p=c*c+f*f,g=(f*d-l*p)/h,m=(u*p-c*d)/h,v=k.pop()||new S;v.arc=e,v.site=i,v.x=g+a,v.y=(v.cy=m+s)+Math.sqrt(g*g+m*m),e.circle=v;for(var y=null,b=F._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}F.insert(y,v),y||(O=v)}}}}function C(e){var t=e.circle;t&&(t.P||(O=t.N),F.remove(t),k.push(t),c(t),e.circle=null)}var A=[];function P(){c(this),this.edge=this.site=this.circle=null}function j(e){var t=A.pop()||new P;return t.site=e,t}function T(e){C(e),D.remove(e),A.push(e),c(e)}function M(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];T(e);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<B&&Math.abs(r-u.circle.cy)<B;)o=u.P,s.unshift(u),T(u),u=o;s.unshift(u),C(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<B&&Math.abs(r-l.circle.cy)<B;)a=l.N,s.push(l),T(l),l=a;s.push(l),C(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],v(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=g(u.site,l.site,null,i),E(u),E(l)}function R(e){for(var t,n,r,i,o=e[0],a=e[1],s=D._;s;)if((r=L(s,a)-o)>B)s=s.L;else{if(!((i=o-I(s,a))>B)){r>-B?(t=s.P,n=s):i>-B?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){z[e.index]={site:e,halfedges:[]}}(e);var u=j(e);if(D.insert(t,u),t||n){if(t===n)return C(t),n=j(t.site),D.insert(u,n),u.edge=n.edge=g(t.site,u.site),E(t),void E(n);if(n){C(t),C(n);var l=t.site,c=l[0],f=l[1],h=e[0]-c,d=e[1]-f,p=n.site,m=p[0]-c,y=p[1]-f,b=2*(h*y-d*m),_=h*h+d*d,w=m*m+y*y,x=[(y*_-d*w)/b+c,(h*w-m*_)/b+f];v(n.edge,l,p,x),u.edge=g(l,e,null,x),n.edge=g(e,p,null,x),E(t),E(n)}else u.edge=g(t.site,u.site)}}function L(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-t;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function I(e,t){var n=e.N;if(n)return L(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var D,z,F,N,B=1e-6,V=1e-12;function $(e,t){return t[1]-e[1]||t[0]-e[0]}function U(e,t){var n,r,i,o=e.sort($).pop();for(N=[],z=new Array(e.length),D=new p,F=new p;;)if(i=O,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(R(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;M(i.arc)}if(function(){for(var e,t,n,r,i=0,o=z.length;i<o;++i)if((e=z[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=_(e,N[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],u=+t[1][0],l=+t[1][1];!function(e,t,n,r){for(var i,o=N.length;o--;)b(i=N[o],e,t,n,r)&&y(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>B||Math.abs(i[0][1]-i[1][1])>B)||delete N[o]}(a,s,u,l),function(e,t,n,r){var i,o,a,s,u,l,c,f,h,d,p,g,v=z.length,y=!0;for(i=0;i<v;++i)if(o=z[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)N[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=x(o,N[u[s]]))[0],g=d[1],f=(c=w(o,N[u[++s%l]]))[0],h=c[1],(Math.abs(p-f)>B||Math.abs(g-h)>B)&&(u.splice(s,0,N.push(m(a,d,Math.abs(p-e)<B&&r-g>B?[e,Math.abs(f-e)<B?h:r]:Math.abs(g-r)<B&&n-p>B?[Math.abs(h-r)<B?f:n,r]:Math.abs(p-n)<B&&g-t>B?[n,Math.abs(f-n)<B?h:t]:Math.abs(g-t)<B&&p-e>B?[Math.abs(h-t)<B?f:e,t]:null))-1),++l);l&&(y=!1)}if(y){var b,_,O,k=1/0;for(i=0,y=null;i<v;++i)(o=z[i])&&(O=(b=(a=o.site)[0]-e)*b+(_=a[1]-t)*_)<k&&(k=O,y=o);if(y){var S=[e,t],E=[e,r],C=[n,r],A=[n,t];y.halfedges.push(N.push(m(a=y.site,S,E))-1,N.push(m(a,E,C))-1,N.push(m(a,C,A))-1,N.push(m(a,A,S))-1)}}for(i=0;i<v;++i)(o=z[i])&&(o.halfedges.length||delete z[i])}(a,s,u,l)}this.edges=N,this.cells=z,D=F=N=z=null}U.prototype={constructor:U,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return w(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,c=n.site,f=-1,h=t[i[o-1]],d=h.left===c?h.right:h.left;++f<o;)a=d,d=(h=t[i[f]]).left===c?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(u=a,l=d,((s=c)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&e.push([c.data,a.data,d.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=e-i.site[0],l=t-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=e-s[0],l=t-s[1],f=u*u+l*l;f<c&&(c=f,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var W=function(){var e=s,t=u,n=null;function r(r){return new U(r.map((function(n,i){var o=[Math.round(e(n,i,r)/B)*B,Math.round(t(n,i,r)/B)*B];return o.index=i,o.data=n,o})),n)}return r.polygons=function(e){return r(e).polygons()},r.links=function(e){return r(e).links()},r.triangles=function(e){return r(e).triangles()},r.x=function(t){return arguments.length?(e="function"===typeof t?t:a(+t),r):e},r.y=function(e){return arguments.length?(t="function"===typeof e?e:a(+e),r):t},r.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},H=n(0),G=n.n(H),q=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function X(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Z(){}var K=.7,Y=1/K,J="\\s*([+-]?\\d+)\\s*",Q="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",te=/^#([0-9a-f]{3,8})$/,ne=new RegExp("^rgb\\("+[J,J,J]+"\\)$"),re=new RegExp("^rgb\\("+[ee,ee,ee]+"\\)$"),ie=new RegExp("^rgba\\("+[J,J,J,Q]+"\\)$"),oe=new RegExp("^rgba\\("+[ee,ee,ee,Q]+"\\)$"),ae=new RegExp("^hsl\\("+[Q,ee,ee]+"\\)$"),se=new RegExp("^hsla\\("+[Q,ee,ee,Q]+"\\)$"),ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function le(){return this.rgb().formatHex()}function ce(){return this.rgb().formatRgb()}function fe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=te.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?he(t):3===n?new me(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?de(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?de(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ne.exec(e))?new me(t[1],t[2],t[3],1):(t=re.exec(e))?new me(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ie.exec(e))?de(t[1],t[2],t[3],t[4]):(t=oe.exec(e))?de(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ae.exec(e))?_e(t[1],t[2]/100,t[3]/100,1):(t=se.exec(e))?_e(t[1],t[2]/100,t[3]/100,t[4]):ue.hasOwnProperty(e)?he(ue[e]):"transparent"===e?new me(NaN,NaN,NaN,0):null}function he(e){return new me(e>>16&255,e>>8&255,255&e,1)}function de(e,t,n,r){return r<=0&&(e=t=n=NaN),new me(e,t,n,r)}function pe(e){return e instanceof Z||(e=fe(e)),e?new me((e=e.rgb()).r,e.g,e.b,e.opacity):new me}function ge(e,t,n,r){return 1===arguments.length?pe(e):new me(e,t,n,null==r?1:r)}function me(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ve(){return"#"+be(this.r)+be(this.g)+be(this.b)}function ye(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function be(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function _e(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oe(e,t,n,r)}function we(e){if(e instanceof Oe)return new Oe(e.h,e.s,e.l,e.opacity);if(e instanceof Z||(e=fe(e)),!e)return new Oe;if(e instanceof Oe)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Oe(a,s,u,e.opacity)}function xe(e,t,n,r){return 1===arguments.length?we(e):new Oe(e,t,n,null==r?1:r)}function Oe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ke(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Se(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}q(Z,fe,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:le,formatHex:le,formatHsl:function(){return we(this).formatHsl()},formatRgb:ce,toString:ce}),q(me,ge,X(Z,{brighter:function(e){return e=null==e?Y:Math.pow(Y,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?K:Math.pow(K,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ve,formatHex:ve,formatRgb:ye,toString:ye})),q(Oe,xe,X(Z,{brighter:function(e){return e=null==e?Y:Math.pow(Y,e),new Oe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?K:Math.pow(K,e),new Oe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new me(ke(e>=240?e-240:e+120,i,r),ke(e,i,r),ke(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Ee=function(e){return function(){return e}};function Ce(e,t){return function(n){return e+n*t}}function Ae(e){return 1===(e=+e)?Pe:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ee(isNaN(t)?n:t)}}function Pe(e,t){var n=t-e;return n?Ce(e,n):Ee(isNaN(e)?t:e)}var je=function e(t){var n=Ae(t);function r(e,t){var r=n((e=ge(e)).r,(t=ge(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Pe(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Te(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ge(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Te((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Se((n-r/t)*t,a,i,o,s)}})),Te((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Se((n-r/t)*t,i,o,a,s)}}));var Me=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function Re(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Le(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ve(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var Ie=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},De=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},ze=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Ve(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},Fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ne=new RegExp(Fe.source,"g");var Be=function(e,t){var n,r,i,o=Fe.lastIndex=Ne.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Fe.exec(e))&&(r=Ne.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:De(n,r)})),o=Ne.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},Ve=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?Ee(t):("number"===r?De:"string"===r?(n=fe(t))?(t=n,je):Be:t instanceof fe?je:t instanceof Date?Ie:Re(t)?Me:Array.isArray(t)?Le:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?ze:De)(e,t)},$e=n(103),Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var He=o.a.oneOfType([o.a.string,o.a.shape({stiffness:o.a.number,nonAnimatedProps:o.a.arrayOf(o.a.string),damping:o.a.number}),o.a.bool]),Ge={animatedProps:o.a.arrayOf(o.a.string).isRequired,animation:He,onStart:o.a.func,onEnd:o.a.func};function qe(e){var t=e.animatedProps,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["animatedProps"]);return t.reduce((function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e}),{})}var Xe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._motionEndHandler=function(){n.props.onEnd&&n.props.onEnd()},n._renderChildren=function(e){var t=e.i,r=n.props.children,i=n._interpolator,o=G.a.Children.only(r),a=i?i(t):i,s=a&&a.data||null;return s&&o.props._data&&(s=s.map((function(e,t){var n=o.props._data[t];return We({},e,{parent:n.parent,children:n.children})}))),G.a.cloneElement(o,We({},o.props,a,{data:s||o.props.data||null,_animation:Math.random()}))},n._updateInterpolator(e),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ue(t,[{key:"componentWillUpdate",value:function(e){this._updateInterpolator(this.props,e),e.onStart&&e.onStart()}},{key:"_updateInterpolator",value:function(e,t){this._interpolator=Ve(qe(e),t?qe(t):null)}},{key:"render",value:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.presets.noWobble;if("string"===typeof e)return $e.presets[e]||$e.presets.noWobble;var t=e.damping,n=e.stiffness;return We({damping:t||$e.presets.noWobble.damping,stiffness:n||$e.presets.noWobble.stiffness},e)}(this.props.animation),t={i:Object($e.spring)(1,e)},n=Math.random();return G.a.createElement($e.Motion,We({defaultStyle:{i:0},style:t,key:n},{onRest:this._motionEndHandler}),this._renderChildren)}}]),t}(H.PureComponent);Xe.propTypes=Ge,Xe.displayName="Animation";var Ze=Xe,Ke=He,Ye=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Je=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Ye(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var Qe=Je(Ye),et=Qe.right,tt=(Qe.left,et);var nt=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},rt=Array.prototype,it=(rt.slice,rt.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}),ot=Math.sqrt(50),at=Math.sqrt(10),st=Math.sqrt(2),ut=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=lt(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function lt(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ot?10:o>=at?5:o>=st?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ot?10:o>=at?5:o>=st?2:1)}function ct(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ot?i*=10:o>=at?i*=5:o>=st&&(i*=2),t<e?-i:i}var ft=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},ht=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},dt=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o};var pt="$";function gt(){}function mt(e,t){var n=new gt;if(e instanceof gt)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}gt.prototype=mt.prototype={constructor:gt,has:function(e){return pt+e in this},get:function(e){return this[pt+e]},set:function(e,t){return this[pt+e]=t,this},remove:function(e){var t=pt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===pt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===pt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===pt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===pt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===pt&&++e;return e},empty:function(){for(var e in this)if(e[0]===pt)return!1;return!0},each:function(e){for(var t in this)t[0]===pt&&e(this[t],t.slice(1),this)}};var vt=mt,yt=function(){var e,t,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var u,l,c,f=-1,h=n.length,d=r[i++],p=vt(),g=a();++f<h;)(c=p.get(u=d(l=n[f])+""))?c.push(l):p.set(u,[l]);return p.each((function(e,t){s(g,t,o(e,i,a,s))})),g}function a(e,n){if(++n>r.length)return e;var o,s=i[n-1];return null!=t&&n>=r.length?o=e.entries():(o=[],e.each((function(e,t){o.push({key:t,values:a(e,n)})}))),null!=s?o.sort((function(e,t){return s(e.key,t.key)})):o}return n={object:function(e){return o(e,0,bt,_t)},map:function(e){return o(e,0,wt,xt)},entries:function(e){return a(o(e,0,wt,xt),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return i[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}};function bt(){return{}}function _t(e,t,n){e[t]=n}function wt(){return vt()}function xt(e,t,n){e.set(t,n)}function Ot(){}var kt=vt.prototype;function St(e,t){var n=new Ot;if(e instanceof Ot)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}Ot.prototype=St.prototype={constructor:Ot,has:kt.has,add:function(e){return this[pt+(e+="")]=e,this},remove:kt.remove,clear:kt.clear,values:kt.keys,size:kt.size,empty:kt.empty,each:kt.each};var Et=St,Ct=Array.prototype,At=Ct.map,Pt=Ct.slice,jt={name:"implicit"};function Tt(e){var t=vt(),n=[],r=jt;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==jt)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:Pt.call(e),i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=vt();for(var r,o,a=-1,s=e.length;++a<s;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Pt.call(t),i):e.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Tt().domain(n).range(e).unknown(r)},i}function Mt(){var e,t,n=Tt().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,u=0,l=.5;function c(){var n=r().length,c=o[1]<o[0],f=o[c-0],h=o[1-c];e=(h-f)/Math.max(1,n-s+2*u),a&&(e=Math.floor(e)),f+=(h-f-e*(n-s))*l,t=e*(1-s),a&&(f=Math.round(f),t=Math.round(t));var d=it(n).map((function(t){return f+e*t}));return i(c?d.reverse():d)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,c()):a},n.padding=function(e){return arguments.length?(s=u=Math.max(0,Math.min(1,e)),c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},n.paddingOuter=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},n.copy=function(){return Mt().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(u).align(l)},c()}function Rt(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Rt(t())},e}var Lt=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},It=function(e){return function(){return e}},Dt=function(e){return+e},zt=[0,1];function Ft(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:It(t)}function Nt(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function Bt(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=tt(e,t,1,i)-1;return a[n](o[n](t))}}function Vt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function $t(e,t){var n,r,i,o=zt,a=zt,s=Ve,u=!1;function l(){return n=Math.min(o.length,a.length)>2?Bt:Nt,r=i=null,c}function c(t){return(r||(r=n(o,a,u?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,s)))(+t)}return c.invert=function(e){return(i||(i=n(a,o,Ft,u?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},c.domain=function(e){return arguments.length?(o=At.call(e,Dt),l()):o.slice()},c.range=function(e){return arguments.length?(a=Pt.call(e),l()):a.slice()},c.rangeRound=function(e){return a=Pt.call(e),s=Lt,l()},c.clamp=function(e){return arguments.length?(u=!!e,l()):u},c.interpolate=function(e){return arguments.length?(s=e,l()):s},l()}var Ut=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wt(e){if(!(t=Ut.exec(e)))throw new Error("invalid format: "+e);var t;return new Ht({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ht(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}Wt.prototype=Ht.prototype,Ht.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function Gt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var qt,Xt,Zt,Kt,Yt=function(e){return(e=Gt(Math.abs(e)))?e[1]:NaN},Jt=function(e,t){var n=Gt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Qt={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Jt(100*e,t)},r:Jt,s:function(e,t){var n=Gt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(qt=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Gt(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},en=function(e){return e},tn=Array.prototype.map,nn=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];Xt=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?en:(t=tn.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?en:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(tn.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Wt(e)).fill,n=e.align,f=e.sign,h=e.symbol,d=e.zero,p=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):Qt[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===h?o:/[%p]/.test(y)?u:"",w=Qt[y],x=/[defgprs%]/.test(y);function O(e){var i,o,u,h=b,O=_;if("c"===y)O=w(e)+O,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==f&&(k=!1),h=(k?"("===f?f:l:"-"===f||"("===f?"":f)+h,O=("s"===y?nn[8+qt/3]:"")+O+(k&&"("===f?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){O=(46===u?a+e.slice(i+1):e.slice(i))+O,e=e.slice(0,i);break}}g&&!d&&(e=r(e,1/0));var S=h.length+e.length+O.length,E=S<p?new Array(p-S+1).join(t):"";switch(g&&d&&(e=r(E+e,E.length?p-O.length:1/0),E=""),n){case"<":e=h+e+O+E;break;case"=":e=h+E+e+O;break;case"^":e=E.slice(0,S=E.length>>1)+h+e+O+E.slice(S);break;default:e=E+h+e+O}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),O.toString=function(){return e+""},O}return{format:f,formatPrefix:function(e,t){var n=f(((e=Wt(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Yt(t)/3))),i=Math.pow(10,-r),o=nn[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Zt=Xt.format,Kt=Xt.formatPrefix;var rn=function(e,t,n){var r,i=e[0],o=e[e.length-1],a=ct(i,o,null==t?10:t);switch((n=Wt(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yt(t)/3)))-Yt(Math.abs(e)))}(a,s))||(n.precision=r),Kt(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yt(t)-Yt(e))+1}(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(e){return Math.max(0,-Yt(Math.abs(e)))}(a))||(n.precision=r-2*("%"===n.type))}return Zt(n)};function on(e){var t=e.domain;return e.ticks=function(e){var n=t();return ut(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return rn(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=lt(s,u,n))>0?r=lt(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=lt(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,t(i)),e},e}function an(){var e=$t(Ft,De);return e.copy=function(){return Vt(e,an())},on(e)}var sn=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function un(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:It(t)}function ln(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function cn(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fn(e){return 10===e?cn:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function hn(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function dn(e){return function(t){return-e(-t)}}function pn(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function gn(){var e=1,t=$t((function(t,n){return(n=pn(n,e)-(t=pn(t,e)))?function(r){return(pn(r,e)-t)/n}:It(n)}),(function(t,n){return n=pn(n,e)-(t=pn(t,e)),function(r){return pn(t+n*r,1/e)}})),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return Vt(t,gn().exponent(e))},on(t)}function mn(){return gn().exponent(.5)}var vn=new Date,yn=new Date;function bn(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return bn((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return vn.setTime(+t),yn.setTime(+r),e(vn),e(yn),Math.floor(n(vn,yn))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var _n=bn((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));_n.every=function(e){return isFinite(e=Math.floor(e))&&e>0?bn((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var wn=_n,xn=(_n.range,bn((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),On=xn,kn=(xn.range,1e3),Sn=6e4,En=36e5,Cn=864e5,An=6048e5;function Pn(e){return bn((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sn)/An}))}var jn=Pn(0),Tn=Pn(1),Mn=Pn(2),Rn=Pn(3),Ln=Pn(4),In=Pn(5),Dn=Pn(6),zn=(jn.range,Tn.range,Mn.range,Rn.range,Ln.range,In.range,Dn.range,bn((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sn)/Cn}),(function(e){return e.getDate()-1}))),Fn=zn,Nn=(zn.range,bn((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn-e.getMinutes()*Sn)}),(function(e,t){e.setTime(+e+t*En)}),(function(e,t){return(t-e)/En}),(function(e){return e.getHours()}))),Bn=Nn,Vn=(Nn.range,bn((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn)}),(function(e,t){e.setTime(+e+t*Sn)}),(function(e,t){return(t-e)/Sn}),(function(e){return e.getMinutes()}))),$n=Vn,Un=(Vn.range,bn((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*kn)}),(function(e,t){return(t-e)/kn}),(function(e){return e.getUTCSeconds()}))),Wn=Un,Hn=(Un.range,bn((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Hn.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?bn((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Hn:null};var Gn=Hn;Hn.range;function qn(e){return bn((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/An}))}var Xn=qn(0),Zn=qn(1),Kn=qn(2),Yn=qn(3),Jn=qn(4),Qn=qn(5),er=qn(6),tr=(Xn.range,Zn.range,Kn.range,Yn.range,Jn.range,Qn.range,er.range,bn((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/Cn}),(function(e){return e.getUTCDate()-1}))),nr=tr,rr=(tr.range,bn((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));rr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?bn((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ir=rr;rr.range;function or(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ar(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var ur,lr,cr,fr={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,dr=/^%/,pr=/[\\^$*+?|[\]().{}]/g;function gr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function mr(e){return e.replace(pr,"\\$&")}function vr(e){return new RegExp("^(?:"+e.map(mr).join("|")+")","i")}function yr(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function br(e,t,n){var r=hr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _r(e,t,n){var r=hr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wr(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xr(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Or(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kr(e,t,n){var r=hr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Sr(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Er(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Cr(e,t,n){var r=hr.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ar(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Pr(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function jr(e,t,n){var r=hr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Tr(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Mr(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Rr(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Lr(e,t,n){var r=hr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ir(e,t,n){var r=hr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dr(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function zr(e,t,n){var r=hr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Fr(e,t,n){var r=hr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Nr(e,t){return gr(e.getDate(),t,2)}function Br(e,t){return gr(e.getHours(),t,2)}function Vr(e,t){return gr(e.getHours()%12||12,t,2)}function $r(e,t){return gr(1+Fn.count(wn(e),e),t,3)}function Ur(e,t){return gr(e.getMilliseconds(),t,3)}function Wr(e,t){return Ur(e,t)+"000"}function Hr(e,t){return gr(e.getMonth()+1,t,2)}function Gr(e,t){return gr(e.getMinutes(),t,2)}function qr(e,t){return gr(e.getSeconds(),t,2)}function Xr(e){var t=e.getDay();return 0===t?7:t}function Zr(e,t){return gr(jn.count(wn(e)-1,e),t,2)}function Kr(e){var t=e.getDay();return t>=4||0===t?Ln(e):Ln.ceil(e)}function Yr(e,t){return e=Kr(e),gr(Ln.count(wn(e),e)+(4===wn(e).getDay()),t,2)}function Jr(e){return e.getDay()}function Qr(e,t){return gr(Tn.count(wn(e)-1,e),t,2)}function ei(e,t){return gr(e.getFullYear()%100,t,2)}function ti(e,t){return gr((e=Kr(e)).getFullYear()%100,t,2)}function ni(e,t){return gr(e.getFullYear()%1e4,t,4)}function ri(e,t){var n=e.getDay();return gr((e=n>=4||0===n?Ln(e):Ln.ceil(e)).getFullYear()%1e4,t,4)}function ii(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gr(t/60|0,"0",2)+gr(t%60,"0",2)}function oi(e,t){return gr(e.getUTCDate(),t,2)}function ai(e,t){return gr(e.getUTCHours(),t,2)}function si(e,t){return gr(e.getUTCHours()%12||12,t,2)}function ui(e,t){return gr(1+nr.count(ir(e),e),t,3)}function li(e,t){return gr(e.getUTCMilliseconds(),t,3)}function ci(e,t){return li(e,t)+"000"}function fi(e,t){return gr(e.getUTCMonth()+1,t,2)}function hi(e,t){return gr(e.getUTCMinutes(),t,2)}function di(e,t){return gr(e.getUTCSeconds(),t,2)}function pi(e){var t=e.getUTCDay();return 0===t?7:t}function gi(e,t){return gr(Xn.count(ir(e)-1,e),t,2)}function mi(e){var t=e.getUTCDay();return t>=4||0===t?Jn(e):Jn.ceil(e)}function vi(e,t){return e=mi(e),gr(Jn.count(ir(e),e)+(4===ir(e).getUTCDay()),t,2)}function yi(e){return e.getUTCDay()}function bi(e,t){return gr(Zn.count(ir(e)-1,e),t,2)}function _i(e,t){return gr(e.getUTCFullYear()%100,t,2)}function wi(e,t){return gr((e=mi(e)).getUTCFullYear()%100,t,2)}function xi(e,t){return gr(e.getUTCFullYear()%1e4,t,4)}function Oi(e,t){var n=e.getUTCDay();return gr((e=n>=4||0===n?Jn(e):Jn.ceil(e)).getUTCFullYear()%1e4,t,4)}function ki(){return"+0000"}function Si(){return"%"}function Ei(e){return+e}function Ci(e){return Math.floor(+e/1e3)}!function(e){ur=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=vr(i),c=yr(i),f=vr(o),h=yr(o),d=vr(a),p=yr(a),g=vr(s),m=yr(s),v=vr(u),y=yr(u),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Nr,e:Nr,f:Wr,g:ti,G:ri,H:Br,I:Vr,j:$r,L:Ur,m:Hr,M:Gr,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ei,s:Ci,S:qr,u:Xr,U:Zr,V:Yr,w:Jr,W:Qr,x:null,X:null,y:ei,Y:ni,Z:ii,"%":Si},_={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:oi,e:oi,f:ci,g:wi,G:Oi,H:ai,I:si,j:ui,L:li,m:fi,M:hi,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ei,s:Ci,S:di,u:pi,U:gi,V:vi,w:yi,W:bi,x:null,X:null,y:_i,Y:xi,Z:ki,"%":Si},w={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:Pr,e:Pr,f:Ir,g:Sr,G:kr,H:Tr,I:Tr,j:jr,L:Lr,m:Ar,M:Mr,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:Cr,Q:zr,s:Fr,S:Rr,u:_r,U:wr,V:xr,w:br,W:Or,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:Sr,Y:kr,Z:Er,"%":Dr};function x(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=fr[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function O(e,t){return function(n){var r,i,o=sr(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ar(sr(o.y,0,1))).getUTCDay(),r=i>4||0===i?Zn.ceil(r):Zn(r),r=nr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=or(sr(o.y,0,1))).getDay(),r=i>4||0===i?Tn.ceil(r):Tn(r),r=Fn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ar(sr(o.y,0,1)).getUTCDay():or(sr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ar(o)):or(o)}}function k(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in fr?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),_.x=x(n,_),_.X=x(r,_),_.c=x(t,_),{format:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=O(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=O(e+="",!0);return t.toString=function(){return e},t}}}(e),lr=ur.format,ur.parse,cr=ur.utcFormat,ur.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ai=1e3,Pi=6e4,ji=36e5,Ti=864e5,Mi=2592e6,Ri=31536e6;function Li(e){return new Date(e)}function Ii(e){return e instanceof Date?+e:+new Date(+e)}function Di(e,t,n,r,i,o,a,s,u){var l=$t(Ft,De),c=l.invert,f=l.domain,h=u(".%L"),d=u(":%S"),p=u("%I:%M"),g=u("%I %p"),m=u("%a %d"),v=u("%b %d"),y=u("%B"),b=u("%Y"),_=[[a,1,Ai],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,Pi],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,ji],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Ti],[r,2,1728e5],[n,1,6048e5],[t,1,Mi],[t,3,7776e6],[e,1,Ri]];function w(s){return(a(s)<s?h:o(s)<s?d:i(s)<s?p:r(s)<s?g:t(s)<s?n(s)<s?m:v:e(s)<s?y:b)(s)}function x(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var o=Math.abs(r-n)/t,a=Je((function(e){return e[2]})).right(_,o);a===_.length?(i=ct(n/Ri,r/Ri,t),t=e):a?(i=(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(ct(n,r,t),1),t=s)}return null==i?t:t.every(i)}return l.invert=function(e){return new Date(c(e))},l.domain=function(e){return arguments.length?f(At.call(e,Ii)):f().map(Li)},l.ticks=function(e,t){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=x(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(e,t){return null==t?w:u(t)},l.nice=function(e,t){var n=f();return(e=x(e,n[0],n[n.length-1],t))?f(sn(n,e)):l},l.copy=function(){return Vt(l,Di(e,t,n,r,i,o,a,s,u))},l}var zi=bn((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Fi=zi,Ni=(zi.range,bn((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*En)}),(function(e,t){return(t-e)/En}),(function(e){return e.getUTCHours()}))),Bi=Ni,Vi=(Ni.range,bn((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Sn)}),(function(e,t){return(t-e)/Sn}),(function(e){return e.getUTCMinutes()}))),$i=Vi,Ui=(Vi.range,function(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))}),Wi=(Ui("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ui("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Ui("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Ui("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Math.PI/180),Hi=180/Math.PI,Gi=-.14861,qi=1.78277,Xi=-.29227,Zi=-.90649,Ki=1.97294,Yi=-1.7884503806,Ji=3.5172982438,Qi=-.6557636667999999;function eo(e){if(e instanceof no)return new no(e.h,e.s,e.l,e.opacity);e instanceof me||(e=pe(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Qi*r+Yi*t-Ji*n)/(Qi+Yi-Ji),o=r-i,a=(Ki*(n-i)-Xi*o)/Zi,s=Math.sqrt(a*a+o*o)/(Ki*i*(1-i)),u=s?Math.atan2(a,o)*Hi-120:NaN;return new no(u<0?u+360:u,s,i,e.opacity)}function to(e,t,n,r){return 1===arguments.length?eo(e):new no(e,t,n,null==r?1:r)}function no(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ro(e){return function t(n){function r(t,r){var i=e((t=to(t)).h,(r=to(r)).h),o=Pe(t.s,r.s),a=Pe(t.l,r.l),s=Pe(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}q(no,to,X(Z,{brighter:function(e){return e=null==e?Y:Math.pow(Y,e),new no(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?K:Math.pow(K,e),new no(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Wi,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new me(255*(t+n*(Gi*r+qi*i)),255*(t+n*(Xi*r+Zi*i)),255*(t+n*(Ki*r)),this.opacity)}}));ro((function(e,t){var n=t-e;return n?Ce(e,n>180||n<-180?n-360*Math.round(n/360):n):Ee(isNaN(e)?t:e)}));var io=ro(Pe);io(to(300,.5,0),to(-240,.5,1)),io(to(-100,.75,.35),to(80,1.5,.8)),io(to(260,.75,.35),to(80,1.5,.8)),to();function oo(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}oo(Ui("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),oo(Ui("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),oo(Ui("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),oo(Ui("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var ao=n(86);function so(e){return"[object Date]"===Object.prototype.toString.call(e)?e.toDateString():e}var uo,lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function fo(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var po="linear",go="ordinal",mo="category",vo="literal",yo="time",bo=(ho(uo={},po,an),ho(uo,go,(function(){return Rt(Mt().paddingInner(1))})),ho(uo,mo,Tt),ho(uo,vo,Do),ho(uo,"log",(function e(){var t=$t(un,ln).domain([1,10]),n=t.domain,r=10,i=hn(10),o=fn(10);function a(){return i=hn(r),o=fn(r),n()[0]<0&&(i=dn(i),o=dn(o)),t}return t.base=function(e){return arguments.length?(r=+e,a()):r},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=function(e){var t,a=n(),s=a[0],u=a[a.length-1];(t=u<s)&&(h=s,s=u,u=h);var l,c,f,h=i(s),d=i(u),p=null==e?10:+e,g=[];if(!(r%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,s>0){for(;h<d;++h)for(c=1,l=o(h);c<r;++c)if(!((f=l*c)<s)){if(f>u)break;g.push(f)}}else for(;h<d;++h)for(c=r-1,l=o(h);c>=1;--c)if(!((f=l*c)<s)){if(f>u)break;g.push(f)}}else g=ut(h,d,Math.min(d-h,p)).map(o);return t?g.reverse():g},t.tickFormat=function(e,n){if(null==n&&(n=10===r?".0e":","),"function"!==typeof n&&(n=Zt(n)),e===1/0)return n;null==e&&(e=10);var a=Math.max(1,r*e/t.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=a?n(e):""}},t.nice=function(){return n(sn(n(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},t.copy=function(){return Vt(t,e().base(r))},t})),ho(uo,yo,(function(){return Di(wn,On,jn,Fn,Bn,$n,Wn,Gn,lr).domain([new Date(2e3,0,1),new Date(2e3,0,2)])})),ho(uo,"time-utc",(function(){return Di(ir,Fi,Xn,nr,Bi,$i,Wn,Gn,cr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])})),uo),_o=["color","fill","opacity","stroke"];function wo(e){return""+e[0].toUpperCase()+e.slice(1)}function xo(e){if(!e)return null;var t=e.type,n=e.domain,r=e.range,i=n[0]===n[1]?0===n[0]?[-1,0]:[-n[0],n[0]]:n;if(t===vo)return Do(r[0]);var o=bo[t]().domain(i).range(r);return t===go&&(o.padding(.5),function(e){e.invert||(e.invert=function(t){var n=e.range(),r=co(n,2),i=r[0],o=r[1],a=Math.min(i,o),s=Math.max(i,o);if(t<a+e.padding()*e.step())return e.domain()[0];if(t>s-e.padding()*e.step())return e.domain()[e.domain().length-1];var u=Math.floor((t-a-e.padding()*e.step())/e.step());return e.domain()[u]})}(o)),o}function Oo(e,t,n,r){var i=e.reduce((function(e,r){var i=t(r),o=n(r);return Po(i)&&e.push(i),Po(o)&&e.push(o),e}),[]);return i.length?r!==go&&r!==mo?nt(i):Et(i).values():[]}function ko(e,t,n,r,i){return n===vo?{type:vo,domain:[],range:[t],distance:0,attr:e,baseValue:void 0,isValue:!0,accessor:r,accessor0:i}:"undefined"===typeof t?null:{type:mo,range:[t],domain:[],distance:0,attr:e,baseValue:void 0,isValue:!0,accessor:r,accessor0:i}}function So(e,t){var n=t.domain,r=t.type,i=t.accessor,o=t.accessor0,a=function(e,t,n,r){return r===yo&&1===t.length?[n(e[0])].concat(fo(t)):t}(e,function(e,t){var n=new Set(e.map(t));return Array.from(n)}(e,i),o,r),s=function(e,t){var n=xo(t),r=0;if(n)for(var i=void 0,o=n(e[0]),a=1/0,s=void 0,u=1;u<e.length;u++)i=n(e[u]),(s=Math.abs(i-o))<a&&(a=s,r=u),o=i;return r}(a,t),u=[].concat(n);u[0]-=function(e){return e.length>1?(e[1]-e[0])/2:1===e.length?e[0]-.5:0}(a),u[n.length-1]+=function(e){return e.length>1?(e[e.length-1]-e[e.length-2])/2:1===e.length?e[0]-.5:0}(a),"log"===r&&n[0]<=0&&(u[0]=Math.min(n[1]/10,1));var l=function(e,t,n,r){if(e.length>1){var i=Math.max(n,1);return Math.abs(r(e[i])-r(e[i-1]))}return 1===e.length?Math.abs(r(t[1])-r(t[0])):0}(a,u,s,xo(lo({},t,{domain:u})));return{domain0:u[0],domainN:u[u.length-1],distance:l}}function Eo(e,t){var n=function(e,t){var n,r=e[t],i=e["_"+t+"Value"],o=e[t+"Range"],a=e[t+"Distance"],s=void 0===a?0:a,u=e[t+"BaseValue"],l=e[t+"Type"],c=void 0===l?po:l,f=e[t+"NoFallBack"],h=e["get"+wo(t)],d=void 0===h?function(e){return e[t]}:h,p=e["get"+wo(t)+"0"],g=void 0===p?function(e){return e[t+"0"]}:p,m=e[t+"Domain"];return f||"undefined"===typeof r?("undefined"!==typeof u&&(m=function(e,t){var n=[].concat(e);return n[0]>t&&(n[0]=t),n[n.length-1]<t&&(n[n.length-1]=t),n}(m,u)),o&&m&&m.length?{domain:(n={domain:m,range:o,type:c,distance:s,attr:t,baseValue:u,accessor:d,accessor0:g}).domain,range:n.range,type:n.type,distance:n.distance,attr:n.attr,baseValue:n.baseValue,isValue:!1,accessor:n.accessor,accessor0:n.accessor0}:ko(t,i,e[t+"Type"],d,g)):ko(t,r,e[t+"Type"],d,g)}(e,t);if(!n)return null;if(!function(e,t){var n=t.attr,r=e._adjustBy,i=void 0===r?[]:r,o=e._adjustWhat;return(void 0===o?[]:o).length&&i.length&&-1!==i.indexOf(n)}(e,n))return n;var r=n.type;return r===go||r===mo?function(e){var t=xo(e),n=e.domain,r=e.range;return n.length>1?e.distance=Math.abs(t(n[1])-t(n[0])):e.distance=Math.abs(r[1]-r[0]),e}(n):function(e,t){var n=e._allData,r=e._adjustWhat,i=void 0===r?[]:r,o=t.domain.length,a=t.domain,s=a[0],u=a[o-1],l=t.distance;return n.forEach((function(e,n){if(-1!==i.indexOf(n)&&e&&e.length){var r=So(e,t),o=r.domain0,a=r.domainN,c=r.distance;s=Math.min(s,o),u=Math.max(u,a),l=Math.max(l,c)}})),t.domain=[s].concat(fo(a.slice(1,-1)),[u]),t.distance=l,t}(e,n)}function Co(e,t){return xo(Eo(e,t))}function Ao(e,t){return t(e.data?e.data:e)}function Po(e){return"undefined"!==typeof e}function jo(e,t){var n=Eo(e,t);if(n){var r=xo(n);return function(e){return r(Ao(e,n.accessor))}}return null}function To(e,t){var n=Eo(e,t);if(n){var r=n.domain,i=n.baseValue,o=void 0===i?r[0]:i,a=xo(n);return function(e){var t=Ao(e,n.accessor0);return a(Po(t)?t:o)}}return null}function Mo(e,t){var n=Eo(e,t);return n?(n.isValue||void 0!==e["_"+t+"Value"]||Object(ao.b)("[React-vis] Cannot use data defined "+t+" for this series type. Using fallback value instead."),e["_"+t+"Value"]||n.range[0]):null}function Ro(e){var t;return ho(t={},"_"+e+"Value",o.a.any),ho(t,e+"Domain",o.a.array),ho(t,"get"+wo(e),o.a.func),ho(t,"get"+wo(e)+"0",o.a.func),ho(t,e+"Range",o.a.array),ho(t,e+"Type",o.a.oneOf(Object.keys(bo))),ho(t,e+"Distance",o.a.number),ho(t,e+"BaseValue",o.a.any),t}function Lo(e,t){var n={};return Object.keys(e).forEach((function(r){t.find((function(e){var t=0===r.indexOf(e),n=0===r.indexOf("_"+e),i=0===r.indexOf("get"+wo(e));return t||n||i}))&&(n[r]=e[r])})),n}function Io(e,t,n){var r={};return n.forEach((function(n){e["get"+wo(n)]||(r["get"+wo(n)]=function(e){return e[n]}),e["get"+wo(n)+"0"]||(r["get"+wo(n)+"0"]=function(e){return e[n+"0"]}),e[n+"Domain"]||(r[n+"Domain"]=Oo(t,e["get"+wo(n)]||r["get"+wo(n)],e["get"+wo(n)+"0"]||r["get"+wo(n)+"0"],e[n+"Type"]),e[n+"Padding"]&&(r[n+"Domain"]=function(e,t){if(!e)return e;if(isNaN(parseFloat(e[0]))||isNaN(parseFloat(e[1])))return e;var n=co(e,2),r=n[0],i=n[1],o=.01*t*(i-r);return[r-o,i+o]}(r[n+"Domain"],e[n+"Padding"])))})),r}function Do(e){function t(t){return void 0===t?e:t}function n(){return t}return t.domain=n,t.range=n,t.unknown=n,t.copy=n,t}function zo(e){return e?xe(e).l>.57?"#222":"#fff":null}function Fo(e,t){var n=_o.reduce((function(t,n){var r=e[n+"Domain"],i=e[n+"Range"],o=e[n+"Type"];return r&&i&&o?lo({},t,ho({},n,bo[o]().domain(r).range(i))):t}),{});return t.map((function(e){return _o.reduce((function(t,r){if(e.props&&void 0!==e.props[r]){var i=e.props[r],o=n[r],a=o?o(i):i;return lo({},t,ho({},"_"+r+"Value",a))}return t}),{})}))}var No=["Padding"].map((function(e){return new RegExp(e+"$","i")}));function Bo(e){return Object.keys(e).reduce((function(t,n){return No.every((function(e){return!n.match(e)}))||(t[n]=e[n]),t}),{})}var Vo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function $o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Wo=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},Ro("x"),Ro("y"),Ro("size"),Ro("opacity"),Ro("color"),{width:o.a.number,height:o.a.number,data:o.a.arrayOf(o.a.oneOfType([o.a.object,o.a.array])),onValueMouseOver:o.a.func,onValueMouseOut:o.a.func,onValueClick:o.a.func,onValueRightClick:o.a.func,onSeriesMouseOver:o.a.func,onSeriesMouseOut:o.a.func,onSeriesClick:o.a.func,onSeriesRightClick:o.a.func,onNearestX:o.a.func,onNearestXY:o.a.func,style:o.a.object,animation:Ke,stack:o.a.bool}),Ho=function(e){function t(){var e,n,r;$o(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Uo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._seriesClickHandler=function(e){var t=r.props.onSeriesClick;t&&t({event:e})},r._seriesMouseOutHandler=function(e){var t=r.props.onSeriesMouseOut;t&&t({event:e})},r._seriesMouseOverHandler=function(e){var t=r.props.onSeriesMouseOver;t&&t({event:e})},r._seriesRightClickHandler=function(e){var t=r.props.onSeriesRightClick;t&&t({event:e})},r._valueClickHandler=function(e,t){var n=r.props,i=n.onValueClick,o=n.onSeriesClick;i&&i(e,{event:t}),o&&o({event:t})},r._valueMouseOutHandler=function(e,t){var n=r.props,i=n.onValueMouseOut,o=n.onSeriesMouseOut;i&&i(e,{event:t}),o&&o({event:t})},r._valueMouseOverHandler=function(e,t){var n=r.props,i=n.onValueMouseOver,o=n.onSeriesMouseOver;i&&i(e,{event:t}),o&&o({event:t})},r._valueRightClickHandler=function(e,t){var n=r.props,i=n.onValueRightClick,o=n.onSeriesRightClick;i&&i(e,{event:t}),o&&o({event:t})},Uo(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Vo(t,[{key:"onParentMouseMove",value:function(e){var t=this.props,n=t.onNearestX,r=t.onNearestXY,i=t.data;(n||r)&&i&&(r?this._handleNearestXY(e):this._handleNearestX(e))}},{key:"onParentTouchMove",value:function(e){e.preventDefault(),this.onParentMouseMove(e)}},{key:"onParentTouchStart",value:function(e){e.preventDefault()}},{key:"_getAttr0Functor",value:function(e){return To(this.props,e)}},{key:"_getAttributeFunctor",value:function(e){return jo(this.props,e)}},{key:"_getAttributeValue",value:function(e){return Mo(this.props,e)}},{key:"_getScaleDistance",value:function(e){var t=Eo(this.props,e);return t?t.distance:0}},{key:"_getXYCoordinateInContainer",value:function(e){var t=this.props,n=t.marginTop,r=void 0===n?0:n,i=t.marginLeft,o=void 0===i?0:i,a=e.nativeEvent,s=e.currentTarget,u=s.getBoundingClientRect(),l=a.clientX,c=a.clientY;return"touchmove"===a.type&&(l=a.touches[0].pageX,c=a.touches[0].pageY),{x:l-u.left-s.clientLeft-o,y:c-u.top-s.clientTop-r}}},{key:"_handleNearestX",value:function(e){var t=this.props,n=t.onNearestX,r=t.data,i=Number.POSITIVE_INFINITY,o=null,a=null,s=this._getXYCoordinateInContainer(e),u=this._getAttributeFunctor("x");r.forEach((function(e,t){var n=u(e),r=Math.abs(s.x-n);r<i&&(i=r,o=e,a=t)})),o&&n(o,{innerX:u(o),index:a,event:e.nativeEvent})}},{key:"_handleNearestXY",value:function(e){var t=this.props,n=t.onNearestXY,r=t.data,i=this._getXYCoordinateInContainer(e),o=this._getAttributeFunctor("x"),a=this._getAttributeFunctor("y"),s=W().x(o).y(a)(r).find(i.x,i.y),u=s.data;u&&n(u,{innerX:s[0],innerY:s[1],index:s.index,event:e.nativeEvent})}}],[{key:"getParentConfig",value:function(){return{}}},{key:"requiresSVG",get:function(){return!0}}]),t}(H.PureComponent);Ho.displayName="AbstractSeries",Ho.propTypes=Wo,Ho.defaultProps={className:"",stack:!1,style:{}};var Go=Ho,qo=["#12939A","#79C7E3","#1A3177","#FF9833","#EF5D28"],Xo=["#19CDD7","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A","#DA70BF","#125C77","#4DC19C","#776E57","#12939A","#17B8BE","#F6D18A","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E"],Zo=["#EF5D28","#FF9833"],Ko=[1,10],Yo="literal",Jo=qo[0],Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e){return e.type.prototype instanceof Go}function na(e){return G.a.Children.toArray(e).filter((function(e){return e&&ta(e)}))}function ra(e,t){var n=e.some((function(e){return e&&e.props.stack})),r={};return e.reduce((function(e,i,o){if(!i)return e.push(null),e;var a=i.type.displayName,s=i.props,u=s.data,l=s.cluster,c=void 0===l?"default":l,f=s.stack,h=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e&&e.some((function(e){return e.radius&&e.angle}))}(e)?e.map((function(e){return Qo({},e,{x:e.radius*Math.cos(e.angle),y:e.radius*Math.sin(e.angle)})})):e}(u);if(!t||!h||!h.length||n&&!f)return e.push(h),e;var d=t+"0",p="y"===t?"x":"y";return e.push(h.map((function(e,n){var i,o;r[c]||(r[c]={}),r[c][a]||(r[c][a]={});var s,u=r[c][a][e[p]];if(!u)return r[c][a][e[p]]=(ea(s={},d,e[d]),ea(s,t,e[t]),s),Qo({},e);var l=Qo({},e,(ea(i={},d,u[t]),ea(i,t,u[t]+e[t]-(e[d]||0)),i));return r[c][a][e[p]]=(ea(o={},d,l[d]),ea(o,t,l[t]),o),l}))),e}),[])}function ia(e){var t=[],n=function(e){var t={};return e.filter(ta).forEach((function(e){var n=e.type.displayName,r=e.props.cluster;t[n]||(t[n]={sameTypeTotal:0,sameTypeIndex:0,clusters:new Set}),t[n].clusters.add(r),t[n].sameTypeTotal++})),t}(e),r=0;return e.forEach((function(e){var i=void 0;if(ta(e)){var o=n[e.type.displayName];i=Qo({},o,{seriesIndex:r,_colorValue:qo[r%qo.length],_opacityValue:1}),o.sameTypeIndex++,r++,e.props.cluster&&(i.cluster=e.props.cluster,i.clusters=Array.from(o.clusters),i.sameTypeTotal=i.clusters.length,i.sameTypeIndex=i.clusters.indexOf(e.props.cluster))}t.push(i)})),t}function oa(e){return e.reduce((function(e,t){return Math.max(t.radius,e)}),0)}var aa=["xRange","xDomain","x","yRange","yDomain","y","colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","strokeRange","strokeDomain","stroke","fillRange","fillDomain","fill","width","height","marginLeft","marginTop","marginRight","marginBottom","data","angleDomain","angleRange","angle","radiusDomain","radiusRange","radius","innerRadiusDomain","innerRadiusRange","innerRadius"];function sa(e){var t=e._stackBy,n=e.valuePosAttr,r=e.cluster,i=e.sameTypeTotal,o=void 0===i?1:i,a=e.sameTypeIndex,s=void 0===a?0:a;return t!==n||r||(o=1,s=0),{sameTypeTotal:o,sameTypeIndex:s}}var ua=Math.PI,la=2*ua,ca=1e-6,fa=la-ca;function ha(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function da(){return new ha}ha.prototype=da.prototype={constructor:ha,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,l=o-e,c=a-t,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>ca)if(Math.abs(c*s-u*l)>ca&&i){var h=n-o,d=r-a,p=s*s+u*u,g=h*h+d*d,m=Math.sqrt(p),v=Math.sqrt(f),y=i*Math.tan((ua-Math.acos((p+f-g)/(2*m*v)))/2),b=y/v,_=y/m;Math.abs(b-1)>ca&&(this._+="L"+(e+b*l)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=e+_*s)+","+(this._y1=t+_*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,l=t+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>ca||Math.abs(this._y1-l)>ca)&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%la+la),f>fa?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):f>ca&&(this._+="A"+n+","+n+",0,"+ +(f>=ua)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var pa=da,ga=function(e){return function(){return e}},ma=Math.abs,va=Math.atan2,ya=Math.cos,ba=Math.max,_a=Math.min,wa=Math.sin,xa=Math.sqrt,Oa=1e-12,ka=Math.PI,Sa=ka/2,Ea=2*ka;function Ca(e){return e>1?0:e<-1?ka:Math.acos(e)}function Aa(e){return e>=1?Sa:e<=-1?-Sa:Math.asin(e)}function Pa(e){return e.innerRadius}function ja(e){return e.outerRadius}function Ta(e){return e.startAngle}function Ma(e){return e.endAngle}function Ra(e){return e&&e.padAngle}function La(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,f=s-o,h=f*u-c*l;if(!(h*h<Oa))return[e+(h=(c*(t-o)-f*(e-i))/h)*u,t+h*l]}function Ia(e,t,n,r,i,o,a){var s=e-n,u=t-r,l=(a?o:-o)/xa(s*s+u*u),c=l*u,f=-l*s,h=e+c,d=t+f,p=n+c,g=r+f,m=(h+p)/2,v=(d+g)/2,y=p-h,b=g-d,_=y*y+b*b,w=i-o,x=h*g-p*d,O=(b<0?-1:1)*xa(ba(0,w*w*_-x*x)),k=(x*b-y*O)/_,S=(-x*y-b*O)/_,E=(x*b+y*O)/_,C=(-x*y+b*O)/_,A=k-m,P=S-v,j=E-m,T=C-v;return A*A+P*P>j*j+T*T&&(k=E,S=C),{cx:k,cy:S,x01:-c,y01:-f,x11:k*(i/w-1),y11:S*(i/w-1)}}var Da=function(){var e=Pa,t=ja,n=ga(0),r=null,i=Ta,o=Ma,a=Ra,s=null;function u(){var u,l,c=+e.apply(this,arguments),f=+t.apply(this,arguments),h=i.apply(this,arguments)-Sa,d=o.apply(this,arguments)-Sa,p=ma(d-h),g=d>h;if(s||(s=u=pa()),f<c&&(l=f,f=c,c=l),f>Oa)if(p>Ea-Oa)s.moveTo(f*ya(h),f*wa(h)),s.arc(0,0,f,h,d,!g),c>Oa&&(s.moveTo(c*ya(d),c*wa(d)),s.arc(0,0,c,d,h,g));else{var m,v,y=h,b=d,_=h,w=d,x=p,O=p,k=a.apply(this,arguments)/2,S=k>Oa&&(r?+r.apply(this,arguments):xa(c*c+f*f)),E=_a(ma(f-c)/2,+n.apply(this,arguments)),C=E,A=E;if(S>Oa){var P=Aa(S/c*wa(k)),j=Aa(S/f*wa(k));(x-=2*P)>Oa?(_+=P*=g?1:-1,w-=P):(x=0,_=w=(h+d)/2),(O-=2*j)>Oa?(y+=j*=g?1:-1,b-=j):(O=0,y=b=(h+d)/2)}var T=f*ya(y),M=f*wa(y),R=c*ya(w),L=c*wa(w);if(E>Oa){var I,D=f*ya(b),z=f*wa(b),F=c*ya(_),N=c*wa(_);if(p<ka&&(I=La(T,M,F,N,D,z,R,L))){var B=T-I[0],V=M-I[1],$=D-I[0],U=z-I[1],W=1/wa(Ca((B*$+V*U)/(xa(B*B+V*V)*xa($*$+U*U)))/2),H=xa(I[0]*I[0]+I[1]*I[1]);C=_a(E,(c-H)/(W-1)),A=_a(E,(f-H)/(W+1))}}O>Oa?A>Oa?(m=Ia(F,N,T,M,f,A,g),v=Ia(D,z,R,L,f,A,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),A<E?s.arc(m.cx,m.cy,A,va(m.y01,m.x01),va(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,A,va(m.y01,m.x01),va(m.y11,m.x11),!g),s.arc(0,0,f,va(m.cy+m.y11,m.cx+m.x11),va(v.cy+v.y11,v.cx+v.x11),!g),s.arc(v.cx,v.cy,A,va(v.y11,v.x11),va(v.y01,v.x01),!g))):(s.moveTo(T,M),s.arc(0,0,f,y,b,!g)):s.moveTo(T,M),c>Oa&&x>Oa?C>Oa?(m=Ia(R,L,D,z,c,-C,g),v=Ia(T,M,F,N,c,-C,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),C<E?s.arc(m.cx,m.cy,C,va(m.y01,m.x01),va(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,C,va(m.y01,m.x01),va(m.y11,m.x11),!g),s.arc(0,0,c,va(m.cy+m.y11,m.cx+m.x11),va(v.cy+v.y11,v.cx+v.x11),g),s.arc(v.cx,v.cy,C,va(v.y11,v.x11),va(v.y01,v.x01),!g))):s.arc(0,0,c,w,_,g):s.lineTo(R,L)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ka/2;return[ya(r)*n,wa(r)*n]},u.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:ga(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:ga(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:ga(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:ga(+e),u):r},u.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:ga(+e),u):i},u.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:ga(+e),u):o},u.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:ga(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u},za=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Na="rv-xy-plot__series rv-xy-plot__series--arc",Ba=["radius","angle"],Va=Fa({},Go.defaultProps,{center:{x:0,y:0},arcClassName:"",className:"",style:{},padAngle:0});function $a(e){var t=e.radius,n=e.angle,r=e.angle0,i=-1*n+Math.PI/2,o=-1*r+Math.PI/2;return Fa({},e,{x:t*Math.cos(i),y:t*Math.sin(i),angle:i,angle0:o})}var Ua=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n._getAllScaleProps(e);return n.state={scaleProps:r},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),za(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({scaleProps:this._getAllScaleProps(e)})}},{key:"_getAllScaleProps",value:function(e){var t=this._getDefaultScaleProps(e),n=Lo(e,Ba),r=Io(Fa({},t,n),e.data,Ba);return Fa({},t,n,r)}},{key:"_getDefaultScaleProps",value:function(e){var t=e.innerWidth,n=e.innerHeight,r=Math.min(t/2,n/2);return{radiusRange:[0,r],_radiusValue:r,angleType:"literal"}}},{key:"render",value:function(){var e=this,n=this.props,r=n.arcClassName,i=n.animation,o=n.className,a=n.center,s=n.data,u=n.disableSeries,l=n.hideSeries,c=n.marginLeft,f=n.marginTop,h=n.padAngle,d=n.style;if(!s)return null;if(i){var p=s.map((function(e){return Fa({},e)}));return G.a.createElement("g",{className:"rv-xy-plot__series--arc__animation-wrapper"},G.a.createElement(Ze,Fa({},this.props,{animatedProps:aa,data:p}),G.a.createElement(t,Fa({},this.props,{animation:null,disableSeries:!0,data:p}))),G.a.createElement(t,Fa({},this.props,{animation:null,hideSeries:!0,style:{stroke:"red"}})))}var g=this.state.scaleProps,m=g.radiusDomain,v=jo(g,"radius"),y=To(g,"radius"),b=jo(g,"angle"),_=To(g,"angle"),w=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),x=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),O=this._getAttributeFunctor("opacity"),k=this._getAttributeFunctor("x"),S=this._getAttributeFunctor("y");return G.a.createElement("g",{className:Na+" "+o,onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,opacity:l?0:1,pointerEvents:u?"none":"all",transform:"translate("+(c+k(a))+","+(f+S(a))+")"},s.map((function(t,n){var i={innerRadius:m[1]===m[0]?0:y(t),outerRadius:v(t),startAngle:_(t)||0,endAngle:b(t)},o=Da().padAngle(h),a=t.style||{},s=t.className||"";return G.a.createElement("path",{style:Fa({opacity:O&&O(t),stroke:x&&x(t),fill:w&&w(t)},d,a),onClick:function(n){return e._valueClickHandler($a(t),n)},onContextMenu:function(n){return e._valueRightClickHandler($a(t),n)},onMouseOver:function(n){return e._valueMouseOverHandler($a(t),n)},onMouseOut:function(n){return e._valueMouseOutHandler($a(t),n)},key:n,className:Na+"-path "+r+" "+s,d:o(i)})})))}}]),t}(Go);Ua.propTypes=Fa({},Go.propTypes,Ro("radius"),Ro("angle"),{center:o.a.shape({x:o.a.number,y:o.a.number}),arcClassName:o.a.string,padAngle:o.a.oneOfType([o.a.func,o.a.number])}),Ua.defaultProps=Va,Ua.displayName="ArcSeries";var Wa=Ua;function Ha(e){this._context=e}Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Ga=function(e){return new Ha(e)};function qa(e){return e[0]}function Xa(e){return e[1]}var Za=function(){var e=qa,t=Xa,n=ga(!0),r=null,i=Ga,o=null;function a(a){var s,u,l,c=a.length,f=!1;for(null==r&&(o=i(l=pa())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:ga(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:ga(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:ga(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a},Ka=function(){var e=qa,t=null,n=ga(0),r=Xa,i=ga(!0),o=null,a=Ga,s=null;function u(u){var l,c,f,h,d,p=u.length,g=!1,m=new Array(p),v=new Array(p);for(null==o&&(s=a(d=pa())),l=0;l<=p;++l){if(!(l<p&&i(h=u[l],l,u))===g)if(g=!g)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=l-1;f>=c;--f)s.point(m[f],v[f]);s.lineEnd(),s.areaEnd()}g&&(m[l]=+e(h,l,u),v[l]=+n(h,l,u),s.point(t?+t(h,l,u):m[l],r?+r(h,l,u):v[l]))}if(d)return s=null,d+""||null}function l(){return Za().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"===typeof n?n:ga(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:ga(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:ga(+e),u):t},u.y=function(e){return arguments.length?(n="function"===typeof e?e:ga(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"===typeof e?e:ga(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:ga(+e),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(n)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:ga(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u},Ya=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},Ja=function(e){return e},Qa=function(){var e=Ja,t=Ya,n=null,r=ga(0),i=ga(Ea),o=ga(0);function a(a){var s,u,l,c,f,h=a.length,d=0,p=new Array(h),g=new Array(h),m=+r.apply(this,arguments),v=Math.min(Ea,Math.max(-Ea,i.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/h,o.apply(this,arguments)),b=y*(v<0?-1:1);for(s=0;s<h;++s)(f=g[p[s]=s]=+e(a[s],s,a))>0&&(d+=f);for(null!=t?p.sort((function(e,n){return t(g[e],g[n])})):null!=n&&p.sort((function(e,t){return n(a[e],a[t])})),s=0,l=d?(v-h*b)/d:0;s<h;++s,m=c)u=p[s],c=m+((f=g[u])>0?f*l:0)+b,g[u]={data:a[u],index:s,value:f,startAngle:m,endAngle:c,padAngle:y};return g}return a.value=function(t){return arguments.length?(e="function"===typeof t?t:ga(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:ga(+e),a):r},a.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:ga(+e),a):i},a.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:ga(+e),a):o},a},es=ns(Ga);function ts(e){this._curve=e}function ns(e){function t(t){return new ts(e(t))}return t._curve=e,t}function rs(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(ns(e)):t()._curve},e}ts.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var is=function(){return rs(Za().curve(es))},os=function(){var e=Ka().curve(es),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return rs(n())},delete e.lineX0,e.lineEndAngle=function(){return rs(r())},delete e.lineX1,e.lineInnerRadius=function(){return rs(i())},delete e.lineY0,e.lineOuterRadius=function(){return rs(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(ns(e)):t()._curve},e},as=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},ss=Array.prototype.slice;function us(e){return e.source}function ls(e){return e.target}function cs(e){var t=us,n=ls,r=qa,i=Xa,o=null;function a(){var a,s=ss.call(arguments),u=t.apply(this,s),l=n.apply(this,s);if(o||(o=a=pa()),e(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"===typeof e?e:ga(+e),a):r},a.y=function(e){return arguments.length?(i="function"===typeof e?e:ga(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}function fs(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function hs(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function ds(e,t,n,r,i){var o=as(t,n),a=as(t,n=(n+i)/2),s=as(r,n),u=as(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function ps(){return cs(fs)}function gs(){return cs(hs)}function ms(){var e=cs(ds);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var vs={draw:function(e,t){var n=Math.sqrt(t/ka);e.moveTo(n,0),e.arc(0,0,n,0,Ea)}},ys={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},bs=Math.sqrt(1/3),_s=2*bs,ws={draw:function(e,t){var n=Math.sqrt(t/_s),r=n*bs;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xs=Math.sin(ka/10)/Math.sin(7*ka/10),Os=Math.sin(Ea/10)*xs,ks=-Math.cos(Ea/10)*xs,Ss={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=Os*n,i=ks*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=Ea*o/5,s=Math.cos(a),u=Math.sin(a);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},Es={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},Cs=Math.sqrt(3),As={draw:function(e,t){var n=-Math.sqrt(t/(3*Cs));e.moveTo(0,2*n),e.lineTo(-Cs*n,-n),e.lineTo(Cs*n,-n),e.closePath()}},Ps=-.5,js=Math.sqrt(3)/2,Ts=1/Math.sqrt(12),Ms=3*(Ts/2+1),Rs={draw:function(e,t){var n=Math.sqrt(t/Ms),r=n/2,i=n*Ts,o=r,a=n*Ts+n,s=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,u),e.lineTo(Ps*r-js*i,js*r+Ps*i),e.lineTo(Ps*o-js*a,js*o+Ps*a),e.lineTo(Ps*s-js*u,js*s+Ps*u),e.lineTo(Ps*r+js*i,Ps*i-js*r),e.lineTo(Ps*o+js*a,Ps*a-js*o),e.lineTo(Ps*s+js*u,Ps*u-js*s),e.closePath()}},Ls=[vs,ys,ws,Es,Ss,As,Rs],Is=function(){var e=ga(vs),t=ga(64),n=null;function r(){var r;if(n||(n=r=pa()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:ga(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:ga(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r},Ds=function(){};function zs(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Fs(e){this._context=e}Fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zs(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ns=function(e){return new Fs(e)};function Bs(e){this._context=e}Bs.prototype={areaStart:Ds,areaEnd:Ds,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zs(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Vs=function(e){return new Bs(e)};function $s(e){this._context=e}$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zs(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Us=function(e){return new $s(e)};function Ws(e,t){this._basis=new Fs(e),this._beta=t}Ws.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Hs=function e(t){function n(e){return 1===t?new Fs(e):new Ws(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Gs(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function qs(e,t){this._context=e,this._k=(1-t)/6}qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gs(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Gs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Xs=function e(t){function n(e){return new qs(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Zs(e,t){this._context=e,this._k=(1-t)/6}Zs.prototype={areaStart:Ds,areaEnd:Ds,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ks=function e(t){function n(e){return new Zs(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ys(e,t){this._context=e,this._k=(1-t)/6}Ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Js=function e(t){function n(e){return new Ys(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Qs(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Oa){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Oa){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function eu(e,t){this._context=e,this._alpha=t}eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Qs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tu=function e(t){function n(e){return t?new eu(e,t):new qs(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function nu(e,t){this._context=e,this._alpha=t}nu.prototype={areaStart:Ds,areaEnd:Ds,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Qs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ru=function e(t){function n(e){return t?new nu(e,t):new Zs(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function iu(e,t){this._context=e,this._alpha=t}iu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ou=function e(t){function n(e){return t?new iu(e,t):new Ys(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function au(e){this._context=e}au.prototype={areaStart:Ds,areaEnd:Ds,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var su=function(e){return new au(e)};function uu(e){return e<0?-1:1}function lu(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(uu(o)+uu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function cu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fu(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function hu(e){this._context=e}function du(e){this._context=new pu(e)}function pu(e){this._context=e}function gu(e){return new hu(e)}function mu(e){return new du(e)}function vu(e){this._context=e}function yu(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fu(this,this._t0,cu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fu(this,cu(this,n=lu(this,e,t)),n);break;default:fu(this,this._t0,n=lu(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(du.prototype=Object.create(hu.prototype)).point=function(e,t){hu.prototype.point.call(this,t,e)},pu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=yu(e),i=yu(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var bu=function(e){return new vu(e)};function _u(e,t){this._context=e,this._t=t}_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var wu=function(e){return new _u(e,.5)};function xu(e){return new _u(e,0)}function Ou(e){return new _u(e,1)}var ku=function(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},Su=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function Eu(e,t){return e[t]}var Cu=function(){var e=ga([]),t=Su,n=ku,r=Eu;function i(i){var o,a,s=e.apply(this,arguments),u=i.length,l=s.length,c=new Array(l);for(o=0;o<l;++o){for(var f,h=s[o],d=c[o]=new Array(u),p=0;p<u;++p)d[p]=f=[0,+r(i[p],h,p,i)],f.data=i[p];d.key=h}for(o=0,a=t(c);o<l;++o)c[a[o]].index=o;return n(c,a),c}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:ga(ss.call(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:ga(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Su:"function"===typeof e?e:ga(ss.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?ku:e,i):n},i},Au=function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}ku(e,t)}},Pu=function(e,t){if((s=e.length)>0)for(var n,r,i,o,a,s,u=0,l=e[t[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},ju=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ku(e,t)}},Tu=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=e[t[s]],f=c[a][1]||0,h=(f-(c[a-1][1]||0))/2,d=0;d<s;++d){var p=e[t[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,l+=h*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,ku(e,t)}},Mu=function(e){var t=e.map(Ru);return Su(e).sort((function(e,n){return t[e]-t[n]}))};function Ru(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}var Lu=function(e){var t=e.map(Iu);return Su(e).sort((function(e,n){return t[e]-t[n]}))};function Iu(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var Du=function(e){return Lu(e).reverse()},zu=function(e){var t,n,r=e.length,i=e.map(Iu),o=Mu(e),a=0,s=0,u=[],l=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},Fu=function(e){return Su(e).reverse()},Nu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Uu=function(e){function t(){return Vu(this,t),$u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Bu(t,[{key:"_renderArea",value:function(e,t,n,i,o,a){var s=Ka();return null!==o&&("string"===typeof o&&r[o]?s=s.curve(r[o]):"function"===typeof o&&(s=s.curve(o))),(s=(s=s.defined(a)).x(t).y0(n).y1(i))(e)}},{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className,i=e.curve,o=e.data,a=e.marginLeft,s=e.marginTop,u=e.style;if(this.props.nullAccessor&&Object(ao.b)("nullAccessor has been renamed to getNull",!0),!o)return null;if(n)return G.a.createElement(Ze,Nu({},this.props,{animatedProps:aa}),G.a.createElement(t,Nu({},this.props,{animation:null})));var l=this._getAttributeFunctor("x"),c=this._getAttributeFunctor("y"),f=this._getAttr0Functor("y"),h=this._getAttributeValue("stroke")||this._getAttributeValue("color"),d=this._getAttributeValue("fill")||this._getAttributeValue("color"),p=this._getAttributeValue("opacity"),g=Number.isFinite(p)?p:1,m=this.props.nullAccessor||this.props.getNull,v=this._renderArea(o,l,f,c,i,m);return G.a.createElement("path",{d:v,className:"rv-xy-plot__series rv-xy-plot__series--line "+r,transform:"translate("+a+","+s+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:Nu({opacity:g,stroke:h,fill:d},u)})}}]),t}(Go);Uu.displayName="AreaSeries",Uu.propTypes=Nu({},Go.propTypes,{getNull:o.a.func}),Uu.defaultProps=Nu({},Go.defaultProps,{getNull:function(){return!0}});var Wu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu={style:o.a.shape({bottom:o.a.object,left:o.a.object,right:o.a.object,top:o.a.object}),marginTop:o.a.number,marginBottom:o.a.number,marginLeft:o.a.number,marginRight:o.a.number,innerWidth:o.a.number,innerHeight:o.a.number},Gu="rv-xy-plot__borders-bottom",qu="rv-xy-plot__borders",Xu="rv-xy-plot__borders-left",Zu="rv-xy-plot__borders-right",Ku="rv-xy-plot__borders-top";function Yu(e){var t=e.marginTop,n=e.marginBottom,r=e.marginLeft,i=e.marginRight,o=e.innerWidth,a=e.innerHeight,s=e.style,u=e.className,l=a+t+n,c=o+r+i;return G.a.createElement("g",{className:qu+" "+u},G.a.createElement("rect",{className:Gu+" "+u+"-bottom",style:Wu({},s.all,s.bottom),x:0,y:l-n,width:c,height:n}),G.a.createElement("rect",{className:Xu+" "+u+"-left",style:Wu({},s.all,s.left),x:0,y:0,width:r,height:l}),G.a.createElement("rect",{className:Zu+" "+u+"-right",style:Wu({},s.all,s.right),x:c-i,y:0,width:i,height:l}),G.a.createElement("rect",{className:Ku+" "+u+"-top",style:Wu({},s.all,s.top),x:0,y:0,width:c,height:t}))}Yu.displayName="Borders",Yu.defaultProps={className:"",style:{all:{},bottom:{},left:{},right:{},top:{}}},Yu.propTypes=Hu,Yu.requiresSVG=!0;var Ju=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function el(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var tl=function(e){function t(){return Qu(this,t),el(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ju(t,[{key:"render",value:function(){var e=this.props,t=e.innerHeight,n=e.innerWidth,r=e.marginBottom,i=e.marginLeft,o=e.marginRight,a=e.marginTop,s=e.className,u=e.includeMargin,l=e.style,c=e.text,f=(n+(u?i+o:0))*e.xPercent+(u?0:i),h=(t+(u?a+r:0))*e.yPercent+(u?i:0);return G.a.createElement("g",{transform:"translate("+f+", "+h+")",className:"rv-xy-plot__axis__title "+s},G.a.createElement("text",l,c))}}],[{key:"requiresSVG",get:function(){return!0}}]),t}(G.a.PureComponent);tl.displayName="ChartLabel",tl.propTypes={className:o.a.string,includeMargin:o.a.bool,style:o.a.object,text:o.a.string.isRequired,xPercent:o.a.number.isRequired,yPercent:o.a.number.isRequired},tl.defaultProps={className:"",includeMargin:!0,text:"",xPercent:0,yPercent:0,style:{}};var nl={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",VERTICAL:"vertical",HORIZONTAL:"horizontal"},rl={VERTICAL:"vertical",HORIZONTAL:"horizontal"};function il(e){return e<700?e>300?10:5:20}function ol(e,t,n){return n||(e.ticks?e.ticks(t):e.domain())}var al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ll(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var cl=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"],fl=function(e){function t(){return ul(this,t),ll(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),sl(t,[{key:"_getDefaultProps",value:function(){var e=this.props,t=e.innerWidth,n=e.innerHeight,r=e.marginTop;return{left:e.marginLeft,top:r,width:t,height:n,style:{},tickTotal:il(Math.min(t,n))}}},{key:"render",value:function(){var e=this.props,n=e.animation,r=e.centerX,i=e.centerY;if(n)return G.a.createElement(Ze,al({},this.props,{animatedProps:cl}),G.a.createElement(t,al({},this.props,{animation:null})));var o=al({},this._getDefaultProps(),this.props),a=o.tickTotal,s=o.tickValues,u=o.marginLeft,l=o.marginTop,c=o.rRange,f=o.style,h=Co(o,"x"),d=Co(o,"y"),p=ol(h,a,s);return G.a.createElement("g",{transform:"translate("+(h(r)+u)+","+(d(i)+l)+")",className:"rv-xy-plot__circular-grid-lines"},p.reduce((function(e,t,n){var r=h(t);return c&&(r<c[0]||r>c[1])?e:e.concat([G.a.createElement("circle",al({cx:0,cy:0,r:r},{key:n,className:"rv-xy-plot__circular-grid-lines__line",style:f}))])}),[]))}}]),t}(H.PureComponent);fl.displayName="CircularGridLines",fl.propTypes={centerX:o.a.number,centerY:o.a.number,width:o.a.number,height:o.a.number,top:o.a.number,left:o.a.number,rRange:o.a.arrayOf(o.a.number),style:o.a.object,tickValues:o.a.arrayOf(o.a.number),tickTotal:o.a.number,animation:Ke,marginTop:o.a.number,marginBottom:o.a.number,marginLeft:o.a.number,marginRight:o.a.number,innerWidth:o.a.number,innerHeight:o.a.number},fl.defaultProps={centerX:0,centerY:0},fl.requiresSVG=!0;var hl=Array.prototype.slice,dl=function(e,t){return e-t},pl=function(e){return function(){return e}},gl=function(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=ml(e,t[r]))return n;return 0};function ml(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var u=e[o],l=u[0],c=u[1],f=e[s],h=f[0],d=f[1];if(vl(u,f,t))return 0;c>r!==d>r&&n<(h-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function vl(e,t,n){var r,i,o,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],a=t[r],i<=o&&o<=a||a<=o&&o<=i)}var yl=function(){},bl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],_l=function(){var e=1,t=1,n=ft,r=s;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(dl);else{var r=nt(e),i=r[0],a=r[1];t=ct(i,a,t),t=it(Math.floor(i/t)*t,Math.floor(a/t)*t,t)}return t.map((function(t){return o(e,t)}))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,u,l,c,f,h=new Array,d=new Array;o=s=-1,l=n[0]>=r,bl[l<<1].forEach(p);for(;++o<e-1;)u=l,l=n[o+1]>=r,bl[u|l<<1].forEach(p);bl[l<<0].forEach(p);for(;++s<t-1;){for(o=-1,l=n[s*e+e]>=r,c=n[s*e]>=r,bl[l<<1|c<<2].forEach(p);++o<e-1;)u=l,l=n[s*e+e+o+1]>=r,f=c,c=n[s*e+o+1]>=r,bl[u|l<<1|c<<2|f<<3].forEach(p);bl[l|c<<3].forEach(p)}o=-1,c=n[s*e]>=r,bl[c<<2].forEach(p);for(;++o<e-1;)f=c,c=n[s*e+o+1]>=r,bl[c<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+s],u=[e[1][0]+o,e[1][1]+s],l=a(r),c=a(u);(t=d[l])?(n=h[c])?(delete d[t.end],delete h[n.start],t===n?(t.ring.push(u),i(t.ring)):h[t.start]=d[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete d[t.end],t.ring.push(u),d[t.end=c]=t):(t=h[c])?(n=d[l])?(delete h[t.start],delete d[n.end],t===n?(t.ring.push(u),i(t.ring)):h[n.start]=d[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=l]=t):h[l]=d[c]={start:l,end:c,ring:[r,u]}}bl[c<<3].forEach(p)}(n,i,(function(e){r(e,n,i),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==gl((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(t){return 2*t[0]+t[1]*(e+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],u=0|a,l=0|s,c=r[l*e+u];a>0&&a<e&&u===a&&(o=r[l*e+u-1],n[0]=a+(i-o)/(c-o)-.5),s>0&&s<t&&l===s&&(o=r[(l-1)*e+u],n[1]=s+(i-o)/(c-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0)||!(o>0))throw new Error("invalid size");return e=r,t=o,i},i.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?pl(hl.call(e)):pl(e),i):n},i.smooth=function(e){return arguments.length?(r=e?s:yl,i):r===s},i};function wl(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=e.data[s+a*r]),s>=n&&(s>=o&&(u-=e.data[s-o+a*r]),t.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function xl(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=e.data[a+s*r]),s>=n&&(s>=o&&(u-=e.data[a+(s-o)*r]),t.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function Ol(e){return e[0]}function kl(e){return e[1]}function Sl(){return 1}var El=function(e){return e};function Cl(e,t){e&&Pl.hasOwnProperty(e.type)&&Pl[e.type](e,t)}var Al={Feature:function(e,t){Cl(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Cl(n[r].geometry,t)}},Pl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){jl(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)jl(n[r],t,0)},Polygon:function(e,t){Tl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Tl(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Cl(n[r],t)}};function jl(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Tl(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)jl(e[n],t,1);t.polygonEnd()}var Ml=function(e,t){e&&Al.hasOwnProperty(e.type)?Al[e.type](e,t):Cl(e,t)},Rl=function(){return new Ll};function Ll(){this.reset()}Ll.prototype={constructor:Ll,reset:function(){this.s=this.t=0},add:function(e){Dl(Il,e,this.t),Dl(this,Il.s,this.s),this.s?this.t+=Il.t:this.s=Il.t},valueOf:function(){return this.s}};var Il=new Ll;function Dl(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var zl=Math.PI,Fl=2*zl,Nl=Math.abs,Bl=(Math.atan,Math.atan2,Math.cos,Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin,Math.sign,Math.sqrt);Math.tan;function Vl(){}var $l,Ul,Wl,Hl,Gl=Rl(),ql=Rl(),Xl={point:Vl,lineStart:Vl,lineEnd:Vl,polygonStart:function(){Xl.lineStart=Zl,Xl.lineEnd=Jl},polygonEnd:function(){Xl.lineStart=Xl.lineEnd=Xl.point=Vl,Gl.add(Nl(ql)),ql.reset()},result:function(){var e=Gl/2;return Gl.reset(),e}};function Zl(){Xl.point=Kl}function Kl(e,t){Xl.point=Yl,$l=Wl=e,Ul=Hl=t}function Yl(e,t){ql.add(Hl*e-Wl*t),Wl=e,Hl=t}function Jl(){Yl($l,Ul)}var Ql=Xl,ec=1/0,tc=ec,nc=-ec,rc=nc;var ic,oc,ac,sc,uc={point:function(e,t){e<ec&&(ec=e);e>nc&&(nc=e);t<tc&&(tc=t);t>rc&&(rc=t)},lineStart:Vl,lineEnd:Vl,polygonStart:Vl,polygonEnd:Vl,result:function(){var e=[[ec,tc],[nc,rc]];return nc=rc=-(tc=ec=1/0),e}},lc=0,cc=0,fc=0,hc=0,dc=0,pc=0,gc=0,mc=0,vc=0,yc={point:bc,lineStart:_c,lineEnd:Oc,polygonStart:function(){yc.lineStart=kc,yc.lineEnd=Sc},polygonEnd:function(){yc.point=bc,yc.lineStart=_c,yc.lineEnd=Oc},result:function(){var e=vc?[gc/vc,mc/vc]:pc?[hc/pc,dc/pc]:fc?[lc/fc,cc/fc]:[NaN,NaN];return lc=cc=fc=hc=dc=pc=gc=mc=vc=0,e}};function bc(e,t){lc+=e,cc+=t,++fc}function _c(){yc.point=wc}function wc(e,t){yc.point=xc,bc(ac=e,sc=t)}function xc(e,t){var n=e-ac,r=t-sc,i=Bl(n*n+r*r);hc+=i*(ac+e)/2,dc+=i*(sc+t)/2,pc+=i,bc(ac=e,sc=t)}function Oc(){yc.point=bc}function kc(){yc.point=Ec}function Sc(){Cc(ic,oc)}function Ec(e,t){yc.point=Cc,bc(ic=ac=e,oc=sc=t)}function Cc(e,t){var n=e-ac,r=t-sc,i=Bl(n*n+r*r);hc+=i*(ac+e)/2,dc+=i*(sc+t)/2,pc+=i,gc+=(i=sc*e-ac*t)*(ac+e),mc+=i*(sc+t),vc+=3*i,bc(ac=e,sc=t)}var Ac=yc;function Pc(e){this._context=e}Pc.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Fl)}},result:Vl};var jc,Tc,Mc,Rc,Lc,Ic=Rl(),Dc={point:Vl,lineStart:function(){Dc.point=zc},lineEnd:function(){jc&&Fc(Tc,Mc),Dc.point=Vl},polygonStart:function(){jc=!0},polygonEnd:function(){jc=null},result:function(){var e=+Ic;return Ic.reset(),e}};function zc(e,t){Dc.point=Fc,Tc=Rc=e,Mc=Lc=t}function Fc(e,t){Rc-=e,Lc-=t,Ic.add(Bl(Rc*Rc+Lc*Lc)),Rc=e,Lc=t}var Nc=Dc;function Bc(){this._string=[]}function Vc(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Bc.prototype={_radius:4.5,_circle:Vc(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Vc(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var $c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Wc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Gc=function(e){function t(){return Wc(this,t),Hc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Uc(t,[{key:"render",value:function(){var e=this.props,n=e.animation,r=e.bandwidth,i=e.className,o=e.colorRange,a=e.data,s=e.innerHeight,u=e.innerWidth,l=e.marginLeft,c=e.marginTop,f=e.style;if(!a||!u||!s)return null;if(n)return G.a.createElement(Ze,$c({},this.props,{animatedProps:aa}),G.a.createElement(t,$c({},this.props,{animation:null})));var h=this._getAttributeFunctor("x"),d=this._getAttributeFunctor("y"),p=function(){var e=Ol,t=kl,n=Sl,r=960,i=500,o=20,a=2,s=3*o,u=r+2*s>>a,l=i+2*s>>a,c=pl(20);function f(r){var i=new Float32Array(u*l),f=new Float32Array(u*l);r.forEach((function(r,o,c){var f=+e(r,o,c)+s>>a,h=+t(r,o,c)+s>>a,d=+n(r,o,c);f>=0&&f<u&&h>=0&&h<l&&(i[f+h*u]+=d)})),wl({width:u,height:l,data:i},{width:u,height:l,data:f},o>>a),xl({width:u,height:l,data:f},{width:u,height:l,data:i},o>>a),wl({width:u,height:l,data:i},{width:u,height:l,data:f},o>>a),xl({width:u,height:l,data:f},{width:u,height:l,data:i},o>>a),wl({width:u,height:l,data:i},{width:u,height:l,data:f},o>>a),xl({width:u,height:l,data:f},{width:u,height:l,data:i},o>>a);var d=c(i);if(!Array.isArray(d)){var p=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r}(i);d=ct(0,p,d),(d=it(0,Math.floor(p/d)*d,d)).shift()}return _l().thresholds(d).size([u,l])(i).map(h)}function h(e){return e.value*=Math.pow(2,-2*a),e.coordinates.forEach(d),e}function d(e){e.forEach(p)}function p(e){e.forEach(g)}function g(e){e[0]=e[0]*Math.pow(2,a)-s,e[1]=e[1]*Math.pow(2,a)-s}function m(){return u=r+2*(s=3*o)>>a,l=i+2*s>>a,f}return f.x=function(t){return arguments.length?(e="function"===typeof t?t:pl(+t),f):e},f.y=function(e){return arguments.length?(t="function"===typeof e?e:pl(+e),f):t},f.weight=function(e){return arguments.length?(n="function"===typeof e?e:pl(+e),f):n},f.size=function(e){if(!arguments.length)return[r,i];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0)&&!(t>=0))throw new Error("invalid size");return r=t,i=n,m()},f.cellSize=function(e){if(!arguments.length)return 1<<a;if(!((e=+e)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(e)/Math.LN2),m()},f.thresholds=function(e){return arguments.length?(c="function"===typeof e?e:Array.isArray(e)?pl(hl.call(e)):pl(e),f):c},f.bandwidth=function(e){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*e*e+1)-1)/2),m()},f}().x((function(e){return h(e)})).y((function(e){return d(e)})).size([u,s]).bandwidth(r)(a),g=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Ml(e,n(r))),r.result()}return o.area=function(e){return Ml(e,n(Ql)),Ql.result()},o.measure=function(e){return Ml(e,n(Nc)),Nc.result()},o.bounds=function(e){return Ml(e,n(uc)),uc.result()},o.centroid=function(e){return Ml(e,n(Ac)),Ac.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,El):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new Bc):new Pc(t=e),"function"!==typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)}(),m=function(e){return e.reduce((function(e,t){return{min:Math.min(e.min,t.value),max:Math.max(e.max,t.value)}}),{min:1/0,max:-1/0})}(p),v=m.min,y=m.max,b=an().domain([v,y]).range(o||Zo);return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--contour "+i,transform:"translate("+l+","+c+")"},p.map((function(e,t){return G.a.createElement("path",{className:"rv-xy-plot__series--contour-line",key:"rv-xy-plot__series--contour-line-"+t,d:g(e),style:$c({fill:b(e.value)},f)})})))}}]),t}(Go);Gc.propTypes=$c({},Go.propTypes,{animation:o.a.bool,bandwidth:o.a.number,className:o.a.string,marginLeft:o.a.number,marginTop:o.a.number,style:o.a.object}),Gc.defaultProps=$c({},Go.defaultProps,{bandwidth:40,style:{}});var qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Zc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Yc(e){var t=Qc(e);if(t)return{title:"x",value:so(t.x)}}function Jc(e){return e.map((function(e,t){if(e)return{value:e.y,title:t}}))}function Qc(e){return(e||[]).find((function(e){return Boolean(e)}))}var ef=function(e){function t(){return Zc(this,t),Kc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xc(t,[{key:"_renderCrosshairItems",value:function(){var e=this.props,t=e.values,n=(0,e.itemsFormat)(t);return n?n.filter((function(e){return e})).map((function(e,t){return G.a.createElement("div",{className:"rv-crosshair__item",key:"item"+t},G.a.createElement("span",{className:"rv-crosshair__item__title"},e.title),": ",G.a.createElement("span",{className:"rv-crosshair__item__value"},e.value))})):null}},{key:"_renderCrosshairTitle",value:function(){var e=this.props,t=e.values,n=e.titleFormat,r=e.style,i=n(t);return i?G.a.createElement("div",{className:"rv-crosshair__title",key:"title",style:r.title},G.a.createElement("span",{className:"rv-crosshair__title__title"},i.title),": ",G.a.createElement("span",{className:"rv-crosshair__title__value"},i.value)):null}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.values,i=e.marginTop,o=e.marginLeft,a=e.innerWidth,s=e.innerHeight,u=e.style,l=Qc(r);if(!l)return null;var c=jo(this.props,"x")(l),f=this.props.orientation,h=o+c,d=i,p="rv-crosshair__inner rv-crosshair__inner--"+(void 0===f?c>a/2?"left":"right":f);return G.a.createElement("div",{className:"rv-crosshair "+n,style:{left:h+"px",top:d+"px"}},G.a.createElement("div",{className:"rv-crosshair__line",style:qc({height:s+"px"},u.line)}),G.a.createElement("div",{className:p},t||G.a.createElement("div",{className:"rv-crosshair__inner__content",style:u.box},G.a.createElement("div",null,this._renderCrosshairTitle(),this._renderCrosshairItems()))))}}],[{key:"defaultProps",get:function(){return{titleFormat:Yc,itemsFormat:Jc,style:{line:{},title:{},box:{}}}}},{key:"propTypes",get:function(){return{className:o.a.string,values:o.a.arrayOf(o.a.oneOfType([o.a.number,o.a.string,o.a.object])),series:o.a.object,innerWidth:o.a.number,innerHeight:o.a.number,marginLeft:o.a.number,marginTop:o.a.number,orientation:o.a.oneOf(["left","right"]),itemsFormat:o.a.func,titleFormat:o.a.func,style:o.a.shape({line:o.a.object,title:o.a.object,box:o.a.object})}}}]),t}(H.PureComponent);ef.displayName="Crosshair";var tf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function rf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function of(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function af(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var sf={stroke:"blue",fill:"blue"};function uf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sf;switch(e){case"diamond":return G.a.createElement("polygon",{style:n,points:"0 0 "+t/2+" "+t/2+" 0 "+t+" "+-t/2+" "+t/2+" 0 0"});case"star":var r=[].concat(af(new Array(5))).map((function(e,n){var r=n/5*Math.PI*2,i=r+Math.PI/10,o=r-Math.PI/10,a=t/2.61;return"\n        "+Math.cos(o)*t+" "+Math.sin(o)*t+"\n        "+Math.cos(i)*a+" "+Math.sin(i)*a+"\n      "})).join(" ");return G.a.createElement("polygon",{points:r,x:"0",y:"0",height:t,width:t,style:n});case"square":return G.a.createElement("rect",{x:""+-t/2,y:""+-t/2,height:t,width:t,style:n});default:case"circle":return G.a.createElement("circle",{cx:"0",cy:"0",r:t/2,style:n})}}var lf=function(e){function t(){return rf(this,t),of(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tf(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.customComponent,a=n.data,s=n.innerHeight,u=n.innerWidth,l=n.marginLeft,c=n.marginTop,f=n.style,h=n.size;if(!a||!u||!s)return null;if(r)return G.a.createElement(Ze,nf({},this.props,{animatedProps:aa}),G.a.createElement(t,nf({},this.props,{animation:!1})));var d=this._getAttributeFunctor("x"),p=this._getAttributeFunctor("y"),g=a.map((function(t,n){var r={x:d(t),y:p(t)},i=function(e){var t=e.customComponent,n=e.defaultType,r=e.positionInPixels,i=(e.positionFunctions,e.style),o=e.propsSize,a=t.size,s=nf({},i,t.style||{}),u=t.customComponent;return u||"string"!==typeof n?u?"string"===typeof u?uf(u||n,a,s):u(t,r,s):n(t,r,s):uf(n,a||o,s)}({customComponent:t,positionInPixels:r,defaultType:o,positionFunctions:{x:d,y:p},style:f,propsSize:h});return G.a.createElement("g",{className:"rv-xy-plot__series--custom-svg",key:"rv-xy-plot__series--custom-svg-"+n,transform:"translate("+r.x+","+r.y+")",onMouseEnter:function(n){return e._valueMouseOverHandler(t,n)},onMouseLeave:function(n){return e._valueMouseOutHandler(t,n)}},i)}));return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--custom-svg-wrapper "+i,transform:"translate("+l+","+c+")"},g)}}]),t}(Go);lf.propTypes={animation:o.a.bool,className:o.a.string,customComponent:o.a.oneOfType([o.a.string,o.a.func]),data:o.a.arrayOf(o.a.shape({x:o.a.oneOfType([o.a.string,o.a.number]).isRequired,y:o.a.oneOfType([o.a.string,o.a.number]).isRequired})).isRequired,marginLeft:o.a.number,marginTop:o.a.number,style:o.a.object,size:o.a.number,onValueMouseOver:o.a.func,onValueMouseOut:o.a.func},lf.defaultProps=nf({},Go.defaultProps,{animation:!1,customComponent:"circle",style:{},size:2});var cf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ff(e){var t=e.axisDomain,n=e.numberOfTicks,r=e.axisStart,i=e.axisEnd,o=e.tickValue,a=e.tickSize,s=e.style,u=function(e){var t=e.axisStart,n=e.axisEnd,r=e.numberOfTicks,i=e.axisDomain,o=function(e,t){if(e.x===t.x)return{left:e.y,right:t.y,slope:0,offset:e.x};var n=(e.y-t.y)/(e.x-t.x);return{left:e.x,right:t.x,slope:n,offset:e.y-n*e.x}}(t,n),a=o.left,s=o.right,u=o.slope,l=o.offset,c=(s-a)/r,f=an().domain([a,s]).range(i),h=t.x===n.x;return{slope:h?1/0:u,points:it(a,s+c,c).map((function(e){return h?{y:e,x:u*e+l,text:f(e)}:{x:e,y:u*e+l,text:f(e)}})).slice(0,r+1)}}({axisStart:r,axisEnd:i,numberOfTicks:n,axisDomain:t}).points,l=function(e,t){return e.x===t.x?t.y>e.y?Math.PI/2:3*Math.PI/2:Math.atan((t.y-e.y)/(t.x-e.x))}(r,i)+Math.PI/2;return u.map((function(e,t){var n=cf({x1:0,y1:0,x2:a*Math.cos(l),y2:a*Math.sin(l)},s.ticks),r=cf({x:a*Math.cos(l),y:a*Math.sin(l),textAnchor:"start"},s.text);return G.a.createElement("g",{key:t,transform:"translate("+e.x+", "+e.y+")",className:"rv-xy-plot__axis__tick"},G.a.createElement("line",cf({},n,{className:"rv-xy-plot__axis__tick__line"})),G.a.createElement("text",cf({},r,{className:"rv-xy-plot__axis__tick__text"}),o(e.text)))}))}var hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},df=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function pf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var mf=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"],vf=function(e){function t(){return pf(this,t),gf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),df(t,[{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className,i=e.marginLeft,o=e.marginTop,a=e.axisStart,s=e.axisEnd,u=e.axisDomain,l=e.numberOfTicks,c=e.tickValue,f=e.tickSize,h=e.style;if(n)return G.a.createElement(Ze,hf({},this.props,{animatedProps:mf}),G.a.createElement(t,hf({},this.props,{animation:null})));var d=this._getAttributeFunctor("x"),p=this._getAttributeFunctor("y");return G.a.createElement("g",{className:"rv-xy-manipulable-axis rv-xy-plot__axis "+r,transform:"translate("+i+","+o+")"},G.a.createElement("line",hf({},hf({x1:d({x:a.x}),x2:d({x:s.x}),y1:p({y:a.y}),y2:p({y:s.y})},h.line),{className:"rv-xy-plot__axis__line"})),G.a.createElement("g",{className:"rv-xy-manipulable-axis__ticks"},ff({axisDomain:u,axisEnd:{x:d(s),y:p(s)},axisStart:{x:d(a),y:p(a)},numberOfTicks:l,tickValue:c,tickSize:f,style:h})))}}]),t}(Go),yf=Zt(".2r");vf.defaultProps={className:"",numberOfTicks:10,tickValue:function(e){return yf(e)},tickSize:5,style:{line:{strokeWidth:1},ticks:{strokeWidth:2},text:{}}},vf.propTypes=hf({},Go.propTypes,{axisDomain:o.a.arrayOf(o.a.number).isRequired,axisEnd:o.a.shape({x:o.a.oneOfType([o.a.number,o.a.string]),y:o.a.oneOfType([o.a.number,o.a.string])}).isRequired,axisStart:o.a.shape({x:o.a.oneOfType([o.a.number,o.a.string]),y:o.a.oneOfType([o.a.number,o.a.string])}).isRequired,className:o.a.string,numberOfTicks:o.a.number,tickValue:o.a.func,tickSize:o.a.number,style:o.a.shape({line:o.a.object,ticks:o.a.object,text:o.a.object})}),vf.displayName="DecorativeAxis";var bf=vf;function _f(e){var t=e.className;return G.a.createElement("defs",{className:"rv-gradient-defs "+t},e.children)}_f.displayName="GradientDefs",_f.requiresSVG=!0,_f.propTypes={className:o.a.string},_f.defaultProps={className:""};var wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Ef=rl.VERTICAL,Cf=rl.HORIZONTAL,Af={direction:o.a.oneOf([Ef,Cf]),attr:o.a.string.isRequired,width:o.a.number,height:o.a.number,top:o.a.number,left:o.a.number,style:o.a.object,tickValues:o.a.arrayOf(o.a.oneOfType([o.a.number,o.a.string])),tickTotal:o.a.number,animation:Ke,marginTop:o.a.number,marginBottom:o.a.number,marginLeft:o.a.number,marginRight:o.a.number,innerWidth:o.a.number,innerHeight:o.a.number},Pf={direction:Ef},jf=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"],Tf=function(e){function t(){return kf(this,t),Sf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xf(t,[{key:"_getDefaultProps",value:function(){var e=this.props,t=e.innerWidth,n=e.innerHeight,r=e.marginTop;return{left:e.marginLeft,top:r,width:t,height:n,tickTotal:il(e.direction===Ef?t:n)}}},{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className;if(n)return G.a.createElement(Ze,wf({},this.props,{animatedProps:jf}),G.a.createElement(t,wf({},this.props,{animation:null})));var i=wf({},this._getDefaultProps(),this.props),o=i.attr,a=i.direction,s=i.width,u=i.height,l=i.style,c=i.tickTotal,f=i.tickValues,h=i.top,d=i.left,p=a===Ef,g=p?"y":"x",m=p?"x":"y",v=p?u:s,y=Co(i,o),b=ol(y,c,f);return G.a.createElement("g",{transform:"translate("+d+","+h+")",className:"rv-xy-plot__grid-lines "+r},b.map((function(e,t){var n,r=y(e),i=(Of(n={},m+"1",r),Of(n,m+"2",r),Of(n,g+"1",0),Of(n,g+"2",v),n);return G.a.createElement("line",wf({},i,{key:t,className:"rv-xy-plot__grid-lines__line",style:l}))})))}}]),t}(H.PureComponent);Tf.displayName="GridLines",Tf.defaultProps=Pf,Tf.propTypes=Af,Tf.requiresSVG=!0;var Mf=Tf,Rf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function If(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Df(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var zf=function(e){function t(){return If(this,t),Df(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Lf(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.marginLeft,s=n.marginTop,u=n.style;if(!o)return null;if(r)return G.a.createElement(Ze,Rf({},this.props,{animatedProps:aa}),G.a.createElement(t,Rf({},this.props,{animation:null})));var l=Rf({rectStyle:{}},u).rectStyle,c=this._getAttributeFunctor("x"),f=this._getAttributeFunctor("y"),h=this._getAttributeFunctor("opacity"),d=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),p=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),g=this._getScaleDistance("x"),m=this._getScaleDistance("y");return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--heatmap "+i,transform:"translate("+a+","+s+")"},o.map((function(t,n){var r=Rf({style:Rf({stroke:p&&p(t),fill:d&&d(t),opacity:h&&h(t)},u)},l,{x:c(t)-g/2,y:f(t)-m/2,width:g,height:m,key:n,onClick:function(n){return e._valueClickHandler(t,n)},onContextMenu:function(n){return e._valueRightClickHandler(t,n)},onMouseOver:function(n){return e._valueMouseOverHandler(t,n)},onMouseOut:function(n){return e._valueMouseOutHandler(t,n)}});return G.a.createElement("rect",r)})))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"x"===e||"y"===e}}}]),t}(Go);zf.propTypes=Rf({},Go.propTypes),zf.displayName="HeatmapSeries";var Ff=Math.PI/3,Nf=[0,Ff,2*Ff,3*Ff,4*Ff,5*Ff];function Bf(e){return e[0]}function Vf(e){return e[1]}var $f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Gf(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var qf=function(e){function t(){return Wf(this,t),Hf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Uf(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.colorRange,a=n.data,s=n.innerHeight,u=n.innerWidth,l=n.marginLeft,c=n.marginTop,f=n.radius,h=n.sizeHexagonsWithCount,d=n.style,p=n.xOffset,g=n.yOffset;if(!a)return null;if(r)return G.a.createElement(Ze,$f({},this.props,{animatedProps:aa}),G.a.createElement(t,$f({},this.props,{animation:null})));var m=this._getAttributeFunctor("x"),v=this._getAttributeFunctor("y"),y=function(){var e,t,n,r=0,i=0,o=1,a=1,s=Bf,u=Vf;function l(e){var r,i={},o=[],a=e.length;for(r=0;r<a;++r)if(!isNaN(c=+s.call(null,l=e[r],r,e))&&!isNaN(f=+u.call(null,l,r,e))){var l,c,f,h=Math.round(f/=n),d=Math.round(c=c/t-(1&h)/2),p=f-h;if(3*Math.abs(p)>1){var g=c-d,m=d+(c<d?-1:1)/2,v=h+(f<h?-1:1),y=c-m,b=f-v;g*g+p*p>y*y+b*b&&(d=m+(1&h?1:-1)/2,h=v)}var _=d+"-"+h,w=i[_];w?w.push(l):(o.push(w=i[_]=[l]),w.x=(d+(1&h)/2)*t,w.y=h*n)}return o}function c(e){var t=0,n=0;return Nf.map((function(r){var i=Math.sin(r)*e,o=-Math.cos(r)*e,a=i-t,s=o-n;return t=i,n=o,[a,s]}))}return l.hexagon=function(t){return"m"+c(null==t?e:+t).join("l")+"z"},l.centers=function(){for(var s=[],u=Math.round(i/n),l=Math.round(r/t),c=u*n;c<a+e;c+=n,++u)for(var f=l*t+(1&u)*t/2;f<o+t/2;f+=t)s.push([f,c]);return s},l.mesh=function(){var t=c(e).slice(0,4).join("l");return l.centers().map((function(e){return"M"+e+"m"+t})).join("")},l.x=function(e){return arguments.length?(s=e,l):s},l.y=function(e){return arguments.length?(u=e,l):u},l.radius=function(r){return arguments.length?(t=2*(e=+r)*Math.sin(Ff),n=1.5*e,l):e},l.size=function(e){return arguments.length?(r=i=0,o=+e[0],a=+e[1],l):[o-r,a-i]},l.extent=function(e){return arguments.length?(r=+e[0][0],i=+e[0][1],o=+e[1][0],a=+e[1][1],l):[[r,i],[o,a]]},l.radius(1)}().x((function(e){return m(e)+p})).y((function(e){return v(e)+g})).radius(f).size([u,s]),b=y.hexagon(),_=y(a),w=function(e,t){return e.countDomain||[0,Math.max.apply(Math,Gf(t.map((function(e){return e.length}))))]}(this.props,_),x=an().domain(w).range(o),O=an().domain(w).range([0,f]);return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--hexbin "+i,transform:"translate("+l+","+c+")"},_.map((function(t,n){var r={style:d,d:h?y.hexagon(O(t.length)):b,fill:x(t.length),transform:"translate("+t.x+", "+t.y+")",key:n,onClick:function(n){return e._valueClickHandler(t,n)},onContextMenu:function(n){return e._valueRightClickHandler(t,n)},onMouseOver:function(n){return e._valueMouseOverHandler(t,n)},onMouseOut:function(n){return e._valueMouseOutHandler(t,n)}};return G.a.createElement("path",r)})))}}]),t}(Go);qf.propTypes=$f({},Go.propTypes,{radius:o.a.number}),qf.defaultProps={radius:20,colorRange:Zo,xOffset:0,yOffset:0},qf.displayName="HexbinSeries";var Xf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Kf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Jf(e){return{xLoc:"touchstart"===e.type?e.pageX:e.offsetX,yLoc:"touchstart"===e.type?e.pageY:e.offsetY}}var Qf=function(e){function t(){var e,n,r;Kf(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Yf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={dragging:!1,brushArea:{top:0,right:0,bottom:0,left:0},brushing:!1,startLocX:0,startLocY:0,dragArea:null},Yf(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Zf(t,[{key:"_getDrawArea",value:function(e,t){var n=this.state,r=n.startLocX,i=n.startLocY,o=this.props,a=o.enableX,s=o.enableY,u=o.highlightWidth,l=o.highlightHeight,c=o.innerWidth,f=o.innerHeight,h=o.marginLeft,d=o.marginRight,p=o.marginBottom,g=o.marginTop,m=u||c+h+d,v=l||f+g+p;return{bottom:s?Math.max(i,t):v,right:a?Math.max(r,e):m,left:a?Math.min(e,r):0,top:s?Math.min(t,i):0}}},{key:"_getDragArea",value:function(e,t){var n=this.props,r=n.enableX,i=n.enableY,o=this.state,a=o.startLocX,s=o.startLocY,u=o.dragArea;return{bottom:u.bottom+(i?t-s:0),left:u.left+(r?e-a:0),right:u.right+(r?e-a:0),top:u.top+(i?t-s:0)}}},{key:"_clickedOutsideDrag",value:function(e,t){var n=this.props,r=n.enableX,i=n.enableY,o=this.state,a=o.dragArea,s=o.brushArea,u=s.left,l=s.right,c=s.top,f=s.bottom,h=a&&(e<u||e>l),d=a&&(t<c||t>f);return r&&i?h||d:r?h:!i||d}},{key:"_convertAreaToCoordinates",value:function(e){var t=this.props,n=t.enableX,r=t.enableY,i=t.marginLeft,o=t.marginTop,a=Co(this.props,"x"),s=Co(this.props,"y");return n&&r?{bottom:s.invert(e.bottom),left:a.invert(e.left-i),right:a.invert(e.right-i),top:s.invert(e.top)}:r?{bottom:s.invert(e.bottom-o),top:s.invert(e.top-o)}:n?{left:a.invert(e.left-i),right:a.invert(e.right-i)}:{}}},{key:"startBrushing",value:function(e){var t=this,n=this.props,r=n.onBrushStart,i=n.onDragStart,o=n.drag,a=this.state.dragArea,s=Jf(e.nativeEvent),u=s.xLoc,l=s.yLoc,c=function(e,n){var r={bottom:l,left:u,right:u,top:l};t.setState({dragging:e,brushArea:a&&!n?a:r,brushing:!e,startLocX:u,startLocY:l})},f=this._clickedOutsideDrag(u,l);if(o&&!a||!o||f)return c(!1,f),void(r&&r(e));o&&a&&(c(!0,f),i&&i(e))}},{key:"stopBrushing",value:function(e){var t=this.state,n=t.brushing,r=t.dragging,i=t.brushArea;if(n||r){var o=this.props,a=o.onBrushEnd,s=o.onDragEnd,u=o.drag,l=Math.abs(i.right-i.left)<5,c=Math.abs(i.top-i.bottom)<5||l;this.setState({brushing:!1,dragging:!1,brushArea:u?i:{top:0,right:0,bottom:0,left:0},startLocX:0,startLocY:0,dragArea:u&&!c&&i}),n&&a&&a(c?null:this._convertAreaToCoordinates(i)),u&&s&&s(c?null:this._convertAreaToCoordinates(i))}}},{key:"onBrush",value:function(e){var t=this.props,n=t.onBrush,r=t.onDrag,i=t.drag,o=this.state,a=o.brushing,s=o.dragging,u=Jf(e.nativeEvent),l=u.xLoc,c=u.yLoc;if(a){var f=this._getDrawArea(l,c);this.setState({brushArea:f}),n&&n(this._convertAreaToCoordinates(f))}if(i&&s){var h=this._getDragArea(l,c);this.setState({brushArea:h}),r&&r(this._convertAreaToCoordinates(h))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.color,r=t.className,i=t.highlightHeight,o=t.highlightWidth,a=t.highlightX,s=t.highlightY,u=t.innerWidth,l=t.innerHeight,c=t.marginLeft,f=t.marginRight,h=t.marginTop,d=t.marginBottom,p=t.opacity,g=this.state.brushArea,m=g.left,v=g.right,y=g.top,b=g.bottom,_=0;a&&(_=Co(this.props,"x")(a));var w=0;s&&(w=Co(this.props,"y")(s));var x=o||c+f+u,O=i||h+d+l;return G.a.createElement("g",{transform:"translate("+_+", "+w+")",className:r+" rv-highlight-container"},G.a.createElement("rect",{className:"rv-mouse-target",fill:"black",opacity:"0",x:"0",y:"0",width:Math.max(x,0),height:Math.max(O,0),onMouseDown:function(t){return e.startBrushing(t)},onMouseMove:function(t){return e.onBrush(t)},onMouseUp:function(t){return e.stopBrushing(t)},onMouseLeave:function(t){return e.stopBrushing(t)},onTouchEnd:function(t){t.preventDefault(),e.stopBrushing(t)},onTouchCancel:function(t){t.preventDefault(),e.stopBrushing(t)},onContextMenu:function(e){return e.preventDefault()},onContextMenuCapture:function(e){return e.preventDefault()}}),G.a.createElement("rect",{className:"rv-highlight",pointerEvents:"none",opacity:p,fill:n,x:m,y:y,width:Math.min(Math.max(0,v-m),x),height:Math.min(Math.max(0,b-y),O)}))}}]),t}(Go);Qf.displayName="HighlightOverlay",Qf.defaultProps={color:"rgb(77, 182, 172)",className:"",enableX:!0,enableY:!0,opacity:.3},Qf.propTypes=Xf({},Go.propTypes,{enableX:o.a.bool,enableY:o.a.bool,highlightHeight:o.a.number,highlightWidth:o.a.number,highlightX:o.a.oneOfType([o.a.string,o.a.number]),highlightY:o.a.oneOfType([o.a.string,o.a.number]),onBrushStart:o.a.func,onDragStart:o.a.func,onBrush:o.a.func,onDrag:o.a.func,onBrushEnd:o.a.func,onDragEnd:o.a.func});var eh=Qf,th=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function rh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ih(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var oh={AUTO:"auto",LEFT:"left",RIGHT:"right",LEFT_EDGE:"leftEdge",RIGHT_EDGE:"rightEdge",BOTTOM:"bottom",TOP:"top",BOTTOM_EDGE:"bottomEdge",TOP_EDGE:"topEdge"},ah={BOTTOM_LEFT:"bottomleft",BOTTOM_RIGHT:"bottomright",TOP_LEFT:"topleft",TOP_RIGHT:"topright"};function sh(e){return Object.keys(e).map((function(t){return{title:t,value:so(e[t])}}))}var uh=function(e){function t(){return rh(this,t),ih(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),nh(t,[{key:"_getAlign",value:function(e,t){var n=this.props,r=n.innerWidth,i=n.innerHeight,o=n.orientation,a=n.align,s=a.horizontal,u=a.vertical,l=o?this._mapOrientationToAlign(o):{horizontal:s,vertical:u};return s===oh.AUTO&&(l.horizontal=e>r/2?oh.LEFT:oh.RIGHT),u===oh.AUTO&&(l.vertical=t>i/2?oh.TOP:oh.BOTTOM),l}},{key:"_getAlignClassNames",value:function(e){var t=this.props.orientation;return(t?"rv-hint--orientation-"+t:"")+" rv-hint--horizontalAlign-"+e.horizontal+"\n     rv-hint--verticalAlign-"+e.vertical}},{key:"_getAlignStyle",value:function(e,t,n){return th({},this._getXCSS(e.horizontal,t),this._getYCSS(e.vertical,n))}},{key:"_getCSSBottom",value:function(e){if(void 0===e||null===e)return{bottom:0};var t=this.props,n=t.innerHeight;return{bottom:t.marginBottom+n-e}}},{key:"_getCSSLeft",value:function(e){return void 0===e||null===e?{left:0}:{left:this.props.marginLeft+e}}},{key:"_getCSSRight",value:function(e){if(void 0===e||null===e)return{right:0};var t=this.props,n=t.innerWidth;return{right:t.marginRight+n-e}}},{key:"_getCSSTop",value:function(e){return void 0===e||null===e?{top:0}:{top:this.props.marginTop+e}}},{key:"_getPositionInfo",value:function(){var e=this.props,t=e.value,n=e.getAlignStyle,r=jo(this.props,"x")(t),i=jo(this.props,"y")(t),o=this._getAlign(r,i);return{position:n?n(o,r,i):this._getAlignStyle(o,r,i),positionClassName:this._getAlignClassNames(o)}}},{key:"_getXCSS",value:function(e,t){switch(e){case oh.LEFT_EDGE:return this._getCSSLeft(null);case oh.RIGHT_EDGE:return this._getCSSRight(null);case oh.LEFT:return this._getCSSRight(t);case oh.RIGHT:default:return this._getCSSLeft(t)}}},{key:"_getYCSS",value:function(e,t){switch(e){case oh.TOP_EDGE:return this._getCSSTop(null);case oh.BOTTOM_EDGE:return this._getCSSBottom(null);case oh.BOTTOM:return this._getCSSTop(t);case oh.TOP:default:return this._getCSSBottom(t)}}},{key:"_mapOrientationToAlign",value:function(e){switch(e){case ah.BOTTOM_LEFT:return{horizontal:oh.LEFT,vertical:oh.BOTTOM};case ah.BOTTOM_RIGHT:return{horizontal:oh.RIGHT,vertical:oh.BOTTOM};case ah.TOP_LEFT:return{horizontal:oh.LEFT,vertical:oh.TOP};case ah.TOP_RIGHT:return{horizontal:oh.RIGHT,vertical:oh.TOP}}}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.format,r=e.children,i=e.style,o=e.className,a=this._getPositionInfo(),s=a.position,u=a.positionClassName;return G.a.createElement("div",{className:"rv-hint "+u+" "+o,style:th({},i,s,{position:"absolute"})},r||G.a.createElement("div",{className:"rv-hint__content",style:i.content},n(t).map((function(e,t){return G.a.createElement("div",{key:"rv-hint"+t,style:i.row},G.a.createElement("span",{className:"rv-hint__title",style:i.title},e.title),": ",G.a.createElement("span",{className:"rv-hint__value",style:i.value},e.value))}))))}}],[{key:"defaultProps",get:function(){return{format:sh,align:{horizontal:oh.AUTO,vertical:oh.AUTO},style:{}}}},{key:"propTypes",get:function(){return{marginTop:o.a.number,marginLeft:o.a.number,innerWidth:o.a.number,innerHeight:o.a.number,scales:o.a.object,value:o.a.object,format:o.a.func,style:o.a.object,className:o.a.string,align:o.a.shape({horizontal:o.a.oneOf([oh.AUTO,oh.LEFT,oh.RIGHT,oh.LEFT_EDGE,oh.RIGHT_EDGE]),vertical:o.a.oneOf([oh.AUTO,oh.BOTTOM,oh.TOP,oh.BOTTOM_EDGE,oh.TOP_EDGE])}),getAlignStyle:o.a.func,orientation:o.a.oneOf([ah.BOTTOM_LEFT,ah.BOTTOM_RIGHT,ah.TOP_LEFT,ah.TOP_RIGHT])}}}]),t}(H.PureComponent);uh.displayName="Hint",uh.ORIENTATION=ah,uh.ALIGN=oh;var lh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ph=function(e){function t(){return hh(this,t),dh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ch(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.linePosAttr,s=n.lineSizeAttr,u=n.marginLeft,l=n.marginTop,c=n.style,f=n.valuePosAttr,h=n.valueSizeAttr,d=n.barWidth;if(!o)return null;if(r)return G.a.createElement(Ze,lh({},this.props,{animatedProps:aa}),G.a.createElement(t,lh({},this.props,{animation:null})));var p=sa(this.props),g=p.sameTypeTotal,m=p.sameTypeIndex,v=this._getScaleDistance(a),y=this._getAttributeFunctor(a),b=this._getAttributeFunctor(f),_=this._getAttr0Functor(f),w=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),x=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),O=this._getAttributeFunctor("opacity"),k=v/2*d;return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--bar "+i,transform:"translate("+u+","+l+")"},o.map((function(t,n){var r,i=2*k,o=y(t),u=i/g-(g-1)/g,l=o-k+u*m+m,d=(fh(r={style:lh({opacity:O&&O(t),stroke:x&&x(t),fill:w&&w(t)},c)},a,l),fh(r,s,u),fh(r,f,Math.min(_(t),b(t))),fh(r,h,Math.abs(-_(t)+b(t))),fh(r,"onClick",(function(n){return e._valueClickHandler(t,n)})),fh(r,"onContextMenu",(function(n){return e._valueRightClickHandler(t,n)})),fh(r,"onMouseOver",(function(n){return e._valueMouseOverHandler(t,n)})),fh(r,"onMouseOut",(function(n){return e._valueMouseOutHandler(t,n)})),fh(r,"key",n),r);return G.a.createElement("rect",d)})))}}],[{key:"propTypes",get:function(){return lh({},Go.propTypes,{linePosAttr:o.a.string,valuePosAttr:o.a.string,lineSizeAttr:o.a.string,valueSizeAttr:o.a.string,cluster:o.a.string,barWidth:o.a.number})}},{key:"defaultProps",get:function(){return{barWidth:.85}}}]),t}(Go);ph.displayName="BarSeries";var gh=ph,mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function yh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var _h=function(e){function t(){return yh(this,t),bh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vh(t,[{key:"render",value:function(){return G.a.createElement(gh,mh({},this.props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"y"===e,zeroBaseValue:"x"===e}}}]),t}(Go);_h.displayName="HorizontalBarSeries";var wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Oh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Sh=function(e){function t(){return Oh(this,t),kh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xh(t,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(e,t){var n=e.data,r=e.linePosAttr,i=e.lineSizeAttr,o=e.valuePosAttr,a=e.marginTop,s=e.marginBottom;if(n&&0!==n.length){var u=function(e,t){var n=Eo(e,t);return n?n.distance:0}(e,r),l=jo(e,r),c=jo(e,o),f=To(e,o),h=jo(e,"fill")||jo(e,"color"),d=jo(e,"stroke")||jo(e,"color"),p=jo(e,"opacity"),g=u/2*.85,m=2*g,v=sa(e),y=v.sameTypeTotal,b=v.sameTypeIndex;n.forEach((function(e){var n=l(e)-g,r=m/y-(y-1)/y,u=ge(h(e)),v=ge(d(e)),_=p(e)||1,w=n+r*b+b,x=Math.min(f(e),c(e)),O="x"===o?x:w,k="y"===o?x:w,S=Math.abs(-f(e)+c(e)),E="height"===i?r:S,C="width"===i?r:S;t.beginPath(),t.rect(O+s,k+a,C,E),t.fillStyle="rgba("+u.r+", "+u.g+", "+u.b+", "+_+")",t.fill(),t.strokeStyle="rgba("+v.r+", "+v.g+", "+v.b+", "+_+")",t.stroke()}))}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);Sh.displayName="BarSeriesCanvas",Sh.defaultProps=wh({},Go.defaultProps,{linePosAttr:o.a.string.isRequired,valuePosAttr:o.a.string.isRequired,lineSizeAttr:o.a.string.isRequired,valueSizeAttr:o.a.string.isRequired}),Sh.propTypes=wh({},Go.propTypes);var Eh=Sh,Ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ah=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ph(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Th=function(e){function t(){return Ph(this,t),jh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ah(t,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"y"===e,zeroBaseValue:"x"===e}}},{key:"renderLayer",value:function(e,t){Eh.renderLayer(Ch({},e,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}),t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);Th.displayName="HorizontalBarSeriesCanvas",Th.propTypes=Ch({},Go.propTypes);var Mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh=rl.HORIZONTAL,Lh=Mh({},Mf.propTypes,{direction:o.a.oneOf([Rh])}),Ih={direction:Rh,attr:"y"};function Dh(e){return G.a.createElement(Mf,e)}Dh.displayName="HorizontalGridLines",Dh.propTypes=Lh,Dh.defaultProps=Ih,Dh.requiresSVG=!0;var zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var $h=function(e){function t(){return Bh(this,t),Vh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fh(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.linePosAttr,s=n.lineSizeAttr,u=n.marginLeft,l=n.marginTop,c=n.style,f=n.valuePosAttr,h=n.valueSizeAttr;if(!o)return null;if(r)return G.a.createElement(Ze,zh({},this.props,{animatedProps:aa}),G.a.createElement(t,zh({},this.props,{animation:null})));var d=this._getAttributeFunctor(a),p=this._getAttr0Functor(a),g=this._getAttributeFunctor(f),m=this._getAttr0Functor(f),v=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),y=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),b=this._getAttributeFunctor("opacity");return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--rect "+i,transform:"translate("+u+","+l+")"},o.map((function(t,n){var r,i=(Nh(r={style:zh({opacity:b&&b(t),stroke:y&&y(t),fill:v&&v(t)},c)},a,p(t)),Nh(r,s,Math.abs(d(t)-p(t))),Nh(r,f,Math.min(m(t),g(t))),Nh(r,h,Math.abs(-m(t)+g(t))),Nh(r,"onClick",(function(n){return e._valueClickHandler(t,n)})),Nh(r,"onContextMenu",(function(n){return e._valueRightClickHandler(t,n)})),Nh(r,"onMouseOver",(function(n){return e._valueMouseOverHandler(t,n)})),Nh(r,"onMouseOut",(function(n){return e._valueMouseOutHandler(t,n)})),Nh(r,"key",n),r);return G.a.createElement("rect",i)})))}}],[{key:"propTypes",get:function(){return zh({},Go.propTypes,{linePosAttr:o.a.string,valuePosAttr:o.a.string,lineSizeAttr:o.a.string,valueSizeAttr:o.a.string})}}]),t}(Go);$h.displayName="RectSeries";var Uh=$h,Wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Gh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Xh=function(e){function t(){return Gh(this,t),qh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Hh(t,[{key:"render",value:function(){return G.a.createElement(Uh,Wh({},this.props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:!1,zeroBaseValue:"x"===e}}}]),t}(Go);Xh.displayName="HorizontalRectSeries";var Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Yh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Qh=function(e){function t(){return Yh(this,t),Jh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Kh(t,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(e,t){var n=e.data,r=e.linePosAttr,i=e.lineSizeAttr,o=e.marginLeft,a=e.marginTop,s=e.valuePosAttr;if(n&&0!==n.length){var u=jo(e,r),l=To(e,r),c=jo(e,s),f=To(e,s),h=jo(e,"fill")||jo(e,"color"),d=jo(e,"stroke")||jo(e,"color"),p=jo(e,"opacity");n.forEach((function(e){var n=ge(h(e)),r=ge(d(e)),g=p(e)||1,m=l(e),v=Math.min(f(e),c(e)),y="x"===s?v:m,b="y"===s?v:m,_=Math.abs(u(e)-l(e)),w=Math.abs(-f(e)+c(e)),x="height"===i?_:w,O="width"===i?_:w;t.beginPath(),t.rect(y+o,b+a,O,x),t.fillStyle="rgba("+n.r+", "+n.g+", "+n.b+", "+g+")",t.fill(),t.strokeStyle="rgba("+r.r+", "+r.g+", "+r.b+", "+g+")",t.stroke()}))}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);Qh.displayName="RectSeriesCanvas",Qh.defaultProps=Zh({},Go.defaultProps,{linePosAttr:o.a.string.isRequired,valuePosAttr:o.a.string.isRequired,lineSizeAttr:o.a.string.isRequired,valueSizeAttr:o.a.string.isRequired}),Qh.propTypes=Zh({},Go.propTypes);var ed=Qh,td=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function rd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var od=function(e){function t(){return rd(this,t),id(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),nd(t,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:!1,zeroBaseValue:"x"===e}}},{key:"renderLayer",value:function(e,t){ed.renderLayer(td({},e,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}),t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);od.displayName="HorizontalRectSeriesCanvas",od.propTypes=td({},Go.propTypes);var ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ud(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ld(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var cd=function(e,t){return e||(t?"start":"end")},fd=function(e,t){return e||(t?"text-before-edge":"text-after-edge")},hd=function(e){function t(){return ud(this,t),ld(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),sd(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.allowOffsetToBeReversed,o=n.className,a=n.data,s=n._data,u=n.getLabel,l=n.marginLeft,c=n.marginTop,f=n.rotation,h=n.style,d=n.xRange,p=n.yRange,g=n.labelAnchorX,m=n.labelAnchorY;if(!a)return null;if(r)return G.a.createElement(Ze,ad({},this.props,{animatedProps:aa}),G.a.createElement(t,ad({},this.props,{animation:null,_data:a})));var v=this._getAttributeFunctor("x"),y=this._getAttributeFunctor("y");return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--label "+o,transform:"translate("+l+","+c+")",style:h},a.reduce((function(t,n,r){var o=n.style,a=n.xOffset,l=n.yOffset;if(!u(n))return t;var c=v(n),h=y(n),b=c<(d[1]-d[0])/2,_=h<Math.abs(p[1]-p[0])/2,w=c+(i&&b?-1:1)*(a||0),x=h+(i&&_?-1:1)*(l||0),O=0===n.rotation||n.rotation?n.rotation:f,k=ad({dominantBaseline:fd(m,_),className:"rv-xy-plot__series--label-text",key:r,onClick:function(t){return e._valueClickHandler(n,t)},onContextMenu:function(t){return e._valueRightClickHandler(n,t)},onMouseOver:function(t){return e._valueMouseOverHandler(n,t)},onMouseOut:function(t){return e._valueMouseOutHandler(n,t)},textAnchor:cd(g,b),x:w,y:x,transform:"rotate("+O+","+w+","+x+")"},o),S=u(s?s[r]:n);return t.concat([G.a.createElement("text",k,S)])}),[]))}}]),t}(Go);hd.propTypes={animation:o.a.bool,allowOffsetToBeReversed:o.a.bool,className:o.a.string,data:o.a.arrayOf(o.a.shape({x:o.a.oneOfType([o.a.number,o.a.string]),y:o.a.oneOfType([o.a.number,o.a.string]),angle:o.a.number,radius:o.a.number,label:o.a.string,xOffset:o.a.number,yOffset:o.a.number,style:o.a.object})).isRequired,marginLeft:o.a.number,marginTop:o.a.number,rotation:o.a.number,style:o.a.object,xRange:o.a.arrayOf(o.a.number),yRange:o.a.arrayOf(o.a.number),labelAnchorX:o.a.string,labelAnchorY:o.a.string},hd.defaultProps=ad({},Go.defaultProps,{animation:!1,rotation:0,getLabel:function(e){return e.label}}),hd.displayName="LabelSeries";var dd=hd,pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function md(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var yd={dashed:"6, 2",solid:null},bd=function(e){function t(){return md(this,t),vd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),gd(t,[{key:"_renderLine",value:function(e,t,n,i,o){var a=Za();return null!==i&&("string"===typeof i&&r[i]?a=a.curve(r[i]):"function"===typeof i&&(a=a.curve(i))),(a=(a=a.defined(o)).x(t).y(n))(e)}},{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className,i=e.data;if(this.props.nullAccessor&&Object(ao.b)("nullAccessor has been renamed to getNull",!0),!i)return null;if(n)return G.a.createElement(Ze,pd({},this.props,{animatedProps:aa}),G.a.createElement(t,pd({},this.props,{animation:null})));var o=this.props,a=o.curve,s=o.marginLeft,u=o.marginTop,l=o.strokeDasharray,c=o.strokeStyle,f=o.strokeWidth,h=o.style,d=this._getAttributeFunctor("x"),p=this._getAttributeFunctor("y"),g=this._getAttributeValue("stroke")||this._getAttributeValue("color"),m=this._getAttributeValue("opacity"),v=Number.isFinite(m)?m:1,y=this.props.nullAccessor||this.props.getNull,b=this._renderLine(i,d,p,a,y);return G.a.createElement("path",{d:b,className:"rv-xy-plot__series rv-xy-plot__series--line "+r,transform:"translate("+s+","+u+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:pd({opacity:v,strokeDasharray:yd[c]||l,strokeWidth:f,stroke:g},h)})}}]),t}(Go);bd.displayName="LineSeries",bd.propTypes=pd({},Go.propTypes,{strokeStyle:o.a.oneOf(Object.keys(yd)),curve:o.a.oneOfType([o.a.string,o.a.func]),getNull:o.a.func}),bd.defaultProps=pd({},Go.defaultProps,{strokeStyle:"solid",style:{},opacity:1,curve:null,className:"",getNull:function(){return!0}});var _d=bd,wd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Sd=function(e){function t(){return Od(this,t),kd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xd(t,[{key:"_renderCircle",value:function(e,t,n,r,i){var o=this,a=i.fill,s=i.opacity,u=i.size,l=i.stroke,c=i.x,f=i.y,h={r:u?u(e):5,cx:c(e),cy:f(e),style:wd({opacity:s?s(e):1,stroke:l&&l(e),fill:a&&a(e),strokeWidth:n||1},r),key:t,onClick:function(t){return o._valueClickHandler(e,t)},onContextMenu:function(t){return o._valueRightClickHandler(e,t)},onMouseOver:function(t){return o._valueMouseOverHandler(e,t)},onMouseOut:function(t){return o._valueMouseOutHandler(e,t)}};return G.a.createElement("circle",h)}},{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.marginLeft,s=n.marginTop,u=n.strokeWidth,l=n.style;this.props.nullAccessor&&Object(ao.b)("nullAccessor has been renamed to getNull",!0);var c=this.props.nullAccessor||this.props.getNull;if(!o)return null;if(r)return G.a.createElement(Ze,wd({},this.props,{animatedProps:aa}),G.a.createElement(t,wd({},this.props,{animation:null})));var f={fill:this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),opacity:this._getAttributeFunctor("opacity"),size:this._getAttributeFunctor("size"),stroke:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),x:this._getAttributeFunctor("x"),y:this._getAttributeFunctor("y")};return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--mark "+i,transform:"translate("+a+","+s+")"},o.map((function(t,n){return c(t)&&e._renderCircle(t,n,u,l,f)})))}}]),t}(Go);Sd.displayName="MarkSeries",Sd.propTypes=wd({},Go.propTypes,{getNull:o.a.func,strokeWidth:o.a.number}),Sd.defaultProps={getNull:function(){return!0}};var Ed=Sd,Cd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Pd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Td=Ad({},_d.propTypes,{lineStyle:o.a.object,markStyle:o.a.object}),Md=function(e){function t(){return Pd(this,t),jd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Cd(t,[{key:"render",value:function(){var e=this.props,t=e.lineStyle,n=e.markStyle,r=e.style;return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--linemark"},G.a.createElement(_d,Ad({},this.props,{style:Ad({},r,t)})),G.a.createElement(Ed,Ad({},this.props,{style:Ad({},r,n)})))}}],[{key:"defaultProps",get:function(){return Ad({},_d.defaultProps,{lineStyle:{},markStyle:{}})}}]),t}(Go);Md.displayName="LineMarkSeries",Md.propTypes=Td;var Rd=Md,Ld=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Dd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Fd=function(e){function t(){return Dd(this,t),zd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Id(t,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(e,t){var n=e.data,r=e.marginLeft,i=e.marginTop,o=jo(e,"x"),a=jo(e,"y"),s=jo(e,"size")||function(e){return 5},u=jo(e,"fill")||jo(e,"color"),l=jo(e,"stroke")||jo(e,"color"),c=jo(e,"opacity");n.forEach((function(e){var n=ge(u(e)),f=ge(l(e)),h=c(e)||1;t.beginPath(),t.arc(o(e)+r,a(e)+i,s(e),0,2*Math.PI),t.fillStyle="rgba("+n.r+", "+n.g+", "+n.b+", "+h+")",t.fill(),t.strokeStyle="rgba("+f.r+", "+f.g+", "+f.b+", "+h+")",t.stroke()}))}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);Fd.displayName="MarkSeriesCanvas",Fd.propTypes=Ld({},Go.propTypes);var Nd=Fd,Bd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function $d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ud(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Wd=function(e){function t(){return $d(this,t),Ud(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Vd(t,[{key:"render",value:function(){return G.a.createElement("div",null)}}],[{key:"renderLayer",value:function(e,t){var n=e.curve,i=e.data,o=e.marginLeft,a=e.marginTop,s=e.strokeWidth,u=e.strokeDasharray;if(i&&0!==i.length){var l=jo(e,"x"),c=jo(e,"y"),f=ge(Mo(e,"stroke")||Mo(e,"color")),h=Mo(e,"opacity"),d=Number.isFinite(h)?h:1,p=Za().x((function(e){return l(e)+o})).y((function(e){return c(e)+a}));"string"===typeof n&&r[n]?p=p.curve(r[n]):"function"===typeof n&&(p=p.curve(n)),t.beginPath(),t.strokeStyle="rgba("+f.r+", "+f.g+", "+f.b+", "+d+")",t.lineWidth=s,u&&t.setLineDash(u),p.context(t)(i),t.stroke(),t.closePath(),t.lineWidth=1,t.setLineDash([])}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);Wd.displayName="LineSeriesCanvas",Wd.defaultProps=Bd({},Go.defaultProps,{strokeWidth:2}),Wd.propTypes=Bd({},Go.propTypes,{strokeWidth:o.a.number});var Hd=Wd,Gd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Xd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Kd=function(e){function t(){return Xd(this,t),Zd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),qd(t,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(e,t){Hd.renderLayer(e,t),Nd.renderLayer(e,t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);Kd.displayName="LineMarkSeriesCanvas",Kd.propTypes=Gd({},Go.propTypes);var Yd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Qd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ep(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var tp=function(e,t,n){return e.reduce((function(e,r,i){return e+" "+(i?"L":"M")+t(r)+" "+n(r)}),"")+" Z"},np=function(e){function t(){return Qd(this,t),ep(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Jd(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.color,o=n.className,a=n.data,s=n.marginLeft,u=n.marginTop,l=n.style;if(!a)return null;if(r)return G.a.createElement(Ze,Yd({},this.props,{animatedProps:aa}),G.a.createElement(t,Yd({},this.props,{animation:null})));var c=this._getAttributeFunctor("x"),f=this._getAttributeFunctor("y");return G.a.createElement("path",{className:"rv-xy-plot__series rv-xy-plot__series--polygon "+o,onMouseOver:function(t){return e._seriesMouseOverHandler(a,t)},onMouseOut:function(t){return e._seriesMouseOutHandler(a,t)},onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,fill:i||"#12939A",style:l,d:tp(a,c,f),transform:"translate("+s+","+u+")"})}}],[{key:"propTypes",get:function(){return Yd({},Go.propTypes)}}]),t}(Go);np.displayName="PolygonSeries";var rp=np,ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var up=function(e){function t(){return ap(this,t),sp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),op(t,[{key:"render",value:function(){return G.a.createElement(gh,ip({},this.props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"x"===e,zeroBaseValue:"y"===e}}}]),t}(Go);up.displayName="VerticalBarSeries";var lp=up,cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function hp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var pp=function(e){function t(){return hp(this,t),dp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fp(t,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"x"===e,zeroBaseValue:"y"===e}}},{key:"renderLayer",value:function(e,t){Eh.renderLayer(cp({},e,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}),t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);pp.displayName="HorizontalBarSeriesCanvas",pp.propTypes=cp({},Go.propTypes);var gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp=rl.VERTICAL,vp=gp({},Mf.propTypes,{direction:o.a.oneOf([mp])}),yp={direction:mp,attr:"x"};function bp(e){return G.a.createElement(Mf,e)}bp.displayName="VerticalGridLines",bp.propTypes=vp,bp.defaultProps=yp,bp.requiresSVG=!0;var _p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Op(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var kp=function(e){function t(){return xp(this,t),Op(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),wp(t,[{key:"render",value:function(){return G.a.createElement(Uh,_p({},this.props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:!1,zeroBaseValue:"y"===e}}}]),t}(Go);kp.displayName="VerticalRectSeries";var Sp=kp,Ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var jp=function(e){function t(){return Ap(this,t),Pp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Cp(t,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:!1,zeroBaseValue:"y"===e}}},{key:"renderLayer",value:function(e,t){ed.renderLayer(Ep({},e,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}),t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(Go);jp.displayName="HorizontalRectSeriesCanvas",jp.propTypes=Ep({},Go.propTypes);var Tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp=function(e){return e};function Rp(e){var t=e.className,n=e.extent,r=e.nodes,i=e.onBlur,o=e.onClick,a=e.onMouseUp,s=e.onMouseDown,u=e.onHover,l=e.polygonStyle,c=e.style,f=e.x,h=e.y,d=W().x(f||jo(e,"x")).y(h||jo(e,"y")).extent(n||function(e){var t=e.innerWidth,n=e.innerHeight,r=e.marginLeft,i=e.marginTop;return[[r,i],[t+r,n+i]]}(e)).polygons(r),p=function(e){return function(t){t.preventDefault();var n=function(e){var t=e.nativeEvent,n=t.pageX,r=t.pageY,i=document.elementFromPoint(n,r);if(!i)return-1;var o=i.parentNode;return Array.prototype.indexOf.call(o.childNodes,i)}(t);if(n>-1&&n<d.length){var r=d[n];e(r.data)}}};return G.a.createElement("g",{className:t+" rv-voronoi",style:c,onTouchEnd:p(a),onTouchStart:p(s),onTouchMove:p(u),onTouchCancel:p(i)},d.map((function(e,t){return G.a.createElement("path",{className:"rv-voronoi__cell "+(e.data&&e.data.className||""),d:"M"+e.join("L")+"Z",onClick:function(){return o(e.data)},onMouseUp:function(){return a(e.data)},onMouseDown:function(){return s(e.data)},onMouseOver:function(){return u(e.data)},onMouseOut:function(){return i(e.data)},fill:"none",style:Tp({pointerEvents:"all"},l,e.data&&e.data.style),key:t})})))}Rp.requiresSVG=!0,Rp.displayName="Voronoi",Rp.defaultProps={className:"",onBlur:Mp,onClick:Mp,onHover:Mp,onMouseDown:Mp,onMouseUp:Mp},Rp.propTypes={className:o.a.string,extent:o.a.arrayOf(o.a.arrayOf(o.a.number)),nodes:o.a.arrayOf(o.a.object).isRequired,onBlur:o.a.func,onClick:o.a.func,onHover:o.a.func,onMouseDown:o.a.func,onMouseUp:o.a.func,x:o.a.func,y:o.a.func};var Lp=Rp,Ip=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function zp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Np=function(e){function t(){return zp(this,t),Fp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ip(t,[{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className,i=e.crossBarWidth,o=e.data,a=e.marginLeft,s=e.marginTop,u=e.strokeWidth,l=e.style;if(!o)return null;if(n)return G.a.createElement(Ze,Dp({},this.props,{animatedProps:aa}),G.a.createElement(t,Dp({},this.props,{animation:null})));var c={crossBarWidth:i,opacityFunctor:this._getAttributeFunctor("opacity"),sizeFunctor:this._getAttributeFunctor("size"),strokeFunctor:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),strokeWidth:u,style:l,xFunctor:this._getAttributeFunctor("x"),yFunctor:this._getAttributeFunctor("y"),valueClickHandler:this._valueClickHandler,valueRightClickHandler:this._valueRightClickHandler,valueMouseOverHandler:this._valueMouseOverHandler,valueMouseOutHandler:this._valueMouseOutHandler};return G.a.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--whisker "+r,transform:"translate("+a+","+s+")"},o.map(function(e){return function(t,n){var r=e.crossBarWidth,i=e.opacityFunctor,o=e.sizeFunctor,a=e.strokeFunctor,s=e.strokeWidth,u=e.style,l=e.valueClickHandler,c=e.valueMouseOutHandler,f=e.valueMouseOverHandler,h=e.valueRightClickHandler,d=e.xFunctor,p=e.yFunctor,g=o?o(t):0,m=d(t),v=p(t),y=d({x:t.x+t.xVariance/2}),b=d({x:t.x-t.xVariance/2}),_=p({y:t.y+t.yVariance/2}),w=p({y:t.y-t.yVariance/2}),x=y&&m+g<y,O=_&&v-g>_;if(!x&&!O)return null;var k=Dp({opacity:i?i(t):1,stroke:a&&a(t),strokeWidth:s||1},u),S=r/2,E={x1:m+g,y1:v,x2:y,y2:v,style:k},C={x1:m-g,y1:v,x2:b,y2:v,style:k},A={x1:y,y1:v-S,x2:y,y2:v+S,style:k},P={x1:b,y1:v-S,x2:b,y2:v+S,style:k},j={x1:m,y1:v-g,x2:m,y2:_,style:k},T={x1:m,y1:v+g,x2:m,y2:w,style:k},M={x1:m-S,y1:_,x2:m+S,y2:_,style:k},R={x1:m-S,y1:w,x2:m+S,y2:w,style:k};return G.a.createElement("g",{className:"mark-whiskers",key:n,onClick:function(e){return l(t,e)},onContextMenu:function(e){return h(t,e)},onMouseOver:function(e){return f(t,e)},onMouseOut:function(e){return c(t,e)}},x?G.a.createElement("g",{className:"x-whiskers"},G.a.createElement("line",E),G.a.createElement("line",C),G.a.createElement("line",A),G.a.createElement("line",P)):null,O?G.a.createElement("g",{className:"y-whiskers"},G.a.createElement("line",j),G.a.createElement("line",T),G.a.createElement("line",M),G.a.createElement("line",R)):null)}}(c)))}}]),t}(Go);Np.displayName="WhiskerSeries",Np.propTypes=Dp({},Go.propTypes,{strokeWidth:o.a.number}),Np.defaultProps=Dp({},Go.defaultProps,{crossBarWidth:6,size:0,strokeWidth:1});var Bp=n(309),Vp=n.n(Bp),$p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Up(e,t){var n=e.margin,r=e.width,i=e.height,o=$p({},t,"number"===typeof n?{left:n,right:n,top:n,bottom:n}:n),a=o.left,s=void 0===a?0:a,u=o.top,l=void 0===u?0:u,c=o.right,f=void 0===c?0:c,h=o.bottom,d=void 0===h?0:h;return{marginLeft:s,marginTop:l,marginRight:f,marginBottom:d,innerHeight:i-d-l,innerWidth:r-s-f}}function Wp(e,t,n){var r=e/2-n,i=t/2-n;return{bottom:i,left:r,right:r,top:i}}var Hp=o.a.oneOfType([o.a.shape({left:o.a.number,top:o.a.number,right:o.a.number,bottom:o.a.number}),o.a.number]),Gp={left:40,right:10,top:10,bottom:40},qp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Zp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Yp(e,t,n,r,i){e.clearRect(0,0,n,t),r.forEach((function(t){var n=t.interpolator,r=t.newProps,o=t.animation?n?n(i/30):n:function(){return{}};t.renderLayer(Xp({},r,o),e)}))}var Jp=function(e){function t(){return Zp(this,t),Kp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),qp(t,[{key:"componentDidMount",value:function(){var e=this.canvas.getContext("2d");if(e){var t=this.props.pixelRatio;e&&(e.scale(t,t),this.drawChildren(null,this.props,e))}}},{key:"componentDidUpdate",value:function(e){this.drawChildren(e,this.props,this.canvas.getContext("2d"))}},{key:"drawChildren",value:function(e,t,n){var r=t.children,i=t.innerHeight,o=t.innerWidth,a=t.marginBottom,s=t.marginLeft,u=t.marginRight,l=t.marginTop;if(n){var c,f,h=r.find((function(e){return e.props.animation})),d=i+l+a,p=o+s+u,g=(c=t.children,f=e?e.children:[],c.map((function(e,t){var n=f[t]?f[t].props:{},r=e.props,i=qe(Xp({},n,{animatedProps:aa})),o=r?qe(Xp({},r,{animatedProps:aa})):null,a=Ve(i,o);return{renderLayer:e.type.renderLayer,newProps:e.props,animation:e.props.animation,interpolator:a}})));h?function(e,t,n,r){var i=0,o=setInterval((function(){e?(Yp(e,t,n,r,i),i>30&&clearInterval(o),i+=1):clearInterval(o)}),1)}(n,d,p,g):Yp(n,d,p,g)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.innerHeight,r=t.innerWidth,i=t.marginBottom,o=t.marginLeft,a=t.marginRight,s=t.marginTop,u=t.pixelRatio,l=n+s+i,c=r+o+a;return G.a.createElement("div",{style:{left:0,top:0},className:"rv-xy-canvas"},G.a.createElement("canvas",{className:"rv-xy-canvas-element",height:l*u,width:c*u,style:{height:l+"px",width:c+"px"},ref:function(t){return e.canvas=t}}),this.props.children)}}],[{key:"defaultProps",get:function(){return{pixelRatio:window&&window.devicePixelRatio||1}}}]),t}(H.Component);Jp.displayName="CanvasWrapper",Jp.propTypes={marginBottom:o.a.number.isRequired,marginLeft:o.a.number.isRequired,marginRight:o.a.number.isRequired,marginTop:o.a.number.isRequired,innerHeight:o.a.number.isRequired,innerWidth:o.a.number.isRequired,pixelRatio:o.a.number.isRequired};var Qp=Jp,eg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var ng=["x","y","radius","angle","color","fill","stroke","opacity","size"];function rg(e){return e.map((function(e){return Array.isArray(e)?e.map((function(e){return tg({},e,{parent:null})})):e}))}var ig=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));og.call(n);var r=e.stackBy,i=ra(na(e.children),r);return n.state={scaleMixins:n._getScaleMixins(i,e),data:i},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),eg(t,null,[{key:"defaultProps",get:function(){return{className:""}}},{key:"propTypes",get:function(){return{animation:Ke,className:o.a.string,dontCheckIfEmpty:o.a.bool,height:o.a.number.isRequired,margin:Hp,onClick:o.a.func,onDoubleClick:o.a.func,onMouseDown:o.a.func,onMouseUp:o.a.func,onMouseEnter:o.a.func,onMouseLeave:o.a.func,onMouseMove:o.a.func,onTouchStart:o.a.func,onTouchMove:o.a.func,onTouchEnd:o.a.func,onTouchCancel:o.a.func,onWheel:o.a.func,stackBy:o.a.oneOf(ng),style:o.a.object,width:o.a.number.isRequired}}}]),eg(t,[{key:"componentWillReceiveProps",value:function(e){var t=ra(na(e.children),e.stackBy),n=this.state.scaleMixins,r=this._getScaleMixins(t,e);(function(e,t,n){var r=tg({},e,{_allData:n?rg(e._allData):e._allData}),i=tg({},t,{_allData:n?rg(t._allData):t._allData});return Vp()(r,i)})(r,n,e.hasTreeStructure)||this.setState({scaleMixins:r,data:t})}},{key:"_getClonedChildComponents",value:function(){var e=this,t=this.props,n=this.props.animation,r=this.state,i=r.scaleMixins,o=r.data,a=Up(this.props,Gp),s=G.a.Children.toArray(this.props.children),u=ia(s),l=Fo(t,s);return s.map((function(t,r){var s=null;if(u[r]){var c=u[r].seriesIndex;s={data:o[c]}}return G.a.cloneElement(t,tg({},a,{animation:n},s&&t.type.prototype&&t.type.prototype.render?{ref:function(t){return e["series"+u[r].seriesIndex]=t}}:{},u[r],i,t.props,l[r],s))}))}},{key:"_getDefaultScaleProps",value:function(e){var t=Up(e,Gp),n=t.innerWidth,r=t.innerHeight,i=["color","fill","stroke"].reduce((function(t,n){var r,i,o,a="category"===e[n+"Type"]?Xo:Zo;return tg({},t,(o=a,(i=n+"Range")in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r))}),{});return tg({xRange:[0,n],yRange:[r,0]},i,{opacityType:Yo,sizeRange:Ko})}},{key:"_getScaleMixins",value:function(e,t){var n,r=e.filter((function(e){return e})),i=(n=[]).concat.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)),o=this._getDefaultScaleProps(t),a=Bo(t),s=Lo(t,ng),u=Io(tg({},o,a,s),i,ng),l=na(t.children),c={},f=new Set,h=new Set;return l.forEach((function(n,r){n&&e[r]&&ng.forEach((function(e){var i=n.type.getParentConfig(e,n.props),o=i.isDomainAdjustmentNeeded,a=i.zeroBaseValue;if(o&&(f.add(e),h.add(r)),a){var s=t[e+"Domain"];c[e+"BaseValue"]=s?s[0]:0}}))})),tg({},o,c,s,u,{_allData:e,_adjustBy:Array.from(f),_adjustWhat:Array.from(h),_stackBy:t.stackBy})}},{key:"_isPlotEmpty",value:function(){var e=this.state.data;return!e||!e.length||!e.some((function(e){return e&&e.some((function(e){return e}))}))}},{key:"renderCanvasComponents",value:function(e,t){var n=e.filter((function(e){return e&&!e.type.requiresSVG&&e.type.isCanvas}));if(0===n.length)return null;var r=n[0].props,i=r.marginLeft,o=r.marginTop,a=r.marginBottom,s=r.marginRight,u=r.innerHeight,l=r.innerWidth;return G.a.createElement(Qp,{innerHeight:u,innerWidth:l,marginLeft:i,marginTop:o,marginBottom:a,marginRight:s},n)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.dontCheckIfEmpty,r=e.style,i=e.width,o=e.height;if(!n&&this._isPlotEmpty())return G.a.createElement("div",{className:"rv-xy-plot "+t,style:tg({width:i+"px",height:o+"px"},this.props.style)});var a=this._getClonedChildComponents();return G.a.createElement("div",{style:{width:i+"px",height:o+"px"},className:"rv-xy-plot "+t},G.a.createElement("svg",{className:"rv-xy-plot__inner",width:i,height:o,style:r,onClick:this._clickHandler,onDoubleClick:this._doubleClickHandler,onMouseDown:this._mouseDownHandler,onMouseUp:this._mouseUpHandler,onMouseMove:this._mouseMoveHandler,onMouseLeave:this._mouseLeaveHandler,onMouseEnter:this._mouseEnterHandler,onTouchStart:this._mouseDownHandler,onTouchMove:this._touchMoveHandler,onTouchEnd:this._touchEndHandler,onTouchCancel:this._touchCancelHandler,onWheel:this._wheelHandler},a.filter((function(e){return e&&e.type.requiresSVG}))),this.renderCanvasComponents(a,this.props),a.filter((function(e){return e&&!e.type.requiresSVG&&!e.type.isCanvas})))}}]),t}(G.a.Component),og=function(){var e=this;this._clickHandler=function(t){var n=e.props.onClick;n&&n(t)},this._doubleClickHandler=function(t){var n=e.props.onDoubleClick;n&&n(t)},this._mouseDownHandler=function(t){var n=e.props,r=n.onMouseDown,i=n.children;r&&r(t),na(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseDown&&i.onParentMouseDown(t)}))},this._mouseEnterHandler=function(t){var n=e.props,r=n.onMouseEnter,i=n.children;r&&r(t),na(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseEnter&&i.onParentMouseEnter(t)}))},this._mouseLeaveHandler=function(t){var n=e.props,r=n.onMouseLeave,i=n.children;r&&r(t),na(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseLeave&&i.onParentMouseLeave(t)}))},this._mouseMoveHandler=function(t){var n=e.props,r=n.onMouseMove,i=n.children;r&&r(t),na(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseMove&&i.onParentMouseMove(t)}))},this._mouseUpHandler=function(t){var n=e.props,r=n.onMouseUp,i=n.children;r&&r(t),na(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseUp&&i.onParentMouseUp(t)}))},this._touchCancelHandler=function(t){var n=e.props.onTouchCancel;n&&n(t)},this._touchEndHandler=function(t){var n=e.props.onTouchEnd;n&&n(t)},this._touchMoveHandler=function(t){var n=e.props,r=n.onTouchMove,i=n.children;r&&r(t),na(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentTouchMove&&i.onParentTouchMove(t)}))},this._touchStartHandler=function(t){var n=e.props,r=n.onTouchStart,i=n.children;r&&r(t),na(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentTouchStart&&i.onParentTouchStart(t)}))},this._wheelHandler=function(t){var n=e.props.onWheel;n&&n(t)}};ig.displayName="XYPlot";var ag=ig,sg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ug=nl.LEFT,lg=nl.RIGHT,cg=nl.TOP,fg=nl.BOTTOM,hg={height:o.a.number.isRequired,style:o.a.object,orientation:o.a.oneOf([ug,lg,cg,fg]).isRequired,width:o.a.number.isRequired};function dg(e){var t=e.orientation,n=e.width,r=e.height,i=e.style,o=void 0;return o=t===ug?{x1:n,x2:n,y1:0,y2:r}:t===lg?{x1:0,x2:0,y1:0,y2:r}:t===cg?{x1:0,x2:n,y1:r,y2:r}:{x1:0,x2:n,y1:0,y2:0},G.a.createElement("line",sg({},o,{className:"rv-xy-plot__axis__line",style:i}))}dg.defaultProps={style:{}},dg.displayName="AxisLine",dg.propTypes=hg;var pg=dg,gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function vg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var _g=nl.LEFT,wg=nl.RIGHT,xg=nl.TOP,Og=nl.BOTTOM,kg={height:o.a.number.isRequired,orientation:o.a.oneOf([_g,wg,xg,Og]).isRequired,style:o.a.object,width:o.a.number.isRequired};var Sg=function(e){function t(){return yg(this,t),bg(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),mg(t,[{key:"_areTicksWrapped",value:function(){var e=this.props.orientation;return e===_g||e===xg}},{key:"_getTickContainerPropsGetterFn",value:function(){return this._isAxisVertical()?function(e){return{transform:"translate(0, "+e+")"}}:function(e){return{transform:"translate("+e+", 0)"}}}},{key:"_getTickLabelProps",value:function(){var e=this.props,t=e.orientation,n=e.tickLabelAngle,r=e.tickSize,i=e.tickSizeOuter,o=void 0===i?r:i,a=e.tickPadding,s=void 0===a?r:a,u=void 0;u=t===_g||t===Og&&n?"end":t===wg||t===xg&&n?"start":"middle";var l=this._isAxisVertical(),c=(this._areTicksWrapped()?-1:1)*(o+s);return{textAnchor:u,dy:t===xg||n?"0":t===Og?"0.72em":"0.32em",transform:(l?"translate("+c+", 0)":"translate(0, "+c+")")+(n?" rotate("+n+")":"")}}},{key:"_getTickLineProps",value:function(){var e,t=this.props,n=t.tickSize,r=t.tickSizeOuter,i=void 0===r?n:r,o=t.tickSizeInner,a=void 0===o?n:o,s=this._isAxisVertical(),u=s?"y":"x",l=s?"x":"y",c=this._areTicksWrapped()?-1:1;return vg(e={},u+"1",0),vg(e,u+"2",0),vg(e,l+"1",-c*a),vg(e,l+"2",c*i),e}},{key:"_isAxisVertical",value:function(){var e=this.props.orientation;return e===_g||e===wg}},{key:"render",value:function(){var e=this.props,t=e.attr,n=e.orientation,r=e.width,i=e.height,o=e.style,a=e.tickFormat,s=e.tickTotal,u=e.tickValues,l=n===_g?r:0,c=n===xg?i:0,f=Co(this.props,t),h=ol(f,s,u),d=function(e,t,n){return n||(e.tickFormat?e.tickFormat(t):function(e){return e})}(f,s,a),p=this._getTickContainerPropsGetterFn(),g=this._getTickLineProps(),m=this._getTickLabelProps(),v=h.map((function(e,t){var n=f(e),i=d(e,t,f,s),a=G.a.isValidElement(i)&&!["tspan","textPath"].includes(i.type),u=i&&"string"!==typeof i.type;return G.a.createElement("g",gg({key:t},p(n,0),{className:"rv-xy-plot__axis__tick",style:o}),G.a.createElement("line",gg({},g,{className:"rv-xy-plot__axis__tick__line",style:gg({},o,o.line)})),a?G.a.cloneElement(i,u?gg({},m,{containerWidth:r,tickCount:h.length}):void 0):G.a.createElement("text",gg({},m,{className:"rv-xy-plot__axis__tick__text",style:gg({},o,o.text)}),i))}));return G.a.createElement("g",{transform:"translate("+l+", "+c+")",className:"rv-xy-plot__axis__ticks"},v)}}]),t}(G.a.Component);Sg.defaultProps={style:{}},Sg.displayName="AxisTicks",Sg.propTypes=kg,Sg.requiresSVG=!0;var Eg=Sg,Cg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pg=16,jg=nl.LEFT,Tg=nl.RIGHT,Mg=nl.TOP,Rg=nl.BOTTOM,Lg={width:o.a.number.isRequired,height:o.a.number.isRequired,orientation:o.a.oneOf([jg,Tg,Mg,Rg]).isRequired,style:o.a.object,title:o.a.string.isRequired};function Ig(e){var t=e.orientation,n=e.position,r=e.width,i=e.height,o=e.style,a=e.title,s="translate("+(t===jg?r:0)+", "+(t===Mg?i:0)+")",u=function(e,t){var n;return Ag(n={},jg,{end:{x:Pg,y:6,rotation:-90,textAnchor:"end"},middle:{x:Pg,y:t/2-6,rotation:-90,textAnchor:"middle"},start:{x:Pg,y:t-6,rotation:-90,textAnchor:"start"}}),Ag(n,Tg,{end:{x:-8,y:6,rotation:-90,textAnchor:"end"},middle:{x:-8,y:t/2-6,rotation:-90,textAnchor:"middle"},start:{x:-8,y:t-6,rotation:-90,textAnchor:"start"}}),Ag(n,Mg,{start:{x:6,y:Pg,rotation:0,textAnchor:"start"},middle:{x:e/2-6,y:Pg,rotation:0,textAnchor:"middle"},end:{x:e-6,y:Pg,rotation:0,textAnchor:"end"}}),Ag(n,Rg,{start:{x:6,y:-6,rotation:0,textAnchor:"start"},middle:{x:e/2-6,y:-6,rotation:0,textAnchor:"middle"},end:{x:e-6,y:-6,rotation:0,textAnchor:"end"}}),n}(r,i)[t][n],l=u.x,c=u.y,f=u.rotation,h=u.textAnchor,d="translate("+l+", "+c+") rotate("+f+")";return G.a.createElement("g",{transform:s,className:"rv-xy-plot__axis__title"},G.a.createElement("g",{style:Cg({textAnchor:h},o),transform:d},G.a.createElement("text",{style:o},a)))}Ig.displayName="AxisTitle",Ig.propTypes=Lg,Ig.defaultProps={position:"end"};var Dg=Ig,zg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ng(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Vg=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"],$g=nl.LEFT,Ug=nl.RIGHT,Wg=nl.TOP,Hg=nl.BOTTOM,Gg={orientation:o.a.oneOf([$g,Ug,Wg,Hg]),attr:o.a.string.isRequired,attrAxis:o.a.string,width:o.a.number,height:o.a.number,top:o.a.number,left:o.a.number,title:o.a.string,style:o.a.object,className:o.a.string,hideTicks:o.a.bool,hideLine:o.a.bool,on0:o.a.bool,tickLabelAngle:o.a.number,tickSize:o.a.number,tickSizeInner:o.a.number,tickSizeOuter:o.a.number,tickPadding:o.a.number,tickValues:o.a.arrayOf(o.a.oneOfType([o.a.number,o.a.string])),tickFormat:o.a.func,tickTotal:o.a.number,marginTop:o.a.number,marginBottom:o.a.number,marginLeft:o.a.number,marginRight:o.a.number,innerWidth:o.a.number,innerHeight:o.a.number},qg={className:"",on0:!1,style:{},tickSize:6,tickPadding:8,orientation:Hg},Xg=function(e){function t(){return Ng(this,t),Bg(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fg(t,[{key:"_getDefaultAxisProps",value:function(){var e=this.props,t=e.innerWidth,n=e.innerHeight,r=e.marginTop,i=e.marginBottom,o=e.marginLeft,a=e.marginRight,s=e.orientation;return s===Hg?{tickTotal:il(t),top:n+r,left:o,width:t,height:i}:s===Wg?{tickTotal:il(t),top:0,left:o,width:t,height:r}:s===$g?{tickTotal:il(n),top:r,left:0,width:o,height:n}:{tickTotal:il(n),top:r,left:o+t,width:a,height:n}}},{key:"render",value:function(){var e=this.props.animation;if(e){var n=e.nonAnimatedProps?Vg.filter((function(t){return e.nonAnimatedProps.indexOf(t)<0})):Vg;return G.a.createElement(Ze,zg({},this.props,{animatedProps:n}),G.a.createElement(t,zg({},this.props,{animation:null})))}var r=zg({},this._getDefaultAxisProps(),this.props),i=r.attrAxis,o=r.className,a=r.height,s=r.hideLine,u=r.hideTicks,l=r.left,c=r.marginTop,f=r.on0,h=r.orientation,d=r.position,p=r.style,g=r.title,m=r.top,v=r.width,y=[$g,Ug].indexOf(h)>-1,b=y?"rv-xy-plot__axis--vertical":"rv-xy-plot__axis--horizontal",_=l,w=m;if(f){var x=Co(r,i);y?_=x(0):w=c+x(0)}return G.a.createElement("g",{transform:"translate("+_+","+w+")",className:"rv-xy-plot__axis "+b+" "+o,style:p},!s&&G.a.createElement(pg,{height:a,width:v,orientation:h,style:zg({},p,p.line)}),!u&&G.a.createElement(Eg,zg({},r,{style:zg({},p,p.ticks)})),g?G.a.createElement(Dg,{position:d,title:g,height:a,width:v,style:zg({},p,p.title),orientation:h}):null)}}]),t}(H.PureComponent);Xg.displayName="Axis",Xg.propTypes=Gg,Xg.defaultProps=qg,Xg.requiresSVG=!0;var Zg=Xg,Kg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yg=nl.TOP,Jg=nl.BOTTOM,Qg=Kg({},Zg.propTypes,{orientation:o.a.oneOf([Yg,Jg])}),em={orientation:Jg,attr:"x",attrAxis:"y"};function tm(e){return G.a.createElement(Zg,e)}tm.displayName="XAxis",tm.propTypes=Qg,tm.defaultProps=em,tm.requiresSVG=!0;var nm=tm,rm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},im=nl.LEFT,om=nl.RIGHT,am=rm({},Zg.propTypes,{orientation:o.a.oneOf([im,om])}),sm={orientation:im,attr:"y",attrAxis:"x"};function um(e){return G.a.createElement(Zg,e)}um.displayName="YAxis",um.propTypes=am,um.defaultProps=sm,um.requiresSVG=!0;var lm=um,cm={className:o.a.string,height:o.a.number,endColor:o.a.string,endTitle:o.a.oneOfType([o.a.number,o.a.string]).isRequired,midColor:o.a.string,midTitle:o.a.oneOfType([o.a.number,o.a.string]),startColor:o.a.string,startTitle:o.a.oneOfType([o.a.number,o.a.string]).isRequired,width:o.a.number},fm={className:"",startColor:Zo[0],endColor:Zo[1]};function hm(e){var t=e.startColor,n=e.midColor,r=e.endColor,i=e.startTitle,o=e.midTitle,a=e.endTitle,s=e.height,u=e.width,l=e.className,c=[t];return n&&c.push(n),c.push(r),G.a.createElement("div",{className:"rv-continuous-color-legend "+l,style:{width:u,height:s}},G.a.createElement("div",{className:"rv-gradient",style:{background:"linear-gradient(to right, "+c.join(",")+")"}}),G.a.createElement("div",{className:"rv-legend-titles"},G.a.createElement("span",{className:"rv-legend-titles__left"},i),G.a.createElement("span",{className:"rv-legend-titles__right"},a),o?G.a.createElement("span",{className:"rv-legend-titles__center"},o):null))}hm.displayName="ContinuousColorLegend",hm.propTypes=cm,hm.defaultProps=fm;var dm={className:o.a.string,circlesTotal:o.a.number,endSize:o.a.number,endTitle:o.a.oneOfType([o.a.number,o.a.string]).isRequired,height:o.a.number,startSize:o.a.number,startTitle:o.a.oneOfType([o.a.number,o.a.string]).isRequired,width:o.a.number};function pm(e){for(var t=e.startTitle,n=e.endTitle,r=e.startSize,i=e.endSize,o=e.circlesTotal,a=e.height,s=e.width,u=e.className,l=[],c=(i-r)/(o-1),f=0;f<o;f++){var h=c*f+r;l.push(G.a.createElement("div",{key:f,className:"rv-bubble",style:{width:h,height:h,borderRadius:h/2}})),l.push(" ")}return G.a.createElement("div",{className:"rv-continuous-size-legend "+u,style:{width:s,height:a}},G.a.createElement("div",{className:"rv-bubbles",style:{height:i}},l,G.a.createElement("div",{className:"rv-spacer"})),G.a.createElement("div",{className:"rv-legend-titles"},G.a.createElement("span",{className:"rv-legend-titles__left"},t),G.a.createElement("span",{className:"rv-legend-titles__right"},n)))}pm.displayName="ContinuousSizeLegend",pm.propTypes=dm,pm.defaultProps={circlesTotal:10,className:"",endSize:20,startSize:2};var gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm={dashed:"6, 2",solid:null};function vm(e){var t=e.color,n=e.strokeDasharray,r=e.strokeStyle,i=e.strokeWidth,o=e.disabled,a=e.onClick,s=e.orientation,u=e.onMouseEnter,l=e.onMouseLeave,c=e.title,f="rv-discrete-color-legend-item "+s;o&&(f+=" disabled"),a&&(f+=" clickable");var h=mm[r]||n;return G.a.createElement("div",{className:f,onClick:a,onMouseEnter:u,onMouseLeave:l},G.a.createElement("svg",{className:"rv-discrete-color-legend-item__color",height:2,width:14},G.a.createElement("path",{className:"rv-discrete-color-legend-item__color__path",d:"M 0, 1 L 14, 1",style:gm({},i?{strokeWidth:i}:{},h?{strokeDasharray:h}:{},{stroke:o?null:t})})),G.a.createElement("span",{className:"rv-discrete-color-legend-item__title"},c))}vm.propTypes={color:o.a.string.isRequired,disabled:o.a.bool,title:o.a.oneOfType([o.a.string,o.a.element]).isRequired,onClick:o.a.func,onMouseEnter:o.a.func,onMouseLeave:o.a.func,orientation:o.a.oneOf(["vertical","horizontal"]).isRequired,strokeDasharray:o.a.string,strokeWidth:o.a.number,strokeStyle:o.a.oneOf(Object.keys(mm))},vm.defaultProps={disabled:!1,strokeStyle:"solid"},vm.displayName="DiscreteColorLegendItem";var ym=vm,bm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _m(e){var t=e.className,n=e.colors,r=e.height,i=e.items,o=e.onItemClick,a=e.onItemMouseEnter,s=e.onItemMouseLeave,u=e.orientation,l=e.style,c=e.width;return G.a.createElement("div",{className:"rv-discrete-color-legend "+u+" "+t,style:bm({width:c,height:r},l)},i.map((function(e,t){return G.a.createElement(ym,{title:e.title?e.title:e,color:e.color?e.color:n[t%n.length],strokeDasharray:e.strokeDasharray,strokeStyle:e.strokeStyle,strokeWidth:e.strokeWidth,disabled:Boolean(e.disabled),orientation:u,key:t,onClick:o?function(n){return o(e,t,n)}:null,onMouseEnter:a?function(n){return a(e,t,n)}:null,onMouseLeave:a?function(n){return s(e,t,n)}:null})})))}_m.displayName="DiscreteColorLegendItem",_m.propTypes={className:o.a.string,items:o.a.arrayOf(o.a.oneOfType([o.a.shape({title:o.a.oneOfType([o.a.string,o.a.element]).isRequired,color:o.a.string,disabled:o.a.bool}),o.a.string.isRequired,o.a.element])).isRequired,onItemClick:o.a.func,onItemMouseEnter:o.a.func,onItemMouseLeave:o.a.func,height:o.a.number,width:o.a.number,orientation:o.a.oneOf(["vertical","horizontal"])},_m.defaultProps={className:"",colors:qo,orientation:"vertical"};var wm=_m,xm=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},wm.propTypes,{searchText:o.a.string,onSearchChange:o.a.func,searchPlaceholder:o.a.string,searchFn:o.a.func}),Om={className:"",searchText:"",searchFn:function(e,t){return e.filter((function(e){return-1!==String(e.title||e).toLowerCase().indexOf(t)}))}};function km(e){var t=e.className,n=e.colors,r=e.height,i=e.items,o=e.onItemClick,a=e.onSearchChange,s=e.orientation,u=e.searchFn,l=e.searchPlaceholder,c=e.searchText,f=e.width,h=a?function(e){var t=e.target.value;return a(t)}:null,d=u(i,c);return G.a.createElement("div",{className:"rv-search-wrapper "+t,style:{width:f,height:r}},G.a.createElement("form",{className:"rv-search-wrapper__form"},G.a.createElement("input",{type:"search",placeholder:l,className:"rv-search-wrapper__form__input",value:c,onChange:h})),G.a.createElement("div",{className:"rv-search-wrapper__contents"},G.a.createElement(wm,{colors:n,items:d,onItemClick:o,orientation:s})))}km.propTypes=xm,km.defaultProps=Om,km.displayName="SearchableDiscreteColorLegend";var Sm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Am(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Pm="rv-parallel-coordinates-chart",jm=Zt(".2r");function Tm(e){var t=e.domains,n=e.style;return t.map((function(e,t){return{x:e.name,y:1.1,label:e.name,style:n}}))}var Mm=function(e){function t(){var e,n,r;Cm(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Am(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={brushFilters:{}},Am(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Sm(t,[{key:"render",value:function(){var e=this,t=this.state.brushFilters,n=this.props,r=n.animation,i=n.brushing,o=n.className,a=n.children,s=n.colorRange,u=n.data,l=n.domains,c=n.height,f=n.hideInnerMostValues,h=n.margin,d=n.onMouseLeave,p=n.onMouseEnter,g=n.showMarks,m=n.style,v=n.tickFormat,y=n.width,b=function(e){var t=e.animation,n=e.domains,r=e.style,i=e.tickFormat;return n.map((function(e,n){var o=e.domain;return G.a.createElement(bf,{animation:t,key:n+"-axis",axisStart:{x:e.name,y:0},axisEnd:{x:e.name,y:1},axisDomain:o,numberOfTicks:5,tickValue:function(t){return e.tickFormat?e.tickFormat(t):i(t)},style:r.axes})}))}({domains:l,animation:r,hideInnerMostValues:f,style:m,tickFormat:v}),_=function(e){var t=e.animation,n=e.brushFilters,r=e.colorRange,i=e.domains,o=e.data,a=e.style,s=e.showMarks,u=i.reduce((function(e,t){var n=t.domain;return e[t.name]=an().domain(n).range([0,1]),e}),{});return o.map((function(e,o){var l=!0,c=i.map((function(t,r){var i=t.getValue,o=t.name,a=u[o](i?i(e):e[o]),s=n[o];return s&&(a<s.min||a>s.max)&&(l=!1),{x:o,y:a}})),f={animation:t,className:l?"rv-parallel-coordinates-chart-line":"rv-parallel-coordinates-chart-line rv-parallel-coordinates-chart-line-unselected",key:o+"-polygon",data:c,color:e.color||r[o%r.length],style:Em({},a.lines,e.style||{})};return l||(f.style=Em({},f.style,a.deselectedLineStyle)),s?G.a.createElement(Rd,f):G.a.createElement(_d,f)}))}({animation:r,brushFilters:t,colorRange:s,domains:l,data:u,showMarks:g,style:m}),w=G.a.createElement(dd,{animation:!0,key:o,className:"rv-parallel-coordinates-chart-label",data:Tm({domains:l,style:m.labels})}),x=Up(this.props,Gp),O=x.marginLeft,k=x.marginRight;return G.a.createElement(ag,{height:c,width:y,margin:h,dontCheckIfEmpty:!0,className:o+" "+Pm,onMouseLeave:d,onMouseEnter:p,xType:"ordinal",yDomain:[0,1]},a,b.concat(_).concat(w),i&&l.map((function(n){var r=function(r){var i,o,a;e.setState({brushFilters:Em({},t,(i={},o=n.name,a=r?{min:r.bottom,max:r.top}:null,o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,i))})};return G.a.createElement(eh,{key:n.name,drag:!0,highlightX:n.name,onBrushEnd:r,onDragEnd:r,highlightWidth:(y-O-k)/l.length,enableX:!1})})))}}]),t}(H.Component);Mm.displayName="ParallelCoordinates",Mm.propTypes={animation:Ke,brushing:o.a.bool,className:o.a.string,colorType:o.a.string,colorRange:o.a.arrayOf(o.a.string),data:o.a.arrayOf(o.a.object).isRequired,domains:o.a.arrayOf(o.a.shape({name:o.a.string.isRequired,domain:o.a.arrayOf(o.a.number).isRequired,tickFormat:o.a.func})).isRequired,height:o.a.number.isRequired,margin:Hp,style:o.a.shape({axes:o.a.object,labels:o.a.object,lines:o.a.object}),showMarks:o.a.bool,tickFormat:o.a.func,width:o.a.number.isRequired},Mm.defaultProps={className:"",colorType:"category",colorRange:qo,style:{axes:{line:{},ticks:{},text:{}},labels:{fontSize:10,textAnchor:"middle"},lines:{strokeWidth:1,strokeOpacity:1},deselectedLineStyle:{strokeOpacity:.1}},tickFormat:jm};var Rm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lm="rv-radar-chart",Im=Zt(".2r");function Dm(e){var t=1e-12;return Math.abs(e)<=t?e=0:e>0?Math.abs(e-.5)<=t&&(e=.5):e<0&&Math.abs(e+.5)<=t&&(e=-.5),e}function zm(e){var t=e.domains,n=e.startingAngle,r=e.style;return t.map((function(e,i){var o=e.name,a=i/t.length*Math.PI*2+n;return{x:1.2*Math.cos(a),y:1.2*Math.sin(a),label:o,style:r}}))}function Fm(e){var t=e.animation,n=e.className,r=e.children,i=e.colorRange,o=e.data,a=e.domains,s=e.height,u=e.hideInnerMostValues,l=e.margin,c=e.onMouseLeave,f=e.onMouseEnter,h=e.startingAngle,d=e.style,p=e.tickFormat,g=e.width,m=e.renderAxesOverPolygons,v=e.onValueMouseOver,y=e.onValueMouseOut,b=e.onSeriesMouseOver,_=e.onSeriesMouseOut,w=function(e){var t=e.animation,n=e.domains,r=e.startingAngle,i=e.style,o=e.tickFormat,a=e.hideInnerMostValues;return n.map((function(e,s){var u=s/n.length*Math.PI*2+r,l=e.domain;return G.a.createElement(bf,{animation:t,key:s+"-axis",axisStart:{x:0,y:0},axisEnd:{x:Dm(Math.cos(u)),y:Dm(Math.sin(u))},axisDomain:l,numberOfTicks:5,tickValue:function(t){return a&&t===l[0]?"":e.tickFormat?e.tickFormat(t):o(t)},style:i.axes})}))}({domains:a,animation:t,hideInnerMostValues:u,startingAngle:h,style:d,tickFormat:p}),x=function(e){var t=e.animation,n=e.colorRange,r=e.domains,i=e.data,o=e.style,a=e.startingAngle,s=e.onSeriesMouseOver,u=e.onSeriesMouseOut,l=r.reduce((function(e,t){var n=t.domain;return e[t.name]=an().domain(n).range([0,1]),e}),{});return i.map((function(e,i){var c=r.map((function(t,n){var i=t.name,o=t.getValue,s=o?o(e):e[i],u=n/r.length*Math.PI*2+a,c=Math.max(l[i](s),0);return{x:c*Math.cos(u),y:c*Math.sin(u),name:e.name}}));return G.a.createElement(rp,{animation:t,className:"rv-radar-chart-polygon",key:i+"-polygon",data:c,style:Rm({stroke:e.color||e.stroke||n[i%n.length],fill:e.color||e.fill||n[i%n.length]},o.polygons),onSeriesMouseOver:s,onSeriesMouseOut:u})}))}({animation:t,colorRange:i,domains:a,data:o,startingAngle:h,style:d,onSeriesMouseOver:b,onSeriesMouseOut:_}),O=function(e){var t=e.animation,n=e.domains,r=e.data,i=e.startingAngle,o=e.style,a=e.onValueMouseOver,s=e.onValueMouseOut;if(a){var u=n.reduce((function(e,t){var n=t.domain;return e[t.name]=an().domain(n).range([0,1]),e}),{});return r.map((function(e,r){var l=n.map((function(t,r){var o=t.name,a=t.getValue,s=a?a(e):e[o],l=r/n.length*Math.PI*2+i,c=Math.max(u[o](s),0);return{x:c*Math.cos(l),y:c*Math.sin(l),domain:o,value:s,dataName:e.name}}));return G.a.createElement(Ed,{animation:t,className:"rv-radar-chart-polygonPoint",key:r+"-polygonPoint",data:l,size:10,style:Rm({},o.polygons,{fill:"transparent",stroke:"transparent"}),onValueMouseOver:a,onValueMouseOut:s})}))}}({animation:t,colorRange:i,domains:a,data:o,startingAngle:h,style:d,onValueMouseOver:v,onValueMouseOut:y}),k=G.a.createElement(dd,{animation:t,key:n,className:"rv-radar-chart-label",data:zm({domains:a,style:d.labels,startingAngle:h})});return G.a.createElement(ag,{height:s,width:g,margin:l,dontCheckIfEmpty:!0,className:n+" "+Lm,onMouseLeave:c,onMouseEnter:f,xDomain:[-1,1],yDomain:[-1,1]},r,!m&&w.concat(x).concat(k).concat(O),m&&x.concat(k).concat(w).concat(O))}Fm.displayName="RadarChart",Fm.propTypes={animation:Ke,className:o.a.string,colorType:o.a.string,colorRange:o.a.arrayOf(o.a.string),data:o.a.arrayOf(o.a.object).isRequired,domains:o.a.arrayOf(o.a.shape({name:o.a.string.isRequired,domain:o.a.arrayOf(o.a.number).isRequired,tickFormat:o.a.func})).isRequired,height:o.a.number.isRequired,hideInnerMostValues:o.a.bool,margin:Hp,startingAngle:o.a.number,style:o.a.shape({axes:o.a.object,labels:o.a.object,polygons:o.a.object}),tickFormat:o.a.func,width:o.a.number.isRequired,renderAxesOverPolygons:o.a.bool,onValueMouseOver:o.a.func,onValueMouseOut:o.a.func,onSeriesMouseOver:o.a.func,onSeriesMouseOut:o.a.func},Fm.defaultProps={className:"",colorType:"category",colorRange:qo,hideInnerMostValues:!0,startingAngle:Math.PI/2,style:{axes:{line:{},ticks:{},text:{}},labels:{fontSize:10,textAnchor:"middle"},polygons:{strokeWidth:.5,strokeOpacity:1,fillOpacity:.1}},tickFormat:Im,renderAxesOverPolygons:!1};var Nm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Bm(e){var t=e.animation,n=e.className,r=e.children,i=e.colorType,o=e.data,a=e.getAngle,s=e.getLabel,u=e.getSubLabel,l=e.height,c=e.hideRootNode,f=e.innerRadius,h=e.labelsAboveChildren,d=e.labelsRadiusMultiplier,p=e.labelsStyle,g=e.margin,m=e.onMouseLeave,v=e.onMouseEnter,y=e.radius,b=e.showLabels,_=e.style,w=e.width,x=function(e){var t=e.data,n=e.getAngle;return Qa().sort(null).value(n)(t).reverse().map((function(e,t){return Nm({},e.data,{angle0:e.startAngle,angle:e.endAngle,radius0:e.data.innerRadius||0,radius:e.data.radius||1,color:e.data.color||t})}))}({data:o,height:l,hideRootNode:c,width:w,getAngle:a}),O=oa(x),k=Nm({colorType:i},e,{animation:t,radiusDomain:[0,O],data:x,radiusNoFallBack:!0,style:_,arcClassName:"rv-radial-chart__series--pie__slice"});y&&(k.radiusDomain=[0,1],k.radiusRange=[f||0,y],k.radiusType="linear");var S=Wp(w,l,y||function(e,t){return Math.min(e,t)/2-15}(w,l)),E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.1,r=t.getLabel,i=t.getSubLabel;return e.reduce((function(e,t){var o=t.angle,a=t.angle0,s=t.radius,u=(o+a)/2*-1+Math.PI/2,l=[];return r(t)&&l.push({angle:u,radius:s*n,label:r(t)}),i(t)&&l.push({angle:u,radius:s*n,label:i(t),style:{fontSize:10},yOffset:12}),e.concat(l)}),[])}(x,{getLabel:s,getSubLabel:u},d);return G.a.createElement(ag,{height:l,width:w,margin:Nm({},g,S),className:n+" rv-radial-chart",onMouseLeave:m,onMouseEnter:v,xDomain:[-O,O],yDomain:[-O,O]},G.a.createElement(Wa,Nm({},k,{getAngle:function(e){return e.angle}})),b&&!h&&G.a.createElement(dd,{data:E,style:p}),r,b&&h&&G.a.createElement(dd,{data:E,style:p}))}Bm.displayName="RadialChart",Bm.propTypes={animation:Ke,className:o.a.string,colorType:o.a.string,data:o.a.arrayOf(o.a.shape({angle:o.a.number,className:o.a.string,label:o.a.string,radius:o.a.number,style:o.a.object})).isRequired,getAngle:o.a.func,getAngle0:o.a.func,padAngle:o.a.oneOfType([o.a.func,o.a.number]),getRadius:o.a.func,getRadius0:o.a.func,getLabel:o.a.func,height:o.a.number.isRequired,labelsAboveChildren:o.a.bool,labelsStyle:o.a.object,margin:Hp,onValueClick:o.a.func,onValueMouseOver:o.a.func,onValueMouseOut:o.a.func,showLabels:o.a.bool,style:o.a.object,subLabel:o.a.func,width:o.a.number.isRequired},Bm.defaultProps={className:"",colorType:"category",colorRange:qo,padAngle:0,getAngle:function(e){return e.angle},getAngle0:function(e){return e.angle0},getRadius:function(e){return e.radius},getRadius0:function(e){return e.radius0},getLabel:function(e){return e.label},getSubLabel:function(e){return e.subLabel}};function Vm(e){return e.target.depth}function $m(e,t){return e.sourceLinks.length?e.depth:t-1}function Um(e){return function(){return e}}function Wm(e,t){return Gm(e.source,t.source)||e.index-t.index}function Hm(e,t){return Gm(e.target,t.target)||e.index-t.index}function Gm(e,t){return e.y0-t.y0}function qm(e){return e.value}function Xm(e){return(e.y0+e.y1)/2}function Zm(e){return Xm(e.source)*e.value}function Km(e){return Xm(e.target)*e.value}function Ym(e){return e.index}function Jm(e){return e.nodes}function Qm(e){return e.links}function ev(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function tv(e){return[e.source.x1,e.y0]}function nv(e){return[e.target.x0,e.y1]}var rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iv=qo[1];function ov(e){var t=e.animation,n=e.data,r=e.node,i=e.opacity,o=e.color,a=e.strokeWidth,s=e.style,u=e.onLinkClick,l=e.onLinkMouseOver,c=e.onLinkMouseOut;return t?G.a.createElement(Ze,rv({},e,{animatedProps:aa}),G.a.createElement(ov,rv({},e,{animation:null}))):G.a.createElement("path",rv({d:n},s,{className:"rv-sankey__link",opacity:Number.isFinite(i)?i:.7,stroke:o||iv,onClick:function(e){return u(r,e)},onMouseOver:function(e){return l(r,e)},onMouseOut:function(e){return c(r,e)},strokeWidth:a,fill:"none"}))}ov.displayName="SankeyLink",ov.requiresSVG=!0;var av=ov,sv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function uv(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var lv=function(e){return e},cv={justify:$m,center:function(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?ht(e.sourceLinks,Vm)-1:0},left:function(e){return e.depth},right:function(e,t){return t-1-e.height}},fv={top:20,left:20,right:20,bottom:20};function hv(e){var t=e.align,n=e.animation,r=e.children,i=e.className,o=e.hasVoronoi,a=e.height,s=e.hideLabels,u=e.labelRotation,l=e.layout,c=e.links,f=e.linkOpacity,h=e.margin,d=e.nodePadding,p=e.nodes,g=e.nodeWidth,m=e.onValueClick,v=e.onValueMouseOver,y=e.onValueMouseOut,b=e.onLinkClick,_=e.onLinkMouseOver,w=e.onLinkMouseOut,x=e.style,O=e.width,k=[].concat(uv(new Array(p.length))).map((function(e,t){return sv({},p[t])})),S=[].concat(uv(new Array(c.length))).map((function(e,t){return sv({},c[t])})),E=Up({margin:h,height:a,width:O},fv),C=E.marginLeft,A=E.marginTop,P=E.marginRight,j=E.marginBottom,T=function(){var e=0,t=0,n=1,r=1,i=24,o=8,a=Ym,s=$m,u=Jm,l=Qm,c=32;function f(){var e={nodes:u.apply(null,arguments),links:l.apply(null,arguments)};return h(e),d(e),p(e),g(e),m(e),e}function h(e){e.nodes.forEach((function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[]}));var t=vt(e.nodes,a);e.links.forEach((function(e,n){e.index=n;var r=e.source,i=e.target;"object"!==typeof r&&(r=e.source=ev(t,r)),"object"!==typeof i&&(i=e.target=ev(t,i)),r.sourceLinks.push(e),i.targetLinks.push(e)}))}function d(e){e.nodes.forEach((function(e){e.value=Math.max(dt(e.sourceLinks,qm),dt(e.targetLinks,qm))}))}function p(t){var r,o,a;for(r=t.nodes,o=[],a=0;r.length;++a,r=o,o=[])r.forEach((function(e){e.depth=a,e.sourceLinks.forEach((function(e){o.indexOf(e.target)<0&&o.push(e.target)}))}));for(r=t.nodes,o=[],a=0;r.length;++a,r=o,o=[])r.forEach((function(e){e.height=a,e.targetLinks.forEach((function(e){o.indexOf(e.source)<0&&o.push(e.source)}))}));var u=(n-e-i)/(a-1);t.nodes.forEach((function(t){t.x1=(t.x0=e+Math.max(0,Math.min(a-1,Math.floor(s.call(null,t,a))))*u)+i}))}function g(e){var n=yt().key((function(e){return e.x0})).sortKeys(Ye).entries(e.nodes).map((function(e){return e.values}));!function(){var i=ht(n,(function(e){return(r-t-(e.length-1)*o)/dt(e,qm)}));n.forEach((function(e){e.forEach((function(e,t){e.y1=(e.y0=t)+e.value*i}))})),e.links.forEach((function(e){e.width=e.value*i}))}(),l();for(var i=1,a=c;a>0;--a)u(i*=.99),l(),s(i),l();function s(e){n.forEach((function(t){t.forEach((function(t){if(t.targetLinks.length){var n=(dt(t.targetLinks,Zm)/dt(t.targetLinks,qm)-Xm(t))*e;t.y0+=n,t.y1+=n}}))}))}function u(e){n.slice().reverse().forEach((function(t){t.forEach((function(t){if(t.sourceLinks.length){var n=(dt(t.sourceLinks,Km)/dt(t.sourceLinks,qm)-Xm(t))*e;t.y0+=n,t.y1+=n}}))}))}function l(){n.forEach((function(e){var n,i,a,s=t,u=e.length;for(e.sort(Gm),a=0;a<u;++a)(i=s-(n=e[a]).y0)>0&&(n.y0+=i,n.y1+=i),s=n.y1+o;if((i=s-o-r)>0)for(s=n.y0-=i,n.y1-=i,a=u-2;a>=0;--a)(i=(n=e[a]).y1+o-s)>0&&(n.y0-=i,n.y1-=i),s=n.y0}))}}function m(e){e.nodes.forEach((function(e){e.sourceLinks.sort(Hm),e.targetLinks.sort(Wm)})),e.nodes.forEach((function(e){var t=e.y0,n=t;e.sourceLinks.forEach((function(e){e.y0=t+e.width/2,t+=e.width})),e.targetLinks.forEach((function(e){e.y1=n+e.width/2,n+=e.width}))}))}return f.update=function(e){return m(e),e},f.nodeId=function(e){return arguments.length?(a="function"===typeof e?e:Um(e),f):a},f.nodeAlign=function(e){return arguments.length?(s="function"===typeof e?e:Um(e),f):s},f.nodeWidth=function(e){return arguments.length?(i=+e,f):i},f.nodePadding=function(e){return arguments.length?(o=+e,f):o},f.nodes=function(e){return arguments.length?(u="function"===typeof e?e:Um(e),f):u},f.links=function(e){return arguments.length?(l="function"===typeof e?e:Um(e),f):l},f.size=function(i){return arguments.length?(e=t=0,n=+i[0],r=+i[1],f):[n-e,r-t]},f.extent=function(i){return arguments.length?(e=+i[0][0],n=+i[1][0],t=+i[0][1],r=+i[1][1],f):[[e,t],[n,r]]},f.iterations=function(e){return arguments.length?(c=+e,f):c},f}().extent([[C,A],[O-P,a-j-A]]).nodeWidth(g).nodePadding(d).nodes(k).links(S).nodeAlign(cv[t]).iterations(l);T(k);var M=T.nodeWidth(),R=ps().source(tv).target(nv);return G.a.createElement(ag,sv({},e,{yType:"literal",className:"rv-sankey "+i}),S.map((function(e,t){return G.a.createElement(av,{style:x.links,data:R(e),opacity:e.opacity||f,color:e.color,onLinkClick:b,onLinkMouseOver:_,onLinkMouseOut:w,strokeWidth:Math.max(e.width,1),node:e,nWidth:M,key:"link-"+t})})),G.a.createElement(Sp,{animation:n,className:i+" rv-sankey__node",data:k.map((function(e){return sv({},e,{y:e.y1-A,y0:e.y0-A,x:e.x1,x0:e.x0,color:e.color||qo[0],sourceLinks:null,targetLinks:null})})),style:x.rects,onValueClick:m,onValueMouseOver:v,onValueMouseOut:y,colorType:"literal"}),!s&&G.a.createElement(dd,{animation:n,className:i,rotation:u,labelAnchorY:"text-before-edge",data:k.map((function(e,t){return sv({x:e.x0+(e.x0<O/2?M+10:-10),y:(e.y0+e.y1)/2-A,label:e.name,style:sv({textAnchor:e.x0<O/2?"start":"end",dy:"-.5em"},x.labels)},p[t])}))}),o&&G.a.createElement(Lp,{className:"rv-sankey__voronoi",extent:[[-C,-A],[O+P,a+j]],nodes:k,onClick:m,onHover:v,onBlur:y,x:function(e){return e.x0+(e.x1-e.x0)/2},y:function(e){return e.y0+(e.y1-e.y0)/2}}),r)}hv.defaultProps={align:"justify",className:"",hasVoronoi:!1,hideLabels:!1,labelRotation:0,layout:50,margin:fv,nodePadding:10,nodeWidth:10,onValueMouseOver:lv,onValueClick:lv,onValueMouseOut:lv,onLinkClick:lv,onLinkMouseOver:lv,onLinkMouseOut:lv,style:{links:{},rects:{},labels:{}}},hv.propTypes={align:o.a.oneOf(["justify","left","right","center"]),className:o.a.string,hasVoronoi:o.a.bool,height:o.a.number.isRequired,hideLabels:o.a.bool,labelRotation:o.a.number,layout:o.a.number,links:o.a.arrayOf(o.a.shape({source:o.a.oneOfType([o.a.number,o.a.object]).isRequired,target:o.a.oneOfType([o.a.number,o.a.object]).isRequired})).isRequired,margin:Hp,nodePadding:o.a.number,nodes:o.a.arrayOf(o.a.object).isRequired,nodeWidth:o.a.number,onValueMouseOver:o.a.func,onValueClick:o.a.func,onValueMouseOut:o.a.func,onLinkClick:o.a.func,onLinkMouseOver:o.a.func,onLinkMouseOut:o.a.func,style:o.a.shape({links:o.a.object,rects:o.a.object,labels:o.a.object}),width:o.a.number.isRequired};var dv=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},pv=function(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,l=e.value&&(r-t)/e.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l},gv=function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&pv(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(dv),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i};function mv(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function vv(e,t){var n,r,i,o,a,s=new wv(e),u=+e.value&&(s.value=e.value),l=[s];for(null==t&&(t=yv);n=l.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new wv(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(_v)}function yv(e){return e.children}function bv(e){e.data=e.data.data}function _v(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function wv(e){this.data=e,this.depth=this.height=0,this.parent=null}wv.prototype=vv.prototype={constructor:wv,count:function(){return this.eachAfter(mv)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return vv(this).eachBefore(bv)}};var xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ov=["onValueMouseOver","onValueMouseOut","onValueClick","onValueRightClick","onSeriesMouseOver","onSeriesMouseOut","onSeriesClick","onSeriesRightClick"];var kv=function(){};function Sv(e){var t=e.getAngle,n=e.getAngle0,r=e.animation,i=e.className,o=e.children,a=e.data,s=e.height,u=e.hideRootNode,l=e.getLabel,c=e.width,f=e.getSize,h=e.colorType,d=function(e){var t=e.data,n=e.height,r=e.hideRootNode,i=e.width,o=e.getSize,a=gv(),s=vv(t).sum(o),u=Math.min(i,n)/2-10,l=an().range([0,2*Math.PI]),c=mn().range([0,u]);return a(s).descendants().reduce((function(e,t,n){return r&&0===n?e:e.concat([xv({angle0:Math.max(0,Math.min(2*Math.PI,l(t.x0))),angle:Math.max(0,Math.min(2*Math.PI,l(t.x1))),radius0:Math.max(0,c(t.y0)),radius:Math.max(0,c(t.y1)),depth:t.depth,parent:t.parent},t.data)])}),[])}({data:a,height:s,hideRootNode:u,width:c,getSize:f}),p=oa(d),g=Wp(c,s,p),m=function(e,t){var n=t.getAngle,r=t.getAngle0,i=t.getLabel,o=t.getRadius0;return e.filter(i).map((function(e){var t=-1*n(e)+Math.PI/2,i=(-1*r(e)+Math.PI/2+t)/2,a=!e.dontRotateLabel,s=-i/(2*Math.PI)*360;return xv({},e,{children:null,angle:null,radius:null,x:o(e)*Math.cos(i),y:o(e)*Math.sin(i),style:xv({textAnchor:s>90?"end":"start"},e.labelStyle),rotation:a?s>90?s+180:90===s?90:s:null})}))}(d,{getAngle:t,getAngle0:n,getLabel:l,getRadius0:function(e){return e.radius0}});return G.a.createElement(ag,{height:s,hasTreeStructure:!0,width:c,className:"rv-sunburst "+i,margin:g,xDomain:[-p,p],yDomain:[-p,p]},G.a.createElement(Wa,xv({colorType:h},e,{animation:r,radiusDomain:[0,p],data:r?d.map((function(e,t){return xv({},e,{parent:null,children:null,index:t})})):d,_data:r?d:null,arcClassName:"rv-sunburst__series--radial__arc"},Ov.reduce((function(t,n){var i,o=e[n];return t[n]=r?(i=o,function(e,t){return i?i(d[e.index],t):kv}):o,t}),{}))),m.length>0&&G.a.createElement(dd,{data:m,getLabel:l}),o)}Sv.displayName="Sunburst",Sv.propTypes={animation:Ke,getAngle:o.a.func,getAngle0:o.a.func,className:o.a.string,colorType:o.a.string,data:o.a.object.isRequired,height:o.a.number.isRequired,hideRootNode:o.a.bool,getLabel:o.a.func,onValueClick:o.a.func,onValueMouseOver:o.a.func,onValueMouseOut:o.a.func,getSize:o.a.func,width:o.a.number.isRequired,padAngle:o.a.oneOfType([o.a.func,o.a.number])},Sv.defaultProps={getAngle:function(e){return e.angle},getAngle0:function(e){return e.angle0},className:"",colorType:"literal",getColor:function(e){return e.color},hideRootNode:!1,getLabel:function(e){return e.label},getSize:function(e){return e.size},padAngle:0};var Ev=function(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,l=e.value&&(i-n)/e.value;++s<u;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l},Cv=(1+Math.sqrt(5))/2;function Av(e,t,n,r,i,o){for(var a,s,u,l,c,f,h,d,p,g,m,v=[],y=t.children,b=0,_=0,w=y.length,x=t.value;b<w;){u=i-n,l=o-r;do{c=y[_++].value}while(!c&&_<w);for(f=h=c,m=c*c*(g=Math.max(l/u,u/l)/(x*e)),p=Math.max(h/m,m/f);_<w;++_){if(c+=s=y[_].value,s<f&&(f=s),s>h&&(h=s),m=c*c*g,(d=Math.max(h/m,m/f))>p){c-=s;break}p=d}v.push(a={value:c,dice:u<l,children:y.slice(b,_)}),a.dice?pv(a,n,r,i,x?r+=l*c/x:o):Ev(a,n,r,x?n+=u*c/x:i,o),x-=c,b=_}return v}var Pv=function e(t){function n(e,n,r,i,o){Av(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Cv),jv=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,l,c,f=-1,h=a.length,d=e.value;++f<h;){for(u=(s=a[f]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?pv(s,n,r,i,r+=(o-r)*s.value/d):Ev(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else e._squarify=a=Av(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Cv),Tv=Array.prototype.slice;var Mv=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Tv.call(e))).length,o=[];r<i;)t=e[r],n&&Iv(n,t)?++r:(n=zv(o=Rv(o,t)),r=0);return n};function Rv(e,t){var n,r;if(Dv(t,e))return[t];for(n=0;n<e.length;++n)if(Lv(t,e[n])&&Dv(Fv(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Lv(Fv(e[n],e[r]),t)&&Lv(Fv(e[n],t),e[r])&&Lv(Fv(e[r],t),e[n])&&Dv(Nv(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Lv(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Iv(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Dv(e,t){for(var n=0;n<t.length;++n)if(!Iv(e,t[n]))return!1;return!0}function zv(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return Fv(e[0],e[1]);case 3:return Nv(e[0],e[1],e[2])}var t}function Fv(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function Nv(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,u=t.r,l=n.x,c=n.y,f=n.r,h=r-a,d=r-l,p=i-s,g=i-c,m=u-o,v=f-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,_=y-l*l-c*c+f*f,w=d*p-h*g,x=(p*_-g*b)/(2*w)-r,O=(g*m-p*v)/w,k=(d*b-h*_)/(2*w)-i,S=(h*v-d*m)/w,E=O*O+S*S-1,C=2*(o+x*O+k*S),A=x*x+k*k-o*o,P=-(E?(C+Math.sqrt(C*C-4*E*A))/(2*E):A/C);return{x:r+x+O*P,y:i+k+S*P,r:P}}function Bv(e,t,n){var r,i,o,a,s=e.x-t.x,u=e.y-t.y,l=s*s+u*u;l?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=e.x-r*s-o*u,n.y=e.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=t.x+r*s-o*u,n.y=t.y+r*u+o*s)):(n.x=t.x+n.r,n.y=t.y)}function Vv(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function $v(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Uv(e){this._=e,this.next=null,this.previous=null}function Wv(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,u,l,c,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;Bv(n,t,r=e[2]),t=new Uv(t),n=new Uv(n),r=new Uv(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){Bv(t._,n._,r=e[s]),r=new Uv(r),u=n.next,l=t.previous,c=n._.r,f=t._.r;do{if(c<=f){if(Vv(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}c+=u._.r,u=u.next}else{if(Vv(l._,r._)){(t=l).next=n,n.previous=t,--s;continue e}f+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=$v(t);(r=r.next)!==n;)(a=$v(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=Mv(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}function Hv(e){return null==e?null:Gv(e)}function Gv(e){if("function"!==typeof e)throw new Error;return e}function qv(){return 0}var Xv=function(e){return function(){return e}};function Zv(e){return Math.sqrt(e.value)}function Kv(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Yv(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Wv(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Jv(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var Qv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey=["colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","x0","x1","y0","y1","r"];function ty(e){var t=e.animation,n=e.getLabel,r=e.mode,i=e.node,o=e.onLeafClick,a=e.onLeafMouseOver,s=e.onLeafMouseOut,u=e.r,l=e.scales,c=e.x0,f=e.x1,h=e.y0,d=e.y1,p=e.style;if(t)return G.a.createElement(Ze,Qv({},e,{animatedProps:ey}),G.a.createElement(ty,Qv({},e,{animation:null})));var g="circlePack"===r,m=l.color(i),v=l.opacity(i),y=zo(m),b=n(i.data),_=Qv({top:g?h-u:h,left:g?c-u:c,width:g?2*u:f-c,height:g?2*u:d-h,background:m,opacity:v,color:y},p,i.data.style);return G.a.createElement("div",{className:"rv-treemap__leaf "+(g?"rv-treemap__leaf--circle":""),onMouseEnter:function(e){return a(i,e)},onMouseLeave:function(e){return s(i,e)},onClick:function(e){return o(i,e)},style:_},G.a.createElement("div",{className:"rv-treemap__leaf__content"},b))}ty.propTypes={animation:Ke,height:o.a.number.isRequired,mode:o.a.string,node:o.a.object.isRequired,onLeafClick:o.a.func,onLeafMouseOver:o.a.func,onLeafMouseOut:o.a.func,scales:o.a.object.isRequired,width:o.a.number.isRequired,r:o.a.number.isRequired,x0:o.a.number.isRequired,x1:o.a.number.isRequired,y0:o.a.number.isRequired,y1:o.a.number.isRequired};var ny=ty,ry=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function iy(e){var t=e.animation,n=e.className,r=e.height,i=e.hideRootNode,o=e.getLabel,a=e.mode,s=e.nodes,u=e.width,l=e.scales,c=e.style,f="circlePack"===a;return G.a.createElement("div",{className:"rv-treemap "+(f?"rv-treemap-circle-packed":"")+" "+n,style:{height:r,width:u}},s.map((function(n,r){if(i&&!r)return null;var a=ry({animation:t,node:n,getLabel:o},e,{x0:f?n.x:n.x0,x1:f?n.x:n.x1,y0:f?n.y:n.y0,y1:f?n.y:n.y1,r:f?n.r:1,scales:l,style:c});return G.a.createElement(ny,ry({},a,{key:"leaf-"+r}))})))}iy.displayName="TreemapDOM";var oy=iy,ay=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ly(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var cy=function(e){function t(){return uy(this,t),ly(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),sy(t,[{key:"getCircularNodes",value:function(){var e=this.props,t=e.animation,n=e.hideRootNode,r=e.nodes,i=e.onLeafMouseOver,o=e.onLeafMouseOut,a=e.onLeafClick,s=e.scales,u=e.style,l=r.reduce((function(e,t,r){if(!r&&n)return e;var i=t.x,o=t.y,a=t.r;return{maxY:Math.max(o+a,e.maxY),minY:Math.min(o-a,e.minY),maxX:Math.max(i+1.2*a,e.maxX),minX:Math.min(i-1.2*a,e.minX),rows:e.rows.concat([{x:i,y:o,size:a,color:s.color(t)}])}}),{rows:[],maxY:-1/0,minY:1/0,maxX:-1/0,minX:1/0}),c=l.rows,f=l.minY,h=l.maxY,d=l.minX,p=l.maxX;return{updatedNodes:G.a.createElement(Ed,{animation:t,className:"rv-treemap__leaf rv-treemap__leaf--circle",onSeriesMouseEnter:i,onSeriesMouseLeave:o,onSeriesClick:a,data:c,colorType:"literal",getColor:function(e){return e.color},sizeType:"literal",getSize:function(e){return e.size},style:u}),minY:f,maxY:h,minX:d,maxX:p}}},{key:"getNonCircularNodes",value:function(){var e=this.props,t=e.animation,n=e.hideRootNode,r=e.nodes,i=e.onLeafMouseOver,o=e.onLeafMouseOut,a=e.onLeafClick,s=e.scales,u=e.style,l=s.color;return r.reduce((function(e,r,s){if(!s&&n)return e;var c=r.x0,f=r.x1,h=r.y1,d=r.y0,p=c,g=d,m=h-d,v=f-c;e.maxY=Math.max(g+m,e.maxY),e.minY=Math.min(g,e.minY),e.maxX=Math.max(p+v,e.maxX),e.minX=Math.min(p,e.minX);var y=[{x:p,y:g},{x:p,y:g+m},{x:p+v,y:g+m},{x:p+v,y:g}];return e.updatedNodes=e.updatedNodes.concat([G.a.createElement(rp,{animation:t,className:"rv-treemap__leaf",key:s,color:l(r),type:"literal",onSeriesMouseEnter:i,onSeriesMouseLeave:o,onSeriesClick:a,data:y,style:ay({},u,r.style)})]),e}),{updatedNodes:[],maxY:-1/0,minY:1/0,maxX:-1/0,minX:1/0})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.mode,i=e.nodes,o=e.width,a="circlePack"===r,s=a?this.getCircularNodes():this.getNonCircularNodes(),u=s.minY,l=s.maxY,c=s.minX,f=s.maxX,h=s.updatedNodes,d=i.reduce((function(e,t){return t.data.title?e.concat(ay({},t.data,{x:t.x0||t.x,y:t.y0||t.y,label:""+t.data.title})):e}),[]);return G.a.createElement(ag,ay({className:"rv-treemap "+(a?"rv-treemap-circle-packed":"")+" "+t,width:o,height:n,yDomain:[l,u],xDomain:[c,f],colorType:"literal",hasTreeStructure:!0},this.props),h,G.a.createElement(dd,{data:d}))}}]),t}(G.a.Component);cy.displayName="TreemapSVG";var fy=cy,hy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var py={squarify:Pv,resquarify:jv,slice:Ev,dice:pv,slicedice:function(e,t,n,r,i){(1&e.depth?Ev:pv)(e,t,n,r,i)},binary:function(e,t,n,r,i){var o,a,s=e.children,u=s.length,l=new Array(u+1);for(l[0]=a=o=0;o<u;++o)l[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,u){if(t>=n-1){var c=s[t];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}var f=l[t],h=r/2+f,d=t+1,p=n-1;for(;d<p;){var g=d+p>>>1;l[g]<h?d=g+1:p=g}h-l[d-1]<l[d]-h&&t+1<d&&--d;var m=l[d]-f,v=r-m;if(a-i>u-o){var y=(i*v+a*m)/r;e(t,d,m,i,o,y,u),e(d,n,v,y,o,a,u)}else{var b=(o*v+u*m)/r;e(t,d,m,i,o,a,b),e(d,n,v,i,b,a,u)}}(0,u,e.value,t,n,r,i)}},gy=function(e){return e},my=["opacity","color"];function vy(e){var t=e.data.children||[],n=dy({},e,Io(e,t,my),{_allData:t});return{opacity:jo(n,"opacity"),color:jo(n,"color")}}var yy=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=dy({scales:vy(e)},Up(e,e.margin)),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hy(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(dy({scales:vy(e)},Up(e,e.margin)))}},{key:"_getNodesToRender",value:function(){var e=this.state,t=e.innerWidth,n=e.innerHeight,r=this.props,i=r.data,o=r.mode,a=r.padding,s=r.sortFunction,u=r.getSize;if(!i)return[];if("partition"===o||"partition-pivot"===o){var l=gv().size("partition-pivot"===o?[n,t]:[t,n]).padding(a)(vv(i).sum(u).sort((function(e,t){return s(e,t,u)}))).descendants();return"partition-pivot"===o?l.map((function(e){return dy({},e,{x0:e.y0,x1:e.y1,y0:e.x0,y1:e.x1})})):l}if("circlePack"===o)return function(){var e=null,t=1,n=1,r=qv;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Kv(e)).eachAfter(Yv(r,.5)).eachBefore(Jv(1)):i.eachBefore(Kv(Zv)).eachAfter(Yv(qv,1)).eachAfter(Yv(r,i.r/Math.min(t,n))).eachBefore(Jv(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=Hv(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:Xv(+e),i):r},i}().size([t,n]).padding(a)(vv(i).sum(u).sort((function(e,t){return s(e,t,u)}))).descendants();var c=py[o];return function(){var e=Pv,t=!1,n=1,r=1,i=[0],o=qv,a=qv,s=qv,u=qv,l=qv;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(dv),e}function f(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,f=t.x1-n,h=t.y1-n;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=h,t.children&&(n=i[t.depth+1]=o(t)/2,r+=l(t)-n,c+=a(t)-n,(f-=s(t)-n)<r&&(r=f=(r+f)/2),(h-=u(t)-n)<c&&(c=h=(c+h)/2),e(t,r,c,f,h))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=Gv(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o="function"===typeof e?e:Xv(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"===typeof e?e:Xv(+e),c):a},c.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:Xv(+e),c):s},c.paddingBottom=function(e){return arguments.length?(u="function"===typeof e?e:Xv(+e),c):u},c.paddingLeft=function(e){return arguments.length?(l="function"===typeof e?e:Xv(+e),c):l},c}().tile(c).size([t,n]).padding(a)(vv(i).sum(u).sort((function(e,t){return s(e,t,u)}))).descendants()}},{key:"render",value:function(){var e=this.props.renderMode,t=this.state.scales,n=this._getNodesToRender(),r="SVG"===e?fy:oy;return G.a.createElement(r,dy({},this.props,{nodes:n,scales:t}))}}]),t}(G.a.Component);yy.displayName="Treemap",yy.propTypes={animation:Ke,className:o.a.string,data:o.a.object.isRequired,height:o.a.number.isRequired,hideRootNode:o.a.bool,margin:Hp,mode:o.a.oneOf(Object.keys(py).concat(["circlePack","partition","partition-pivot"])),onLeafClick:o.a.func,onLeafMouseOver:o.a.func,onLeafMouseOut:o.a.func,useCirclePacking:o.a.bool,padding:o.a.number.isRequired,sortFunction:o.a.func,width:o.a.number.isRequired,getSize:o.a.func,getColor:o.a.func},yy.defaultProps={className:"",colorRange:Zo,_colorValue:Jo,data:{children:[]},hideRootNode:!1,margin:{left:40,right:10,top:10,bottom:40},mode:"squarify",onLeafClick:gy,onLeafMouseOver:gy,onLeafMouseOut:gy,opacityType:Yo,_opacityValue:1,padding:1,sortFunction:function(e,t,n){return n?n(e)-n(t):0},getSize:function(e){return e.size},getColor:function(e){return e.color},getLabel:function(e){return e.title}};var by=n(128),_y=n.n(by),wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Oy=[],ky=null;function Sy(){_y.a.clearTimeout(ky),ky=_y.a.setTimeout(Ey,100)}function Ey(){Oy.forEach((function(e){return e()}))}function Cy(e){return Oy.push(e),1===Oy.length&&_y.a.addEventListener("resize",Sy),function(){!function(e){var t=Oy.indexOf(e);t>-1&&Oy.splice(t,1)}(e),0===Oy.length&&(_y.a.clearTimeout(ky),_y.a.removeEventListener("resize",Sy))}}function Ay(e,t,n){var r=function(r){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t._onResize=function(){var e=Object(ao.a)(t.container),n=e.offsetHeight,r=e.offsetWidth,i=t.state.height===n?{}:{height:n},o=t.state.width===r?{}:{width:r};t.setState(wy({},i,o))},t.state={height:0,width:0},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r),xy(i,null,[{key:"propTypes",get:function(){var t=e.propTypes;t.height,t.width;return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["height","width"])}}]),xy(i,[{key:"componentDidMount",value:function(){this._onResize(),this.cancelSubscription=Cy(this._onResize)}},{key:"componentWillReceiveProps",value:function(){this._onResize()}},{key:"componentWillUnmount",value:function(){this.cancelSubscription()}},{key:"render",value:function(){var r=this,i=this.state,o=i.height,a=i.width,s=wy({},this.props,{animation:0===o&&0===a?null:this.props.animation}),u=wy({},n?{height:o}:{},t?{width:a}:{});return G.a.createElement("div",{ref:function(e){return r.container=e},style:{width:"100%",height:"100%"}},G.a.createElement(e,wy({},u,s)))}}]),i}(G.a.Component);return r.displayName="Flexible"+function(e){return e.displayName||e.name||"Component"}(e),r}Ay(ag,!0,!1),function(e){Ay(e,!1,!0)}(ag),function(e){Ay(e,!0,!0)}(ag)},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(33),i={};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";i[e]=i[e]||1;var t=i[e]++;return"".concat(e,"-").concat(t)}function a(e){return Object(r.a)("number"===typeof e,"Input must be a number"),e&&0===(e&e-1)}function s(e){var t=!0;for(var n in e){t=!1;break}return t}},,,,,function(e,t,n){(function(e){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function e(t,n,r){"string"===typeof t?(2==arguments.length&&(r=n),e.modules[t]||(e.payloads[t]=r,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"===typeof t){var i=o(e,t);if(void 0!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var a=[],s=0,u=t.length;s<u;++s){var l=o(e,t[s]);if(void 0==l&&r.original)return;a.push(l)}return n&&n.apply(null,a)||!0}},r=function e(t,r){var i=n("",t,r);return void 0==i&&e.original?e.original.apply(this,arguments):i},i=function e(t,n){if(-1!==n.indexOf("!")){var r=n.split("!");return e(t,r[0])+"!"+e(t,r[1])}if("."==n.charAt(0))for(n=t.split("/").slice(0,-1).join("/")+"/"+n;-1!==n.indexOf(".")&&i!=n;){var i=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return n},o=function(e,r){r=i(e,r);var o=t.modules[r];if(!o){if("function"===typeof(o=t.payloads[r])){var a={},s={id:r,uri:"",exports:a,packaged:!0};a=o((function(e,t){return n(r,e,t)}),a,s)||s.exports,t.modules[r]=a,delete t.payloads[r]}o=t.modules[r]=a||o}return o};!function(n){var i=e;n&&(e[n]||(e[n]={}),i=e[n]),i.define&&i.define.packaged||(t.original=i.define,i.define=t,i.define.packaged=!0),i.require&&i.require.packaged||(r.original=i.require,i.require=r,i.require.packaged=!0)}("ace")}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(e,t,n){"use strict";"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r="object"==typeof navigator?navigator:{},i=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),o=r.userAgent||"",a=r.appName||"";t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==a||a.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("./useragent");if(t.buildDom=function e(t,n,r){if("string"==typeof t&&t){var i=document.createTextNode(t);return n&&n.appendChild(i),i}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],a=0;a<t.length;a++){var s=e(t[a],n,r);s&&o.push(s)}return o}var u=document.createElement(t[0]),l=t[1],c=1;l&&"object"==typeof l&&!Array.isArray(l)&&(c=2);for(a=c;a<t.length;a++)e(t[a],u,r);return 2==c&&Object.keys(l).forEach((function(e){var t=l[e];"class"===e?u.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?u[e]=t:"ref"===e?r&&(r[t]=u):null!=t&&u.setAttribute(e,t)})),n&&n.appendChild(u),u},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(n=(t=t||document).querySelectorAll("style"))for(;r<n.length;)if(n[r++].id===e)return!0},t.importCssString=function(e,n,r){var i=r;r&&r.getRootNode&&(i=r.getRootNode())&&i!=r||(i=document);var o=i.ownerDocument||i;if(n&&t.hasCssString(n,i))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var a=t.createElement("style");a.appendChild(o.createTextNode(e)),n&&(a.id=n),i==o&&(i=t.getDocumentHead(o)),i.insertBefore(a,i.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var a=n.offsetWidth;i.overflow="scroll";var s=n.offsetWidth;return a==s&&(s=r.clientWidth),o.removeChild(r),a-s},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!==typeof window&&window.devicePixelRatio>=1.5,"undefined"!==typeof document){var i=document.createElement("div");t.HI_DPI&&void 0!==i.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||"undefined"===typeof i.style.animationName||(t.HAS_CSS_ANIMATION=!0),i=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r,i=e("./keys"),o=e("./useragent"),a=null,s=0;function u(){return void 0==r&&function(){r=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){r={passive:!1}}})}catch(e){}}(),r}function l(e,t,n){this.elem=e,this.type=t,this.callback=n}l.prototype.destroy=function(){f(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var c=t.addListener=function(e,t,n,r){e.addEventListener(t,n,u()),r&&r.$toDestroy.push(new l(e,t,n))},f=t.removeListener=function(e,t,n){e.removeEventListener(t,n,u())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var r=e&&e.ownerDocument||document;function i(e){t&&t(e),n&&n(e),f(r,"mousemove",t),f(r,"mouseup",i),f(r,"dragstart",i)}return c(r,"mousemove",t),c(r,"mouseup",i),c(r,"dragstart",i),i},t.addMouseWheelListener=function(e,t,n){"onmousewheel"in e?c(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}),n):"onwheel"in e?c(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}),n):c(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)}),n)},t.addMultiMouseDownListener=function(e,n,r,i,a){var s,u,l,f=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};function d(e){if(0!==t.getButton(e)?f=0:e.detail>1?++f>4&&(f=1):f=1,o.isIE){var a=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-u)>5;l&&!a||(f=1),l&&clearTimeout(l),l=setTimeout((function(){l=null}),n[f-1]||600),1==f&&(s=e.clientX,u=e.clientY)}if(e._clicks=f,r[i]("mousedown",e),f>4)f=0;else if(f>1)return r[i](h[f],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){c(e,"mousedown",d,a)}))};var h=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function d(e,t,n){var r=h(t);if(!o.isMac&&a){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),a.altGr){if(3==(3&r))return;a.altGr=0}if(18===n||17===n){var u="location"in t?t.location:t.keyLocation;if(17===n&&1===u)1==a[n]&&(s=t.timeStamp);else if(18===n&&3===r&&2===u){t.timeStamp-s<50&&(a.altGr=!0)}}}if((n in i.MODIFIER_KEYS&&(n=-1),!r&&13===n)&&(3===(u="location"in t?t.location:t.keyLocation)&&(e(t,r,-n),t.defaultPrevented)))return;if(o.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS)&&e(t,r,n)}function p(){a=Object.create(null)}if(t.getModifierString=function(e){return i.KEY_MODS[h(e)]},t.addCommandKeyListener=function(e,n,r){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var i=null;c(e,"keydown",(function(e){i=e.keyCode}),r),c(e,"keypress",(function(e){return d(n,e,i)}),r)}else{var s=null;c(e,"keydown",(function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=d(n,e,e.keyCode);return s=e.defaultPrevented,t}),r),c(e,"keypress",(function(e){s&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),s=null)}),r),c(e,"keyup",(function(e){a[e.keyCode]=null}),r),a||(p(),c(window,"focus",p))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+g++;c(n,"message",(function i(o){o.data==r&&(t.stopPropagation(o),f(n,"message",i),e())})),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var r=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(r.row,r.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(r.row,r.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var i={row:t+1,column:0};else if(this.start.row<e)i={row:e,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var i={row:e,column:t};else var o={row:e,column:t};return r.fromPoints(i||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new r(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!==typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var r in n={},t)n[r]=e(t[r]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function e(r){return e.cancel(),t=setTimeout(n,r||0),e};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var r;n.exports={lineMode:!1,pasteCancelled:function(){return!!(r&&r>Date.now()-50)||(r=!1)},cancel:function(){r=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),a=e("../lib/lang"),s=e("../clipboard"),u=i.isChrome<18,l=i.isIE,c=i.isChrome>63,f=400,h=e("../lib/keys"),d=h.KEY_MODS,p=i.isIOS,g=p?/\s/:/\n/,m=i.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var v=!1,y=!1,b=!1,_=!1,w="";m||(n.style.fontSize="1px");var x=!1,O=!1,k="",S=0,E=0,C=0;try{var A=document.activeElement===n}catch(G){}r.addListener(n,"blur",(function(e){O||(t.onBlur(e),A=!1)}),t),r.addListener(n,"focus",(function(e){if(!O){if(A=!0,i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(P):P()}}),t),this.$focusScroll=!1,this.focus=function(){if(w||c||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(G){return}var r=[];if(t)for(var i=n.parentElement;i&&1==i.nodeType;)r.push(i),i.setAttribute("ace_nocontext",!0),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;n.focus({preventScroll:!0}),t&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return A},t.on("beforeEndOperation",(function(){var e=t.curOp,r=e&&e.command&&e.command.name;if("insertstring"!=r){var i=r&&(e.docChanged||e.selectionChanged);b&&i&&(k=n.value="",B()),P()}}));var P=p?function(e){if(A&&(!v||e)&&!_){e||(e="");var r="\n ab"+e+"cde fg\n";r!=n.value&&(n.value=k=r);var i=4+(e.length||(t.selection.isEmpty()?0:1));4==S&&E==i||n.setSelectionRange(4,i),S=4,E=i}}:function(){if(!b&&!_&&(A||T)){b=!0;var e=0,r=0,i="";if(t.session){var o=t.selection,a=o.getRange(),s=o.cursor.row;if(e=a.start.column,r=a.end.column,i=t.session.getLine(s),a.start.row!=s){var u=t.session.getLine(s-1);e=a.start.row<s-1?0:e,r+=u.length+1,i=u+"\n"+i}else if(a.end.row!=s){var l=t.session.getLine(s+1);r=a.end.row>s+1?l.length:r,r+=i.length+1,i=i+"\n"+l}else m&&s>0&&(i="\n"+i,r+=1,e+=1);i.length>f&&(e<f&&r<f?i=i.slice(0,f):(i="\n",e==r?e=r=0:(e=0,r=1)))}var c=i+"\n\n";if(c!=k&&(n.value=k=c,S=E=c.length),T&&(S=n.selectionStart,E=n.selectionEnd),E!=r||S!=e||n.selectionEnd!=E)try{n.setSelectionRange(e,r),S=e,E=r}catch(G){}b=!1}};this.resetSelection=P,A&&t.onFocus();var j=null;this.setInputHandler=function(e){j=e},this.getInputHandler=function(){return j};var T=!1,M=function(e,r){if(T&&(T=!1),y)return P(),e&&t.onPaste(e),y=!1,"";for(var o=n.selectionStart,a=n.selectionEnd,s=S,u=k.length-E,l=e,c=e.length-o,f=e.length-a,h=0;s>0&&k[h]==e[h];)h++,s--;for(l=l.slice(h),h=1;u>0&&k.length-h>S-1&&k[k.length-h]==e[e.length-h];)h++,u--;c-=h-1,f-=h-1;var d=l.length-h+1;if(d<0&&(s=-d,d=0),l=l.slice(0,d),!r&&!l&&!c&&!s&&!u&&!f)return"";_=!0;var p=!1;return i.isAndroid&&". "==l&&(l="  ",p=!0),l&&!s&&!u&&!c&&!f||x?t.onTextInput(l):t.onTextInput(l,{extendLeft:s,extendRight:u,restoreStart:c,restoreEnd:f}),_=!1,k=e,S=o,E=a,C=f,p?"\n":l},R=function(e){if(b)return N();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var r=n.value,i=M(r,!0);(r.length>500||g.test(i)||m&&S<1&&S==E)&&P()},L=function e(t,n,r){var i=t.clipboardData||window.clipboardData;if(i&&!u){var o=l||r?"Text":"text/plain";try{return n?!1!==i.setData(o,n):i.getData(o)}catch(t){if(!r)return e(t,n,!0)}}},I=function(e,i){var o=t.getCopyText();if(!o)return r.preventDefault(e);L(e,o)?(p&&(P(o),v=o,setTimeout((function(){v=!1}),10)),i?t.onCut():t.onCopy(),r.preventDefault(e)):(v=!0,n.value=o,n.select(),setTimeout((function(){v=!1,P(),i?t.onCut():t.onCopy()})))},D=function(e){I(e,!0)},z=function(e){I(e,!1)},F=function(e){var o=L(e);s.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(P),r.preventDefault(e)):(n.value="",y=!0))};r.addCommandKeyListener(n,t.onCommandKey.bind(t),t),r.addListener(n,"select",(function(e){b||(v?v=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=k.length&&e.value===k&&k&&e.selectionEnd!==E}(n)?m&&n.selectionStart!=S&&P():(t.selectAll(),P()))}),t),r.addListener(n,"input",R,t),r.addListener(n,"cut",D,t),r.addListener(n,"copy",z,t),r.addListener(n,"paste",F,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||r.addListener(e,"keydown",(function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:z(e);break;case 86:F(e);break;case 88:D(e)}}),t);var N=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(x)return V();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;M(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+E-b.selectionStart+C)}}},B=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",V),e&&R())};function V(){O=!0,n.blur(),n.focus(),O=!1}var $,U=a.delayedCall(N,50).schedule.bind(null,null);function W(){clearTimeout($),$=setTimeout((function(){w&&(n.style.cssText=w,w=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}r.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!x)){e.data&&(b.useTextareaForIME=!1),setTimeout(N,0),t._signal("compositionStart"),t.on("mousedown",V);var r=t.getSelectionRange();r.end.row=r.start.row,r.end.column=r.start.column,b.markerRange=r,b.selectionStart=S,t.onCompositionStart(b),b.useTextareaForIME?(k=n.value="",S=0,E=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),r.addListener(n,"compositionupdate",N,t),r.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(k=n.value),S=E=-1,P()),U()}),t),r.addListener(n,"keydown",U,t),r.addListener(n,"compositionend",B,t),this.getElement=function(){return n},this.setCommandMode=function(e){x=e,n.readOnly=!1},this.setReadOnly=function(e){x||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){T=!0,P(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,a){w||(w=n.style.cssText),n.style.cssText=(a?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+E)*t.renderer.characterWidth*.5+"px;";var s=t.container.getBoundingClientRect(),u=o.computedStyle(t.container),l=s.top+(parseInt(u.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),f=s.bottom-l-n.clientHeight-2,h=function(e){o.translate(n,e.clientX-c-2,Math.min(e.clientY-l-2,f))};h(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout($),i.isWin&&r.capture(t.container,h,W))},this.onContextMenuClose=W;var H=function(e){t.textInput.onContextMenu(e),W()};r.addListener(n,"mouseup",H,t),r.addListener(n,"mousedown",(function(e){e.preventDefault(),W()}),t),r.addListener(t.renderer.scroller,"contextmenu",H,t),r.addListener(n,"contextmenu",H,t),p&&function(e,t,n){var r=null,i=!1;n.addEventListener("keydown",(function(e){r&&clearTimeout(r),i=!0}),!0),n.addEventListener("keyup",(function(e){r=setTimeout((function(){i=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(i||b||t.$mouseHandler.isMousePressed)&&!v){var r=n.selectionStart,o=n.selectionEnd,a=null,s=0;if(0==r?a=h.up:1==r?a=h.home:o>E&&"\n"==k[o]?a=h.end:r<S&&" "==k[r-1]?(a=h.left,s=d.option):r<S||r==S&&E!=S&&r==o?a=h.left:o>E&&k.slice(0,o).split("\n").length>2?a=h.down:o>E&&" "==k[o-1]?(a=h.right,s=d.option):(o>E||o==E&&E!=S&&r==o)&&(a=h.right),r!==o&&(s|=d.shift),a){if(!t.onCommandKey({},s,a)&&t.commands){a=h.keyCodeToString(a);var u=t.commands.findKeyCommand(s,a);u&&t.execCommand(u)}S=r,E=o,P("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,n)},t.$setUserAgentForTests=function(e,t){m=e,p=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/useragent");function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();return 0!==o?((i.getSelectionRange().isEmpty()||1==o)&&i.selection.moveToPosition(n),void(2==o&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=o(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var a=this.$clickSelection.comparePoint(i.start),s=this.$clickSelection.comparePoint(i.end);if(-1==a&&s<=0)t=this.$clickSelection.end,i.end.row==r.row&&i.end.column==r.column||(r=i.start);else if(1==s&&a>=0)t=this.$clickSelection.start,i.start.row==r.row&&i.start.column==r.column||(r=i.end);else if(-1==a&&1==s)r=i.end,t=i.start;else{var u=o(this.$clickSelection,r);r=u.cursor,t=u.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,r,i=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,r=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))),o=Date.now();(i>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,o=i?e.wheelX/i:n.vx,a=i?e.wheelY/i:n.vy;i<550&&(o=(o+n.vx)/2,a=(a+n.vy)/2);var s=Math.abs(o/a),u=!1;if(s>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(u=!0),s<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(u=!0),u)n.allowed=r;else if(r-n.allowed<550){Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(a)<=1.5*Math.abs(n.vy)?(u=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=o,n.vy=a,u?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(i.prototype),t.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var r=e("./lib/dom");function i(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),t.Tooltip=i})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/event"),a=e("../tooltip").Tooltip;function s(e){a.call(this,e)}i.inherits(s,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();(e+=15)+i>n&&(e-=e+i-n),(t+=15)+o>r&&(t-=20+o),a.prototype.setPosition.call(this,e,t)}}.call(s.prototype),t.GutterHandler=function(e){var t,n,i,a=e.editor,u=a.renderer.$gutterLayer,l=new s(a.container);function c(){t&&(t=clearTimeout(t)),i&&(l.hide(),i=null,a._signal("hideGutterTooltip",l),a.off("mousewheel",c))}function f(e){l.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(a.isFocused()&&0==t.getButton()&&"foldWidgets"!=u.getRegion(t)){var n=t.getDocumentPosition().row,r=a.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var s=o.domEvent.target||o.domEvent.srcElement;if(r.hasCssClass(s,"ace_fold-widget"))return c();i&&e.$tooltipFollowsMouse&&f(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,r=u.$annotations[t];if(!r)return c();if(t==a.session.getLength()){var o=a.renderer.pixelToScreenCoordinates(0,n.y).row,s=n.$pos;if(o>a.session.documentToScreenRow(s.row,s.column))return c()}if(i!=r)if(i=r.text.join("<br/>"),l.setHtml(i),l.show(),a._signal("showGutterTooltip",l),a.on("mousewheel",c),e.$tooltipFollowsMouse)f(n);else{var h=n.domEvent.target.getBoundingClientRect(),d=l.getElement().style;d.left=h.right+"px",d.top=h.bottom+"px"}}():c()}),50))})),o.addListener(a.renderer.$gutter,"mouseout",(function(e){n=null,i&&!t&&(t=setTimeout((function(){t=null,c()}),50))}),a),a.on("changeSession",c)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/event"),o=e("../lib/useragent");function a(e){var t=e.editor,n=r.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var a,u,l,c,f,h,d,p,g,m,v,y=t.container,b=0;function _(){var e=h;(function(e,n){var r=Date.now(),i=!n||e.row!=n.row,o=!n||e.column!=n.column;!m||i||o?(t.moveCursorToPosition(e),m=r,v={x:u,y:l}):s(v.x,v.y,u,l)>5?m=null:r-m>=200&&(t.renderer.scrollCursorIntoView(),m=null)})(h=t.renderer.screenToTextCoordinates(u,l),e),function(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,a=t.renderer.scroller.getBoundingClientRect(),s={x:{left:u-a.left,right:a.right-u},y:{top:l-a.top,bottom:a.bottom-l}},c=Math.min(s.x.left,s.x.right),f=Math.min(s.y.top,s.y.bottom),h={row:e.row,column:e.column};c/o<=2&&(h.column+=s.x.left<s.x.right?-3:2),f/i<=1&&(h.row+=s.y.top<s.y.bottom?-1:1);var d=e.row!=h.row,p=e.column!=h.column,m=!n||e.row!=n.row;d||p&&!m?g?r-g>=200&&t.renderer.scrollCursorIntoView(h):g=r:g=null}(h,e)}function w(){f=t.selection.toOrientedRange(),a=t.session.addMarker(f,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),_(),c=setInterval(_,20),b=0,i.addListener(document,"mousemove",k)}function x(){clearInterval(c),t.session.removeMarker(a),a=null,t.selection.fromOrientedRange(f),t.isFocused()&&!p&&t.$resetCursorStyle(),f=null,h=null,b=0,g=null,m=null,i.removeListener(document,"mousemove",k)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var r=this;return setTimeout((function(){r.startSelect(),r.captureMouse(e)}),0),e.preventDefault()}f=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(n),n.scrollTop=0),i.setDragImage&&i.setDragImage(n,0,0),o.isOpera&&t.container.removeChild(n),i.clearData(),i.setData("Text",t.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,p=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;d||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return u=e.clientX,l=e.clientY,a||w(),b++,e.dataTransfer.dropEffect=d=E(e),i.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return u=e.clientX,l=e.clientY,a||(w(),b++),null!==O&&(O=null),e.dataTransfer.dropEffect=d=E(e),i.preventDefault(e)},this.onDragLeave=function(e){if(--b<=0&&a)return x(),d=null,i.preventDefault(e)},this.onDrop=function(e){if(h){var n=e.dataTransfer;if(p)switch(d){case"move":f=f.contains(h.row,h.column)?{start:h,end:h}:t.moveText(f,h);break;case"copy":f=t.moveText(f,h,!0)}else{var r=n.getData("Text");f={start:h,end:t.session.insert(h,r)},t.focus(),d=null}return x(),i.preventDefault(e)}},i.addListener(y,"dragstart",this.onDragStart.bind(e),t),i.addListener(y,"dragend",this.onDragEnd.bind(e),t),i.addListener(y,"dragenter",this.onDragEnter.bind(e),t),i.addListener(y,"dragover",this.onDragOver.bind(e),t),i.addListener(y,"dragleave",this.onDragLeave.bind(e),t),i.addListener(y,"drop",this.onDrop.bind(e),t);var O=null;function k(){null==O&&(O=setTimeout((function(){null!=O&&a&&x()}),20))}function S(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function E(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var i="none";return n&&t.indexOf(r)>=0?i="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(r)>=0?i="move":t.indexOf(r)>=0&&(i="copy"),i}}function s(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&(s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var i=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in i&&(i.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(a.prototype),t.DragdropHandler=a})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./mouse_event").MouseEvent,i=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,a,s,u,l,c,f,h,d,p="scroll",g=0,m=0,v=0,y=0;function b(){var e=window.navigator&&window.navigator.clipboard,n=!1,r=function(r){var i=r.target.getAttribute("action");if("more"==i||!n)return n=!n,function(){var r=t.getCopyText(),i=t.session.getUndoManager().hasUndo();d.replaceChild(o.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],i&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),d.firstChild)}();"paste"==i?e.readText().then((function(e){t.execCommand(i,e)})):i&&("cut"!=i&&"copy"!=i||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(i)),d.firstChild.style.display="none",n=!1,"openCommandPallete"!=i&&t.focus()};d=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){p="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),r(e)},onclick:r},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function _(){d||b();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.renderer.textToScreenCoordinates(0,0).pageX,i=t.renderer.scrollLeft,o=t.container.getBoundingClientRect();d.style.top=n.pageY-o.top-3+"px",n.pageX-o.left<o.width-70?(d.style.left="",d.style.right="10px"):(d.style.right="",d.style.left=r+i-o.left+"px"),d.style.display="",d.firstChild.style.display="none",t.on("input",w)}function w(e){d&&(d.style.display="none"),t.off("input",w)}function x(){l=null,clearTimeout(l);var e=t.selection.getRange(),n=e.contains(f.row,f.column);!e.isEmpty()&&n||(t.selection.moveToPosition(f),t.selection.selectWord()),p="wait",_()}i.addListener(e,"contextmenu",(function(e){h&&t.textInput.getElement().focus()}),t),i.addListener(e,"touchstart",(function(e){var i=e.touches;if(l||i.length>1)return clearTimeout(l),l=null,s=-1,void(p="zoom");h=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,c=t.renderer.layerConfig.lineHeight,d=e.timeStamp;u=d;var b=i[0],_=b.clientX,w=b.clientY;Math.abs(n-_)+Math.abs(a-w)>o&&(s=-1),n=e.clientX=_,a=e.clientY=w,v=y=0;var O=new r(e,t);if(f=O.getDocumentPosition(),d-s<500&&1==i.length&&!g)m++,e.preventDefault(),e.button=0,function(){l=null,clearTimeout(l),t.selection.moveToPosition(f);var e=m>=2?t.selection.getLineRange(f.row):t.session.getBracketRange(f);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),p="wait"}();else{m=0;var k=t.selection.cursor,S=t.selection.isEmpty()?k:t.selection.anchor,E=t.renderer.$cursorLayer.getPixelPosition(k,!0),C=t.renderer.$cursorLayer.getPixelPosition(S,!0),A=t.renderer.scroller.getBoundingClientRect(),P=t.renderer.layerConfig.offset,j=t.renderer.scrollLeft,T=function(e,t){return(e/=c)*e+(t=t/o-.75)*t};if(e.clientX<A.left)return void(p="zoom");var M=T(e.clientX-A.left-E.left+j,e.clientY-A.top-E.top+P),R=T(e.clientX-A.left-C.left+j,e.clientY-A.top-C.top+P);M<3.5&&R<3.5&&(p=M>R?"cursor":"anchor"),p=R<3.5?"anchor":M<3.5?"cursor":"scroll",l=setTimeout(x,450)}s=d}),t),i.addListener(e,"touchend",(function(e){h=t.$mouseHandler.isMousePressed=!1,c&&clearInterval(c),"zoom"==p?(p="",g=0):l?(t.selection.moveToPosition(f),g=0,_()):"scroll"==p?(g+=60,c=setInterval((function(){g--<=0&&(clearInterval(c),c=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),g<20&&(v*=.9),g<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(g=0)}),10),w()):_(),clearTimeout(l),l=null}),t),i.addListener(e,"touchmove",(function(e){l&&(clearTimeout(l),l=null);var i=e.touches;if(!(i.length>1||"zoom"==p)){var o=i[0],s=n-o.clientX,c=a-o.clientY;if("wait"==p){if(!(s*s+c*c>4))return e.preventDefault();p="cursor"}n=o.clientX,a=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var f=e.timeStamp,h=f-u;if(u=f,"scroll"==p){var d=new r(e,t);d.speed=1,d.wheelX=s,d.wheelY=c,10*Math.abs(s)<Math.abs(c)&&(s=0),10*Math.abs(c)<Math.abs(s)&&(c=0),0!=h&&(v=s/h,y=c/h),t._emit("mousewheel",d),d.propagationStopped||(v=y=0)}else{var g=new r(e,t).getDocumentPosition();"cursor"==p?t.selection.moveCursorToPosition(g):"anchor"==p&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var a=0;a<n.length&&(n[a](t,this),!t.propagationStopped);a++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;if(this.on(e,(function r(){n.off(e,r),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);-1!=o&&i.splice(o,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=r})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var r=e("./oop"),i=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return a('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:a('misspelled option "'+e+'"')}};function a(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var u=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)})),r.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=a,this.reportError=s}).call(u.prototype),t.AppConfig=u})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,r){var i=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;r.exports=t=new a;var s=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return u[e]},t.set=function(e,t){if(u.hasOwnProperty(e))u[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},t.all=function(){return i.copyObject(u)},t.$modes={},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var n=e.split("/"),r="snippets"==(t=t||n[n.length-2]||"")?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var a=u[t+"Path"];return null==a?a=u.basePath:"/"==r&&(t=r=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,a;Array.isArray(n)&&(a=n[0],n=n[1]);try{i=e(n)}catch(u){}if(i&&!t.$loading[n])return r&&r(i);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var s=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return s();o.loadScript(t.moduleUrl(n,a),s),l()}};var l=function(){u.basePath||u.workerPath||u.modePath||u.themePath||Object.keys(u.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),l=function(){})};function c(i){if(s&&s.document){u.packaged=i||e.packaged||r.packaged||s.define&&n(237).packaged;for(var o,a={},l="",c=document.currentScript||document._currentScript,f=(c&&c.ownerDocument||document).getElementsByTagName("script"),h=0;h<f.length;h++){var d=f[h],p=d.src||d.getAttribute("src");if(p){for(var g=d.attributes,m=0,v=g.length;m<v;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(a[(o=y.name.replace(/^data-ace-/,""),o.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=y.value)}var b=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(l=b[1])}}for(var _ in l&&(a.base=a.base||l,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base,a)"undefined"!==typeof a[_]&&t.set(_,a[_])}}c(!0),t.init=c,t.version="1.4.12"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,a=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,u=e("./dragdrop_handler").DragdropHandler,l=e("./touch_handler").addTouchListeners,c=e("../config"),f=function(e){var t=this;this.editor=e,new o(this),new a(this),new u(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},s=e.renderer.getMouseEventTarget();r.addListener(s,"click",this.onMouseEvent.bind(this,"click"),e),r.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),r.addMultiMouseDownListener([s,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),l(e.container,e);var c=e.renderer.$gutter;r.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),r.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick"),e),r.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),r.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),r.addListener(s,"mousedown",n,e),r.addListener(c,"mousedown",n,e),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),r.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var a=this,u=function(e){if(e){if(i.isWebKit&&!e.which&&a.releaseMouse)return a.releaseMouse();a.x=e.clientX,a.y=e.clientY,t&&t(e),a.mouseEvent=new s(e,a.editor),a.$mouseMoved=!0}},l=function(e){n.off("beforeEndOperation",f),clearInterval(h),c(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",a.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e),n.endOperation()},c=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){l(e)}));var f=function(e){a.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};n.on("beforeEndOperation",f),n.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=u,a.releaseMouse=r.capture(this.editor.container,u,l);var h=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(f.prototype),c.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=f})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),i=e.session,o=i.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?i.removeFold(o):i.expandFold(o),t.stop());var a=t.domEvent&&t.domEvent.target;a&&r.hasCssClass(a,"ace_inline_button")&&r.hasCssClass(a,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,i=r.getParentFoldRangeData(n,!0),o=i.range||i.firstRange;if(o){n=o.start.row;var a=r.getFoldAt(n,r.getLine(n).length,1);a?r.removeFold(a):(r.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,a=!1,s=this.$editor.commands,u=this.$handlers.length;u--&&!((o=this.$handlers[u].handleKeyboard(this.$data,e,t,n,r))&&o.command&&((a="null"==o.command||s.exec(o.command,this.$editor,o.args,r))&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),a)););return a||-1!=e||(o={command:"insertstring"},a=s.exec("insertstring",this.$editor,t)),a&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),a},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var r=0,i=0,o=!1,a=!1,s=!1,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=11,f=18,h=[f,f,f,f,f,f,f,f,f,6,5,6,8,5,f,f,f,f,f,f,f,f,f,f,f,f,f,f,5,5,5,6,8,4,4,c,c,c,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,f,f,f,f,f,f,5,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,9,4,c,c,c,c,4,4,4,4,0,4,4,f,4,4,c,c,2,2,4,0,4,4,4,2,0,4,4,4,4,4],d=[8,8,8,8,8,8,8,8,8,8,8,f,f,f,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,c,c,c,c,c,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function p(e,t,n){if(!(i<e))if(1!=e||1!=r||a)for(var o,s,u,l,c=n.length,f=0;f<c;){if(t[f]>=e){for(o=f+1;o<c&&t[o]>=e;)o++;for(s=f,u=o-1;s<u;s++,u--)l=n[s],n[s]=n[u],n[u]=l;f=o}f++}else n.reverse()}function g(e,t,n,i){var u,l,h,d,p=t[i];switch(p){case 0:case 1:o=!1;case 4:case 3:return p;case 2:return o?3:2;case 7:return o=!0,!0,1;case 8:return 4;case 9:return i<1||i+1>=t.length||2!=(u=n[i-1])&&3!=u||2!=(l=t[i+1])&&3!=l?4:(o&&(l=3),l==u?l:4);case 10:return 2==(u=i>0?n[i-1]:5)&&i+1<t.length&&2==t[i+1]?2:4;case c:if(i>0&&2==n[i-1])return 2;if(o)return 4;for(d=i+1,h=t.length;d<h&&t[d]==c;)d++;return d<h&&2==t[d]?2:4;case 12:for(h=t.length,d=i+1;d<h&&12==t[d];)d++;if(d<h){var g=e[i],m=g>=1425&&g<=2303||64286==g;if(u=t[d],m&&(1==u||7==u))return 1}return i<1||5==(u=t[i-1])?4:n[i-1];case 5:return o=!1,a=!0,r;case 6:return s=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case f:return 4}}function m(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:h[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?c:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?d[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xb7",t.doBidiReorder=function(e,n,c){if(e.length<2)return{};var h=e.split(""),d=new Array(h.length),v=new Array(h.length),y=[];r=c?1:0,function(e,t,n,c){var f=r?l:u,h=null,d=null,p=null,v=0,y=null,b=-1,_=null,w=null,x=[];if(!c)for(_=0,c=[];_<n;_++)c[_]=m(e[_]);for(i=r,o=!1,!1,a=!1,s=!1,w=0;w<n;w++){if(h=v,x[w]=d=g(e,c,x,w),y=240&(v=f[h][d]),v&=15,t[w]=p=f[v][5],y>0)if(16==y){for(_=b;_<w;_++)t[_]=1;b=-1}else b=-1;if(f[v][6])-1==b&&(b=w);else if(b>-1){for(_=b;_<w;_++)t[_]=p;b=-1}5==c[w]&&(t[w]=0),i|=p}if(s)for(_=0;_<n;_++)if(6==c[_]){t[_]=r;for(var O=_-1;O>=0&&8==c[O];O--)t[O]=r}}(h,y,h.length,n);for(var b=0;b<d.length;d[b]=b,b++);p(2,y,d),p(1,y,d);for(b=0;b<d.length-1;b++)3===n[b]?y[b]=t.AN:1===y[b]&&(n[b]>7&&n[b]<13||4===n[b]||n[b]===f)?y[b]=t.ON_R:b>0&&"\u0644"===h[b-1]&&/\u0622|\u0623|\u0625|\u0627/.test(h[b])&&(y[b-1]=y[b]=t.R_H,b++);h[h.length-1]===t.DOT&&(y[h.length-1]=t.B),"\u202b"===h[0]&&(y[0]=t.RLE);for(b=0;b<d.length;b++)v[b]=y[d[b]];return{logicalFromVisual:d,bidiLevels:v}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=m(e.charAt(r)),n||1!=t[r]&&7!=t[r]&&3!=t[r]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("./lib/bidiutil"),i=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===r;)r=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?n:r.DOT)}else this.line+=this.showInvisibles?n:r.DOT;var a,s=this.session,u=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||s.isFullWidth(e.charCodeAt(0))?(a="\t"===e?s.getScreenTabSize(t+u):2,u+=a-1,i.stringRepeat(r.DOT,a)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("\u05d4");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=.45*n,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=n.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,i=r.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,a=0;!this.session.getOverwrite()&&e<=t&&o[i]%2!==0&&i++;for(var s=0;s<i;s++)a+=this.charWidths[o[s]];return!this.session.getOverwrite()&&e>t&&o[i]%2===0&&(a+=this.charWidths[o[i]]),this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(a+=this.rtlLineOffset),a},this.getSelections=function(e,t){var n,r=this.bidiMap,i=r.bidiLevels,o=[],a=0,s=Math.min(e,t)-this.wrapIndent,u=Math.max(e,t)-this.wrapIndent,l=!1,c=!1,f=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,d=0;d<i.length;d++)h=r.logicalFromVisual[d],n=i[d],(l=h>=s&&h<u)&&!c?f=a:!l&&c&&o.push({left:f,width:a-f}),a+=this.charWidths[n],c=l;if(l&&d===i.length&&o.push({left:f,width:a-f}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),r=0,i=this.bidiMap.bidiLevels,o=this.charWidths[i[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,r===i.length-1){o=0;break}o=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!==0&&i[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2===0&&i[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&0===o&&i[r-1]%2===0||!this.isRtlDir&&0===r&&i[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!==0&&0!==o&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(a.prototype),t.BidiHandler=a})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(e,t,n,r){if(!this.$silent){var i=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,!0===t?new a(r,0,n,this.session.getLine(n).length):new a(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column).match(/^\s*/);i[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=i[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o=i.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(i.lastIndex=0;(t=e[n])&&!i.test(t);)if(i.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return i.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var a=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+a)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),a=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-a)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var o=this.session.screenToDocumentPosition(r.row+e,r.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(r){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var r=e("./config"),i=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},a="g",s=[],u=0;u<n.length;u++){var l=n[u];if(l.defaultToken&&(o.defaultToken=l.defaultToken),l.caseInsensitive&&(a="gi"),null!=l.regex){l.regex instanceof RegExp&&(l.regex=l.regex.toString().slice(1,-1));var c=l.regex,f=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(l.token)?1==l.token.length||1==f?l.token=l.token[0]:f-1!=l.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:l,groupCount:f-1}),l.token=l.token[0]):(l.tokenArray=l.token,l.token=null,l.onMatch=this.$arrayTokens):"function"!=typeof l.token||l.onMatch||(l.onMatch=f>1?this.$applyToken:l.token),f>1&&(/\\\d/.test(l.regex)?c=l.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+i+1)})):(f=1,c=this.removeCapturingGroups(l.regex)),l.splitRegex||"string"==typeof l.token||s.push(l)),o[i]=u,i+=f,r.push(c),l.onMatch||(l.onMatch=null)}}r.length||(o[0]=0,r.push("$")),s.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,a)}),this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",a)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"===typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;i<o;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;i<o;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,a,s,u){return r?r="]"!=s:s?r=!0:a?(n==i.stack&&(i.end=u+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=u)),e})),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var a=this.matchMappings[r],s=this.regExps[r];s.lastIndex=0;for(var u,l=[],c=0,f=0,h={type:null,value:""};u=s.exec(e);){var d=a.defaultToken,p=null,g=u[0],m=s.lastIndex;if(m-g.length>c){var v=e.substring(c,m-g.length);h.type==d?h.value+=v:(h.type&&l.push(h),h={type:d,value:v})}for(var y=0;y<u.length-2;y++)if(void 0!==u[y+1]){d=(p=o[a[y]]).onMatch?p.onMatch(g,r,n,e):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,n),(o=this.states[r])||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),a=this.matchMappings[r],c=m,(s=this.regExps[r]).lastIndex=m),p.consumeLineEnd&&(c=m);break}if(g)if("string"===typeof d)p&&!1===p.merge||h.type!==d?(h.type&&l.push(h),h={type:d,value:g}):h.value+=g;else if(d){h.type&&l.push(h),h={type:null,value:""};for(y=0;y<d.length;y++)l.push(d[y])}if(c==e.length)break;if(c=m,f++>i){for(f>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)h.type&&l.push(h),h={value:e.substring(c,c+=500),type:"overflow"};r="start",n=[];break}}return h.type&&l.push(h),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:l,state:n.length?n:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var a="function"==typeof e?(new e).getRules():e;if(i)for(var s=0;s<i.length;s++)i[s]=t+i[s];else for(var u in i=[],a)i.push(t+u);if(this.addRules(a,t),n){var l=Array.prototype[o?"push":"unshift"];for(s=0;s<i.length;s++)l.apply(this.$rules[i[s]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;Object.keys(r).forEach((function i(o){var a=r[o];a.processed=!0;for(var s=0;s<a.length;s++){var u=a[s],l=null;Array.isArray(u)&&(l=u,u={}),!u.regex&&u.start&&(u.regex=u.start,u.next||(u.next=[]),u.next.push({defaultToken:u.token},{token:u.token+".end",regex:u.end||u.start,next:"pop"}),u.token=u.token+".start",u.push=!0);var c=u.next||u.push;if(c&&Array.isArray(c)){var f=u.stateName;f||("string"!=typeof(f=u.token)&&(f=f[0]||""),r[f]&&(f+=n++)),r[f]=c,u.next=f,i(f)}else"pop"==c&&(u.next=t);if(u.push&&(u.nextState=u.next||u.push,u.next=e,delete u.push),u.rules)for(var h in u.rules)r[h]?r[h].push&&r[h].push.apply(r[h],u.rules[h]):r[h]=u.rules[h];var d="string"==typeof u?u:u.include;if(d&&(l=Array.isArray(d)?d.map((function(e){return r[e]})):r[d]),l){var p=[s,1].concat(l);u.noEscape&&(p=p.filter((function(e){return!e.next}))),a.splice.apply(a,p),s--}u.keywordMap&&(u.token=this.createKeywordMapper(u.keywordMap,u.defaultToken||"text",u.caseInsensitive),delete u.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(r||"|"),a=o.length;a--;){var s=o[a];this.$keywordList.push(s),n&&(s=s.toLowerCase()),i[s]=t}}),this),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"===typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range,i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(i.prototype),t.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],l=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c={},f={'"':'"',"'":"'"},h=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,c.rangeCount!=e.multiSelect.rangeCount&&(c={rangeCount:e.multiSelect.rangeCount})),c[t])return r=c[t];r=c[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},p=function e(t){this.add("braces","insertion",(function(n,i,o,a,u){var l=o.getCursorPosition(),c=a.doc.getLine(l.row);if("{"==u){h(o);var f=o.getSelectionRange(),p=a.doc.getTextRange(f);if(""!==p&&"{"!==p&&o.getWrapBehavioursEnabled())return d(f,p,"{","}");if(e.isSaneInsertion(o,a))return/[\]\}\)]/.test(c[l.column])||o.inMultiSelectMode||t&&t.braces?(e.recordAutoInsert(o,a,"}"),{text:"{}",selection:[1,1]}):(e.recordMaybeInsert(o,a,"{"),{text:"{",selection:[1,1]})}else if("}"==u){if(h(o),"}"==c.substring(l.column,l.column+1))if(null!==a.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&e.isAutoInsertedClosing(l,c,u))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==u||"\r\n"==u){h(o);var g="";if(e.isMaybeInsertedClosing(l,c)&&(g=s.stringRepeat("}",r.maybeInsertedBrackets),e.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=a.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var v=this.$getIndent(a.getLine(m.row))}else{if(!g)return void e.clearMaybeInsertedClosing();v=this.$getIndent(c)}var y=v+a.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}e.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,i,o){var a=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==a){if(h(n),"}"==i.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;r.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,n,r,i,o){if("("==o){h(r);var a=r.getSelectionRange(),s=i.doc.getTextRange(a);if(""!==s&&r.getWrapBehavioursEnabled())return d(a,s,"(",")");if(e.isSaneInsertion(r,i))return e.recordAutoInsert(r,i,")"),{text:"()",selection:[1,1]}}else if(")"==o){h(r);var u=r.getCursorPosition(),l=i.doc.getLine(u.row);if(")"==l.substring(u.column,u.column+1))if(null!==i.$findOpeningBracket(")",{column:u.column+1,row:u.row})&&e.isAutoInsertedClosing(u,l,o))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o&&(h(n),")"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("brackets","insertion",(function(t,n,r,i,o){if("["==o){h(r);var a=r.getSelectionRange(),s=i.doc.getTextRange(a);if(""!==s&&r.getWrapBehavioursEnabled())return d(a,s,"[","]");if(e.isSaneInsertion(r,i))return e.recordAutoInsert(r,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){h(r);var u=r.getCursorPosition(),l=i.doc.getLine(u.row);if("]"==l.substring(u.column,u.column+1))if(null!==i.$findOpeningBracket("]",{column:u.column+1,row:u.row})&&e.isAutoInsertedClosing(u,l,o))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o&&(h(n),"]"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("string_dquotes","insertion",(function(e,t,n,r,i){var o=r.$mode.$quotes||f;if(1==i.length&&o[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;h(n);var a=i,s=n.getSelectionRange(),u=r.doc.getTextRange(s);if(!(""===u||1==u.length&&o[u])&&n.getWrapBehavioursEnabled())return d(s,u,a,a);if(!u){var l=n.getCursorPosition(),c=r.doc.getLine(l.row),p=c.substring(l.column-1,l.column),g=c.substring(l.column,l.column+1),m=r.getTokenAt(l.row,l.column),v=r.getTokenAt(l.row,l.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),_=!v||/string|escape/.test(v.type);if(g==a)(y=b!==_)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!_)return null;if(b&&_)return null;var w=r.$mode.tokenRe;w.lastIndex=0;var x=w.test(p);w.lastIndex=0;var O=w.test(p);if(x||O)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var k=c[l.column-2];if(p==a&&(k==a||w.test(k)))return null;y=!0}return{text:y?a+a:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,i){var o=r.$mode.$quotes||f,a=r.doc.getTextRange(i);if(!i.isMultiLine()&&o.hasOwnProperty(a)&&(h(n),r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==a))return i.end.column++,i}))};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new a(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",u)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new a(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",u))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",l)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+o.substr(i.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=o.substr(0,i.column)+n,r.maybeInsertedLineEnd=o.substr(i.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(p,o),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,o=[],a=0;a<r.length;a+=2)o.push(i+=r[a]),r[a+1]&&o.push(45,i+=r[a+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../config"),i=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,s=e("../unicode"),u=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,f=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+s.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){var i=t.doc,o=!0,a=!0,s=1/0,l=t.getTabSize(),c=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(u.escapeRegExp).join("|"),d=this.lineCommentStart[0];else g=u.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),c=t.getUseSoftTabs();y=function(e,t){var n=e.match(g);if(n){var r=n[1].length,o=n[0].length;h(e,r,o)||" "!=n[0][o-1]||o--,i.removeInLine(t,r,o)}};var f=d+" ",h=(v=function(e,t){o&&!/\S/.test(e)||(h(e,s,s)?i.insertInLine({row:t,column:s},f):i.insertInLine({row:t,column:s},d))},b=function(e,t){return g.test(e)},function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%l!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return l>2?r%l!=l-1:r%l==0})}else{if(!this.blockComment)return!1;var d=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+u.escapeRegExp(d)+")"),m=new RegExp("(?:"+u.escapeRegExp(p)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(i.insertInLine({row:t,column:e.length},p),i.insertInLine({row:t,column:s},d))},y=function(e,t){var n;(n=e.match(m))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&i.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(g.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}function _(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var w=1/0;_((function(e,t){var n=e.search(/\S/);-1!==n?(n<s&&(s=n),a&&!b(e,t)&&(a=!1)):w>e.length&&(w=e.length)})),s==1/0&&(s=w,o=!1,a=!1),c&&s%l!=0&&(s=Math.floor(s/l)*l),_(a?y:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,a,s=(g=new l(t,r.row,r.column)).getCurrentToken(),u=(t.selection,t.selection.toOrientedRange());if(s&&/comment/.test(s.type)){for(var f,h;s&&/comment/.test(s.type);){if(-1!=(m=s.value.indexOf(i.start))){var d=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;f=new c(d,p,d,p+i.start.length);break}s=g.stepBackward()}var g;for(s=(g=new l(t,r.row,r.column)).getCurrentToken();s&&/comment/.test(s.type);){var m;if(-1!=(m=s.value.indexOf(i.end))){d=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;h=new c(d,p,d,p+i.end.length);break}s=g.stepForward()}h&&t.remove(h),f&&(t.remove(f),o=f.start.row,a=-i.start.length)}else a=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);u.start.row==o&&(u.start.column+=a),u.end.row==o&&(u.end.column+=a),t.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],i=n.prototype.$id,o=r.$modes[i];o||(r.$modes[i]=o=new n),r.$modes[t]||(r.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var a=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<a.length;t++)!function(e){var n=a[t],r=e[n];e[a[t]]=function(){return this.$delegator(n,arguments,r)}}(this)},this.$delegator=function(e,t,n){var r=t[0]||"start";if("string"!=typeof r){if(Array.isArray(r[2])){var i=r[2][r[2].length-1];if(a=this.$modes[i])return a[e].apply(a,[r[1]].concat([].slice.call(t,1)))}r=r[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var a,s=r.split(this.$embeds[o]);if(!s[0]&&s[1])return t[0]=s[1],(a=this.$modes[this.$embeds[o]])[e].apply(a,t)}var u=n.apply(this,t);return n?u:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var a in o)if(o[a][t]){var s=o[a][t].apply(this,arguments);if(s)return s}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,a=i.length;o<a;o++)if("string"===typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"===typeof i[o].token)for(var s=0,u=i[o].token.length;s<u;s++)if(/keyword|support|storage/.test(i[o].token[s])){r=i[o].regex.match(/\(.+?\)/g)[s];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(f.prototype),t.Mode=f})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,o=e[r]||"";switch(t.action){case"insert":if(1===t.lines.length)e[r]=o.substring(0,i)+t.lines[0]+o.substring(i);else{var a=[r,1].concat(t.lines);e.splice.apply(e,a),e[r]=o.substring(0,i)+e[r],e[r+t.lines.length-1]+=o.substring(i)}break;case"remove":var s=t.end.column,u=t.end.row;r===u?e[r]=o.substring(0,i)+o.substring(s):e.splice(r,u-r+1,o.substring(0,i)+e[u].substring(s))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if((t.start.row!=t.end.row||t.start.row==this.row)&&!(t.start.row>this.row)){var n=function(t,n,r){var i="insert"==t.action,o=(i?1:-1)*(t.end.row-t.start.row),a=(i?1:-1)*(t.end.column-t.start.column),s=t.start,u=i?s:t.end;if(e(n,s,r))return{row:n.row,column:n.column};if(e(u,n,!r))return{row:n.row+o,column:n.column+(n.row==u.row?a:0)};return{row:s.row,column:s.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=e("./anchor").Anchor,u=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),{row:e,column:t=Math.min(Math.max(t,0),r.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,o=n?this.getLine(i).length:0,s=r?t+1:t,u=r?0:this.getLine(s).length,l=new a(i,o,s,u),c=this.$lines.slice(e,t+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),c},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(i(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,i=e.start.row,o=e.start.column,a=0,s=0;a<r;a=s){s+=t-1;var u=n.slice(a,s);u.push(""),this.applyDelta({start:this.pos(i+a,o),end:this.pos(i+s,o=0),action:e.action,lines:u},!0)}e.lines=n.slice(a),e.start.row=i+a,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if((e-=n[i].length+r)<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:e+n[o-1].length+r}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),a=t||0;a<o;++a)i+=n[a].length+r;return i+e.column}}).call(u.prototype),t.Document=u})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,i=n.doc,o=t;n.lines[t];)t++;var a=i.getLength(),s=0;for(n.running=!1;t<a;){n.$tokenizeRow(t),r=t;do{t++}while(n.lines[t]);if(++s%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==r&&(r=t),o<=r&&n.fireUpdateEvent(o,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!==r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var a=o.firstRow,s=o.lastRow,u=a;u<=s;u++){var l=this.cache[u];null==l&&((l=r.getMatchOffsets(n.getLine(u),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map((function(e){return new i(u,e.offset,u,e.offset+e.length)})),this.cache[u]=l.length?l:"");for(var c=l.length;c--;)t.drawSingleLineMarker(e,l[c].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range;function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o=0,a=this.folds,s=!0;null==t&&(t=this.end.row,n=this.end.column);for(var u=0;u<a.length;u++){if(-1==(i=(r=a[u]).range.compareStart(t,n)))return void e(null,t,n,o,s);if(!e(null,r.start.row,r.start.column,o,s)&&e(r.placeholder,r.start.row,r.start.column,o)||0===i)return;s=!r.sameRow,o=r.end.column}e(null,t,n,o,s)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(-1==(r=(n=this.folds[i]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){var a=(i=this.folds).indexOf(r);for(0===a&&(this.start.column+=n);a<i.length;a++){if((r=i[a]).start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,a=this.foldData,s=o.indexOf(r),u=o[s-1];this.end.row=u.end.row,this.end.column=u.end.column;var l=new i(a,o=o.splice(s,o.length-s));return a.splice(a.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range.comparePoints,i=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=r,this.pointIndex=function(e,t,n){for(var i=this.ranges,o=n||0;o<i.length;o++){var a=i[o],s=r(e,a.end);if(!(s>0)){var u=r(e,a.start);return 0===s?t&&0!==u?-o-2:o:u>0||0===u&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,i=(n=n.sort((function(e,t){return r(e.start,t.start)})))[0],o=1;o<n.length;o++){e=i,i=n[o];var a=r(e.end,i.start);a<0||(0!=a||e.isEmpty()||i.isEmpty())&&(r(e.end,i.end)<0&&(e.end.row=i.end.row,e.end.column=i.end.column),n.splice(o,1),t.push(i),i=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var o=[],a=r;a<i;a++)o.push(n[a]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,r=t.row,i=n.row,o=this.ranges,a=0,s=o.length;a<s;a++){if((c=o[a]).end.row>=r)break}if("insert"==e.action)for(var u=i-r,l=-t.column+n.column;a<s;a++){if((c=o[a]).start.row>r)break;if(c.start.row==r&&c.start.column>=t.column&&(c.start.column==t.column&&this.$bias<=0||(c.start.column+=l,c.start.row+=u)),c.end.row==r&&c.end.column>=t.column){if(c.end.column==t.column&&this.$bias<0)continue;c.end.column==t.column&&l>0&&a<s-1&&c.end.column>c.start.column&&c.end.column==o[a+1].start.column&&(c.end.column-=l),c.end.column+=l,c.end.row+=u}}else for(u=r-i,l=t.column-n.column;a<s;a++){if((c=o[a]).start.row>i)break;c.end.row<i&&(r<c.end.row||r==c.end.row&&t.column<c.end.column)?(c.end.row=r,c.end.column=t.column):c.end.row==i?c.end.column<=n.column?(u||c.end.column>t.column)&&(c.end.column=t.column,c.end.row=t.row):(c.end.column+=l,c.end.row+=u):c.end.row>i&&(c.end.row+=u),c.start.row<i&&(r<c.start.row||r==c.start.row&&t.column<c.start.column)?(c.start.row=r,c.start.column=t.column):c.start.row==i?c.start.column<=n.column?(u||c.start.column>t.column)&&(c.start.column=t.column,c.start.row=t.row):(c.start.column+=l,c.start.row+=u):c.start.row>i&&(c.start.row+=u)}if(0!=u&&a<s)for(;a<s;a++){var c;(c=o[a]).start.row+=u,c.end.row+=u}}}).call(i.prototype),t.RangeList=i})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("../range_list").RangeList,i=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function a(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function s(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}i.inherits(o,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,a(t.start,n),a(t.end,n);for(var r=e.start.row,i=e.start.column,o=0,s=-1;o<this.subFolds.length&&1==(s=this.subFolds[o].range.compare(r,i));o++);var u=this.subFolds[o],l=0;if(0==s){if(u.range.containsRange(e))return u.addSubFold(e);l=1}r=e.range.end.row,i=e.range.end.column;var c=o;for(s=-1;c<this.subFolds.length&&1==(s=this.subFolds[c].range.compare(r,i));c++);0==s&&c++;for(var f=this.subFolds.splice(o,c-o,e),h=0==s?f.length-1:f.length,d=l;d<h;d++)e.addSubFold(f[d]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){s(e.start,t),s(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var r=e("../range").Range,i=e("./fold_line").FoldLine,o=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var a=i[o].range;if(a.contains(e,t)){if(1==n&&a.isEnd(e,t)&&!a.isEmpty())continue;if(-1==n&&a.isStart(e,t)&&!a.isEmpty())continue;return i[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var a=r[o].range.compareRange(e);if(2!=a){if(-2==a)break;for(var s=r[o].folds,u=0;u<s.length;u++){var l=s[u];if(-2==(a=l.range.compareRange(e)))break;if(2!=a){if(42==a)break;i.push(l)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var i,o,a={end:{column:0}},s=0;s<r.folds.length;s++){var u=(o=r.folds[s]).range.compareEnd(e,t);if(-1==u){i=this.getLine(o.start.row).substring(a.end.column,o.start.column);break}if(0===u)return null;a=o}return i||(i=this.getLine(o.start.row).substring(a.end.column)),-1==n?i.substring(0,t-a.end.column):1==n?i.substring(t-a.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],a=o.end.row,s=o.start.row;if(a>=t){s<t&&(s>=e?r-=t-s:r=0);break}a>=e&&(r-=s>=e?a-s:a-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,r=this.$foldData,a=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var s=n.start.row,u=n.start.column,l=n.end.row,c=n.end.column,f=this.getFoldAt(s,u,1),h=this.getFoldAt(l,c,-1);if(f&&h==f)return f.addSubFold(n);f&&!f.range.isStart(s,u)&&this.removeFold(f),h&&!h.range.isEnd(l,c)&&this.removeFold(h);var d=this.getFoldsInRange(n.range);d.length>0&&(this.removeFolds(d),n.collapseChildren||d.forEach((function(e){n.addSubFold(e)})));for(var p=0;p<r.length;p++){var g=r[p];if(l==g.start.row){g.addFold(n),a=!0;break}if(s==g.end.row){if(g.addFold(n),a=!0,!n.sameRow){var m=r[p+1];if(m&&m.start.row==l){g.merge(m);break}}break}if(l<=g.start.row)break}return a||(g=this.$addFoldLine(new i(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var a=t.split(e.start.row,e.start.column);(o=a.folds).shift(),a.start.row=o[0].start.row,a.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,i;if(null==e?(n=new r(0,0,this.getLength(),0),null==t&&(t=!0)):n="number"==typeof e?new r(e,0,e,this.getLine(e).length):"row"in e?r.fromPoints(e,e):e,i=this.getFoldsInRangeList(n),0!=t?this.removeFolds(i):this.expandFolds(i),i.length)return i},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,a="";return e.walk((function(e,t,n,s){if(!(t<r)){if(t==r){if(n<i)return;s=Math.max(i,s)}a+=null!=e?e:o.getLine(t).substring(s,n)}}),t,n),a},this.getDisplayLine=function(e,t,n,r){var i,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,r):(i=this.doc.getLine(e)).substring(r||0,t||i.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new i(e,n)}))},this.toggleFold=function(e){var t,n,r=this.selection.getRange();if(r.isEmpty()){var i=r.start;if(t=this.getFoldAt(i.row,i.column))return void this.expandFold(t);(n=this.findMatchingBracket(i))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(i.row,i.column)||r}else{var o=this.getFoldsInRange(r);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())this.expandFold(t);else{var a="...";if(!r.isMultiLine()){if((a=this.getTextRange(r)).length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)}},this.getCommentFoldRange=function(e,t,n){var i=new a(this,e,t),o=i.getCurrentToken(),s=o&&o.type;if(o&&/^comment|string/.test(s)){"comment"==(s=s.match(/comment|string/)[0])&&(s+="|doc-start");var u=new RegExp(s),l=new r;if(1!=n){do{o=i.stepBackward()}while(o&&u.test(o.type));i.stepForward()}if(l.start.row=i.getCurrentTokenRow(),l.start.column=i.getCurrentTokenColumn()+2,i=new a(this,e,t),-1!=n){var c=-1;do{if(o=i.stepForward(),-1==c){var f=this.getState(i.$row);u.test(f)||(c=i.$row)}else if(i.$row>c)break}while(o&&u.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return l.end.row=i.getCurrentTokenRow(),l.end.column=i.getCurrentTokenColumn()+o.value.length-2,l}},this.foldAll=function(e,t,n,r){void 0==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==i[o]&&(i[o]=this.getFoldWidget(o)),"start"==i[o]&&(!r||r(o))){var a=this.getFoldWidgetRange(o);a&&a.isMultiLine()&&a.end.row<=t&&a.start.row>=e&&(o=a.end.row,a.collapseChildren=n,this.addFold("...",a))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),r=0;r<n.length;r++){var i=n[r];if("text"!=i.type||!/^\s+$/.test(i.value))return!!/comment/.test(i.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var a=this.getFoldWidgetRange(i);if(r||(r=a),a&&a.end.row>=e)break}i--}return{range:-1!==i&&a,firstRange:r}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,-1===i?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var a=this.getFoldWidgetRange(e,!0);if(a&&!a.isMultiLine()&&(o=this.getFoldAt(a.start.row,a.start.column,1))&&a.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var u=s.range.start.row+1,l=s.range.end.row;this.foldAll(u,l,t.all?1e4:0)}else t.children?(l=a?a.end.row:this.getLength(),this.foldAll(e+1,l,t.all?1e4:0)):a&&(t.all&&(a.collapseChildren=1e4),this.addFold("...",a));return a}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../token_iterator").TokenIterator,i=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,o=n.charAt(e.column-1),a=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(a||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},a=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!a)return null;if(a[1]){if(!(s=this.$findClosingBracket(a[1],e)))return null;t=i.fromPoints(e,s),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var s;if(!(s=this.$findOpeningBracket(a[2],e)))return null;t=i.fromPoints(s,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!r)return null;var o=new i(e.row,e.column-1,e.row,e.column),a=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);return a?[o,new i(a.row,a.column,a.row,a.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],o=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var u=t.column-a.getCurrentTokenColumn()-2,l=s.value;;){for(;u>=0;){var c=l.charAt(u);if(c==i){if(0==(o-=1))return{row:a.getCurrentTokenRow(),column:u+a.getCurrentTokenColumn()}}else c==e&&(o+=1);u-=1}do{s=a.stepBackward()}while(s&&!n.test(s.type));if(null==s)break;u=(l=s.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],o=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var u=t.column-a.getCurrentTokenColumn();;){for(var l=s.value,c=l.length;u<c;){var f=l.charAt(u);if(f==i){if(0==(o-=1))return{row:a.getCurrentTokenRow(),column:u+a.getCurrentTokenColumn()}}else f==e&&(o+=1);u+=1}do{s=a.stepForward()}while(s&&!n.test(s.type));if(null==s)break;u=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./bidihandler").BidiHandler,a=e("./config"),s=e("./lib/event_emitter").EventEmitter,u=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,f=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,p=function e(t,n){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new f(t)),this.setDocument(t),this.selection=new u(this),this.$bidiHandler=new o(this),a.resetOptions(this),this.setMode(n),a._signal("session",this)};p.$uid=0,function(){r.implement(this,s),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(t<o))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t){var o=r.length-1;i=this.getLine(e).length}else for(o=0;o<r.length&&!((i+=r[o].value.length)>=t);o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new c(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))i=/\s/;else i=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(i));o++}for(var a=t;a<n.length&&n.charAt(a).match(i);)a++;return new c(e,o,e,a)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=a.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"===typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,a.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=e.getTokenizer();if(void 0!==r.on){var i=this.onReloadTokenizer.bind(this);r.on("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(r);else{this.bgTokenizer=new h(r);var o=this;this.bgTokenizer.on("update",(function(e){o._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){a.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],a=o?o.start.row:1/0,s=t.length,u=0;u<s;u++){if(u>a){if((u=o.end.row+1)>=s)break;a=(o=this.$foldData[i++])?o.start.row:1/0}null==n[u]&&(n[u]=this.$getStringScreenWidth(t[u])[0]),n[u]>r&&(r=n[u])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var r=e[n];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];"insert"!=r.action&&"remove"!=r.action||this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,i,o=0;o<e.length;o++){var a=e[o];a.start&&(r?n(a)?(i=a.start,-1==r.compare(i.row,i.column)&&r.setStart(i),i=a.end,1==r.compare(i.row,i.column)&&r.setEnd(i)):(i=a.start,-1==r.compare(i.row,i.column)&&(r=c.fromPoints(a.start,a.start))):r=n(a)?c.fromPoints(a.start,a.end):c.fromPoints(a.start,a.start))}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=c.fromPoints(t,t);if(!n){this.remove(e);var a=e.start.row-e.end.row;(l=a?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=l),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=l)),a&&o.start.row>=e.end.row&&(o.start.row+=a,o.end.row+=a)}if(o.end=this.insert(o.start,r),i.length){var s=e.start,u=o.start,l=(a=u.row-s.row,u.column-s.column);this.addFolds(i.map((function(e){return(e=e.clone()).start.row==s.row&&(e.start.column+=l),e.end.row==s.row&&(e.end.column+=l),e.start.row+=a,e.end.row+=a,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var a=0;a<r&&" "==o.charAt(a);++a);a<r&&"\t"==o.charAt(a)?(n.start.column=a,n.end.column=a+1):(n.start.column=0,n.end.column=a),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((i=this.getRowFoldStart(e+n))<0)return 0;var r=i-e}else if(n>0){var i;if((i=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;r=i-t}else{e=this.$clipRowToDocument(e);r=(t=this.$clipRowToDocument(t))-e+1}var o=new c(e,0,t,Number.MAX_VALUE),a=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=r,e.end.row+=r,e})),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,s),a.length&&this.addFolds(a),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,a=i.row,s=a-o,u=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,s);var l=this.$foldData;u=this.getFoldsInRange(e),this.removeFolds(u);var c=0;if(g=this.getFoldLine(i.row)){g.addRemoveChars(i.row,i.column,r.column-i.column),g.shiftRow(-s);var f=this.getFoldLine(o);f&&f!==g&&(f.merge(g),g=f),c=l.indexOf(g)+1}for(;c<l.length;c++){(g=l[c]).start.row>=i.row&&g.shiftRow(-s)}a=o}else{var h=Array(s);h.unshift(o,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,h);l=this.$foldData,c=0;if(g=this.getFoldLine(o)){var p=g.range.compareInside(r.row,r.column);0==p?(g=g.split(r.row,r.column))&&(g.shiftRow(s),g.addRemoveChars(a,0,i.column-r.column)):-1==p&&(g.addRemoveChars(o,0,i.column-r.column),g.shiftRow(s)),c=l.indexOf(g)+1}for(;c<l.length;c++){var g;(g=l[c]).start.row>=o&&g.shiftRow(s)}}else s=Math.abs(e.start.column-e.end.column),"remove"===n&&(u=this.getFoldsInRange(e),this.removeFolds(u),s=-s),(g=this.getFoldLine(o))&&g.addRemoveChars(o,r.column,s);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,a):this.$updateRowLengthCache(o,a),u},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,r){var i,o,a=this.doc.getAllLines(),s=this.getTabSize(),u=this.$wrapData,l=this.$wrapLimit,c=n;for(r=Math.min(r,a.length-1);c<=r;)(o=this.getFoldLine(c,o))?(i=[],o.walk(function(n,r,o,s){var u;if(null!=n){(u=this.$getDisplayTokens(n,i.length))[0]=e;for(var l=1;l<u.length;l++)u[l]=t}else u=this.$getDisplayTokens(a[r].substring(s,o),i.length);i=i.concat(u)}.bind(this),o.end.row,a[o.end.row].length+1),u[o.start.row]=this.$computeWrapSplits(i,l,s),c=o.end.row+1):(i=this.$getDisplayTokens(a[c]),u[c]=this.$computeWrapSplits(i,l,s),c++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,r,i){if(0==n.length)return[];var o=[],a=n.length,s=0,u=0,l=this.$wrapAsCode,c=this.$indentedSoftWrap,f=r<=Math.max(2*i,8)||!1===c?0:Math.floor(r/2);function h(e){for(var t=e-s,r=s;r<e;r++){var a=n[r];12!==a&&2!==a||(t-=1)}o.length||(d=function(){var e=0;if(0===f)return e;if(c)for(var t=0;t<n.length;t++){var r=n[t];if(10==r)e+=1;else{if(11!=r){if(12==r)continue;break}e+=i}}return l&&!1!==c&&(e+=i),Math.min(e,f)}(),o.indent=d),u+=t,o.push(u),s=e}for(var d=0;a-s>r-d;){var p=s+r-d;if(n[p-1]>=10&&n[p]>=10)h(p);else if(n[p]!=e&&n[p]!=t){for(var g=Math.max(p-(r-(r>>2)),s-1);p>g&&n[p]<e;)p--;if(l){for(;p>g&&n[p]<e;)p--;for(;p>g&&9==n[p];)p--}else for(;p>g&&n[p]<10;)p--;p>g?h(++p):(2==n[p=s+r]&&p--,h(p-d))}else{for(;p!=s-1&&n[p]!=e;p--);if(p>s){h(p);continue}for(p=s+r;p<n.length&&n[p]==t;p++);if(p==n.length)break;h(p)}}return o},this.$getDisplayTokens=function(e,t){var r,i=[];t=t||0;for(var o=0;o<e.length;o++){var a=e.charCodeAt(o);if(9==a){r=this.getScreenTabSize(i.length+t),i.push(11);for(var s=1;s<r;s++)i.push(12)}else 32==a?i.push(10):a>39&&a<48||a>57&&a<64?i.push(9):a>=4352&&n(a)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(e,t,r){if(0==t)return[0,0];var i,o;for(null==t&&(t=1/0),r=r||0,o=0;o<e.length&&(9==(i=e.charCodeAt(o))?r+=this.getScreenTabSize(r):i>=4352&&n(i)?r+=2:r+=1,!(r>t));o++);return[r,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i,o=0,a=0,s=0,u=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),f=l.length;if(f&&c>=0){s=l[c],o=this.$docRowCache[c];var h=e>l[f-1]}else h=!f;for(var d=this.getLength()-1,p=this.getNextFoldLine(o),g=p?p.start.row:1/0;s<=e&&!(s+(u=this.getRowLength(o))>e||o>=d);)s+=u,++o>g&&(o=p.end.row+1,g=(p=this.getNextFoldLine(o,p))?p.start.row:1/0),h&&(this.$docRowCache.push(o),this.$screenRowCache.push(s));if(p&&p.start.row<=o)r=this.getFoldDisplayLine(p),o=p.start.row;else{if(s+u<=e||o>d)return{row:d,column:this.getLine(d).length};r=this.getLine(o),p=null}var m=0,v=Math.floor(e-s);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(i=y[v],v>0&&y.length&&(m=y.indent,a=y[v-1]||y[y.length-1],r=r.substring(a)))}return void 0!==n&&this.$bidiHandler.isBidiRow(s+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),a+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&a>=i&&(a=i-1),p?p.idxToPosition(a):{row:o,column:a}},this.documentToScreenPosition=function(e,t){if("undefined"===typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r,i=0,o=null;(r=this.getFoldAt(e,t,1))&&(e=r.start.row,t=r.start.column);var a,s=0,u=this.$docRowCache,l=this.$getRowCacheIndex(u,e),c=u.length;if(c&&l>=0){s=u[l],i=this.$screenRowCache[l];var f=e>u[c-1]}else f=!c;for(var h=this.getNextFoldLine(s),d=h?h.start.row:1/0;s<e;){if(s>=d){if((a=h.end.row+1)>e)break;d=(h=this.getNextFoldLine(a,h))?h.start.row:1/0}else a=s+1;i+=this.getRowLength(s),s=a,f&&(this.$docRowCache.push(s),this.$screenRowCache.push(i))}var p="";h&&s>=d?(p=this.getFoldDisplayLine(h,e,t),o=h.start.row):(p=this.getLine(e).substring(0,t),o=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var v=0;p.length>=m[v];)i++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[s]&&this.lineWidgets[s].rowsAbove&&(i+=this.lineWidgets[s].rowsAbove),{row:i,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=(s=0,(t=this.$foldData[s++])?t.start.row:1/0);r<n;){var o=this.$wrapData[r];e+=o?o.length+1:1,++r>i&&(r=t.end.row+1,i=(t=this.$foldData[s++])?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,s=0;s<a.length;s++)e-=(t=a[s]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var i,o;for(n||(n=1/0),r=r||0,o=0;o<t.length&&!((r+="\t"===(i=t.charAt(o))?this.getScreenTabSize(r):e.getCharacterWidth(i))>n);o++);return[r,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=n}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),a.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),i=e("./lib/oop"),o=e("./range").Range,a=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach((function(e,n,i,a){return r=new o(e,n,i,a),!(n==a&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)})),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),a=[],s=t.re;if(t.$isMultiLine){var u,l=s.length,c=i.length-l;e:for(var f=s.offset||0;f<=c;f++){for(var h=0;h<l;h++)if(-1==i[f+h].search(s[h]))continue e;var d=i[f],p=i[f+l-1],g=d.length-d.match(s[0])[0].length,m=p.match(s[l-1])[0].length;u&&u.end.row===f&&u.end.column>g||(a.push(u=new o(f,g,f+l-1,m)),l>2&&(f=f+l-2))}}else for(var v=0;v<i.length;v++){var y=r.getMatchOffsets(i[v],s);for(h=0;h<y.length;h++){var b=y[h];a.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var _=n.start.column,w=n.start.column;for(v=0,h=a.length-1;v<h&&a[v].start.column<_&&a[v].start.row==n.start.row;)v++;for(;v<h&&a[h].end.column>w&&a[h].end.row==n.end.row;)h--;for(a=a.slice(v,h+1),v=0,h=a.length;v<h;v++)a[v].start.row+=n.start.row,a[v].end.row+=n.start.row}return a},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var a=e[o];a&&a.toLowerCase()!=a?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var i=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var o=new RegExp(n,i)}catch(a){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(o){return!1}return r},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=1==t.backwards,i=0!=t.skipCurrent,o=t.range,a=t.start;a||(a=o?o[r?"end":"start"]:e.selection.getRange()),a.start&&(a=a[i!=r?"end":"start"]);var s=o?o.start.row:0,u=o?o.end.row:e.getLength()-1;if(r)var l=function(e){var n=a.row;if(!f(n,a.column,e)){for(n--;n>=s;n--)if(f(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=u,s=a.row;n>=s;n--)if(f(n,Number.MAX_VALUE,e))return}};else l=function(e){var n=a.row;if(!f(n,a.column,e)){for(n+=1;n<=u;n++)if(f(n,0,e))return;if(0!=t.wrap)for(n=s,u=a.row;n<=u;n++)if(f(n,0,e))return}};if(t.$isMultiLine)var c=n.length,f=function(t,i,o){var a=r?t-c+1:t;if(!(a<0)){var s=e.getLine(a),u=s.search(n[0]);if(!(!r&&u<i||-1===u)){for(var l=1;l<c;l++)if(-1==(s=e.getLine(a+l)).search(n[l]))return;var f=s.match(n[c-1])[0].length;if(!(r&&f>i))return!!o(a,u,a+c-1,f)||void 0}}};else if(r)f=function(t,r,i){var o,a=e.getLine(t),s=[],u=0;for(n.lastIndex=0;o=n.exec(a);){var l=o[0].length;if(u=o.index,!l){if(u>=a.length)break;n.lastIndex=u+=1}if(o.index+l>r)break;s.push(o.index,l)}for(var c=s.length-1;c>=0;c-=2){var f=s[c-1];if(i(t,f,t,f+(l=s[c])))return!0}};else f=function(t,r,i){var o,a,s=e.getLine(t);for(n.lastIndex=r;a=n.exec(s);){var u=a[0].length;if(i(t,o=a.index,t,o+u))return!0;if(!u&&(n.lastIndex=o+=1,o>=s.length))return!1}};return{forEach:l}}}).call(a.prototype),t.Search=a})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/useragent"),o=r.KEY_MODS;function a(e,t){this.platform=t||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function s(e,t){a.call(this,e,t),this.$singleCommand=!1}s.prototype=a.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"===typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var a=o.indexOf(e);-1!=a&&(o.splice(a,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")}),this),r+=" "}var a=this.parseKeys(e),s=o[a.hashId]+a.key;this._addCommandToBinding(r+s,t,n)}),this)},this._addCommandToBinding=function(t,n,r){var i,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(i=o[t].indexOf(n))&&o[t].splice(i,1):o[t]=[o[t]],"number"!=typeof r&&(r=e(n));var a=o[t];for(i=0;i<a.length;i++){if(e(a[i])>r)break}a.splice(i,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"===typeof n)return this.bindKey(n,t);"function"===typeof n&&(n={exec:n}),"object"===typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,a=t.length;a--;){var s=r.KEY_MODS[t[a]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[a]+" in "+e),!1;o|=s}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=o[t]+n,a=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,a=this.commandKeyBinding[e.$keyChain]||a),!a||"chainKeys"!=a&&"chainKeys"!=a[a.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:a}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(a.prototype),t.HashHandler=a,t.MultiHashHandler=s})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,a=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};r.inherits(a,i),function(){r.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"===typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(a.prototype),t.CommandManager=a})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var r=e("../lib/lang"),i=e("../config"),o=e("../range").Range;function a(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(e){i.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(e,t){"number"!==typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:a("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),a=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,u=e.session.doc.getLine(n.row),l=n.row+1;l<=i.row+1;l++){var c=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(l)));0!==c.length&&(c=" "+c),u+=c}i.row+1<e.session.doc.getLength()-1&&(u+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),u),s>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+s)):(a=e.session.doc.getLine(n.row).length>a?a+1:a,e.selection.moveCursorTo(n.row,a))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var a=0;a<r.length;a++)a==r.length-1&&(r[a].end.row===t&&r[a].end.column===n||i.push(new o(r[a].end.row,r[a].end.column,t,n))),0===a?0===r[a].start.row&&0===r[a].start.column||i.push(new o(0,0,r[a].start.row,r[a].start.column)):i.push(new o(r[a-1].end.row,r[a-1].end.column,r[a].start.row,r[a].start.column));e.exitMultiSelectMode(),e.clearSelection();for(a=0;a<i.length;a++)e.selection.addRange(i[a],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:a("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var s=1;s<9;s++)t.commands.push({name:"foldToLevel"+s,description:"Fold To Level "+s,level:s,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),a=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,u=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,f=e("./edit_session").EditSession,h=e("./search").Search,d=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),_=function e(t,n,r){this.$toDestroy=[];var i=t.getContainerElement();this.container=i,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new g(a.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new s(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new u(this),new l(this)),this.keyBinding=new c(this),this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||r&&r.session||new f("")),v.resetOptions(this),r&&this.setOptions(r),v._signal("editor",this)};_.$uid=0,function(){r.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"===typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var r="ace_bracket";Array.isArray(n)?1==n.length&&(r="ace_error_bracket"):n=[n],2==n.length&&(0==d.comparePoints(n[0].end,n[1].start)?n=[d.fromPoints(n[0].start,n[1].end)]:0==d.comparePoints(n[0].start,n[1].end)&&(n=[d.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,r,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===i.type.indexOf("tag-open")||(i=r.stepForward())){var o=i.value,a=i.value,s=0,u=r.stepBackward();if("<"===u.value)do{u=i,(i=r.stepForward())&&(-1!==i.type.indexOf("tag-name")?o===(a=i.value)&&("<"===u.value?s++:"</"===u.value&&s--):o===a&&"/>"===i.value&&s--)}while(i&&s>=0);else{do{if(i=u,u=r.stepBackward(),i)if(-1!==i.type.indexOf("tag-name"))o===i.value&&("<"===u.value?s++:"</"===u.value&&s--);else if("/>"===i.value){for(var l=0,c=u;c;){if(-1!==c.type.indexOf("tag-name")&&c.value===o){s--;break}if("<"===c.value)break;c=r.stepBackward(),l++}for(var f=0;f<l;f++)r.stepForward()}}while(u&&s<=0);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var h=r.getCurrentTokenRow(),p=r.getCurrentTokenColumn(),g=new d(h,p,h,p+i.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=m&&0!==g.compareRange(m.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(g,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new d(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),o=i.substring(n,r);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),s=i.substring(n-1,r+1);if(a.test(s))return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var r=this.selection.getAllRanges(),i=0;i<r.length;i++){var o=r[i];i&&r[i-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var a={text:e};return this._signal("copy",a),b.lineMode=n?a.text:"",a.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t==b.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){r.insert({row:e.start.row,column:0},t)}));else{var i=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,a=2==i.length&&(!i[0]||!i[1]);if(i.length!=o.length||a)return this.commands.exec("insertstring",this,t);for(var s=o.length;s--;){var u=o[s];u.isEmpty()||r.remove(u),r.insert(u.start,i[s])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(a=new d.fromPoints(i,i)).end.column+=e.length,this.session.remove(a)}}else{var a=this.getSelectionRange();i=this.session.remove(a),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(i.row);if(i.column>s.search(/\S|$/)){var u=s.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+u)}}this.clearSelection();var l=i.column,c=n.getState(i.row),f=(s=n.getLine(i.row),r.checkOutdent(c,s,e));if(n.insert(i,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new d(i.row,l+o.selection[0],i.row,l+o.selection[1])):this.selection.setSelectionRange(new d(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var h=r.getNextLineIndent(c,s.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},h)}f&&r.autoOutdent(c,n,i.row)}},this.autoIndent=function(){var e,t,n=this.session,r=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var i=this.getSelectionRange();e=i.start.row,t=i.end.row}for(var o,a,s,u="",l="",c="",f=n.getTabString(),h=e;h<=t;h++)h>0&&(u=n.getState(h-1),l=n.getLine(h-1),c=r.getNextLineIndent(u,l,f)),o=n.getLine(h),c!==(a=r.$getIndent(o))&&(a.length>0&&(s=new d(h,0,h,a.length),n.remove(s)),c.length>0&&n.insert({row:h,column:0},c)),r.autoOutdent(u,n,h)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var a=n.getLine(t.end.row);/^\s+$/.test(a)&&(t.end.column=a.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new d(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new d(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){c=this.$getSelectedRows();return void e.indentRows(c.first,c.last,"\t")}}var r=e.getLine(t.start.row),i=t.start,a=e.getTabSize(),s=e.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var u=a-s%a,l=o.stringRepeat(" ",u);else{for(u=s%a;" "==r[t.start.column-1]&&u;)t.start.column--,u--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var c=this.$getSelectedRows();e.indentRows(c.first,c.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var i=new d(0,0,0,0);for(r=e.first;r<=e.last;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new d(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var a=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,s=o.start+o.value.length-a,u=parseFloat(o.value);u*=Math.pow(10,s),a!==o.end&&n<a?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),u+=e;var l=(u/=Math.pow(10,s)).toFixed(s),c=new d(t,o.start,t,o.end);this.session.replace(c,l),this.moveCursorTo(t,Math.max(o.start+1,n+l.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),a=t-r-1;a<0&&(a=0);var s=0,u=0,l=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach((function(t,i){u=s+t.length,a>=s&&a<=u&&(n=t,l.selection.clearSelection(),l.moveCursorTo(e,s+r),l.selection.selectTo(e,u+r)),s=u}));for(var c,f=this.$toggleWordPairs,h=0;h<f.length;h++)for(var d=f[h],p=0;p<=1;p++){var g=+!p,m=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(d[p])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"))&&(c=n.replace(new RegExp(o.escapeRegExp(d[p]),"i"),(function(e){var t=d[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+d[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(c),c="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,a=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=a,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var a=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,u=0,l=a.length,c=0;c<l;c++){var f=c;a[c].moveBy(s,0);for(var h=(n=this.$getSelectedRows(a[c])).first,d=n.last;++c<l;){u&&a[c].moveBy(u,0);var p=this.$getSelectedRows(a[c]);if(t&&p.first!=d)break;if(!t&&p.first>d+1)break;d=p.last}for(c--,s=this.session.$moveLines(h,d,t?0:e),t&&-1==e&&(f=c+1);f<=c;)a[f].moveBy(s,0),f++;t||(s=0),u+=s}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===t&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var a,s,u=!1,l={},c=n.column-o.start,f={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;c<o.value.length&&!u;c++)if(f[o.value[c]])switch(s=f[o.value[c]]+"."+o.type.replace("rparen","lparen"),isNaN(l[s])&&(l[s]=0),o.value[c]){case"(":case"[":case"{":l[s]++;break;case")":case"]":case"}":l[s]--,-1===l[s]&&(a="bracket",u=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(l[o.value])&&(l[o.value]=0),"<"===i.value?l[o.value]++:"</"===i.value&&l[o.value]--,-1===l[o.value]&&(a="tag",u=!0));u||(i=o,o=r.stepForward(),c=0)}while(o&&!u);if(a){var h,p;if("bracket"===a)(h=this.session.getBracketRange(n))||(p=(h=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+c-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+c-1)).start,(t||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(h=this.session.getBracketRange(p)));else if("tag"===a){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(0===(h=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2)).compare(n.row,n.column)){u=!1;do{o=i,(i=r.stepBackward())&&(-1!==i.type.indexOf("tag-close")&&h.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===i.value?l[g]++:"</"===i.value&&l[g]--,0===l[g]&&(u=!0)))}while(i&&!u)}o&&o.type.indexOf("tag-name")&&(p=h.start).row==n.row&&Math.abs(p.column-n.column)<2&&(p=h.end)}(p=h&&h.cursor||p)&&(e?h&&t?this.selection.setRange(h):h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",(function(){r=!0})),a=this.renderer.on("beforeRender",(function(){r&&(t=n.renderer.container.getBoundingClientRect())})),s=this.renderer.on("afterRender",(function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,a=e.layerConfig,s=o.top-a.offset;null!=(r=o.top>=0&&s+t.top<0||!(o.top<a.height&&o.top+t.top+a.lineHeight>window.innerHeight)&&null)&&(i.style.top=s+"px",i.style.left=o.left+"px",i.style.height=a.lineHeight+"px",i.scrollIntoView(r)),r=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",a))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var r=this;v.loadModule("./ext/prompt",(function(i){i.prompt(r,e,t,n)}))}}.call(_.prototype),v.defineOptions(_.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?w.attach(this):w.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),i.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),i.addCssClass(this.container,"ace_hasPlaceholder");var t=i.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\xb7":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=_})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=null,i=0,o=n.length;o--;){var a=n[o][0];if(a.id<t&&!r&&(r=o+1),a.id<=e){i=o+1;break}}return n.slice(i,r)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){for(;n<t-1;){var i=c(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),i=null;return r&&(i=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)g(e,r[i])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?s(e):s(this.$undoStack)+"\n---\n"+s(this.$redoStack)}}).call(r.prototype);var i=e("./range").Range,o=i.comparePoints;i.comparePoints;function a(e){return{row:e.row,column:e.column}}function s(e){if(e=e||this,Array.isArray(e))return e.map(s).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(u).join("\n"):u(e.value)),e.start&&(t+=u(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function u(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function l(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)if(o(t.start,e.end)>=0)h(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;h(e,t,1)}else if(n&&!r)if(o(t.start,e.end)>=0)h(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;h(e,t,-1)}else if(!n&&r)if(o(t.start,e.start)>=0)h(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;h(e,t,1)}else if(!n&&!r)if(o(t.start,e.start)>=0)h(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;h(e,t,-1)}return[t,e]}function c(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!l(e[n],t[r])){for(;n<e.length;){for(;r--;)l(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function f(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)o(e.start,t.start)<0?h(t,e,1):h(e,t,1);else if(n&&!r)o(e.start,t.end)>=0?h(e,t,-1):(o(e.start,t.start)<=0||h(e,i.fromPoints(t.start,e.start),-1),h(t,e,1));else if(!n&&r)o(t.start,e.end)>=0?h(t,e,-1):(o(t.start,e.start)<=0||h(t,i.fromPoints(e.start,t.start),-1),h(e,t,1));else if(!n&&!r)if(o(t.start,e.end)>=0)h(t,e,-1);else{var a,s;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(a=e,e=p(e,t.start)),o(e.end,t.end)>0&&(s=p(e,t.end)),d(t.end,e.start,e.end,-1),s&&!a&&(e.lines=s.lines,e.start=s.start,e.end=s.end,s=e),[t,a,s].filter(Boolean);h(e,t,-1)}return[t,e]}function h(e,t,n){d(e.start,t.start,t.end,n),d(e.end,t.start,t.end,n)}function d(e,t,n,r){e.row==(1==r?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function p(e,t){var n=e.lines,r=e.end;e.end=a(t);var i=e.end.row-e.start.row,o=n.splice(i,n.length),s=i?t.column:t.column-e.start.column;return n.push(o[0].substring(0,s)),o[0]=o[0].substr(s),{start:a(t),end:r,lines:o,action:e.action}}function g(e,t){t=function(e){return{start:a(e.start),end:a(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var r=e[n],i=0;i<r.length;i++){var o=f(r[i],t);t=o[0],2!=o.length&&(o[2]?(r.splice(i+1,1,o[1],o[2]),i++):o[1]||(r.splice(i,1),i--))}r.length||e.splice(n,1)}return e}t.UndoManager=r})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,i=Math.floor(r/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-i*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,i){var o=this.cellCache.pop();if(!o){var a=r.createElement("div");i&&i(a),this.element.appendChild(a),o={element:a,text:"",row:e}}return o.row=e,o}}).call(i.prototype),t.Lines=i})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,s=e("./lines").Lines,u=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new s(this.element),this.$lines.$offsetCoefficient=1};function l(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");return e.appendChild(n),e}(function(){i.implement(this,a),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var a=n.text;a=a?o.escapeHTML(a):n.html||"",-1===i.text.indexOf(a)&&i.text.push(a);var s=n.type;"error"==s?i.className=" ace_error":"warning"==s&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=s||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var i=t.getNextFoldLine(n),o=i?i.start.row:1/0,a=null,s=-1,u=n;;){if(u>o&&(u=i.end.row+1,o=(i=t.getNextFoldLine(u,i))?i.start.row:1/0),u>r){for(;this.$lines.getLength()>s+1;)this.$lines.pop();break}(a=this.$lines.get(++s))?a.row=u:(a=this.$lines.createCell(u,e,this.session,l),this.$lines.push(a)),this.$renderCell(a,e,i,u),u++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(i=t.getLength()+r-1);var o=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,a=this.$padding||this.$computePadding();(o+=a.left+a.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=n,!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var r=[],i=t,o=this.session.getNextFoldLine(i),a=o?o.start.row:1/0;i>a&&(i=o.end.row+1,a=(o=this.session.getNextFoldLine(i,o))?o.start.row:1/0),!(i>n);){var s=this.$lines.createCell(i,e,this.session,l);this.$renderCell(s,e,o,i),r.push(s),i++}return r},this.$renderCell=function(e,t,n,i){var o=e.element,a=this.session,s=o.childNodes[0],u=o.childNodes[1],l=a.$firstLineNumber,c=a.$breakpoints,f=a.$decorations,h=a.gutterRenderer||this.$renderer,d=this.$showFoldWidgets&&a.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=p&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),c[i]&&(g+=c[i]),f[i]&&(g+=f[i]),this.$annotations[i]&&(g+=this.$annotations[i].className),o.className!=g&&(o.className=g),d){var m=d[i];null==m&&(m=d[i]=a.getFoldWidget(i))}if(m){g="ace_fold-widget ace_"+m;"start"==m&&i==p&&i<n.end.row?g+=" ace_closed":g+=" ace_open",u.className!=g&&(u.className=g);var v=t.lineHeight+"px";r.setStyle(u.style,"height",v),r.setStyle(u.style,"display","inline-block")}else u&&r.setStyle(u.style,"display","none");var y=(h?h.getText(a,i):i+l).toString();return y!==s.data&&(s.data=y),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,a)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,a)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(u.prototype),t.Gutter=u})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),a=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,a,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,i,o){for(var a=this.session,s=t.start.row,u=t.end.row,l=s,c=0,f=0,h=a.getScreenLastRowColumn(l),d=new r(l,t.start.column,l,f);l<=u;l++)d.start.row=d.end.row=l,d.start.column=l==s?t.start.column:a.getRowWrapIndent(l),d.end.column=h,c=f,f=h,h=l+1<u?a.getScreenLastRowColumn(l+1):l==u?0:t.end.column,this.drawSingleLineMarker(e,d,n+(l==s?" ace_start":"")+" ace_br"+((l==s||l==s+1&&t.start.column?1:0)|(c<f?2:0)|(f>h?4:0)|(l==u?8:0)),i,l==u?0:1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var o=this.$padding,a=r.lineHeight,s=this.$getTop(t.start.row,r),u=o+t.start.column*r.characterWidth;(i=i||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((l=t.clone()).end.row=l.start.row,l.end.column=this.session.getLine(l.start.row).length,this.drawBidiSingleLineMarker(e,l,n+" ace_br1 ace_start",r,null,i)):this.elt(n+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+s+"px;left:"+u+"px;"+(i||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var l;(l=t.clone()).start.row=l.end.row,l.start.column=0,this.drawBidiSingleLineMarker(e,l,n+" ace_br12",r,null,i)}else{s=this.$getTop(t.end.row,r);var c=t.end.column*r.characterWidth;this.elt(n+" ace_br12","height:"+a+"px;width:"+c+"px;top:"+s+"px;left:"+o+"px;"+(i||""))}if(!((a=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){s=this.$getTop(t.start.row+1,r);var f=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(f?" ace_br"+f:""),"height:"+a+"px;right:0;top:"+s+"px;left:"+o+"px;"+(i||""))}},this.drawSingleLineMarker=function(e,t,n,r,i,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,o);var a=r.lineHeight,s=(t.end.column+(i||0)-t.start.column)*r.characterWidth,u=this.$getTop(t.start.row,r),l=this.$padding+t.start.column*r.characterWidth;this.elt(n,"height:"+a+"px;width:"+s+"px;top:"+u+"px;left:"+l+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,r,i,o){var a=r.lineHeight,s=this.$getTop(t.start.row,r),u=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+a+"px;width:"+e.width+(i||0)+"px;top:"+s+"px;left:"+(u+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),a=r.lineHeight;t.start.row!=t.end.row&&(a+=this.$getTop(t.end.row,r)-o),this.elt(n,"height:"+a+"px;top:"+o+"px;left:0;right:0;"+(i||""))},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),a=r.lineHeight;this.elt(n,"height:"+a+"px;top:"+o+"px;left:0;right:0;"+(i||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),a=e("./lines").Lines,s=e("../lib/event_emitter").EventEmitter,u=function(e){this.dom=i,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)};(function(){r.implement(this,s),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(r=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",r.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(r);else t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r,i="ace_indent-guide",a=this.showSpaces?" ace_invisible ace_invisible_space":"",s=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),u=this.showTabs?" ace_invisible ace_invisible_tab":"",l=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):s;(r=this.dom.createElement("span")).className=i+a,r.textContent=s,this.$tabStrings[" "]=r,(r=this.dom.createElement("span")).className=i+u,r.textContent=l,this.$tabStrings["\t"]=r}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,a=0,s=e.firstRow;s<r;s++){if(u=this.session.getFoldLine(s)){if(u.containsRow(r)){r=u.start.row;break}s=u.end.row}a++}for(var u,l=!1,c=(s=r,(u=this.session.getNextFoldLine(s))?u.start.row:1/0);s>c&&(s=u.end.row+1,c=(u=this.session.getNextFoldLine(s,u))?u.start.row:1/0),!(s>i);){var f=o[a++];if(f){this.dom.removeChildren(f),this.$renderLine(f,s,s==c&&u),l&&(f.style.top=this.$lines.computeLineTop(s,e,this.session)+"px");var h=e.lineHeight*this.session.getRowLength(s)+"px";f.style.height!=h&&(l=!0,f.style.height=h)}s++}if(l)for(;a<this.$lines.cells.length;){var d=this.$lines.cells[a++];d.element.style.top=this.$lines.computeLineTop(d.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){for(var r=[],o=t,a=this.session.getNextFoldLine(o),s=a?a.start.row:1/0;o>s&&(o=a.end.row+1,s=(a=this.session.getNextFoldLine(o,a))?a.start.row:1/0),!(o>n);){var u=this.$lines.createCell(o,e,this.session),l=u.element;this.dom.removeChildren(l),i.setStyle(l.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),i.setStyle(l.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(l,o,o==s&&a),this.$useLineGroups()?l.className="ace_line_group":l.className="ace_line",r.push(u),o++}return r},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,r=this.$lines;r.getLength();)r.pop();r.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){for(var i,a=this,s=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,u=this.dom.createFragment(this.element),l=0;i=s.exec(r);){var c=i[1],f=i[2],h=i[3],d=i[4],p=i[5];if(a.showSpaces||!f){var g=l!=i.index?r.slice(l,i.index):"";if(l=i.index+i[0].length,g&&u.appendChild(this.dom.createTextNode(g,this.element)),c){var m=a.session.getScreenTabSize(t+i.index);u.appendChild(a.$tabStrings[m].cloneNode(!0)),t+=m-1}else if(f){if(a.showSpaces)(y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",y.textContent=o.stringRepeat(a.SPACE_CHAR,f.length),u.appendChild(y);else u.appendChild(this.com.createTextNode(f,this.element))}else if(h){(y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",y.textContent=o.stringRepeat(a.SPACE_CHAR,h.length),u.appendChild(y)}else if(d){t+=1,(y=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",y.className=a.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",y.textContent=a.showSpaces?a.SPACE_CHAR:d,u.appendChild(y)}else if(p){t+=1,(y=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",y.className="ace_cjk",y.textContent=p,u.appendChild(y)}}}if(u.appendChild(this.dom.createTextNode(l?r.slice(l):r,this.element)),this.$textToken[n.type])e.appendChild(u);else{var v="ace_"+n.type.replace(/\./g," ace_"),y=this.dom.createElement("span");"fold"==n.type&&(y.style.width=n.value.length*this.config.characterWidth+"px"),y.className=v,y.appendChild(u),e.appendChild(y)}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(" "==t[0]){for(var i=(r-=r%this.tabSize)/this.tabSize,o=0;o<i;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(r)}if("\t"==t[0]){for(o=0;o<r;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(r)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var r=0,i=0,a=n[0],s=0,u=this.$createLineElement();e.appendChild(u);for(var l=0;l<t.length;l++){var c=t[l],f=c.value;if(0==l&&this.displayIndentGuides){if(r=f.length,!(f=this.renderIndentGuide(u,f,a)))continue;r-=f.length}if(r+f.length<a)s=this.$renderToken(u,s,c,f),r+=f.length;else{for(;r+f.length>=a;)s=this.$renderToken(u,s,c,f.substring(0,a-r)),f=f.substring(a-r),r=a,u=this.$createLineElement(),e.appendChild(u),u.appendChild(this.dom.createTextNode(o.stringRepeat("\xa0",n.indent),this.element)),s=0,a=n[++i]||Number.MAX_VALUE;0!=f.length&&(r+=f.length,s=this.$renderToken(u,s,c,f))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(u,s,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var o=1;o<t.length;o++){if(n+(i=(r=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,i);n=this.$renderToken(e,n,r,i)}},this.$renderOverflowMessage=function(e,t,n,r,i){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=i?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else r=this.session.getTokens(t);var i=e;if(r.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,r,o);i=e.lastChild}else{i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var a=this.dom.createElement("span");a.className="ace_invisible ace_invisible_eol",a.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(a)}},this.$getFoldLineTokens=function(e,t){var n=this.session,r=[];var i=n.getTokens(e);return t.walk((function(e,t,o,a,s){null!=e?r.push({type:"fold",value:e}):(s&&(i=n.getTokens(t)),i.length&&function(e,t,n){for(var i=0,o=0;o+e[i].value.length<t;)if(o+=e[i].value.length,++i==e.length)return;for(o!=t&&((a=e[i].value.substring(t-o)).length>n-t&&(a=a.substring(0,n-t)),r.push({type:e[i].type,value:a}),o=t+a.length,i+=1);o<n&&i<e.length;){var a;(a=e[i].value).length+o>n?r.push({type:e[i].type,value:a.substring(0,n-o)}):r.push(e[i]),o+=a.length,i+=1}}(i,a,o))}),t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(u.prototype),t.Text=u})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)r.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){r.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){r.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var o=t.length;n<o;n++){var a=this.getPixelPosition(t[n].cursor,!0);if(!((a.top>e.height+e.offset||a.top<0)&&n>1)){var s=this.cursors[i++]||this.addCursor(),u=s.style;this.drawCursor?this.drawCursor(s,a,e,t[n],this.session):this.isCursorInView(a,e)?(r.setStyle(u,"display","block"),r.translate(s,a.left,a.top),r.setStyle(u,"width",Math.round(e.characterWidth)+"px"),r.setStyle(u,"height",e.lineHeight+"px")):r.setStyle(u,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var l=this.session.getOverwrite();this.$setOverwrite(l),this.$pixelPos=a,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,s=32768,u=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,a),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(u.prototype);var l=function(e,t){u.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};r.inherits(l,u),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>s?(this.coeff=s/e,e=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);var c=function(e,t){u.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(c,u),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(r.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(i.prototype),t.RenderLoop=i})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),a=e("../lib/event"),s=e("../lib/useragent"),u=e("../lib/event_emitter").EventEmitter,l=256,c="function"==typeof ResizeObserver,f=200,h=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){r.implement(this,u),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",s.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=a.onIdle((function t(){e.checkForSizeChanges(),a.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=i.buildDom([e(0,0),e(f,0),e(0,f),e(f,f)],this.el)},this.transformCoordinates=function(e,t){e&&(e=o(1/this.$getZoom(this.el),e));function n(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function r(e,t){return[e[0]-t[0],e[1]-t[1]]}function i(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function a(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var s=a(this.els[0]),u=a(this.els[1]),l=a(this.els[2]),c=a(this.els[3]),h=n(r(c,u),r(c,l),r(i(u,l),i(c,s))),d=o(1+h[0],r(u,s)),p=o(1+h[1],r(l,s));if(t){var g=t,m=h[0]*g[0]/f+h[1]*g[1]/f+1,v=i(o(g[0],d),o(g[1],p));return i(o(1/m/f,v),s)}var y=r(e,s),b=n(r(d,o(h[0],y)),r(p,o(h[1],y)),y);return o(f,b)}}).call(h.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./config"),a=e("./layer/gutter").Gutter,s=e("./layer/marker").Marker,u=e("./layer/text").Text,l=e("./layer/cursor").Cursor,c=e("./scrollbar").HScrollBar,f=e("./scrollbar").VScrollBar,h=e("./renderloop").RenderLoop,d=e("./layer/font_metrics").FontMetrics,p=e("./lib/event_emitter").EventEmitter,g='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=e("./lib/useragent"),v=m.isIE;i.importCssString(g,"ace_editor.css");var y=function(e,t){var n=this;this.container=e||i.createElement("div"),i.addCssClass(this.container,"ace_editor"),i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var r=this.$textLayer=new u(this.content);this.canvas=r.element,this.$markerFront=new s(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new f(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new d(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var o=0,a=this.$size,s={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};if(r&&(e||a.height!=r)&&(a.height=r,o|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||a.width!=n)){o|=this.CHANGE_SIZE,a.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),a.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px");var u=this.scrollBarV.getWidth()+"px";i.setStyle(this.scrollBarH.element.style,"right",u),i.setStyle(this.scroller.style,"right",u),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return a.$dirty=!n||!r,o&&this._signal("resize",s),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var r=this.layerConfig,o=n.top,a=n.left;o-=r.offset;var s=t&&t.useTextareaForIME?this.lineHeight:v?0:1;if(o<0||o>r.height-s)i.translate(this.textarea,0,0);else{var u=1,l=this.$size.height-s;if(t)if(t.useTextareaForIME){var c=this.textarea.value;u=this.characterWidth*this.session.$getStringScreenWidth(c)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(a-=this.scrollLeft)>this.$size.scrollerWidth-u&&(a=this.$size.scrollerWidth-u),a+=this.gutterWidth+this.margin.left,i.setStyle(e,"height",s+"px"),i.setStyle(e,"width",u+"px"),i.translate(this.textarea,Math.min(a,this.$size.scrollerWidth-u),Math.min(o,l))}}}else i.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.setMargin=function(e,t,n,r){var i=this.margin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",a=n.minHeight+"px";i.setStyle(this.content.style,"width",o),i.setStyle(this.content.style,"height",a)}if(e&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength()*this.lineHeight,i=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-i-2*this.$padding<0),a=this.$horizScroll!==o;a&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var s=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var u=t.scrollerHeight+this.lineHeight,l=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=l;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,r-t.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,i+2*this.$padding-t.scrollerWidth+c.right)));var f=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+l<0||this.scrollTop>c.top),h=s!==f;h&&(this.$vScroll=f,this.scrollBarV.setVisible(f));var d,p,g=this.scrollTop%this.lineHeight,m=Math.ceil(u/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var _=e.getFoldLine(v);_&&(v=_.start.row),d=e.documentToScreenRow(v,0),p=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),u=t.scrollerHeight+e.getRowLength(y)*b+p,g=this.scrollTop-d*b;var w=0;return(this.layerConfig.width!=i||a)&&(w=this.CHANGE_H_SCROLL),(a||h)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),h&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:v,firstRowScreen:d,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:u,maxHeight:r,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(i-this.$padding),w},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1)&&!(t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,a=n&&n.top||0,s=n&&n.bottom||0,u=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;u+a>o?(t&&u+a>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):u+this.$size.scrollerHeight-s<o+this.lineHeight&&(t&&u+this.$size.scrollerHeight-s<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+s-this.$size.scrollerHeight));var l=this.scrollLeft;l>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):l+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):l<=this.$padding&&i-l<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n,r,i=0,o=this.STEPS,a=[];for(i=0;i<o;++i)a.push((n=i/this.STEPS,r=e,(t-e)*(Math.pow(n-1,3)+1)+r));return a},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(i-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(i),!1!==n&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0])==n)return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval((function(){if(!r.session)return clearInterval(r.$timer);o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=this.$blockCursor?Math.floor(o):Math.round(o);return{row:a,column:s,side:o-s>0?1:-1,offsetX:i}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,a=this.$blockCursor?Math.floor(o):Math.round(o),s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(s,Math.max(a,0),i)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),void 0==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var o={type:t,value:e},a=i.getTokens(n);if(null==r)a.push(o);else for(var s=0,u=0;u<a.length;u++){var l=a[u];if(r<=(s+=l.value.length)){var c=l.value.length-(s-r),f=l.value.slice(0,c),h=l.value.slice(c);a.splice(u,1,{type:l.type,value:f},o,{type:l.type,value:h});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)a(e);else{var r=e||this.$options.theme.initialValue;o.loadModule(["theme",r],a)}function a(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.$id&&(n.$themeId=r.$id),i.importCssString(r.cssText,r.cssClass,n.container),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var o="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){i.importCssString(g,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(y.prototype),o.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=y})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,a=e("../config");function s(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(r){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var u=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,r,i,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)i=i||a.moduleUrl(n,"worker");else{var u=this.$normalizePath;i=i||u(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach((function(t){l[t]=u(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=s(i),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:l,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(u.prototype);t.UIWorkerClient=function(e,t,n){var r=null,i=!1,s=Object.create(o),l=[],c=new u({messageBuffer:l,terminate:function(){},postMessage:function(e){l.push(e),r&&(i?setTimeout(f):f())}});c.setEmitSync=function(e){i=e};var f=function(){var e=l.shift();e.command?r[e.command].apply(r,e.args):e.event&&s._signal(e.event,e.data)};return s.postMessage=function(e){c.onMessage({data:e})},s.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},s.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],(function(e){for(r=new e[n](s);l.length;)f()})),c},t.WorkerClient=u,t.createWorker=s})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),a=function(e,t,n,r,i,o){var a=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout((function(){a.onCursorChange()}))},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var a=this.others.length-1;a>=0;a--){var s={row:(u=this.others[a]).row,column:u.column+o};this.doc.insertMergedLines(s,e.lines)}else if("remove"===e.action)for(a=this.others.length-1;a>=0;a--){var u;s={row:(u=this.others[a]).row,column:u.column+o};this.doc.remove(new r(s.row,s.column,s.row,s.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(a.prototype),t.PlaceHolder=a})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,a=t.shiftKey,s=t.ctrlKey,u=e.getAccelKey(),l=e.getButton();if(s&&i.isMac&&(l=t.button),e.editor.inMultiSelectMode&&2==l)e.editor.textInput.onContextMenu(e.domEvent);else if(s||n||u){if(0===l){var c,f=e.editor,h=f.selection,d=f.inMultiSelectMode,p=e.getDocumentPosition(),g=h.getCursor(),m=e.inSelection()||h.isEmpty()&&o(p,g),v=e.x,y=e.y,b=f.session,_=f.renderer.pixelToScreenCoordinates(v,y),w=_;if(f.$mouseHandler.$enableJumpToDef)s&&n||u&&n?c=a?"block":"add":n&&f.$blockSelectEnabled&&(c="block");else if(u&&!n){if(c="add",!d&&a)return}else n&&f.$blockSelectEnabled&&(c="block");if(c&&i.isMac&&t.ctrlKey&&f.$mouseHandler.cancelContextMenu(),"add"==c){if(!d&&m)return;if(!d){var x=h.toOrientedRange();f.addSelectionMarker(x)}var O=h.rangeList.rangeAtPoint(p);f.inVirtualSelectionMode=!0,a&&(O=null,x=h.ranges[0]||x,f.removeSelectionMarker(x)),f.once("mouseup",(function(){var e=h.toOrientedRange();O&&e.isEmpty()&&o(O.cursor,e.cursor)?h.substractPoint(e.cursor):(a?h.substractPoint(x.cursor):x&&(f.removeSelectionMarker(x),h.addRange(x)),h.addRange(e)),f.inVirtualSelectionMode=!1}))}else if("block"==c){var k;e.stop(),f.inVirtualSelectionMode=!0;var S=[],E=function(){var e=f.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);o(w,e)&&o(t,h.lead)||(w=e,f.selection.moveToPosition(t),f.renderer.scrollCursorIntoView(),f.removeSelectionMarkers(S),S=h.rectangularRangeBlock(w,_),f.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=f.$mouseHandler.$clickSelection.clone()),S.forEach(f.addSelectionMarker,f),f.updateSelectionMarkers())};d&&!u?h.toSingleRange():!d&&u&&(k=h.toOrientedRange(),f.addSelectionMarker(k)),a?_=b.documentToScreenPosition(h.lead):h.moveToPosition(p),w={row:-1,column:-1};var C=E;r.capture(f.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){E(),clearInterval(A),f.removeSelectionMarkers(S),S.length||(S=[h.toOrientedRange()]),k&&(f.removeSelectionMarker(k),h.toSingleRange(k));for(var t=0;t<S.length;t++)h.addRange(S[t]);f.inVirtualSelectionMode=!1,f.$mouseHandler.$clickSelection=null}));var A=setInterval((function(){C()}),20);return e.preventDefault()}}}else 0===l&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var r=e("./range_list").RangeList,i=e("./range").Range,o=e("./selection").Selection,a=e("./mouse/multi_select_handler").onMouseDown,s=e("./lib/event"),u=e("./lib/lang"),l=e("./commands/multi_select_commands");t.commands=l.defaultCommands.concat(l.multiSelectCommands);var c=new(0,e("./search").Search);var f=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var r=e[n],o=r.start.row,a=r.end.row;if(o===a)t.push(r.clone());else{for(t.push(new i(o,r.start.column,o,this.session.getLine(o).length));++o<a;)t.push(this.getLineRange(o,!0));t.push(new i(a,0,a,r.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var a=e.column,s=t.column,u=e.offsetX,l=t.offsetX;else a=t.column,s=e.column,u=t.offsetX,l=e.offsetX;var c,f,h,d=e.row<t.row;if(d)var p=e.row,g=t.row;else p=t.row,g=e.row;a<0&&(a=0),p<0&&(p=0),p==g&&(n=!0);for(var m=p;m<=g;m++){var v=i.fromPoints(this.session.screenToDocumentPosition(m,a,u),this.session.screenToDocumentPosition(m,s,l));if(v.isEmpty()){if(c&&(f=v.end,h=c,f.row==h.row&&f.column==h.column))break;c=v.end}v.cursor=o?v.start:v.end,r.push(v)}if(d&&r.reverse(),!n){for(var y=r.length-1;r[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;r[b].isEmpty();)b++;for(var _=y;_>=b;_--)r[_].isEmpty()&&r.splice(_,1)}return r}}.call(o.prototype);var h=e("./editor").Editor;function d(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",a),e.commands.addCommands(l.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;function r(t){n&&(e.renderer.setMouseCursor(""),n=!1)}s.addListener(t,"keydown",(function(t){var i=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&r()}),e),s.addListener(t,"keyup",r,e),s.addListener(t,"blur",r,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(l.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(l.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,a=1==n||n&&n.$byLines,s=this.session,u=this.selection,l=u.rangeList,c=(i?u:l).ranges;if(!c.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var f=u._eventRegistry;u._eventRegistry={};var h=new o(s);this.inVirtualSelectionMode=!0;for(var d=c.length;d--;){if(a)for(;d>0&&c[d].start.row==c[d-1].end.row;)d--;h.fromOrientedRange(c[d]),h.index=d,this.selection=s.selection=h;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),h.toOrientedRange(c[d])}h.detach(),this.selection=s.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=f,u.mergeOverlappingRanges(),u.ranges[0]&&u.fromOrientedRange(u.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();(e=n.join(i)).length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var a=i.length;a--;)o.addRange(i[a],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var a,s=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())l=s;else var u=this.session.documentToScreenPosition(r?n.end:n.start),l=this.session.screenToDocumentPosition(u.row+e,u.column);r?(a=i.fromPoints(s,l)).cursor=a.start:(a=i.fromPoints(l,s)).cursor=a.end;if(a.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(a),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){if((s=r[i]).isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();var a=[];for(i=r.length;i--;){var s=r[i];a.unshift(t.getTextRange(s))}e<0?a.unshift(a.pop()):a.push(a.shift());for(i=r.length;i--;){o=(s=r[i]).clone();t.replace(s,a[i]),s.start.row=o.start.row,s.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect.toOrientedRange();if(!i.isEmpty()||((i=r.getWordRange(i.start.row,i.start.column)).cursor=-1==e?i.start:i.end,this.multiSelect.addRange(i),!n)){var o=r.getTextRange(i),a=function(e,t,n){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=-1==n,c.find(e)}(r,o,e);a&&(a.cursor=-1==e?a.start:a.end,this.session.unfold(a),this.multiSelect.addRange(a),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,o=n.filter((function(e){if(e.cursor.row==r)return!0;r=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var a=0,s=1/0,l=n.map((function(t){var n=t.cursor,r=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>a&&(a=n.column),r<s&&(s=r),r}));n.forEach((function(t,n){var r=t.cursor,o=a-r.column,c=l[n]-s;o>c?e.insert(r,u.stringRepeat(" ",o-c)):e.remove(new i(r.row,r.column,r.row,r.column-o+c)),t.start.column=t.end.column=a,t.start.row=t.end.row=r.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),f=c.start.row,h=c.end.row,d=f==h;if(d){var p,g=this.session.getLength();do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&++h<g);do{p=this.session.getLine(f)}while(/[=:]/.test(p)&&--f>0);f<0&&(f=0),h>=g&&(h=g-1)}var m=this.session.removeFullLines(f,h);m=this.$reAlignText(m,d),this.session.insert({row:f,column:0},m.join("\n")+"\n"),d||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){var n,r,i,o=!0,a=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,r=t[2].length,i=t[3].length,t):(n+r+i!=t[1].length+t[2].length+t[3].length&&(a=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),r<t[2].length&&(r=t[2].length),i>t[3].length&&(i=t[3].length),t):[e]})).map(t?l:o?a?function(e){return e[2]?s(n+r-e[2].length)+e[2]+s(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:l:function(e){return e[2]?s(n)+e[2]+s(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function s(e){return u.stringRepeat(" ",e)}function l(e){return e[2]?s(n)+e[2]+s(r-e[2].length+i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(h.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=d,e("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(e){d(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",a)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",a))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,o=e.getLine(t),a=o.search(i);if(-1!=a){for(var s=n||o.length,u=e.getLength(),l=t,c=t;++t<u;){var f=e.getLine(t).search(i);if(-1!=f){if(f<=a){var h=e.getTokenAt(t,0);if(!h||"string"!==h.type)break}c=t}}if(c>l){var d=e.getLine(c).length;return new r(l,s,c,d)}}},this.openingBracketBlock=function(e,t,n,i,o){var a={row:n,column:i+1},s=e.$findClosingBracket(t,a,o);if(s){var u=e.foldWidgets[s.row];return null==u&&(u=e.getFoldWidget(s.row)),"start"==u&&s.row>a.row&&(s.row--,s.column=e.getLine(s.row).length),r.fromPoints(a,s)}},this.closingBracketBlock=function(e,t,n,i,o){var a={row:n,column:i},s=e.$findOpeningBracket(t,a);if(s)return s.column++,a.column--,r.fromPoints(s,a)}}).call(i.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./lib/dom");function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,a="add"==e.action,s=i+1;s<o;s++)n[s]&&(n[s].hidden=a);n[o]&&(a?n[i]?n[o].hidden=a:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=a))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(r);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var i=this.session.lineWidgets;e.row!=n.end.row||i[n.start.row]?e.hidden=!0:i[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(n){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var a=n[o];if(a&&a.el&&a.session==this.session){if(!a._inDocument){if(this.session.lineWidgets[a.row]!=a)continue;a._inDocument=!0,t.container.appendChild(a.el)}a.h=a.el.offsetHeight,a.fixedWidth||(a.w=a.el.offsetWidth,a.screenWidth=Math.ceil(a.w/r.characterWidth));var s=a.h/r.lineHeight;a.coverLine&&(s-=this.session.getRowLineCount(a.row))<0&&(s=0),a.rowCount!=s&&(a.rowCount=s,a.row<i&&(i=a.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var a=i;a<=o;a++){var s=r[a];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var u=t.$cursorLayer.getPixelPosition({row:a,column:0},!0).top;s.coverLine||(u+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=u-n.offset+"px";var l=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(l-=t.scrollLeft),s.el.style.left=l+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=t.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var r=e("../line_widgets").LineWidgets,i=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var a=e.getCursorPosition(),s=a.row,u=n.widgetManager.getWidgetsAtRow(s).filter((function(e){return"errorMarker"==e.type}))[0];u?u.destroy():s-=t;var l,c=function(e,t,n){var r=e.getAnnotations().sort(o.comparePoints);if(r.length){var i=function(e,t,n){for(var r=0,i=e.length-1;r<=i;){var o=r+i>>1,a=n(t,e[o]);if(a>0)r=o+1;else{if(!(a<0))return o;i=o-1}}return-(r+1)}(r,{row:t,column:-1},o.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:0===i&&n<0&&(i=r.length-1);var a=r[i];if(a&&n){if(a.row===t){do{a=r[i+=n]}while(a&&a.row===t);if(!a)return r.slice()}var s=[];t=a.row;do{s[n<0?"unshift":"push"](a),a=r[i+=n]}while(a&&a.row==t);return s.length&&s}}}(n,s,t);if(c){var f=c[0];a.column=(f.pos&&"number"!=typeof f.column?f.pos.sc:f.column)||0,a.row=f.row,l=e.renderer.$gutterLayer.$annotations[a.row]}else{if(u)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(a.row),e.selection.moveToPosition(a);var h={row:a.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},d=h.el.appendChild(i.createElement("div")),p=h.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+l.className;var g=e.renderer.$cursorLayer.getPixelPosition(a).left;p.style.left=g+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",d.className="error_widget "+l.className,d.innerHTML=l.text.join("<br>"),d.appendChild(i.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return h.destroy(),{command:"null"}};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/dom"),o=e("./lib/event"),a=e("./range").Range,s=e("./editor").Editor,u=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=n(237),t.edit=function(e,n){if("string"==typeof e){var r=e;if(!(e=document.getElementById(r)))throw new Error("ace.edit can't find div #"+r)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var u=e;a=u.value,e=i.createElement("pre"),u.parentNode.replaceChild(e,u)}else e&&(a=e.textContent,e.innerHTML="");var l=t.createEditSession(a),f=new s(new c(e),l,n),h={document:l,editor:f,onResize:f.resize.bind(f,null)};return u&&(h.textarea=u),o.addListener(window,"resize",h.onResize),f.on("destroy",(function(){o.removeListener(window,"resize",h.onResize),h.editor.container.env=null})),f.container.env=f.env=h,f},t.createEditSession=function(e,t){var n=new u(e,t);return n.setUndoManager(new l),n},t.Range=a,t.Editor=s,t.EditSession=u,t.UndoManager=l,t.VirtualRenderer=c,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))}).call(this,n(118)(e))},function(e,t,n){var r=n(258),i=n(191);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(409),i=n(410),o=n(411),a=n(412),s=n(413);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(197);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(106)(Object,"create");e.exports=r},function(e,t,n){var r=n(431);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(446),i=n(198),o=n(447),a=n(448),s=n(449),u=n(105),l=n(261),c="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",g=l(r),m=l(i),v=l(o),y=l(a),b=l(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=c||o&&_(o.resolve())!=f||a&&_(new a)!=h||s&&_(new s)!=d)&&(_=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case m:return c;case v:return f;case y:return h;case b:return d}return t}),e.exports=_},function(e,t,n){var r=n(202);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},function(e,t,n){var r=n(273),i=n(274);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=o?o(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?i(n,l,c):r(n,l,c)}return n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"===typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},function(e,t,n){"use strict";t.a=function(e){function t(e,r,u,l,h){for(var d,p,g,m,_,x=0,O=0,k=0,S=0,E=0,M=0,L=g=d=0,D=0,z=0,F=0,N=0,B=u.length,V=B-1,$="",U="",W="",H="";D<B;){if(p=u.charCodeAt(D),D===V&&0!==O+S+k+x&&(0!==O&&(p=47===O?10:47),S=k=x=0,B++,V++),0===O+S+k+x){if(D===V&&(0<z&&($=$.replace(f,"")),0<$.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:$+=u.charAt(D)}p=59}switch(p){case 123:for(d=($=$.trim()).charCodeAt(0),g=1,N=++D;D<B;){switch(p=u.charCodeAt(D)){case 123:g++;break;case 125:g--;break;case 47:switch(p=u.charCodeAt(D+1)){case 42:case 47:e:{for(L=D+1;L<V;++L)switch(u.charCodeAt(L)){case 47:if(42===p&&42===u.charCodeAt(L-1)&&D+2!==L){D=L+1;break e}break;case 10:if(47===p){D=L+1;break e}}D=L}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<V&&u.charCodeAt(D)!==p;);}if(0===g)break;D++}switch(g=u.substring(N,D),0===d&&(d=($=$.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<z&&($=$.replace(f,"")),p=$.charCodeAt(1)){case 100:case 109:case 115:case 45:z=r;break;default:z=T}if(N=(g=t(r,z,g,p,h+1)).length,0<R&&(_=s(3,g,z=n(T,$,F),r,A,C,N,p,h,l),$=z.join(""),void 0!==_&&0===(N=(g=_.trim()).length)&&(p=0,g="")),0<N)switch(p){case 115:$=$.replace(w,a);case 100:case 109:case 45:g=$+"{"+g+"}";break;case 107:g=($=$.replace(v,"$1 $2"))+"{"+g+"}",g=1===j||2===j&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=$+g,112===l&&(U+=g,g="")}else g="";break;default:g=t(r,n(r,$,F),g,l,h+1)}W+=g,g=F=z=L=d=0,$="",p=u.charCodeAt(++D);break;case 125:case 59:if(1<(N=($=(0<z?$.replace(f,""):$).trim()).length))switch(0===L&&(d=$.charCodeAt(0),45===d||96<d&&123>d)&&(N=($=$.replace(" ",":")).length),0<R&&void 0!==(_=s(1,$,r,e,A,C,U.length,l,h,l))&&0===(N=($=_.trim()).length)&&($="\0\0"),d=$.charCodeAt(0),p=$.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=$+u.charAt(D);break}default:58!==$.charCodeAt(N-1)&&(U+=i($,d,p,$.charCodeAt(2)))}F=z=L=d=0,$="",p=u.charCodeAt(++D)}}switch(p){case 13:case 10:47===O?O=0:0===1+d&&107!==l&&0<$.length&&(z=1,$+="\0"),0<R*I&&s(0,$,r,e,A,C,U.length,l,h,l),C=1,A++;break;case 59:case 125:if(0===O+S+k+x){C++;break}default:switch(C++,m=u.charAt(D),p){case 9:case 32:if(0===S+x+O)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+O+x&&(z=F=1,m="\f"+m);break;case 108:if(0===S+O+x+P&&0<L)switch(D-L){case 2:112===E&&58===u.charCodeAt(D-3)&&(P=E);case 8:111===M&&(P=M)}break;case 58:0===S+O+x&&(L=D);break;case 44:0===O+k+S+x&&(z=1,m+="\r");break;case 34:case 39:0===O&&(S=S===p?0:0===S?p:S);break;case 91:0===S+O+k&&x++;break;case 93:0===S+O+k&&x--;break;case 41:0===S+O+x&&k--;break;case 40:if(0===S+O+x){if(0===d)switch(2*E+3*M){case 533:break;default:d=1}k++}break;case 64:0===O+k+S+x+L+g&&(g=1);break;case 42:case 47:if(!(0<S+x+k))switch(O){case 0:switch(2*p+3*u.charCodeAt(D+1)){case 235:O=47;break;case 220:N=D,O=42}break;case 42:47===p&&42===E&&N+2!==D&&(33===u.charCodeAt(N+2)&&(U+=u.substring(N,D+1)),m="",O=0)}}0===O&&($+=m)}M=E,E=p,D++}if(0<(N=U.length)){if(z=r,0<R&&(void 0!==(_=s(2,U,z,e,A,C,N,l,h,l))&&0===(U=_).length))return H+U+W;if(U=z.join(",")+"{"+U+"}",0!==j*P){switch(2!==j||o(U,2)||(P=0),P){case 111:U=U.replace(b,":-moz-$1")+U;break;case 112:U=U.replace(y,"::-webkit-input-$1")+U.replace(y,"::-moz-$1")+U.replace(y,":-ms-input-$1")+U}P=0}}return H+U+W}function n(e,t,n){var i=t.trim().split(g);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===j||2===j&&o(u,1)?"-webkit-"+u+u:u}if(0===j||2===j&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(O,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(O,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),L(2!==t?r:r.replace(k,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,c){for(var f,h=0,d=t;h<R;++h)switch(f=M[h].call(l,e,d,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(L=null,e?"function"!==typeof e?j=1:(j=2,L=e):j=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,A,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(T,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,o,r,r,A,C,o.length,0,0,0))&&(o=i)),"",P=0,C=A=1,o}var c=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,g=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,O=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,C=1,A=1,P=0,j=1,T=[],M=[],R=0,L=null,I=0;return l.use=function e(t){switch(t){case void 0:case null:R=M.length=0;break;default:if("function"===typeof t)M[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else I=0|!!t}return e},l.set=u,void 0!==e&&u(e),l}},function(e,t,n){"use strict";t.a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(139);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diff=t.split=void 0;var r=n(356),i=n(357);t.diff=i.default;var o=n(240);t.split=o.default,t.default=r.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(5),i=n(4),o=n(13),a=n(15),s=n(6),u=n(125),l=n(30),c=n(29);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var h=function(e){Object(o.a)(n,e);var t=f(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"toString",value:function(){var e="[";if(c.b.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(var r=0;r<this.ELEMENTS;++r)e+=" ".concat(this[r])}return e+="]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,n){return this[t*this.RANK+e]=Object(l.a)(n),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=e*this.RANK,r=0;r<this.RANK;++r)t[r]=this[n+r];return t}},{key:"setColumn",value:function(e,t){for(var n=e*this.RANK,r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}]),n}(u.a)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(19),i=n(168);function o(){return!("object"===("undefined"===typeof e?"undefined":Object(r.a)(e))&&"[object process]"===String(e)&&!e.browser)||Object(i.a)()}}).call(this,n(54))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(19);function i(t){if("undefined"!==typeof window&&"object"===Object(r.a)(window.process)&&"renderer"===window.process.type)return!0;if("undefined"!==typeof e&&"object"===Object(r.a)(e.versions)&&Boolean(e.versions.electron))return!0;var n="object"===("undefined"===typeof navigator?"undefined":Object(r.a)(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent,i=t||n;return!!(i&&i.indexOf("Electron")>=0)}}).call(this,n(54))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var r=n(24),i=n(39),o=n(23),a=n(109),s=n(32),u=[0,0,0,0],l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],f=[0,0,0],h=[0,0,0],d=Object(a.a)((function(e){var t=e.viewport,n=e.devicePixelRatio,a=e.coordinateSystem,s=e.coordinateOrigin,c=function(e,t,n){var o=e.viewMatrixUncentered,a=e.projectionMatrix,s=e.viewMatrix,c=e.viewProjectionMatrix,f=u,h=e.cameraPosition,d=p(e,t,n),g=d.geospatialOrigin,m=d.shaderCoordinateOrigin;if(d.offsetMode){var v=e.projectPosition(g||m);h=[h[0]-v[0],h[1]-v[1],h[2]-v[2]],v[3]=1,f=i.n([],v,c),s=o||s,c=r.h([],a,s),c=r.h([],c,l)}return{viewMatrix:s,viewProjectionMatrix:c,projectionCenter:f,cameraPosCommon:h,shaderCoordinateOrigin:m,geospatialOrigin:g}}(t,a,s),h=c.projectionCenter,d=c.viewProjectionMatrix,g=c.cameraPosCommon,m=c.shaderCoordinateOrigin,v=c.geospatialOrigin,y=t.getDistanceScales(),b=[t.width*n,t.height*n],_={project_uCoordinateSystem:a,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:m,project_uCenter:h,project_uViewportSize:b,project_uDevicePixelRatio:n,project_uFocalDistance:t.focalDistance||1,project_uCommonUnitsPerMeter:y.unitsPerMeter,project_uCommonUnitsPerWorldUnit:y.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:f,project_uScale:t.scale,project_uViewProjectionMatrix:d,project_uCameraPosition:g};if(v){var w=t.getDistanceScales(v);switch(a){case o.a.METER_OFFSETS:_.project_uCommonUnitsPerWorldUnit=w.unitsPerMeter,_.project_uCommonUnitsPerWorldUnit2=w.unitsPerMeter2;break;case o.a.LNGLAT:case o.a.LNGLAT_OFFSETS:_.project_uCommonUnitsPerWorldUnit=w.unitsPerDegree,_.project_uCommonUnitsPerWorldUnit2=w.unitsPerDegree2;break;case o.a.CARTESIAN:_.project_uCommonUnitsPerWorldUnit=[1,1,w.unitsPerMeter[2]],_.project_uCommonUnitsPerWorldUnit2=[0,0,w.unitsPerMeter2[2]]}}return _}));function p(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,i=r,a=!0;switch(n=t===o.a.LNGLAT_OFFSETS||t===o.a.METER_OFFSETS?r:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case o.c.WEB_MERCATOR:t!==o.a.LNGLAT&&t!==o.a.CARTESIAN||(a=!1);break;case o.c.WEB_MERCATOR_AUTO_OFFSET:t===o.a.LNGLAT?i=n:t===o.a.CARTESIAN&&(i=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],n=e.unprojectPosition(i),i[0]-=r[0],i[1]-=r[1],i[2]-=r[2]);break;case o.c.IDENTITY:i=e.position.map(Math.fround);break;case o.c.GLOBE:a=!1,n=null;break;default:a=!1}return i[2]=i[2]||0,{geospatialOrigin:n,shaderCoordinateOrigin:i,offsetMode:a}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewport,n=e.devicePixelRatio,r=void 0===n?1:n,i=e.modelMatrix,a=void 0===i?null:i,u=e.coordinateSystem,l=void 0===u?o.a.DEFAULT:u,f=e.coordinateOrigin,h=e.autoWrapLongitude,p=void 0!==h&&h;e.projectionMode,e.positionOrigin;Object(s.a)(t),l===o.a.DEFAULT&&(l=t.isGeospatial?o.a.LNGLAT:o.a.CARTESIAN);var g=d({viewport:t,devicePixelRatio:r,coordinateSystem:l,coordinateOrigin:f});return g.project_uWrapLongitude=p,g.project_uModelMatrix=a||c,g}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(2),i=n(5),o=n(4),a=n(27),s=n(13),u=n(15),l=n(6),c=n(110),f=n(36),h=n(48),d=n(22);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var v=function(e){Object(s.a)(n,e);var t=m(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,n);var o=r.latitude,s=void 0===o?0:o,u=r.longitude,l=void 0===u?0:u,c=r.zoom,h=void 0===c?11:c,p=r.pitch,g=void 0===p?0:p,m=r.bearing,v=void 0===m?0:m,y=r.nearZMultiplier,b=void 0===y?.1:y,_=r.farZMultiplier,w=void 0===_?1.01:_,x=r.orthographic,O=void 0!==x&&x,k=r.repeat,S=void 0!==k&&k,E=r.worldOffset,C=void 0===E?0:E,A=r.width,P=r.height,j=r.altitude,T=void 0===j?1.5:j,M=Math.pow(2,h);A=A||1,P=P||1,T=Math.max(.75,T);var R=Object(f.i)({width:A,height:P,pitch:g,altitude:T,nearZMultiplier:b,farZMultiplier:w}),L=R.fov,I=R.aspect,D=R.focalDistance,z=R.near,F=R.far,N=Object(f.j)({height:P,pitch:g,bearing:v,scale:M,altitude:T});if(C){var B=(new d.a).translate([512*C,0,0]);N=B.multiplyLeft(N)}var V=Object.assign({},r,{width:A,height:P,viewMatrix:N,longitude:l,latitude:s,zoom:h,orthographic:O,fovyRadians:L,aspect:I,focalDistance:O?D:1,near:z,far:F});return(e=t.call(this,V)).latitude=s,e.longitude=l,e.zoom=h,e.pitch=g,e.bearing=v,e.altitude=T,e.orthographic=O,e._subViewports=S?[]:null,Object.freeze(Object(a.a)(e)),e}return Object(o.a)(n,[{key:"addMetersToLngLat",value:function(e,t){return Object(f.b)(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=e.pos,r=Object(f.m)(n,this.pixelUnprojectionMatrix),i=this.projectFlat(t),o=h.a([],i,h.d([],r)),a=h.a([],this.center,o);return this.unprojectFlat(a)}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(f.e)(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}},{key:"fitBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=Object(f.c)(Object.assign({width:r,height:i,bounds:e},t)),a=o.longitude,s=o.latitude,u=o.zoom;return new n({width:r,height:i,longitude:a,latitude:s,zoom:u})}},{key:"subViewports",get:function(){if(this._subViewports&&!this._subViewports.length)for(var e=this.getBounds(),t=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360),i=t;i<=r;i++){var o=i?new n(g(g({},this),{},{worldOffset:i})):this;this._subViewports.push(o)}return this._subViewports}}]),n}(c.a);v.displayName="WebMercatorViewport"},function(e,t,n){"use strict";t.a=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},function(e,t,n){e.exports=n(380)},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(40))},function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var r=n(7),i=n(18),o=n(2),a=n(0),s=n(1),u=n(8),l=n(36),c=n(296),f=n(179),h=n(236),d=n.n(h),p=n(5),g=n(4);function m(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function v(e,t){if(e===t)return!0;if(m(e)&&m(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!v(e[n],t[n]))return!1;return!0}return Math.abs(e-t)<=1e-7}function y(e,t,n){return Math.max(t,Math.min(n,e))}function b(e,t,n){return m(e)?e.map((function(e,r){return b(e,t[r],n)})):n*t+(1-n)*e}function _(e,t){if(!e)throw new Error(t||"react-map-gl: assertion failed.")}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},k=0,S=0,E=1.5,C=function(){function e(t){var n=t.width,r=t.height,i=t.latitude,o=t.longitude,a=t.zoom,s=t.bearing,u=void 0===s?S:s,l=t.pitch,c=void 0===l?k:l,f=t.altitude,h=void 0===f?E:f,d=t.maxZoom,g=void 0===d?O.maxZoom:d,m=t.minZoom,v=void 0===m?O.minZoom:m,y=t.maxPitch,b=void 0===y?O.maxPitch:y,w=t.minPitch,x=void 0===w?O.minPitch:w,C=t.transitionDuration,A=t.transitionEasing,P=t.transitionInterpolator,j=t.transitionInterruption,T=t.startPanLngLat,M=t.startZoomLngLat,R=t.startRotatePos,L=t.startBearing,I=t.startPitch,D=t.startZoom;Object(p.a)(this,e),_(Number.isFinite(n),"`width` must be supplied"),_(Number.isFinite(r),"`height` must be supplied"),_(Number.isFinite(o),"`longitude` must be supplied"),_(Number.isFinite(i),"`latitude` must be supplied"),_(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:u,pitch:c,altitude:h,maxZoom:g,minZoom:v,maxPitch:b,minPitch:x,transitionDuration:C,transitionEasing:A,transitionInterpolator:P,transitionInterruption:j}),this._state={startPanLngLat:T,startZoomLngLat:M,startRotatePos:R,startBearing:L,startPitch:I,startZoom:D}}return Object(g.a)(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._state.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:t}),o=Object(u.a)(i,2),a=o[0],s=o[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startRotatePos:t,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this._state,u=s.startRotatePos,l=s.startBearing,c=s.startPitch;return Number.isFinite(l)&&Number.isFinite(c)?(t=n?this._calculateNewPitchAndBearing(x(x({},this._getRotationParams(n,u)),{},{startBearing:l,startPitch:c})):{bearing:l+i,pitch:c+a},this._getUpdatedMapState(t)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale;_(r>0,"`scale` must be a positive number");var i=this._state,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(t)),_(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),c=new l.a(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:t}),f=Object(u.a)(c,2),h=f[0],d=f[1];return this._getUpdatedMapState({zoom:s,longitude:h,latitude:d})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(t){return new e(Object.assign({},this._viewportProps,this._state,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=y(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=y(a,o,i),Object.assign(e,Object(l.l)(e)),e}},{key:"_unproject",value:function(e){var t=new l.a(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,n=e.pos;return new l.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return y(n+Math.log2(t),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=e.startBearing,i=e.startPitch;n=y(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*t}}},{key:"_getRotationParams",value:function(e,t){var n=e[0]-t[0],r=e[1]-t[1],i=e[1],o=t[1],a=this._viewportProps,s=a.width,u=a.height,l=n/s,c=0;return r>0?Math.abs(u-o)>5&&(c=r/(o-u)*1.2):r<0&&o>5&&(c=1-i/o),{deltaScaleX:l,deltaScaleY:c=Math.min(1,Math.max(-1,c))}}}]),e}();function A(e){return e[0].toLowerCase()+e.slice(1)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=Object(a.createContext)({viewport:null,map:null,container:null,onViewportChange:null,onViewStateChange:null,eventManager:null}),M=T.Provider;T.Provider=function(e){var t=e.value,n=e.children,r=Object(a.useState)(null),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(a.useContext)(T);return t=j(j({setMap:s},l),{},{map:l&&l.map||o},t),a.createElement(M,{value:t},n)};var R=T,L="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z="A valid API access token is required to use Mapbox data";var F={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},N=Object.assign({},f.a.propTypes,{width:s.oneOfType([s.number,s.string]),height:s.oneOfType([s.number,s.string]),onResize:s.func,disableTokenWarning:s.bool,visible:s.bool,className:s.string,style:s.object,visibilityConstraints:s.object}),B=Object.assign({},f.a.defaultProps,{disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:O});function V(){return a.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},a.createElement("h3",{key:"header"},z),a.createElement("div",{key:"text"},"For information on setting up your basemap, read"),a.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}function $(e){e.target.scrollTo(0,0)}var U=Object(a.forwardRef)((function(e,t){var n=Object(a.useState)(!0),r=Object(u.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)([0,0]),h=Object(u.a)(s,2),p=h[0],g=h[1],m=Object(a.useRef)(null),v=Object(a.useRef)(null),y=Object(a.useRef)(null),b=Object(a.useContext)(R);L((function(){if(U.supported()){var t=new f.a(D(D({},e),{},{mapboxgl:d.a,width:p[0],height:p[1],container:v.current,onError:function(t){401===(t.error&&t.error.status||t.status)&&i&&(console.error(z),o(!1)),e.onError(t)}}));m.current=t,b&&b.setMap&&b.setMap(t.getMap());var n=new c.a((function(t){if(t[0].contentRect){var n=t[0].contentRect,r=n.width,i=n.height;g([r,i]),e.onResize({width:r,height:i})}}));return n.observe(y.current),function(){t.finalize(),m.current=null,n.disconnect()}}}),[]),L((function(){m.current&&m.current.setProps(Object.assign({},e,{width:p[0],height:p[1]}))}));var _=m.current&&m.current.getMap();Object(a.useImperativeHandle)(t,(function(){return function(e){return{getMap:function(){return e.current&&e.current.getMap()},queryRenderedFeatures:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.current&&e.current.getMap();return r&&r.queryRenderedFeatures(t,n)}}}(m)}),[]);var w=_&&a.createElement(M,{value:D(D({},b),{},{viewport:b.viewport||new l.a(D(D(D({},e),e.viewState),{},{width:p[0],height:p[1]})),map:_,container:b.container||y.current})},a.createElement("div",{key:"map-overlays",className:"overlays",style:F,onScroll:$},e.children)),x=e.className,k=e.width,S=e.height,E=e.style,C=e.visibilityConstraints,P=Object.assign({position:"relative"},E,{width:k,height:S}),j=e.visible&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;for(var n in t){var r=n.slice(0,3),i=A(n.slice(3));if("min"===r&&e[i]<t[n])return!1;if("max"===r&&e[i]>t[n])return!1}return!0}(e.viewState||e,C),T=Object.assign({},F,{visibility:j?"inherit":"hidden"});return a.createElement("div",{key:"map-container",ref:y,style:P},a.createElement("div",{key:"map-mapbox",ref:v,style:T,className:x}),w,!i&&!e.disableTokenWarning&&a.createElement(V,null))}));U.supported=function(){return d.a&&d.a.supported()},U.propTypes=N,U.defaultProps=B;var W=U;function H(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(){function e(){Object(p.a)(this,e),Object(o.a)(this,"propNames",[])}return Object(g.a)(e,[{key:"arePropsEqual",value:function(e,t){var n,r=H(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!v(e[i],t[i]))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"initializeProps",value:function(e,t){return{start:e,end:t}}},{key:"interpolateProps",value:function(e,t,n){_(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(e,t){return t.transitionDuration}}]),e}(),X=n(27),Z=n(13),K=n(15),Y=n(6),J={longitude:1,bearing:1};function Q(e){return Number.isFinite(e)||Array.isArray(e)}function ee(e,t,n){return function(e){return e in J}(e)&&Math.abs(n-t)>180&&(n=n<0?n+360:n-360),n}function te(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Y.a)(e);if(t){var i=Object(Y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(K.a)(this,n)}}var ie=["longitude","latitude","zoom","bearing","pitch"],oe=["latitude","longitude","zoom","width","height"],ae=["bearing","pitch"],se={speed:1.2,curve:1.414};!function(e){Object(Z.a)(n,e);var t=re(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(p.a)(this,n),e=t.call(this),Object(o.a)(Object(X.a)(e),"propNames",ie),e.props=Object.assign({},se,r),e}Object(g.a)(n,[{key:"initializeProps",value:function(e,t){var n,r={},i={},o=te(oe);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=e[a],u=t[a];_(Q(s)&&Q(u),"".concat(a," must be supplied for transition")),r[a]=s,i[a]=ee(a,s,u)}}catch(p){o.e(p)}finally{o.f()}var l,c=te(ae);try{for(c.s();!(l=c.n()).done;){var f=l.value,h=e[f]||0,d=t[f]||0;r[f]=h,i[f]=ee(f,h,d)}}catch(p){c.e(p)}finally{c.f()}return{start:r,end:i}}},{key:"interpolateProps",value:function(e,t,n){var r,i=Object(l.d)(e,t,n,this.props),o=te(ae);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=b(e[a],t[a],n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getDuration",value:function(e,t){var n=t.transitionDuration;return"auto"===n&&(n=Object(l.g)(e,t,this.props)),n}}])}(q);function ue(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Y.a)(e);if(t){var i=Object(Y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(K.a)(this,n)}}var fe=["longitude","latitude","zoom","bearing","pitch"],he=function(e){Object(Z.a)(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(p.a)(this,n),e=t.call(this),Array.isArray(r)&&(r={transitionProps:r}),e.propNames=r.transitionProps||fe,r.around&&(e.around=r.around),e}return Object(g.a)(n,[{key:"initializeProps",value:function(e,t){var n={},r={};if(this.around){n.around=this.around;var i=new l.a(e).unproject(this.around);Object.assign(r,t,{around:new l.a(t).project(i),aroundLngLat:i})}var o,a=ue(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=e[s],c=t[s];_(Q(u)&&Q(c),"".concat(s," must be supplied for transition")),n[s]=u,r[s]=ee(s,u,c)}}catch(f){a.e(f)}finally{a.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(e,t,n){var r,i={},o=ue(this.propNames);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=b(e[a],t[a],n)}}catch(d){o.e(d)}finally{o.f()}if(t.around){var s=new l.a(Object.assign({},t,i)).getMapCenterByLngLatPosition({lngLat:t.aroundLngLat,pos:b(e.around,t.around,n)}),c=Object(u.a)(s,2),f=c[0],h=c[1];i.longitude=f,i.latitude=h}return i}}]),n}(q),de=function(){};var pe=1,ge=2,me=3,ve=4,ye={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new he,transitionInterruption:pe,onTransitionStart:de,onTransitionInterrupt:de,onTransitionEnd:de,onViewportChange:de,onStateChange:de},be=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(p.a)(this,e),Object(o.a)(this,"_animationFrame",null),Object(o.a)(this,"_onTransitionFrame",(function(){t._animationFrame=requestAnimationFrame(t._onTransitionFrame),t._updateViewport()})),this.props=null,this.onViewportChange=n.onViewportChange||de,this.onStateChange=n.onStateChange||de,this.time=n.getTime||Date.now}return Object(g.a)(e,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(e){var t=this.props;if(this.props=e,!t||this._shouldIgnoreViewportChange(t,e))return!1;if(this._isTransitionEnabled(e)){var n=Object.assign({},t),r=Object.assign({},e);if(this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this.state.interruption===ge?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===ve)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(e,t){var n=e(t);return function(r){return 1/(1-n)*(e(r*(1-t)+t)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,n=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return!e||(this._isTransitionInProgress()?this.state.interruption===me||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t))}},{key:"_triggerTransition",value:function(e,t){_(this._isTransitionEnabled(t)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=t.transitionInterpolator,r=n.getDuration?n.getDuration(e,t):t.transitionDuration;if(0!==r){var i=t.transitionInterpolator.initializeProps(e,t),o={inTransition:!0,isZooming:e.zoom!==t.zoom,isPanning:e.longitude!==t.longitude||e.latitude!==t.latitude,isRotating:e.bearing!==t.bearing||e.pitch!==t.pitch};this.state={duration:r,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{}},this._onTransitionFrame(),this.onStateChange(o)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var e=this.time(),t=this.state,n=t.startTime,r=t.duration,i=t.easing,o=t.interpolator,a=t.startProps,s=t.endProps,u=!1,l=(e-n)/r;l>=1&&(l=1,u=!0),l=i(l);var c=o.interpolateProps(a,s,l),f=new C(Object.assign({},this.props,c));this.state.propsInTransition=f.getViewportProps(),this.onViewportChange(this.state.propsInTransition,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}();Object(o.a)(be,"defaultProps",ye);var _e=n(177);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe={transitionDuration:0},ke={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new he,transitionInterruption:pe},Se=300,Ee=function(e){return 1-(1-e)*(1-e)},Ce=["wheel"],Ae=["panstart","panmove","panend"],Pe=["pinchstart","pinchmove","pinchend"],je=["tripanstart","tripanmove","tripanend"],Te=["doubletap"],Me=["keydown"],Re=function(){function e(){var t=this;Object(p.a)(this,e),Object(o.a)(this,"events",[]),Object(o.a)(this,"scrollZoom",!0),Object(o.a)(this,"dragPan",!0),Object(o.a)(this,"dragRotate",!0),Object(o.a)(this,"doubleClickZoom",!0),Object(o.a)(this,"touchZoom",!0),Object(o.a)(this,"touchRotate",!1),Object(o.a)(this,"keyboard",!0),Object(o.a)(this,"_interactionState",{isDragging:!1}),Object(o.a)(this,"_events",{}),Object(o.a)(this,"_setInteractionState",(function(e){Object.assign(t._interactionState,e),t.onStateChange&&t.onStateChange(t._interactionState)})),Object(o.a)(this,"_onTransition",(function(e,n){t.onViewportChange(e,t._interactionState,n)})),this.handleEvent=this.handleEvent.bind(this),this._transitionManager=new be({onViewportChange:this._onTransition,onStateChange:this._setInteractionState})}return Object(g.a)(e,[{key:"handleEvent",value:function(e){this.mapState=this.getMapState();var t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"blockEvents",value:function(e){var t=this,n=setTimeout((function(){t._eventStartBlocked===n&&(t._eventStartBlocked=null)}),e);this._eventStartBlocked=n}},{key:"updateViewport",value:function(e,t,n){var r=this.mapState instanceof C?this.mapState.getViewportProps():this.mapState,i=xe(xe({},e.getViewportProps()),t),o=Object.keys(i).some((function(e){return r[e]!==i[e]}));this._state=e.getState(),this._setInteractionState(n),o&&this.onViewportChange(i,this._interactionState,r)}},{key:"getMapState",value:function(e){return new C(xe(xe(xe({},this.mapStateProps),this._state),e))}},{key:"isDragging",value:function(){return this._interactionState.isDragging}},{key:"setOptions",value:function(e){var t=e.onViewportChange,n=e.onStateChange,r=e.eventManager,i=void 0===r?this.eventManager:r,o=e.isInteractive,a=void 0===o||o,s=e.scrollZoom,u=void 0===s?this.scrollZoom:s,l=e.dragPan,c=void 0===l?this.dragPan:l,f=e.dragRotate,h=void 0===f?this.dragRotate:f,d=e.doubleClickZoom,p=void 0===d?this.doubleClickZoom:d,g=e.touchZoom,m=void 0===g?this.touchZoom:g,v=e.touchRotate,y=void 0===v?this.touchRotate:v,b=e.keyboard,_=void 0===b?this.keyboard:b;this.onViewportChange=t,this.onStateChange=n;var w=this.mapStateProps||{},x=w.height!==e.height||w.width!==e.width;this.mapStateProps=e,x&&(this.mapState=w,this.updateViewport(new C(e))),this._transitionManager.processViewportChange(e),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Ce,a&&Boolean(u)),this.toggleEvents(Ae,a&&Boolean(c||h)),this.toggleEvents(Pe,a&&Boolean(m||y)),this.toggleEvents(je,a&&Boolean(y)),this.toggleEvents(Te,a&&Boolean(p)),this.toggleEvents(Me,a&&Boolean(_)),this.scrollZoom=u,this.dragPan=c,this.dragRotate=h,this.doubleClickZoom=p,this.touchZoom=m,this.touchRotate=y,this.keyboard=_}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e);this._panRotate=this.isFunctionKeyPressed(e)||e.rightButton;var n=this._panRotate?this.mapState.rotateStart({pos:t}):this.mapState.panStart({pos:t});return this.updateViewport(n,Oe,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return!!this.isDragging()&&(this._panRotate?this._onPanRotate(e):this._onPanMove(e))}},{key:"_onPanEnd",value:function(e){return!!this.isDragging()&&(this._panRotate?this._onPanRotateEnd(e):this._onPanMoveEnd(e))}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.mapState.pan({pos:t});return this.updateViewport(n,Oe,{isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(e){if(this.dragPan){var t=this.dragPan.inertia,n=void 0===t?Se:t;if(n&&e.velocity){var r=this.getCenter(e),i=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],o=this.mapState.pan({pos:i}).panEnd();return this.updateViewport(o,xe(xe({},ke),{},{transitionDuration:n,transitionEasing:Ee}),{isDragging:!1,isPanning:!0}),!0}}var a=this.mapState.panEnd();return this.updateViewport(a,null,{isDragging:!1,isPanning:!1}),!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=this.getCenter(e),n=this.mapState.rotate({pos:t});return this.updateViewport(n,Oe,{isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(e){if(this.dragRotate){var t=this.dragRotate.inertia,n=void 0===t?Se:t;if(n&&e.velocity){var r=this.getCenter(e),i=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],o=this.mapState.rotate({pos:i}).rotateEnd();return this.updateViewport(o,xe(xe({},ke),{},{transitionDuration:n,transitionEasing:Ee}),{isDragging:!1,isRotating:!0}),!0}}var a=this.mapState.panEnd();return this.updateViewport(a,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;var t=this.scrollZoom,n=t.speed,r=void 0===n?.01:n,i=t.smooth,o=void 0!==i&&i;e.preventDefault();var a=this.getCenter(e),s=e.delta,u=2/(1+Math.exp(-Math.abs(s*r)));s<0&&0!==u&&(u=1/u);var l=this.mapState.zoom({pos:a,scale:u});return this.updateViewport(l,xe(xe({},ke),{},{transitionInterpolator:new he({around:a}),transitionDuration:o?250:1}),{isPanning:!0,isZooming:!0}),!0}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e),n=this.mapState.zoomStart({pos:t}).rotateStart({pos:t});return this._startPinchRotation=e.rotation,this._lastPinchEvent=e,this.updateViewport(n,Oe,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.isDragging())return!1;if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.mapState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation;t=t.rotate({deltaAngleX:this._startPinchRotation-i})}return this.updateViewport(t,Oe,{isDragging:!0,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:Boolean(this.touchRotate)}),this._lastPinchEvent=e,!0}},{key:"_onPinchEnd",value:function(e){if(!this.isDragging())return!1;if(this.touchZoom){var t=this.touchZoom.inertia,n=void 0===t?Se:t,r=this._lastPinchEvent;if(n&&r&&e.scale!==r.scale){var i=this.getCenter(e),o=this.mapState.rotateEnd(),a=Math.log2(e.scale),s=(a-Math.log2(r.scale))/(e.deltaTime-r.deltaTime),u=Math.pow(2,a+s*n/2);return o=o.zoom({pos:i,scale:u}).zoomEnd(),this.updateViewport(o,xe(xe({},ke),{},{transitionInterpolator:new he({around:i}),transitionDuration:n,transitionEasing:Ee}),{isDragging:!1,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:!1}),this.blockEvents(n),!0}}var l=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(l,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:"_onTriplePanStart",value:function(e){var t=this.getCenter(e),n=this.mapState.rotateStart({pos:t});return this.updateViewport(n,Oe,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(e){if(!this.isDragging())return!1;if(!this.touchRotate)return!1;var t=this.getCenter(e);t[0]-=e.deltaX;var n=this.mapState.rotate({pos:t});return this.updateViewport(n,Oe,{isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(e){if(!this.isDragging())return!1;if(this.touchRotate){var t=this.touchRotate.inertia,n=void 0===t?Se:t;if(n&&e.velocityY){var r=this.getCenter(e),i=[r[0],r[1]+=e.velocityY*n/2],o=this.mapState.rotate({pos:i});return this.updateViewport(o,xe(xe({},ke),{},{transitionDuration:n,transitionEasing:Ee}),{isDragging:!1,isRotating:!0}),this.blockEvents(n),!1}}var a=this.mapState.rotateEnd();return this.updateViewport(a,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e),n=this.isFunctionKeyPressed(e),r=this.mapState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,Object.assign({},ke,{transitionInterpolator:new he({around:t})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),r=this.keyboard,i=r.zoomSpeed,o=void 0===i?2:i,a=r.moveSpeed,s=void 0===a?100:a,u=r.rotateSpeedX,l=void 0===u?15:u,c=r.rotateSpeedY,f=void 0===c?10:c,h=this.mapStateProps;switch(e.srcEvent.keyCode){case 189:t=n?this.getMapState({zoom:h.zoom-Math.log2(o)-1}):this.getMapState({zoom:h.zoom-Math.log2(o)});break;case 187:t=n?this.getMapState({zoom:h.zoom+Math.log2(o)+1}):this.getMapState({zoom:h.zoom+Math.log2(o)});break;case 37:t=n?this.getMapState({bearing:h.bearing-l}):this.mapState.pan({pos:[s,0],startPos:[0,0]});break;case 39:t=n?this.getMapState({bearing:h.bearing+l}):this.mapState.pan({pos:[-s,0],startPos:[0,0]});break;case 38:t=n?this.getMapState({pitch:h.pitch+f}):this.mapState.pan({pos:[0,s],startPos:[0,0]});break;case 40:t=n?this.getMapState({pitch:h.pitch-f}):this.mapState.pan({pos:[0,-s],startPos:[0,0]});break;default:return!1}return this.updateViewport(t,ke)}}]),e}();function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=Object.assign({},W.propTypes,{maxZoom:s.number,minZoom:s.number,maxPitch:s.number,minPitch:s.number,onViewStateChange:s.func,onViewportChange:s.func,onInteractionStateChange:s.func,transitionDuration:s.oneOfType([s.number,s.string]),transitionInterpolator:s.object,transitionInterruption:s.number,transitionEasing:s.func,onTransitionStart:s.func,onTransitionInterrupt:s.func,onTransitionEnd:s.func,scrollZoom:s.oneOfType([s.bool,s.object]),dragPan:s.oneOfType([s.bool,s.object]),dragRotate:s.oneOfType([s.bool,s.object]),doubleClickZoom:s.bool,touchZoom:s.oneOfType([s.bool,s.object]),touchRotate:s.oneOfType([s.bool,s.object]),keyboard:s.oneOfType([s.bool,s.object]),onHover:s.func,onClick:s.func,onDblClick:s.func,onContextMenu:s.func,onMouseDown:s.func,onMouseMove:s.func,onMouseUp:s.func,onTouchStart:s.func,onTouchMove:s.func,onTouchEnd:s.func,onMouseEnter:s.func,onMouseLeave:s.func,onMouseOut:s.func,onWheel:s.func,touchAction:s.string,eventRecognizerOptions:s.object,clickRadius:s.number,interactiveLayerIds:s.array,getCursor:s.func,controller:s.instanceOf(Re)}),ze=Object.assign({},W.defaultProps,O,be.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(e){return e.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",eventRecognizerOptions:{},clickRadius:0,getCursor:function(e){var t=e.isDragging,n=e.isHovering;return t?"grabbing":n?"pointer":"grab"}});function Fe(e){if(e.lngLat||!e.offsetCenter)return e;var t=e.offsetCenter,n=[t.x,t.y],r=new l.a(Object.assign({},this.props,this.props.viewState,{width:this.width,height:this.height}));return e.point=n,e.lngLat=r.unproject(n),e}function Ne(e){var t=this.map;if(!t||!e)return null;var n={},r=this.props.clickRadius;this.props.interactiveLayerIds&&(n.layers=this.props.interactiveLayerIds);try{return t.queryRenderedFeatures(r?[[e[0]-r,e[1]+r],[e[0]+r,e[1]-r]]:e,n)}catch(i){return null}}function Be(e,t){var n=this.props[e];n&&n(Fe.call(this,t))}function Ve(e){Be.call(this,"touch"===e.pointerType?"onTouchStart":"onMouseDown",e)}function $e(e){Be.call(this,"touch"===e.pointerType?"onTouchEnd":"onMouseUp",e)}function Ue(e){if(Be.call(this,"touch"===e.pointerType?"onTouchMove":"onMouseMove",e),!this.state.isDragging){var t,n=this.props,r=n.onHover,i=n.interactiveLayerIds;e=Fe.call(this,e),(i||r)&&(t=Ne.call(this,e.point)),r&&(e.features=t,r(e));var o=Boolean(i&&t&&t.length>0),a=o&&!this.state.isHovering,s=!o&&this.state.isHovering;a&&Be.call(this,"onMouseEnter",e),s&&Be.call(this,"onMouseLeave",e),(a||s)&&this.setState({isHovering:o})}}function We(e){var t=this.props,n=t.onClick,r=t.onNativeClick,i=t.onDblClick,o=t.doubleClickZoom,a=[],s=i||o;switch(e.type){case"anyclick":a.push(r),s||a.push(n);break;case"click":s&&a.push(n)}(a=a.filter(Boolean)).length&&((e=Fe.call(this,e)).features=Ne.call(this,e.point),a.forEach((function(t){return t(e)})))}var He=Object(a.forwardRef)((function(e,t){var n=Object(a.useContext)(R),o=Object(a.useMemo)((function(){return e.controller||new Re}),[]),s=Object(a.useMemo)((function(){return new _e.a(null,{touchAction:e.touchAction,recognizerOptions:e.eventRecognizerOptions})}),[]),u=Object(a.useRef)(null),l=Object(a.useRef)(null),c=Object(a.useRef)({width:0,height:0,state:{isHovering:!1,isDragging:!1}}).current;c.props=e,c.map=l.current&&l.current.getMap(),c.setState=function(t){c.state=Ie(Ie({},c.state),t),u.current.style.cursor=e.getCursor(c.state)};var f,h,d=!0,p=function(e,t,n){if(d)f=[e,t,n];else{var r=c.props,i=r.onViewStateChange,o=r.onViewportChange;i&&i({viewState:e,interactionState:t,oldViewState:n}),o&&o(e,t,n)}};Object(a.useImperativeHandle)(t,(function(){return function(e){return{getMap:e.current&&e.current.getMap,queryRenderedFeatures:e.current&&e.current.queryRenderedFeatures}}(l)}),[]);var g=Object(a.useMemo)((function(){return Ie(Ie({},n),{},{eventManager:s,container:n.container||u.current})}),[n,u.current]);g.onViewportChange=p;var m=function(e){var t=e.isDragging,n=void 0!==t&&t;if(n!==c.state.isDragging&&c.setState({isDragging:n}),d)h=e;else{var r=c.props.onInteractionStateChange;r&&r(e)}},v=function(){c.width&&c.height&&o.setOptions(Ie(Ie(Ie({},c.props),c.props.viewState),{},{isInteractive:Boolean(c.props.onViewStateChange||c.props.onViewportChange),onViewportChange:p,onStateChange:m,eventManager:s,width:c.width,height:c.height}))};Object(a.useEffect)((function(){return s.setElement(u.current),s.on({pointerdown:Ve.bind(c),pointermove:Ue.bind(c),pointerup:$e.bind(c),pointerleave:Be.bind(c,"onMouseOut"),click:We.bind(c),anyclick:We.bind(c),dblclick:Be.bind(c,"onDblClick"),wheel:Be.bind(c,"onWheel"),contextmenu:Be.bind(c,"onContextMenu")}),function(){s.destroy()}}),[]),L((function(){f&&p.apply(void 0,Object(i.a)(f)),h&&m(h)})),v();var y=e.width,b=e.height,_=e.style,w=e.getCursor,x=Object(a.useMemo)((function(){return Ie(Ie({position:"relative"},_),{},{width:y,height:b,cursor:w(c.state)})}),[_,y,b,w,c.state]);return f&&c._child||(c._child=a.createElement(M,{value:g},a.createElement("div",{key:"event-canvas",ref:u,style:x},a.createElement(W,Object(r.a)({},e,{width:"100%",height:"100%",style:null,onResize:function(e){var t=e.width,n=e.height;c.width=t,c.height=n,v(),c.props.onResize({width:t,height:n})},ref:l}))))),d=!1,c._child}));He.supported=W.supported,He.propTypes=De,He.defaultProps=ze;var Ge=n(19);function qe(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!qe(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===Object(Ge.a)(e)&&"object"===Object(Ge.a)(t)){var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!t.hasOwnProperty(s))return!1;if(!qe(e[s],t[s]))return!1}return!0}return!1}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ze={type:s.string.isRequired,id:s.string},Ke=0;function Ye(e,t,n){if(e.style&&e.style._loaded){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return delete r.id,delete r.children,e.addSource(t,r),e.getSource(t)}return null}function Je(e){var t=Object(a.useContext)(R),n=Object(a.useRef)({id:e.id,type:e.type}),r=Object(a.useState)(0),i=Object(u.a)(r,2)[1],o=Object(a.useMemo)((function(){return e.id||"jsx-source-".concat(Ke++)}),[]),s=t.map;Object(a.useEffect)((function(){if(s){var e=function(){return i((function(e){return e+1}))};return s.on("styledata",e),function(){s.off("styledata",e),requestAnimationFrame((function(){s.style&&s.style._loaded&&s.getSource(o)&&s.removeSource(o)}))}}}),[s,o]);var l=s&&s.style&&s.getSource(o);return l?function(e,t,n){_(t.id===n.id,"source id changed"),_(t.type===n.type,"source type changed");var r="",i=0;for(var o in t)"children"===o||"id"===o||qe(n[o],t[o])||(r=o,i++);if(i){var a=t.type;if("geojson"===a)e.setData(t.data);else if("image"===a)e.updateImage({url:t.url,coordinates:t.coordinates});else if("canvas"!==a&&"video"!==a||1!==i||"coordinates"!==r)if("vector"===a&&e.setUrl)switch(r){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles)}else console.warn("Unable to update <Source> prop: ".concat(r));else e.setCoordinates(t.coordinates)}}(l,e,n.current):l=Ye(s,o,e),n.current=e,l&&a.Children.map(e.children,(function(e){return e&&Object(a.cloneElement)(e,{source:o})}))||null}Je.propTypes=Ze;var Qe=n(28);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt={type:s.oneOf(["fill","line","symbol","circle","fill-extrusion","raster","background","heatmap","hillshade"]).isRequired,id:s.string,source:s.string,beforeId:s.string};function rt(e,t,n,r){_(n.id===r.id,"layer id changed"),_(n.type===r.type,"layer type changed");try{!function(e,t,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,u=n.filter,l=n.minzoom,c=n.maxzoom,f=n.beforeId,h=Object(Qe.a)(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(f!==r.beforeId&&e.moveLayer(t,f),o!==r.layout){var d=r.layout||{};for(var p in o)qe(o[p],d[p])||e.setLayoutProperty(t,p,o[p]);for(var g in d)o.hasOwnProperty(g)||e.setLayoutProperty(t,g,void 0)}if(s!==r.paint){var m=r.paint||{};for(var v in s)qe(s[v],m[v])||e.setPaintProperty(t,v,s[v]);for(var y in m)s.hasOwnProperty(y)||e.setPaintProperty(t,y,void 0)}for(var b in qe(u,r.filter)||e.setFilter(t,u),l===r.minzoom&&c===r.maxzoom||e.setLayerZoomRange(t,l,c),h)qe(h[b],r[b])||e.setLayerProperty(t,b,h[b])}(e,t,n,r)}catch(i){console.warn(i)}}var it=0;function ot(e){var t=Object(a.useContext)(R),n=Object(a.useRef)({id:e.id,type:e.type}),r=Object(a.useState)(0),i=Object(u.a)(r,2)[1],o=Object(a.useMemo)((function(){return e.id||"jsx-layer-".concat(it++)}),[]),s=t.map;return Object(a.useEffect)((function(){if(s){var e=function(){return i((function(e){return e+1}))};return s.on("styledata",e),function(){s.off("styledata",e),s.style&&s.style._loaded&&s.removeLayer(o)}}}),[s]),s&&s.style&&s.getLayer(o)?rt(s,o,e,n.current):function(e,t,n){if(e.style&&e.style._loaded){var r=tt(tt({},n),{},{id:t});delete r.beforeId,e.addLayer(r,n.beforeId)}}(s,o,e),n.current=e,null}ot.propTypes=nt;var at={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},st={captureScroll:s.bool,captureDrag:s.bool,captureClick:s.bool,captureDoubleClick:s.bool,capturePointerMove:s.bool};function ut(e){var t=e.containerRef.current,n=e.context.eventManager;if(t&&n){var r={wheel:function(t){var n=e.props;n.captureScroll&&t.stopPropagation(),n.onScroll&&n.onScroll(t,e)},panstart:function(t){var n=e.props;n.captureDrag&&t.stopPropagation(),n.onDragStart&&n.onDragStart(t,e)},anyclick:function(t){var n=e.props;n.captureClick&&t.stopPropagation(),n.onClick&&n.onClick(t,e)},click:function(t){var n=e.props;n.captureClick&&t.stopPropagation(),n.onClick&&n.onClick(t,e)},dblclick:function(t){var n=e.props;n.captureDoubleClick&&t.stopPropagation(),n.onDoubleClick&&n.onDoubleClick(t,e)},pointermove:function(t){var n=e.props;n.capturePointerMove&&t.stopPropagation(),n.onPointerMove&&n.onPointerMove(t,e)}};return n.watch(r,t),function(){n.off(r)}}}function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useContext)(R),n=Object(a.useRef)(null),r=Object(a.useRef)({props:e,state:{},context:t,containerRef:n}),i=r.current;return i.props=e,i.context=t,Object(a.useEffect)((function(){return ut(i)}),[t.eventManager]),i}function ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Y.a)(e);if(t){var i=Object(Y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(K.a)(this,n)}}function ft(e){var t=e.instance,n=lt(e),r=n.context,i=n.containerRef;return t._context=r,t._containerRef=i,t._render()}var ht=function(e){Object(Z.a)(n,e);var t=ct(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),Object(o.a)(Object(X.a)(e),"_context",{}),Object(o.a)(Object(X.a)(e),"_containerRef",Object(a.createRef)()),Object(o.a)(Object(X.a)(e),"_onScroll",(function(e){})),Object(o.a)(Object(X.a)(e),"_onDragStart",(function(e){})),Object(o.a)(Object(X.a)(e),"_onDblClick",(function(e){})),Object(o.a)(Object(X.a)(e),"_onClick",(function(e){})),Object(o.a)(Object(X.a)(e),"_onPointerMove",(function(e){})),e}return Object(g.a)(n,[{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){return a.createElement(ft,Object(r.a)({instance:this},this.props,{onScroll:this._onScroll,onDragStart:this._onDragStart,onDblClick:this._onDblClick,onClick:this._onClick,onPointerMove:this._onPointerMove}))}}]),n}(a.PureComponent);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(o.a)(ht,"propTypes",st),Object(o.a)(ht,"defaultProps",at);var gt=Object.assign({},st,{draggable:s.bool,onDrag:s.func,onDragEnd:s.func,onDragStart:s.func,offsetLeft:s.number,offsetTop:s.number}),mt=Object.assign({},at,{draggable:!1,offsetLeft:0,offsetTop:0});function vt(e){var t=e.offsetCenter;return[t.x,t.y]}function yt(e,t,n,r){var i=e[0]+t[0]-n.offsetLeft,o=e[1]+t[1]-n.offsetTop;return r.viewport.unproject([i,o])}function bt(e,t){var n=t.props,r=t.callbacks,i=t.state,o=t.context,a=t.containerRef;if(n.draggable){e.stopPropagation();var s=vt(e),u=function(e,t){var n=e.center,r=n.x,i=n.y;if(t){var o=t.getBoundingClientRect();return[o.left-r,o.top-i]}return null}(e,a.current);if(i.setDragPos(s),i.setDragOffset(u),r.onDragStart&&u){var l=Object.assign({},e);l.lngLat=yt(s,u,n,o),r.onDragStart(l)}}}function _t(e){var t=e.context.eventManager;if(t&&e.state.dragPos){var n={panmove:function(t){return function(e,t){var n=t.props,r=t.callbacks,i=t.state,o=t.context;e.stopPropagation();var a=vt(e);i.setDragPos(a);var s=i.dragOffset;if(r.onDrag&&s){var u=Object.assign({},e);u.lngLat=yt(a,s,n,o),r.onDrag(u)}}(t,e)},panend:function(t){return function(e,t){var n=t.props,r=t.callbacks,i=t.state,o=t.context;e.stopPropagation();var a=i.dragPos,s=i.dragOffset;if(i.setDragPos(null),i.setDragOffset(null),r.onDragEnd&&a&&s){var u=Object.assign({},e);u.lngLat=yt(a,s,n,o),r.onDragEnd(u)}}(t,e)},pancancel:function(t){return function(e,t){var n=t.state;e.stopPropagation(),n.setDragPos(null),n.setDragOffset(null)}(t,e)}};return t.watch(n),function(){t.off(n)}}}var wt="undefined"!==typeof window&&window.devicePixelRatio||1,xt=function(e){return Math.round(e*wt)/wt},Ot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===e)return t;var r="x"===n?e.offsetWidth:e.offsetHeight;return xt(t/100*r)/r*100},kt=Object.assign({},gt,{className:s.string,longitude:s.number.isRequired,latitude:s.number.isRequired}),St=Object.assign({},mt,{className:""});function Et(e){var t=function(e){var t=Object(a.useState)(null),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(null),s=Object(u.a)(o,2),l=s[0],c=s[1],f=lt(pt(pt({},e),{},{onDragStart:bt}));return f.callbacks=e,f.state.dragPos=r,f.state.setDragPos=i,f.state.dragOffset=l,f.state.setDragOffset=c,Object(a.useEffect)((function(){return _t(f)}),[f.context.eventManager,Boolean(r)]),f}(e),n=t.state,r=t.containerRef,i=e.children,o=e.className,s=e.draggable,l=n.dragPos,c=function(e){var t=e.props,n=e.state,r=e.context,i=t.longitude,o=t.latitude,a=t.offsetLeft,s=t.offsetTop,l=n.dragPos,c=n.dragOffset;if(l&&c)return[l[0]+c[0],l[1]+c[1]];var f=r.viewport.project([i,o]),h=Object(u.a)(f,2),d=h[0],p=h[1];return[d+=a,p+=s]}(t),f=Object(u.a)(c,2),h=f[0],d=f[1],p="translate(".concat(xt(h),"px, ").concat(xt(d),"px)"),g=s?l?"grabbing":"grab":"auto",m=Object(a.useMemo)((function(){var e={position:"absolute",left:0,top:0,transform:p,cursor:g};return a.createElement("div",{className:"mapboxgl-marker ".concat(o),ref:t.containerRef,style:e},i)}),[i,o]),v=r.current;return v&&(v.style.transform=p,v.style.cursor=g),m}Et.defaultProps=St,Et.propTypes=kt;a.memo(Et);var Ct={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},At=Object.keys(Ct);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=Object.assign({},st,{className:s.string,longitude:s.number.isRequired,latitude:s.number.isRequired,altitude:s.number,offsetLeft:s.number,offsetTop:s.number,tipSize:s.number,closeButton:s.bool,closeOnClick:s.bool,anchor:s.oneOf(Object.keys(Ct)),dynamicPosition:s.bool,sortByDepth:s.bool,onClose:s.func}),Mt=Object.assign({},at,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});function Rt(e,t,n,r){var i=Object(u.a)(r,2),o=i[0],a=i[1],s=e.anchor,l=e.dynamicPosition,c=e.tipSize;return n&&l?function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.selfWidth,a=e.selfHeight,s=e.anchor,u=e.padding,l=void 0===u?0:u,c=Ct[s],f=c.x,h=c.y,d=n-h*a,p=d+a,g=Math.max(0,l-d)+Math.max(0,p-i+l);if(g>0){var m=h,v=g;for(h=0;h<=1;h+=.5)p=(d=n-h*a)+a,(g=Math.max(0,l-d)+Math.max(0,p-i+l))<v&&(v=g,m=h);h=m}var y=.5;.5===h&&(f=Math.floor(f),y=1);var b=t-f*o,_=b+o,w=Math.max(0,l-b)+Math.max(0,_-r+l);if(w>0){var x=f,O=w;for(f=0;f<=1;f+=y)_=(b=t-f*o)+o,(w=Math.max(0,l-b)+Math.max(0,_-r+l))<O&&(O=w,x=f);f=x}return At.find((function(e){var t=Ct[e];return t.x===f&&t.y===h}))||s}({x:o,y:a,anchor:s,padding:c,width:t.width,height:t.height,selfWidth:n.clientWidth,selfHeight:n.clientHeight}):s}function Lt(e,t){var n=t.props,r=t.context;(n.closeOnClick||"mapboxgl-popup-close-button"===e.target.className)&&(n.onClose(),r.eventManager&&r.eventManager.once("click",(function(e){return e.stopPropagation()}),e.target))}function It(e){var t=Object(a.useRef)(null),n=lt(jt(jt({},e),{},{onClick:Lt})),r=n.context,i=n.containerRef,o=Object(a.useState)(!1),s=Object(u.a)(o,2)[1];Object(a.useEffect)((function(){s(!0)}),[t.current]);var l=r.viewport,c=e.className,f=e.longitude,h=e.latitude,d=e.altitude,p=e.tipSize,g=e.closeButton,m=e.children,v=l.project([f,h,d]),y=Rt(e,l,t.current,v),b=function(e,t,n,r,i){var o=Object(u.a)(r,3),a=o[0],s=o[1],l=o[2],c=e.offsetLeft,f=e.offsetTop,h=e.sortByDepth,d=Ct[i],p=a+c,g=s+f,m=Ot(n,100*-d.x),v=Ot(n,100*-d.y,"y"),y={position:"absolute",transform:"\n      translate(".concat(m,"%, ").concat(v,"%)\n      translate(").concat(xt(p),"px, ").concat(xt(g),"px)\n    "),display:void 0,zIndex:void 0};return h?(l>1||l<-1||a<0||a>t.width||s<0||s>t.height?y.display="none":y.zIndex=Math.floor((1-l)/2*1e5),y):y}(e,l,i.current,v,y),_=Object(a.useCallback)((function(e){return!r.eventManager&&Lt(e,n)}),[r.eventManager]);return a.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(y," ").concat(c),style:b,ref:i},a.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:p}}),a.createElement("div",{key:"content",ref:t,className:"mapboxgl-popup-content",onClick:_},g&&a.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"\xd7"),m))}It.propTypes=Tt,It.defaultProps=Mt;a.memo(It);function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var zt=Object.assign({},st,{toggleLabel:s.string,className:s.string,style:s.object,compact:s.bool,customAttribution:s.oneOfType([s.string,s.arrayOf(s.string)])}),Ft=Object.assign({},at,{className:"",toggleLabel:"Toggle Attribution"});function Nt(e){var t=lt(e),n=t.context,r=t.containerRef,i=Object(a.useRef)(null),s=Object(a.useState)(!1),l=Object(u.a)(s,2),c=l[0],f=l[1];Object(a.useEffect)((function(){var t;return n.map&&(t=function(e,t,n,r){var i=new d.a.AttributionControl(e);return i._map=t,i._container=n,i._innerContainer=r,i._updateAttributions(),i._updateEditLink(),t.on("styledata",i._updateData),t.on("sourcedata",i._updateData),i}({customAttribution:e.customAttribution},n.map,r.current,i.current)),function(){return t&&function(e){e._map.off("styledata",e._updateData),e._map.off("sourcedata",e._updateData)}(t)}}),[n.map]);var h=void 0===e.compact?n.viewport.width<=640:e.compact;Object(a.useEffect)((function(){!h&&c&&f(!1)}),[h]);var p=Object(a.useCallback)((function(){return f((function(e){return!e}))}),[]),g=Object(a.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute"},e.style)}),[e.style]);return a.createElement("div",{style:g,className:e.className},a.createElement("div",{ref:r,"aria-pressed":c,className:"mapboxgl-ctrl mapboxgl-ctrl-attrib ".concat(h?"mapboxgl-compact":""," ").concat(c?"mapboxgl-compact-show":"")},a.createElement("button",{className:"mapboxgl-ctrl-attrib-button",title:e.toggleLabel,onClick:p}),a.createElement("div",{ref:i,className:"mapboxgl-ctrl-attrib-inner",role:"list"})))}Nt.propTypes=zt,Nt.defaultProps=Ft;a.memo(Nt);var Bt=n(68);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $t=Object.assign({},st,{className:s.string,style:s.object,container:s.object,label:s.string}),Ut=Object.assign({},at,{className:"",container:null,label:"Toggle fullscreen"});function Wt(e){var t=lt(e),n=t.context,r=t.containerRef,i=Object(a.useState)(!1),s=Object(u.a)(i,2),l=s[0],c=s[1],f=Object(a.useState)(!1),h=Object(u.a)(f,2),p=h[0],g=h[1],m=Object(a.useState)(null),v=Object(u.a)(m,2),y=v[0],b=v[1];Object(a.useEffect)((function(){var t=e.container||n.container,r=new d.a.FullscreenControl({container:t});b(r),g(r._checkFullscreenSupport());var i=function(){var e=!r._fullscreen;r._fullscreen=e,c(e)};return Bt.a.addEventListener(r._fullscreenchange,i),function(){Bt.a.removeEventListener(r._fullscreenchange,i)}}),[]);var _=Object(a.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute"},e.style)}),[e.style]);if(!p)return null;var w=e.className,x=e.label,O=l?"shrink":"fullscreen";return a.createElement("div",{style:_,className:w},a.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},a.createElement("button",{key:O,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(O),type:"button",title:x,onClick:function(){y&&y._onClickFullscreen()}},a.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}Wt.propTypes=$t,Wt.defaultProps=Ut;var Ht;a.memo(Wt);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var qt=Object.assign({},be.defaultProps,{transitionDuration:500}),Xt=function(){},Zt=Object.assign({},st,{className:s.string,style:s.object,label:s.string,disabledLabel:s.string,auto:s.bool,positionOptions:s.object,fitBoundsOptions:s.object,trackUserLocation:s.bool,showUserLocation:s.bool,showAccuracyCircle:s.bool,onViewStateChange:s.func,onViewportChange:s.func,onGeolocate:s.func}),Kt=Object.assign({},at,{className:"",label:"Find My Location",disabledLabel:"Location Not Available",auto:!1,positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0,showAccuracyCircle:!0,onGeolocate:function(){}});function Yt(e,t){var n=t.context,r=t.props,i=function(e){var t=new d.a.LngLat(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,r=t.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]}(e),o=n.viewport.fitBounds(i,r.fitBoundsOptions),a=o.longitude,s=o.latitude,u=o.zoom,l=Object.assign({},n.viewport,{longitude:a,latitude:s,zoom:u}),c=new C(l),f=Object.assign({},c.getViewportProps(),qt),h=r.onViewportChange||n.onViewportChange||Xt;(r.onViewStateChange||n.onViewStateChange||Xt)({viewState:f}),h(f)}function Jt(e){var t=lt(e),n=t.context,r=t.containerRef,i=Object(a.useRef)(null),s=Object(a.useState)(null),l=Object(u.a)(s,2),c=l[0],f=l[1],h=Object(a.useState)(!1),p=Object(u.a)(h,2),g=p[0],m=p[1];Object(a.useEffect)((function(){var r;return n.map&&(void 0!==Ht?Promise.resolve(Ht):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(e){return Ht="denied"!==e.state})):(Ht=Boolean(window.navigator.geolocation),Promise.resolve(Ht))).then((function(o){m(o),i.current&&((r=function(e,t,n){var r=new d.a.GeolocateControl(t);r._container=Bt.a.createElement("div"),r._map={on:function(){},_getUIString:function(){return""}},r._setupUI(!0),r._map=e.map,r._geolocateButton=n;var i=e.eventManager;return r.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",n.classList.add("mapboxgl-ctrl-geolocate-background"),n.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",t.onGeolocate),r}(n,e,i.current))._updateCamera=function(e){return Yt(e,t)},f(r))})),function(){r&&r._clearWatch()}}),[n.map]);var v=Object(a.useCallback)((function(){c&&(c.options=t.props,c.trigger())}),[c]);Object(a.useEffect)((function(){e.auto&&v()}),[c,e.auto]),Object(a.useEffect)((function(){c&&c._onZoom()}),[n.viewport.zoom]);var y=e.className,b=e.label,_=e.disabledLabel,w=e.trackUserLocation,x=Object(a.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute"},e.style)}),[e.style]);return a.createElement("div",{style:x,className:y},a.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},a.createElement("button",{key:"geolocate",className:"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",ref:i,disabled:!g,"aria-pressed":!w,type:"button",title:g?b:_,"aria-label":g?b:_,onClick:v},a.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}Jt.propTypes=Zt,Jt.defaultProps=Kt;a.memo(Jt);function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var en=function(){},tn=Object.assign({},st,{className:s.string,style:s.object,onViewStateChange:s.func,onViewportChange:s.func,showCompass:s.bool,showZoom:s.bool,zoomInLabel:s.string,zoomOutLabel:s.string,compassLabel:s.string}),nn=Object.assign({},at,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function rn(e){return function(e,t){for(var n=(e||"").split(".").map(Number),r=(t||"").split(".").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}(e,"1.6.0")>=0?2:1}function on(e,t,n){var r=e.viewport,i=new C(Object.assign({},r,n)),o=Object.assign({},i.getViewportProps(),ke),a=t.onViewportChange||e.onViewportChange||en;(t.onViewStateChange||e.onViewStateChange||en)({viewState:o}),a(o)}function an(e,t,n,r){return a.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:n},r||a.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}function sn(e){var t=lt(e),n=t.context,r=t.containerRef,i=e.className,s=e.showCompass,u=e.showZoom,l=e.zoomInLabel,c=e.zoomOutLabel,f=e.compassLabel,h=Object(a.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute"},e.style)}),[e.style]);return a.createElement("div",{style:h,className:i},a.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},u&&an("zoom-in",l,(function(){on(n,e,{zoom:n.viewport.zoom+1})})),u&&an("zoom-out",c,(function(){on(n,e,{zoom:n.viewport.zoom-1})})),s&&an("compass",f,(function(){on(n,e,{bearing:0,pitch:0})}),function(e){var t=Object(a.useMemo)((function(){return e.map?rn(e.map.version):2}),[e.map]),n=e.viewport.bearing,r={transform:"rotate(".concat(-n,"deg)")};return 2===t?a.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:r}):a.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:r})}(n))))}sn.propTypes=tn,sn.defaultProps=nn;a.memo(sn);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ln=Object.assign({},st,{className:s.string,style:s.object,maxWidth:s.number,unit:s.oneOf(["imperial","metric","nautical"])}),cn=Object.assign({},at,{className:"",maxWidth:100,unit:"metric"});function fn(e){var t=lt(e),n=t.context,r=t.containerRef,i=Object(a.useState)(null),s=Object(u.a)(i,2),l=s[0],c=s[1];Object(a.useEffect)((function(){if(n.map){var e=new d.a.ScaleControl;e._map=n.map,e._container=r.current,c(e)}}),[n.map]),l&&(l.options=e,l._onMove());var f=Object(a.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute"},e.style)}),[e.style]);return a.createElement("div",{style:f,className:e.className},a.createElement("div",{ref:r,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}))}fn.propTypes=ln,fn.defaultProps=cn;a.memo(fn);var hn="undefined"!==typeof window&&window.devicePixelRatio||1,dn=Object.assign({},st,{redraw:s.func.isRequired});function pn(e){var t=lt(e),n=t.context,r=t.containerRef,i=Object(a.useState)(null),o=Object(u.a)(i,2),s=o[0],l=o[1];Object(a.useEffect)((function(){l(r.current.getContext("2d"))}),[]);var c=n.viewport,f=n.isDragging;return s&&(s.save(),s.scale(hn,hn),e.redraw({width:c.width,height:c.height,ctx:s,isDragging:f,project:c.project,unproject:c.unproject}),s.restore()),a.createElement("canvas",{ref:r,width:c.width*hn,height:c.height*hn,style:{width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),position:"absolute",left:0,top:0}})}pn.propTypes=dn,pn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var mn=Object.assign({},st,{redraw:s.func.isRequired,style:s.object});function vn(e){var t=lt(e),n=t.context,r=t.containerRef,i=n.viewport,s=n.isDragging,u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute",left:0,top:0,width:i.width,height:i.height},e.style);return a.createElement("div",{ref:r,style:u},e.redraw({width:i.width,height:i.height,isDragging:s,project:i.project,unproject:i.unproject}))}vn.propTypes=mn,vn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var bn=Object.assign({},st,{redraw:s.func.isRequired,style:s.object});function _n(e){var t=lt(e),n=t.context,r=t.containerRef,i=n.viewport,s=n.isDragging,u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute",left:0,top:0},e.style);return a.createElement("svg",{width:i.width,height:i.height,ref:r,style:u},e.redraw({width:i.width,height:i.height,isDragging:s,project:i.project,unproject:i.unproject}))}_n.propTypes=bn,_n.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};d.a&&d.a.setRTLTextPlugin},function(e,t,n){"use strict";n.d(t,"a",(function(){return yn}));var r=n(8),i=n(5),o=n(4),a=n(13),s=n(15),u=n(6),l=n(23),c=n(2),f=n(26),h=n(528),d=n(220),p=n(49);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){function e(t,n){Object(i.a)(this,e),this.opts=n,this.source=t}return Object(o.a)(e,[{key:"getValue",value:function(){var e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];var n=this.source.value,r=t.size,i=n;if(n&&n.length!==r){i=new Float32Array(r);for(var o=t.elementOffset||0,a=0;a<r;++a)i[a]=n[o+a]}return i}},{key:"getAccessor",value:function(){return m(m({},this.source.getAccessor()),this.opts)}},{key:"value",get:function(){return this.source.value}}]),e}();var y=n(75),b=n(70),_=n(25);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){return e.stride||e.size*e.bytesPerElement}function k(e,t){t.offset&&_.a.removed("shaderAttribute.offset","vertexOffset, elementOffset")();var n=O(e),r=("vertexOffset"in t?t.vertexOffset:e.vertexOffset||0)*n+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0);return x(x({},t),{},{offset:r,stride:n})}var S=function(){function e(t,n){Object(i.a)(this,e),this.gl=t,this.id=n.id,this.size=n.size;var r=n.logicalType||n.type,o=5130===r,a=n.defaultValue;a=Number.isFinite(a)?[a]:a||new Array(this.size).fill(0),n.defaultValue=a;var s=r;o?s=5126:!s&&n.isIndexed?s=t&&Object(h.b)(t,d.a.ELEMENT_INDEX_UINT32)?5125:5123:s||(s=5126),n.logicalType=r,n.type=s;var u=function(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(r||s||5126);this.shaderAttributes={},this.doublePrecision=o,o&&!1===n.fp64&&(u=Float32Array),n.bytesPerElement=u.BYTES_PER_ELEMENT,this.defaultType=u,this.value=null,this.settings=n,this.state={externalBuffer:null,bufferAccessor:n,allocatedValue:null,constant:!1},this._buffer=null,this.setData(n)}return Object(o.a)(e,[{key:"delete",value:function(){this._buffer&&(this._buffer.delete(),this._buffer=null),y.a.release(this.state.allocatedValue)}},{key:"getShaderAttributes",value:function(e,t){if(this.doublePrecision){var n={},r=this.value instanceof Float64Array,i=function(e,t){var n=k(e,t);return{high:n,low:x(x({},n),{},{offset:n.offset+4*e.size})}}(this.getAccessor(),t||{});return n[e]=new v(this,i.high),n["".concat(e,"64Low")]=r?new v(this,i.low):new Float32Array(this.size),n}if(t){var o=k(this.getAccessor(),t);return Object(c.a)({},e,new v(this,o))}return Object(c.a)({},e,this)}},{key:"getBuffer",value:function(){return this.state.constant?null:this.state.externalBuffer||this._buffer}},{key:"getValue",value:function(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}},{key:"getAccessor",value:function(){return this.state.bufferAccessor}},{key:"setData",value:function(e){var t=this.state;ArrayBuffer.isView(e)?e={value:e}:e instanceof p.a&&(e={buffer:e});var n=x(x({},this.settings),e);if(t.bufferAccessor=n,e.constant){var r=e.value;if(r=this._normalizeValue(r,[],0),this.settings.normalized&&(r=this._normalizeConstant(r)),!(!t.constant||!this._areValuesEqual(r,this.value)))return!1;t.externalBuffer=null,t.constant=!0,this.value=r}else if(e.buffer){var i=e.buffer;t.externalBuffer=i,t.constant=!1,this.value=e.value;var o=e.value instanceof Float64Array;n.type=e.type||i.accessor.type,n.bytesPerElement=i.accessor.BYTES_PER_ELEMENT*(o?2:1),n.stride=O(n)}else if(e.value){this._checkExternalBuffer(e);var a=e.value;t.externalBuffer=null,t.constant=!1,this.value=a,n.bytesPerElement=a.BYTES_PER_ELEMENT,n.stride=O(n);var s=this.buffer,u=this.byteOffset;this.doublePrecision&&a instanceof Float64Array&&(a=Object(b.d)(a,n));var l=a.byteLength+u+2*n.stride;s.byteLength<l&&s.reallocate(l),s.setAccessor(null),s.subData({data:a,offset:u}),n.type=e.type||s.accessor.type}return!0}},{key:"updateSubBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.value,n=e.startOffset,r=void 0===n?0:n,i=e.endOffset;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?Object(b.d)(t,{size:this.size,startIndex:r,endIndex:i}):t.subarray(r,i),offset:r*t.BYTES_PER_ELEMENT+this.byteOffset})}},{key:"allocate",value:function(e){var t=e.numInstances,n=e.copy,r=void 0!==n&&n,i=this.state,o=i.allocatedValue,a=y.a.allocate(o,t+1,{size:this.size,type:this.defaultType,copy:r});this.value=a;var s=this.buffer,u=this.byteOffset;return s.byteLength<a.byteLength+u&&(s.reallocate(a.byteLength+u),r&&o&&s.subData({data:o instanceof Float64Array?Object(b.d)(o,this):o,offset:u})),i.allocatedValue=a,i.constant=!1,i.externalBuffer=null,i.bufferAccessor=this.settings,!0}},{key:"_checkExternalBuffer",value:function(e){var t=e.value;if(!e.constant&&t){var n=this.defaultType,r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof n||!this.settings.normalized||"normalized"in e||_.a.warn("Attribute ".concat(this.id," is normalized"))()}}},{key:"_normalizeConstant",value:function(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((function(e){return(e+128)/255*2-1}));case 5122:return new Float32Array(e).map((function(e){return(e+32768)/65535*2-1}));case 5121:return new Float32Array(e).map((function(e){return e/255}));case 5123:return new Float32Array(e).map((function(e){return e/65535}));default:return e}}},{key:"_normalizeValue",value:function(e,t,n){var r=this.settings,i=r.defaultValue,o=r.size;if(Number.isFinite(e))return t[n]=e,t;if(!e)return t[n]=i[0],t;switch(o){case 4:t[n+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:t[n+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:t[n+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:t[n+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:for(var a=o;--a>=0;)t[n+a]=Number.isFinite(e[a])?e[a]:i[a]}return t}},{key:"_areValuesEqual",value:function(e,t){if(!e||!t)return!1;for(var n=this.size,r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},{key:"buffer",get:function(){if(!this._buffer){var e=this.settings,t=e.isIndexed,n=e.type;this._buffer=new p.a(this.gl,{id:this.id,target:t?34963:34962,accessor:{type:n}})}return this._buffer}},{key:"byteOffset",get:function(){var e=this.getAccessor();return e.vertexOffset?e.vertexOffset*O(e):0}}]),e}(),E=n(32),C=n(87),A=n(100),P=[],j=[[0,1/0]];function T(e,t){if(e===j)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;for(var n=[],r=e.length,i=0,o=0;o<r;o++){var a=e[o];a[1]<t[0]?(n.push(a),i=o+1):a[0]>t[1]?n.push(a):t=[Math.min(a[0],t[0]),Math.max(a[1],t[1])]}return n.splice(i,0,t),n}function M(e){var t=e.source,n=e.target,r=e.start,i=void 0===r?0:r,o=e.end,a=e.size,s=e.getData;o=o||n.length;var u=t.length,l=o-i;if(u>l)n.set(t.subarray(0,l),i);else if(n.set(t,i),s)for(var c=u;c<l;)for(var f=s(c,t),h=0;h<a;h++)n[i+c]=f[h]||0,c++}var R={interpolation:{duration:0,easing:function(e){return e}},spring:{stiffness:.05,damping:.5}};function L(e,t){return e?(Number.isFinite(e)&&(e={duration:e}),e.type=e.type||"interpolation",Object.assign({},R[e.type],t,e)):null}function I(e,t){return t.getBuffer()?[t.getBuffer(),{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function D(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function z(e){e.push(e.shift())}function F(e,t){var n=e.doublePrecision,r=e.settings,i=e.value,o=e.size,a=n&&i instanceof Float64Array?2:1;return(r.noAlloc?i.length:t*o)*a}function N(e){var t=e.buffer,n=e.numInstances,r=e.attribute,i=e.fromLength,o=e.fromStartIndices,a=e.getData,s=void 0===a?function(e){return e}:a,u=r.doublePrecision&&r.value instanceof Float64Array?2:1,l=r.size*u,c=r.byteOffset,f=r.startIndices,h=o&&f,d=F(r,n),p=r.state.constant;if(h||!(i>=d)){var g=p?r.value:r.getBuffer().getData({srcByteOffset:c});if(r.settings.normalized&&!p){var m=s;s=function(e,t){return r._normalizeConstant(m(e,t))}}var v=p?function(e,t){return s(g,t)}:function(e,t){return s(g.subarray(e,e+l),t)},y=t.getData({length:i}),b=new Float32Array(d);!function(e){var t=e.source,n=e.target,r=e.size,i=e.getData,o=e.sourceStartIndices,a=e.targetStartIndices;if(!Array.isArray(a))return M({source:t,target:n,size:r,getData:i}),n;for(var s=0,u=0,l=i&&function(e,t){return i(e+u,t)},c=Math.min(o.length,a.length),f=1;f<c;f++){var h=o[f]*r,d=a[f]*r;M({source:t.subarray(s,h),target:n,start:u,end:d,size:r,getData:l}),s=h,u=d}u<n.length&&M({source:[],target:n,start:u,size:r,getData:l})}({source:y,target:b,sourceStartIndices:o,targetStartIndices:f,size:l,getData:v}),t.byteLength<b.byteLength+c&&t.reallocate(b.byteLength+c),t.subData({data:b,offset:c})}}function B(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var U=function(e){Object(a.a)(n,e);var t=$(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,n),r=t.call(this,e,o);var a=o.transition,s=void 0!==a&&a,u=o.noAlloc,l=void 0!==u&&u,c=o.update,f=void 0===c?null:c,h=o.accessor,d=void 0===h?null:h,p=o.transform,g=void 0===p?null:p,m=o.startIndices,v=void 0===m?null:m;return Object.assign(r.settings,{transition:s,noAlloc:l,update:f||d&&r._autoUpdater,accessor:d,transform:g}),Object.assign(r.state,{lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:j,startIndices:v}),Object.seal(r.settings),Object.seal(r.state),r._validateAttributeUpdaters(),r}return Object(o.a)(n,[{key:"needsUpdate",value:function(){return this.state.needsUpdate}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearChangedFlags,n=void 0!==t&&t,r=this.state.needsRedraw;return this.state.needsRedraw=r&&!n,r}},{key:"getUpdateTriggers",value:function(){var e=this.settings.accessor;return[this.id].concat("function"!==typeof e&&e||[])}},{key:"supportsTransition",value:function(){return Boolean(this.settings.transition)}},{key:"getTransitionSetting",value:function(e){if(!e||!this.supportsTransition())return null;var t=this.settings.accessor,n=this.settings.transition;return L(Array.isArray(t)?e[t.find((function(t){return e[t]}))]:e[t],n)}},{key:"setNeedsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){var n=t.startRow,r=void 0===n?0:n,i=t.endRow,o=void 0===i?1/0:i;this.state.updateRanges=T(this.state.updateRanges,[r,o])}else this.state.updateRanges=j}},{key:"clearNeedsUpdate",value:function(){this.state.needsUpdate=!1,this.state.updateRanges=P}},{key:"setNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}},{key:"update",value:function(e){this.setData(e)}},{key:"allocate",value:function(e){var t=this.state,r=this.settings;return!r.noAlloc&&(!!r.update&&(Object(E.a)(Number.isFinite(e)),Object(f.a)(Object(u.a)(n.prototype),"allocate",this).call(this,{numInstances:e,copy:t.updateRanges!==j}),!0))}},{key:"updateBuffer",value:function(e){var t=e.numInstances,i=e.data,o=e.props,a=e.context;if(!this.needsUpdate())return!1;var s=this.state.updateRanges,l=this.settings,c=l.update,h=l.noAlloc,d=!0;if(c){var p,g=B(s);try{for(g.s();!(p=g.n()).done;){var m=Object(r.a)(p.value,2),v=m[0],y=m[1];c.call(a,this,{data:i,startRow:v,endRow:y,props:o,numInstances:t})}}catch(E){g.e(E)}finally{g.f()}if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant});else{var b,_=B(s);try{for(_.s();!(b=_.n()).done;){var w=Object(r.a)(b.value,2),x=w[0],O=w[1],k=Number.isFinite(x)?this.getVertexOffset(x):0,S=Number.isFinite(O)?this.getVertexOffset(O):h||!Number.isFinite(t)?this.value.length:t*this.size;Object(f.a)(Object(u.a)(n.prototype),"updateSubBuffer",this).call(this,{startOffset:k,endOffset:S})}}catch(E){_.e(E)}finally{_.f()}}else;this._checkAttributeArray()}else d=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),d}},{key:"setConstantValue",value:function(e){return void 0!==e&&"function"!==typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}},{key:"setExternalBuffer",value:function(e){var t=this.state;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}},{key:"setBinaryValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.state,r=this.settings;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;n.binaryValue=e,this.setNeedsRedraw(),ArrayBuffer.isView(e)&&(e={value:e});var i=r.transform||t!==this.startIndices;if(i){Object(E.a)(ArrayBuffer.isView(e.value),"invalid ".concat(r.accessor));var o=e.size&&e.size!==this.size;return n.binaryAccessor=Object(C.b)(e.value,{size:e.size||this.size,stride:e.stride,offset:e.offset,startIndices:t,nested:o}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}},{key:"getVertexOffset",value:function(e){var t=this.startIndices;return(t?t[e]:e)*this.size}},{key:"getShaderAttributes",value:function(){var e=this.settings.shaderAttributes||Object(c.a)({},this.id,null),t={};for(var r in e)Object.assign(t,Object(f.a)(Object(u.a)(n.prototype),"getShaderAttributes",this).call(this,r,e[r]));return t}},{key:"_autoUpdater",value:function(e,t){var n=t.data,r=t.startRow,i=t.endRow,o=t.props,a=t.numInstances;if(!e.constant){var s=e.settings,u=e.state,l=e.value,c=e.size,f=e.startIndices,h=s.accessor,d=s.transform,p=u.binaryAccessor||("function"===typeof h?h:o[h]);Object(E.a)("function"===typeof p,'accessor "'.concat(h,'" is not a function'));var g,m=e.getVertexOffset(r),v=Object(C.a)(n,r,i),y=v.iterable,b=v.objectInfo,_=B(y);try{for(_.s();!(g=_.n()).done;){var w=g.value;b.index++;var x=p(w,b);if(d&&(x=d.call(this,x)),f){var O=(b.index<f.length-1?f[b.index+1]:a)-f[b.index];if(x&&Array.isArray(x[0])){var k,S=m,P=B(x);try{for(P.s();!(k=P.n()).done;){var j=k.value;e._normalizeValue(j,l,S),S+=c}}catch(T){P.e(T)}finally{P.f()}}else x&&x.length>c?l.set(x,m):(e._normalizeValue(x,b.target,0),Object(A.a)({target:l,source:b.target,start:m,count:O}));m+=O*c}else e._normalizeValue(x,l,m),m+=c}}catch(T){_.e(T)}finally{_.f()}}}},{key:"_validateAttributeUpdaters",value:function(){var e=this.settings;if(!(e.noAlloc||"function"===typeof e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function(){var e=this.value,t=Math.min(4,this.size);if(e&&e.length>=t){var n=!0;switch(t){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error("Illegal attribute generated for ".concat(this.id))}}},{key:"startIndices",get:function(){return this.state.startIndices},set:function(e){this.state.startIndices=e}}]),n}(S),W=n(43),H=n(181),G="void main() {gl_FragColor = vec4(0);}",q="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",X="#version 300 es\n".concat(q);function Z(e,t){t=Array.isArray(t)?t:[t];var n=e.replace(/^\s+/,"").split(/\s+/),i=Object(r.a)(n,3),o=i[0],a=i[1],s=i[2];return t.includes(o)&&a&&s?{qualifier:o,type:a,name:s.split(";")[0]}:null}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,n=void 0===t?100:t,r=e.input,i=e.inputType,o=e.output;if(!r)return 300===n?X:n>300?"#version ".concat(n,"\n").concat(q):G;var a=J(r,i);return n>=300?"#version ".concat(n," ").concat(300===n?"es":"","\nin ").concat(i," ").concat(r,";\nout vec4 ").concat(o,";\nvoid main() {\n  ").concat(o," = ").concat(a,";\n}"):"varying ".concat(i," ").concat(r,";\nvoid main() {\n  gl_FragColor = ").concat(a,";\n}")}function Y(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return Object(H.a)(!1),null}}function J(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return Object(H.a)(!1),null}}var Q=n(9),ee=n(552),te=n(33);function ne(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e),this.gl=t,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}return Object(o.a)(e,[{key:"setupResources",value:function(e){var t,n=ne(this.bindings);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setupTransformFeedback(r,e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.varyings;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceBuffers,r=t.transformFeedback,i=Object.assign({},n,e.attributes);return{attributes:i,transformFeedback:r}}},{key:"swap",value:function(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e)}},{key:"getBuffer",value:function(e){var t=this.bindings[this.currentIndex].feedbackBuffers,n=e?t[e]:null;return n?n instanceof p.a?n:n.buffer:null}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.varyingName,n=this.getBuffer(t);return n?n.getData():null}},{key:"delete",value:function(){for(var e in this.resources)this.resources[e].delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&Object(te.a)(Object(Q.i)(this.gl))}},{key:"_getFeedbackBuffers",value:function(e){var t=e.sourceBuffers,n=void 0===t?{}:t,r={};if(this.bindings[this.currentIndex]&&Object.assign(r,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(var i in this.feedbackMap){var o=this.feedbackMap[i];i in n&&(r[o]=i)}for(var a in Object.assign(r,e.feedbackBuffers),r){var s=r[a];if("string"===typeof s){var u=n[s],l=u.byteLength,c=u.usage,f=u.accessor;r[a]=this._createNewBuffer(a,{byteLength:l,usage:c,accessor:f})}}return r}},{key:"_setupBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,n=void 0===t?null:t;Object.assign(this.feedbackMap,e.feedbackMap);var r=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:n,feedbackBuffers:r})}},{key:"_setupTransformFeedback",value:function(e,t){var n=t.model.program;e.transformFeedback=new ee.a(this.gl,{program:n,buffers:e.feedbackBuffers})}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){var t=this._swapBuffers(this.bindings[this.currentIndex]),n=t.sourceBuffers,r=t.feedbackBuffers,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceBuffers:n,feedbackBuffers:r})}}},{key:"_updateBinding",value:function(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}},{key:"_swapBuffers",value:function(e){if(!this.feedbackMap)return null;var t=Object.assign({},e.sourceBuffers),n=Object.assign({},e.feedbackBuffers);for(var r in this.feedbackMap){var i=this.feedbackMap[r];t[r]=e.feedbackBuffers[i],n[i]=e.sourceBuffers[r],Object(te.a)(n[i]instanceof p.a)}return{sourceBuffers:t,feedbackBuffers:n}}},{key:"_createNewBuffer",value:function(e,t){var n=new p.a(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=n,n}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}}]),e}(),oe=n(224),ae=n(126),se=n(84),ue=n(316);function le(e){var t=100,n=e.match(/[^\s]+/g);if(n.length>=2&&"#version"===n[0]){var r=parseInt(n[1],10);Number.isFinite(r)&&(t=r)}return t}var ce,fe=n(182),he={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},de="transform_uSampler_",pe="transform_uSize_",ge="transform_position";function me(e){var t=e.vs,n=e.sourceTextureMap,r=e.targetTextureVarying,i=e.targetTexture,o=Object.keys(n).length,a=null,s={},u=t,l={};if(o>0||r){var c=u.split("\n"),f=c.slice();if(c.forEach((function(e,t,i){if(o>0){var u=function(e,t){var n={},r=function(e){return Z(e,["attribute","in"])}(e);if(!r)return null;var i=r.type,o=r.name;if(o&&t[o]){var a="// ".concat(e," => Replaced by Transform with a sampler"),s=function(e){var t="".concat(de).concat(e),n="".concat(pe).concat(e),r="  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(n,";");return{samplerName:t,sizeName:n,uniformDeclerations:r}}(o),u=s.samplerName,l=s.sizeName,c=s.uniformDeclerations,f=function(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return Object(H.a)(!1),null}}(i),h="  ".concat(i," ").concat(o," = transform_getInput(").concat(u,", ").concat(l,").").concat(f,";\n");return n[u]=o,{updatedLine:a,inject:{"vs:#decl":c,"vs:#main-start":h},samplerTextureMap:n}}return null}(e,n);if(u){var c=u.updatedLine,h=u.inject;f[t]=c,l=Object(fe.b)([l,h]),Object.assign(s,u.samplerTextureMap),o--}}r&&!a&&(a=function(e,t){var n=Z(e,["varying","out"]);if(!n)return null;return n.name===t?n.type:null}(e,r))})),r){Object(te.a)(i);var h="".concat(pe).concat(r),d={"vs:#decl":"uniform vec2 ".concat(h,";\n"),"vs:#main-start":"     vec2 ".concat(ge," = transform_getPos(").concat(h,");\n     gl_Position = vec4(").concat(ge,", 0, 1.);\n")};l=Object(fe.b)([l,d])}u=f.join("\n")}return{vs:u,targetTextureType:a,inject:l,samplerTextureMap:s}}function ve(e){var t,n,r=e.sourceTextureMap,i=e.targetTextureVarying,o=e.targetTexture,a={};for(var s in i&&(t=o.width,n=o.height,a["".concat(pe).concat(i)]=[t,n]),r){var u=r[s];t=u.width,n=u.height,a["".concat(pe).concat(s)]=[t,n]}return a}var ye=(ce={},Object(c.a)(ce,10241,9728),Object(c.a)(ce,10240,9728),Object(c.a)(ce,10242,33071),Object(c.a)(ce,10243,33071),ce),be="transform_output",_e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e),this.gl=t,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}return Object(o.a)(e,[{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._processVertexShader(e);return Object.assign({},e,t)}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceBuffers,r=t.sourceTextures,i=t.framebuffer,o=t.targetTexture,a=Object.assign({},n,e.attributes),s=Object.assign({},e.uniforms),u=Object.assign({},e.parameters),l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){for(var c in a.transform_elementID=this.elementIDBuffer,this.samplerTextureMap){var f=this.samplerTextureMap[c];s[c]=r[f]}this._setSourceTextureParameters();var h=ve({sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(s,h)}return this.hasTargetTexture&&(l=!1,u.viewport=[0,0,i.width,i.height]),{attributes:a,framebuffer:i,uniforms:s,discard:l,parameters:u}}},{key:"swap",value:function(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(e)}},{key:"getTargetTexture",value:function(){return this.bindings[this.currentIndex].targetTexture}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packed,n=void 0!==t&&t,r=this.bindings[this.currentIndex].framebuffer,i=Object(oe.b)(r);if(!n)return i;for(var o=i.constructor,a=Y(this.targetTextureType),s=new o(i.length*a/4),u=0,l=0;l<i.length;l+=4)for(var c=0;c<a;c++)s[u++]=i[l+c];return s}},{key:"getFramebuffer",value:function(){return this.bindings[this.currentIndex].framebuffer}},{key:"delete",value:function(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._targetTextureVarying,n=e._swapTexture;this._swapTexture=n,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}},{key:"_createTargetTexture",value:function(e){var t=e.sourceTextures,n=e.textureOrReference;if(n instanceof ae.a)return n;var r=t[n];return r?(this._targetRefTexName=n,this._createNewTexture(r)):null}},{key:"_setupTextures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,n=e._sourceTextures,r=void 0===n?{}:n,i=e._targetTexture,o=this._createTargetTexture({sourceTextures:r,textureOrReference:i});this.hasSourceTextures=this.hasSourceTextures||r&&Object.keys(r).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:r,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}},{key:"_updateElementIDBuffer",value:function(e){if(!("number"!==typeof e||this.elementCount>=e)){var t=new Float32Array(e);t.forEach((function(e,t,n){n[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new p.a(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){var t=this._swapTextures(this.bindings[this.currentIndex]),n=t.sourceTextures,r=t.targetTexture,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceTextures:n,targetTexture:r})}}},{key:"_updateBinding",value:function(e,t){var n=t.sourceBuffers,r=t.sourceTextures,i=t.targetTexture;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,n),i){e.targetTexture=i;var o=i.width,a=i.height,s=e.framebuffer;s?(s.update({attachments:Object(c.a)({},36064,i),resizeAttachments:!1}),s.resize({width:o,height:a})):e.framebuffer=new se.a(this.gl,{id:"transform-framebuffer",width:o,height:a,attachments:Object(c.a)({},36064,i)})}return e}},{key:"_setSourceTextureParameters",value:function(){var e=this.currentIndex,t=this.bindings[e].sourceTextures;for(var n in t)t[n].setParameters(ye)}},{key:"_swapTextures",value:function(e){if(!this._swapTexture)return null;var t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}},{key:"_createNewTexture",value:function(e){var t,n=Object(ue.a)(e,{parameters:(t={},Object(c.a)(t,10241,9728),Object(c.a)(t,10240,9728),Object(c.a)(t,10242,33071),Object(c.a)(t,10243,33071),t),pixelStore:Object(c.a)({},37440,!1)});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=n,n}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}},{key:"_processVertexShader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceTextures,r=t.targetTexture,i=me({vs:e.vs,sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:r}),o=i.vs,a=i.uniforms,s=i.targetTextureType,u=i.inject,l=i.samplerTextureMap,c=Object(fe.b)([e.inject||{},u]);this.targetTextureType=s,this.samplerTextureMap=l;var f=e._fs||K({version:le(o),input:this.targetTextureVarying,inputType:s,output:be}),h=this.hasSourceTextures||this.targetTextureVarying?[he].concat(e.modules||[]):e.modules;return{vs:o,fs:f,modules:h,uniforms:a,inject:c}}}]),e}(),we=n(147),xe=n(314);function Oe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e),this.gl=t,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(n),Object.seal(this)}return Object(o.a)(e,null,[{key:"isSupported",value:function(e){return Object(Q.i)(e)}}]),Object(o.a)(e,[{key:"delete",value:function(){var e=this.model,t=this.bufferTransform,n=this.textureTransform;e&&e.delete(),t&&t.delete(),n&&n.delete()}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRenderTarget,n=void 0===t||t,r=this._updateDrawOptions(e);n&&r.framebuffer&&r.framebuffer.clear({color:!0}),this.model.transform(r)}},{key:"swap",value:function(){var e,t=!1,n=Oe([this.bufferTransform,this.textureTransform].filter(Boolean));try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t||r.swap()}}catch(i){n.e(i)}finally{n.f()}Object(te.a)(t,"Nothing to swap")}},{key:"getBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}},{key:"getData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[this.bufferTransform,this.textureTransform].filter(Boolean),r=Oe(n);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.getData(t);if(o)return o}}catch(a){r.e(a)}finally{r.f()}return null}},{key:"getFramebuffer",value:function(){return this.textureTransform&&this.textureTransform.getFramebuffer()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);var t,n=[this.bufferTransform,this.textureTransform].filter(Boolean),r=Oe(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.update(e)}}catch(o){r.e(o)}finally{r.f()}}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.gl;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new xe.a(t,Object.assign({},e,{fs:e.fs||K({version:le(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}},{key:"_updateModelProps",value:function(e){var t,n=Object.assign({},e),r=Oe([this.bufferTransform,this.textureTransform].filter(Boolean));try{for(r.s();!(t=r.n()).done;){n=t.value.updateModelProps(n)}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"_buildResourceTransforms",value:function(e,t){(function(e){if(!Object(we.a)(e.feedbackBuffers)||!Object(we.a)(e.feedbackMap)||e.varyings&&e.varyings.length>0)return!0;return!1})(t)&&(this.bufferTransform=new ie(e,t)),function(e){if(!Object(we.a)(e._sourceTextures)||e._targetTexture||e._targetTextureVarying)return!0;return!1}(t)&&(this.textureTransform=new _e(e,t)),Object(te.a)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}},{key:"_updateDrawOptions",value:function(e){var t,n=Object.assign({},e),r=Oe([this.bufferTransform,this.textureTransform].filter(Boolean));try{for(r.s();!(t=r.n()).done;){var i=t.value;n=Object.assign(n,i.getDrawOptions(n))}}catch(o){r.e(o)}finally{r.f()}return n}}]),e}();var Ee=n(85);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Te=function(){function e(t){var n=t.gl,r=t.attribute,o=t.timeline;Object(i.a)(this,e),this.gl=n,this.type="interpolation",this.transition=new Ee.a(o),this.attribute=r,this.attributeInTransition=new U(n,r.settings),this.currentStartIndices=r.startIndices,this.currentLength=0,this.transform=function(e,t){var n=D(t.size);return new Se(e,{vs:Me,defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}(n,r);var a={byteLength:0,usage:35050};this.buffers=[new p.a(n,a),new p.a(n,a)]}return Object(o.a)(e,[{key:"start",value:function(e,t){if(e.duration<=0)this.transition.cancel();else{this.gl;var n=this.buffers,r=this.attribute;z(n);var i,o={numInstances:t,attribute:r,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},a=Pe(n);try{for(a.s();!(i=a.n()).done;){N(Ae({buffer:i.value},o))}}catch(s){a.e(s)}finally{a.f()}this.currentStartIndices=r.startIndices,this.currentLength=F(r,t),this.attributeInTransition.update({buffer:n[1],value:r.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/r.size),sourceBuffers:{aFrom:n[0],aTo:I(0,r)},feedbackBuffers:{vCurrent:n[1]}})}}},{key:"update",value:function(){var e=this.transition.update();if(e){var t=this.transition,n=t.time,r=t.settings,i=r.duration,o=(0,r.easing)(n/i);this.transform.run({uniforms:{time:o}})}return e}},{key:"cancel",value:function(){for(this.transition.cancel(),this.transform.delete();this.buffers.length;)this.buffers.pop().delete()}},{key:"inProgress",get:function(){return this.transition.inProgress}}]),e}(),Me="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze={interpolation:Te,spring:function(){function e(t){var n=t.gl,r=t.attribute,o=t.timeline;Object(i.a)(this,e),this.gl=n,this.type="spring",this.transition=new Ee.a(o),this.attribute=r,this.attributeInTransition=new U(n,Object.assign({},r.settings,{normalized:!1})),this.currentStartIndices=r.startIndices,this.currentLength=0,this.texture=function(e){return new ae.a(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(n),this.framebuffer=function(e,t){return new se.a(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:Object(c.a)({},36064,t)})}(n,this.texture),this.transform=function(e,t,n){var r=D(t.size);return new Se(e,{framebuffer:n,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:r},varyings:["vNext"]})}(n,r,this.framebuffer);var a={byteLength:0,usage:35050};this.buffers=[new p.a(n,a),new p.a(n,a),new p.a(n,a)]}return Object(o.a)(e,[{key:"start",value:function(e,t){this.gl;var n,r=this.buffers,i=this.attribute,o={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},a=Ie(r);try{for(a.s();!(n=a.n()).done;){N(Le({buffer:n.value},o))}}catch(s){a.e(s)}finally{a.f()}this.currentStartIndices=i.startIndices,this.currentLength=F(i,t),this.attributeInTransition.update({buffer:r[1],value:i.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aTo:I(0,i)}})}},{key:"update",value:function(){var e=this.buffers,t=this.transform,n=this.framebuffer,r=this.transition;return!!r.update()&&(t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:n,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:r.settings.stiffness,damping:r.settings.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),z(e),this.attributeInTransition.update({buffer:e[1],value:this.attribute.value}),Object(oe.b)(n)[0]>0||r.end(),!0)}},{key:"cancel",value:function(){for(this.transition.cancel(),this.transform.delete();this.buffers.length;)this.buffers.pop().delete();this.texture.delete(),this.texture=null,this.framebuffer.delete(),this.framebuffer=null}},{key:"inProgress",get:function(){return this.transition.inProgress}}]),e}()},Fe=function(){function e(t,n){var r=n.id,o=n.timeline;Object(i.a)(this,e),this.id=r,this.gl=t,this.timeline=o,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=Se.isSupported(t)}return Object(o.a)(e,[{key:"finalize",value:function(){for(var e in this.transitions)this._removeTransition(e)}},{key:"update",value:function(e){var t=e.attributes,n=e.transitions,r=e.numInstances;for(var i in this.numInstances=r||1,t){var o=t[i],a=o.getTransitionSetting(n);a&&this._updateAttribute(i,o,a)}for(var s in this.transitions){var u=t[s];u&&u.getTransitionSetting(n)||this._removeTransition(s)}}},{key:"hasAttribute",value:function(e){var t=this.transitions[e];return t&&t.inProgress}},{key:"getAttributes",value:function(){var e={};for(var t in this.transitions){var n=this.transitions[t];n.inProgress&&(e[t]=n.attributeInTransition)}return e}},{key:"run",value:function(){if(!this.isSupported||0===this.numInstances)return!1;for(var e in this.transitions){this.transitions[e].update()&&(this.needsRedraw=!0)}var t=this.needsRedraw;return this.needsRedraw=!1,t}},{key:"_removeTransition",value:function(e){this.transitions[e].cancel(),delete this.transitions[e]}},{key:"_updateAttribute",value:function(e,t,n){var r=this.transitions[e],i=!r||r.type!==n.type;if(i){if(!this.isSupported)return void _.a.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);var o=ze[n.type];o?this.transitions[e]=new o({attribute:t,timeline:this.timeline,gl:this.gl}):(_.a.error("unsupported transition type '".concat(n.type,"'"))(),i=!1)}(i||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}]),e}(),Ne="attributeManager.invalidate",Be="attributeManager.updateStart",Ve="attributeManager.updateEnd",$e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,o=void 0===r?"attribute-manager":r,a=n.stats,s=n.timeline;Object(i.a)(this,e),this.id=o,this.gl=t,this.attributes={},this.updateTriggers={},this.accessors={},this.needsRedraw=!0,this.userData={},this.stats=a,this.attributeTransitionManager=new Fe(t,{id:"".concat(o,"-transitions"),timeline:s}),Object.seal(this)}return Object(o.a)(e,[{key:"finalize",value:function(){for(var e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}},{key:"setNeedsRedraw",value:function(){return this.needsRedraw=!0,this}},{key:"add",value:function(e,t){this._add(e,t)}},{key:"addInstanced",value:function(e,t){this._add(e,t,{instanced:1})}},{key:"remove",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];void 0!==this.attributes[n]&&(this.attributes[n].delete(),delete this.attributes[n])}}},{key:"invalidate",value:function(e,t){var n=this._invalidateTrigger(e,t);Object(W.a)(Ne,this,e,n)}},{key:"invalidateAll",value:function(e){for(var t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);Object(W.a)(Ne,this,"all")}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.numInstances,r=e.startIndices,i=void 0===r?null:r,o=e.transitions,a=e.props,s=void 0===a?{}:a,u=e.buffers,l=void 0===u?{}:u,c=e.context,f=void 0===c?{}:c,h=!1;for(var d in Object(W.a)(Be,this),this.stats&&this.stats.get("Update Attributes").timeStart(),this.attributes){var p=this.attributes[d],g=p.settings.accessor;p.startIndices=i,s[d]&&_.a.removed("props.".concat(d),"data.attributes.".concat(d))(),p.setExternalBuffer(l[d])||p.setBinaryValue(l[g],t.startIndices)||!l[g]&&p.setConstantValue(s[g])||p.needsUpdate()&&(h=!0,this._updateAttribute({attribute:p,numInstances:n,data:t,props:s,context:f})),this.needsRedraw|=p.needsRedraw()}h&&Object(W.a)(Ve,this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:o})}},{key:"updateTransition",value:function(){var e=this.attributeTransitionManager.run();return this.needsRedraw=this.needsRedraw||e,e}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getChangedAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1},t=this.attributes,n=this.attributeTransitionManager,r=Object.assign({},n.getAttributes());for(var i in t){var o=t[i];o.needsRedraw(e)&&!n.hasAttribute(i)&&(r[i]=o)}return r}},{key:"getShaderAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=this.getAttributes());var n={};for(var r in e)t[r]||Object.assign(n,e[r].getShaderAttributes());return n}},{key:"getAccessors",value:function(){return this.updateTriggers}},{key:"_add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t&&_.a.warn("AttributeManager.add({updaters}) - updater map no longer supported")();var r={};for(var i in e){var o=e[i],a=this._createAttribute(i,o,n);r[i]=a}Object.assign(this.attributes,r),this._mapUpdateTriggersToAttributes()}},{key:"_createAttribute",value:function(e,t,n){var r={id:e,constant:t.constant||!1,isIndexed:t.isIndexed||t.elements,size:t.elements?1:t.size,value:t.value||null,divisor:t.instanced||n.instanced?1:t.divisor};return new U(this.gl,Object.assign({},t,r))}},{key:"_mapUpdateTriggersToAttributes",value:function(){var e=this,t={},n=function(n){e.attributes[n].getUpdateTriggers().forEach((function(e){t[e]||(t[e]=[]),t[e].push(n)}))};for(var r in this.attributes)n(r);this.updateTriggers=t}},{key:"_invalidateTrigger",value:function(e,t){var n=this.attributes,r=this.updateTriggers[e];return r&&r.forEach((function(e){var r=n[e];r&&r.setNeedsUpdate(r.id,t)})),r}},{key:"_updateAttribute",value:function(e){var t=e.attribute,n=e.numInstances;Object(W.a)("attribute.updateStart",t),t.allocate(n)&&Object(W.a)("attribute.allocate",t,n),t.updateBuffer(e)&&(this.needsRedraw=!0,Object(W.a)("attribute.updateEnd",t,n))}}]),e}(),Ue=n(22);function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var He=function(e){Object(a.a)(n,e);var t=We(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"_onUpdate",value:function(){var e=this.time,t=this.settings,n=t.fromValue,r=t.toValue,i=t.duration,o=(0,t.easing)(e/i);this._value=Object(Ue.e)(n,r,o)}},{key:"value",get:function(){return this._value}}]),n}(Ee.a);function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var qe=1e-5;function Xe(e,t,n,r,i){var o=t-e;return(n-t)*i+-o*r+o+t}function Ze(e,t){if(Array.isArray(e)){for(var n=0,r=0;r<e.length;r++){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}return Math.abs(e-t)}function Ke(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et={interpolation:He,spring:function(e){Object(a.a)(n,e);var t=Ge(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"_onUpdate",value:function(){var e=this.settings,t=e.fromValue,n=e.toValue,r=e.damping,i=e.stiffness,o=this._prevValue,a=void 0===o?t:o,s=this._currValue,u=void 0===s?t:s,l=function(e,t,n,r,i){if(Array.isArray(n)){for(var o=[],a=0;a<n.length;a++)o[a]=Xe(e[a],t[a],n[a],r,i);return o}return Xe(e,t,n,r,i)}(a,u,n,r,i),c=Ze(l,n),f=Ze(l,u);c<qe&&f<qe&&(l=n,this.end()),this._prevValue=u,this._currValue=l}},{key:"value",get:function(){return this._currValue}}]),n}(Ee.a)},tt=function(){function e(t){Object(i.a)(this,e),this.transitions=new Map,this.timeline=t}return Object(o.a)(e,[{key:"add",value:function(e,t,n,r){var i=this.transitions;if(i.has(e)){var o=i.get(e),a=o.value;t=void 0===a?o.settings.fromValue:a,this.remove(e)}if(r=L(r)){var s=et[r.type];if(s){var u=new s(this.timeline);u.start(Qe(Qe({},r),{},{fromValue:t,toValue:n})),i.set(e,u)}else _.a.error("unsupported transition type '".concat(r.type,"'"))()}}},{key:"remove",value:function(e){var t=this.transitions;t.has(e)&&(t.get(e).cancel(),t.delete(e))}},{key:"update",value:function(){var e,t={},n=Ke(this.transitions);try{for(n.s();!(e=n.n()).done;){var i=Object(r.a)(e.value,2),o=i[0],a=i[1];a.update(),t[o]=a.value,a.inProgress||this.remove(o)}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"clear",value:function(){var e,t=Ke(this.transitions.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.remove(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"active",get:function(){return this.transitions.size>0}}]),e}(),nt=n(19),rt=n(44),it=rt.b.COMPONENT;function ot(e,t){var n=st({newProps:e,oldProps:t,propTypes:ft(e),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";var n=null,r=e.dataComparator,i=e._dataDiff;r?r(e.data,t.data)||(n="Data comparator detected a change"):e.data!==t.data&&(n="A new data container was supplied");n&&i&&(n=i(e.data,t.data)||n);return n}(e,t),i=!1;return r||(i=function(e,t){if(null===t)return"oldProps is null, initial diff";if("all"in e.updateTriggers){if(ct(e,t,"all"))return{all:!0}}var n={},r=!1;for(var i in e.updateTriggers){if("all"!==i)ct(e,t,i)&&(n[i]=!0,r=n)}return r}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i,extensionsChanged:lt(e,t),transitionsChanged:at(e,t)}}function at(e,t){if(!e.transitions)return null;var n={},r=ft(e);for(var i in e.transitions){var o=r[i],a=o&&o.type;("number"===a||"color"===a||"array"===a)&&ut(e[i],t[i],o)&&(n[i]=!0)}return n}function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.newProps,n=e.oldProps,r=e.ignoreProps,i=void 0===r?{}:r,o=e.propTypes,a=void 0===o?{}:o,s=e.triggerName,u=void 0===s?"props":s;if(n===t)return null;if("object"!==Object(nt.a)(t)||null===t)return"".concat(u," changed shallowly");if("object"!==Object(nt.a)(n)||null===n)return"".concat(u," changed shallowly");for(var l=0,c=Object.keys(t);l<c.length;l++){var f=c[l];if(!(f in i)){if(!(f in n))return"".concat(u,".").concat(f," added");var h=ut(t[f],n[f],a[f]);if(h)return"".concat(u,".").concat(f," ").concat(h)}}for(var d=0,p=Object.keys(n);d<p.length;d++){var g=p[d];if(!(g in i)){if(!(g in t))return"".concat(u,".").concat(g," dropped");if(!Object.hasOwnProperty.call(t,g)){var m=ut(t[g],n[g],a[g]);if(m)return"".concat(u,".").concat(g," ").concat(m)}}}return null}function ut(e,t,n){var r=n&&n.equal;return r&&!r(e,t,n)?"changed deeply":r||!(r=e&&t&&e.equals)||r.call(e,t)?r||t===e?null:"changed shallowly":"changed deeply"}function lt(e,t){if(null===t)return"oldProps is null, initial diff";var n=t.extensions,r=e.extensions;if(r===n)return!1;if(r.length!==n.length)return!0;for(var i=0;i<r.length;i++)if(!r[i].equals(n[i]))return!0;return!1}function ct(e,t,n){var r=e.updateTriggers[n];r=void 0===r||null===r?{}:r;var i=t.updateTriggers[n];return st({oldProps:i=void 0===i||null===i?{}:i,newProps:r,triggerName:n})}function ft(e){var t=e[it],n=t&&t.constructor;return n?n._propTypes:{}}function ht(e){if(null===(t=e)||"object"!==Object(nt.a)(t))throw new Error("count(): argument not an object");var t;if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===Object(nt.a)(e)&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}var dt=n(109);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e,t){if(!t)return e;var n=Object.assign({},e,t);if("defines"in t&&(n.defines=Object.assign({},e.defines,t.defines)),"modules"in t&&(n.modules=(e.modules||[]).concat(t.modules),t.modules.some((function(e){return"project64"===e.name})))){var r=n.modules.findIndex((function(e){return"project32"===e.name}));r>=0&&n.modules.splice(r,1)}if("inject"in t)if(e.inject){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.inject);for(var o in t.inject)i[o]=(i[o]||"")+t.inject[o];n.inject=i}else n.inject=t.inject;return n}var mt,vt=n(169),yt=n(170),bt=n(39),_t=n(37),wt=n(36);function xt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.projectPosition(e);if(n&&t instanceof yt.a){var o=Object(r.a)(e,3),a=o[0],s=o[1],u=o[2],l=void 0===u?0:u,c=t.getDistanceScales([a,s]);i[2]=l*c.unitsPerMeter[2]}return i}function Ot(e,t){var n=t.viewport,i=t.modelMatrix,o=t.coordinateSystem,a=t.coordinateOrigin,s=t.offsetMode,u=Object(r.a)(e,3),c=u[0],f=u[1],h=u[2],d=void 0===h?0:h;if(i){var p=bt.n([],[c,f,d,1],i),g=Object(r.a)(p,3);c=g[0],f=g[1],d=g[2]}switch(o){case l.a.LNGLAT:return xt([c,f,d],n,s);case l.a.LNGLAT_OFFSETS:return xt([c+a[0],f+a[1],d+(a[2]||0)],n,s);case l.a.METER_OFFSETS:return xt(Object(wt.b)(a,[c,f,d]),n,s);case l.a.CARTESIAN:default:return n.isGeospatial?[c+a[0],f+a[1],d+a[2]]:n.projectPosition([c,f,d])}}function kt(e,t){var n=function(e){var t=Object.assign({},e),n=e.coordinateSystem,r=e.viewport,i=e.coordinateOrigin,o=e.fromCoordinateSystem,a=e.fromCoordinateOrigin;return n===l.a.DEFAULT&&(n=r.isGeospatial?l.a.LNGLAT:l.a.CARTESIAN),void 0===o&&(t.fromCoordinateSystem=n),void 0===a&&(t.fromCoordinateOrigin=i),t.coordinateSystem=n,t}(t),r=n.viewport,i=n.coordinateSystem,o=n.coordinateOrigin,a=n.modelMatrix,s=n.fromCoordinateSystem,u=n.fromCoordinateOrigin,c=Object(vt.a)(r,i,o),f=c.geospatialOrigin,h=c.shaderCoordinateOrigin,d=c.offsetMode,p=Ot(e,{viewport:r,modelMatrix:a,coordinateSystem:s,coordinateOrigin:u,offsetMode:d});if(d){var g=r.projectPosition(f||h);_t.l(p,p,g)}return p}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=(mt={},Object(c.a)(mt,10241,9987),Object(c.a)(mt,10240,9729),Object(c.a)(mt,10242,33071),Object(c.a)(mt,10243,33071),mt),At={};var Pt={boolean:{validate:function(e,t){return!0},equal:function(e,t,n){return Boolean(e)===Boolean(t)}},number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},color:{validate:function(e,t){return t.optional&&!e||Rt(e)&&(3===e.length||4===e.length)},equal:function(e,t,n){return jt(e,t)}},accessor:{validate:function(e,t){var n=Lt(e);return"function"===n||n===Lt(t.value)},equal:function(e,t,n){return"function"===typeof t||jt(e,t)}},array:{validate:function(e,t){return t.optional&&!e||Rt(e)},equal:function(e,t,n){return n.compare?jt(e,t):e===t}},function:{validate:function(e,t){return t.optional&&!e||"function"===typeof e},equal:function(e,t,n){return!n.compare||e===t}},data:{transform:function(e,t,n){var r=(n?n.props:{}).dataTransform;return r&&e?r(e):e}},image:{transform:function(e,t,n){return function(e,t){var n=e.context&&e.context.gl;if(!n||!t)return null;if(t instanceof ae.a)return t;t.constructor&&"Object"!==t.constructor.name&&(t={data:t});var r=null;t.compressed&&(r=Object(c.a)({},10241,t.data.length>1?9985:9729));var i=new ae.a(n,Et(Et({},t),{},{parameters:Et(Et(Et({},Ct),r),e.props.textureParameters)}));return At[i.id]=!0,i}(n,e)},release:function(e){var t;(t=e)&&t instanceof ae.a&&At[t.id]&&(t.delete(),delete At[t.id])}}};function jt(e,t){if(e===t)return!0;if(!Rt(e)||!Rt(t))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Tt(e,t){switch(Lt(t)){case"object":return Mt(e,t);case"array":return Mt(e,{type:"array",value:t,compare:!1});case"boolean":return Mt(e,{type:"boolean",value:t});case"number":return Mt(e,{type:"number",value:t});case"function":return Mt(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function Mt(e,t){return"type"in t?Object.assign({name:e},Pt[t.type],t):"value"in t?Object.assign({name:e,type:Lt(t.value)},t):{name:e,type:"object",value:t}}function Rt(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Lt(e){return Rt(e)?"array":null===e?"null":Object(nt.a)(e)}function It(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zt=rt.b.COMPONENT,Ft=rt.b.ASYNC_ORIGINAL,Nt=rt.b.ASYNC_RESOLVED,Bt=rt.b.ASYNC_DEFAULTS;function Vt(){var e=this,t=$t(e.constructor),n=Object.create(t);n[zt]=e,n[Ft]={},n[Nt]={};for(var r=0;r<arguments.length;++r){var i=arguments[r];for(var o in i)n[o]=i[o]}return Object.freeze(n),n}function $t(e){var t=Ht(e,"_mergedDefaultProps");return t||(function(e){if(!e.prototype)return;var t=Object.getPrototypeOf(e),n=$t(t),i=function(e){for(var t={},n={},i={},o=0,a=Object.entries(e);o<a.length;o++){var s=Object(r.a)(a[o],2),u=s[0],l=s[1];if(l&&l.deprecatedFor)i[u]=Array.isArray(l.deprecatedFor)?l.deprecatedFor:[l.deprecatedFor];else{var c=Tt(u,l);t[u]=c,n[u]=c.value}}return{propTypes:t,defaultProps:n,deprecatedProps:i}}(Ht(e,"defaultProps")||{}),o=function(e,t,n){var r=Object.create(null);Object.assign(r,t,e);var i=function(e){var t=Ht(e,"layerName")||Ht(e,"componentName");t||_.a.once(0,"".concat(e.name,".componentName not specified"))();return t||e.name}(n);return delete e.id,Object.defineProperties(r,{id:{writable:!0,value:i}}),r}(i.defaultProps,n,e),a=Object.assign({},t._propTypes,i.propTypes);!function(e,t){var n={},r={};for(var i in t){var o=t[i],a=o.name,s=o.value;o.async&&(n[a]=s,r[a]=Ut(a))}e[Bt]=n,e[Ft]={},Object.defineProperties(e,r)}(o,a);var s=Object.assign({},t._deprecatedProps,i.deprecatedProps);(function(e,t){var n=function(n){Object.defineProperty(e,n,{enumerable:!1,set:function(e){var r,i="".concat(this.id,": ").concat(n),o=It(t[n]);try{for(o.s();!(r=o.n()).done;){var a=r.value;Wt(this,a)||(this[a]=e)}}catch(s){o.e(s)}finally{o.f()}_.a.deprecated(i,t[n].join("/"))()}})};for(var r in t)n(r)})(o,s),e._mergedDefaultProps=o,e._propTypes=a,e._deprecatedProps=s}(e),e._mergedDefaultProps)}function Ut(e){return{enumerable:!0,set:function(t){"string"===typeof t||t instanceof Promise||Object(C.c)(t)?this[Ft][e]=t:this[Nt][e]=t},get:function(){if(this[Nt]){if(e in this[Nt])return this[Nt][e]||this[Bt][e];if(e in this[Ft]){var t=this[zt]&&this[zt].internalState;if(t&&t.hasAsyncProp(e))return t.getAsyncProp(e)||this[Bt][e]}}return this[Bt][e]}}}function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ht(e,t){return Wt(e,t)&&e[t]}var Gt=n(12),qt=n.n(Gt),Xt=n(20),Zt=n(124),Kt=rt.b.ASYNC_ORIGINAL,Yt=rt.b.ASYNC_RESOLVED,Jt=rt.b.ASYNC_DEFAULTS,Qt=Object.freeze({}),en=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(i.a)(this,e),this.component=t,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=Qt,this.oldAsyncProps=null}return Object(o.a)(e,[{key:"finalize",value:function(){for(var e in this.asyncProps){var t=this.asyncProps[e];t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}},{key:"getOldProps",value:function(){return this.oldAsyncProps||this.oldProps}},{key:"resetOldProps",value:function(){this.oldAsyncProps=null,this.oldProps=this.component.props}},{key:"freezeAsyncOldProps",value:function(){if(!this.oldAsyncProps)for(var e in this.oldProps=this.oldProps||this.component.props,this.oldAsyncProps=Object.create(this.oldProps),this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}},{key:"hasAsyncProp",value:function(e){return e in this.asyncProps}},{key:"getAsyncProp",value:function(e){var t=this.asyncProps[e];return t&&t.resolvedValue}},{key:"isAsyncPropLoading",value:function(e){if(e){var t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(var n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}},{key:"reloadAsyncProp",value:function(e,t){this._watchPromise(e,Promise.resolve(t))}},{key:"setAsyncProps",value:function(e){var t=e[Yt]||{},n=e[Kt]||e,r=e[Jt]||{};for(var i in t){var o=t[i];this._createAsyncPropData(i,r[i]),this._updateAsyncProp(i,o),t[i]=this.getAsyncProp(i)}for(var a in n){var s=n[a];this._createAsyncPropData(a,r[a]),this._updateAsyncProp(a,s)}}},{key:"_updateAsyncProp",value:function(e,t){if(this._didAsyncInputValueChange(e,t)){if("string"===typeof t){var n=this.layer&&this.layer.props.fetch;n&&(t=n(t,{propName:e,layer:this.layer}))}t instanceof Promise?this._watchPromise(e,t):Object(C.c)(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t)}}},{key:"_didAsyncInputValueChange",value:function(e,t){var n=this.asyncProps[e];return t!==n.resolvedValue&&t!==n.lastValue&&(n.lastValue=t,!0)}},{key:"_setPropValue",value:function(e,t){var n=this.asyncProps[e];t=this._postProcessValue(n,t),n.resolvedValue=t,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount}},{key:"_setAsyncPropValue",value:function(e,t,n){var r=this.asyncProps[e];r&&n>=r.resolvedLoadCount&&void 0!==t&&(this.freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=n,this.onAsyncPropUpdated(e,t))}},{key:"_watchPromise",value:function(e,t){var n=this,r=this.asyncProps[e];r.pendingLoadCount++;var i=r.pendingLoadCount;t.then((function(t){t=n._postProcessValue(r,t),n._setAsyncPropValue(e,t,i);var o=n.layer&&n.layer.props.onDataLoad;"data"===e&&o&&o(t,{propName:e,layer:n.layer})})).catch((function(e){return _.a.error(e)()}))}},{key:"_resolveAsyncIterable",value:function(){var e=Object(Xt.a)(qt.a.mark((function e(t,n){var r,i,o,a,s,u,l,c,f,h,d,p,g,m;return qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"data"!==t&&this._setPropValue(t,n),(r=this.asyncProps[t]).pendingLoadCount++,i=r.pendingLoadCount,o=[],a=0,s=!0,u=!1,e.prev=8,c=Object(Zt.a)(n);case 10:return e.next=12,c.next();case 12:return f=e.sent,s=f.done,e.next=16,f.value;case 16:if(h=e.sent,s){e.next=27;break}d=h,p=this.component?this.component.props:{},g=p.dataTransform,o=g?g(d,o):o.concat(d),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:a,endRow:o.length}]}),a=o.length,this._setAsyncPropValue(t,o,i);case 24:s=!0,e.next=10;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(8),u=!0,l=e.t0;case 33:if(e.prev=33,e.prev=34,s||null==c.return){e.next=38;break}return e.next=38,c.return();case 38:if(e.prev=38,!u){e.next=41;break}throw l;case 41:return e.finish(38);case 42:return e.finish(33);case 43:(m=this.layer&&this.layer.props.onDataLoad)&&m(o,{propName:t,layer:this.layer});case 45:case"end":return e.stop()}}),e,this,[[8,29,33,43],[34,,38,42]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_postProcessValue",value:function(e,t){var n=e.type;return n&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(t,n,this.component):t}},{key:"_createAsyncPropData",value:function(e,t){if(!this.asyncProps[e]){var n=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:n&&n[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}]),e}(),tn=rt.b.ASYNC_ORIGINAL,nn=rt.b.ASYNC_RESOLVED,rn=rt.b.ASYNC_DEFAULTS,on=0,an=function(){function e(){Object(i.a)(this,e),this.props=Vt.apply(this,arguments),this.id=this.props.id,this.count=on++,this.lifecycle=rt.a.NO_STATE,this.parent=null,this.context=null,this.state=null,this.internalState=null,Object.seal(this)}return Object(o.a)(e,[{key:"clone",value:function(e){var t=this.props,n={};for(var r in t[rn])r in t[nn]?n[r]=t[nn][r]:r in t[tn]&&(n[r]=t[tn][r]);return new this.constructor(Object.assign({},t,n,e))}},{key:"_initState",value:function(){this.internalState=new en({})}},{key:"stats",get:function(){return this.internalState.stats}}]),e}();function sn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}an.componentName="Component",an.defaultProps={};var un=function(e){Object(a.a)(n,e);var t=sn(n);function n(e){var r,o=e.attributeManager,a=e.layer;return Object(i.a)(this,n),(r=t.call(this,a)).attributeManager=o,r.model=null,r.needsRedraw=!0,r.subLayers=null,r.usesPickingColorCache=!1,r}return Object(o.a)(n,[{key:"layer",get:function(){return this.component},set:function(e){this.component=e}}]),n}(en),ln=n(556);function cn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var dn=Math.pow(2,24)-1,pn=Object.freeze([]),gn=Object(dt.a)((function(e){var t=e.oldViewport,n=e.viewport;return t.equals(n)})),mn=new Uint8ClampedArray(0),vn={data:{type:"data",value:pn,async:!0},dataComparator:null,_dataDiff:{type:"function",value:function(e){return e&&e.__diff},compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:function(e,t){var n=t.propName,r=t.layer,i=r.context.resourceManager,o=r.getLoadOptions(),a=r.props.loaders,s=i.contains(e);return s||o||(i.add({resourceId:e,data:Object(ln.a)(e,a),persistent:!1}),s=!0),s?i.subscribe({resourceId:e,onChange:function(e){return r.internalState.reloadAsyncProp(n,e)},consumerId:r.id,requestId:n}):Object(ln.a)(e,a,o)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:l.a.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:function(e){return[0,100*-e.layerIndex]},compare:!1},highlightedObjectIndex:-1,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}},yn=function(e){Object(a.a)(n,e);var t=hn(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"toString",value:function(){var e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}},{key:"setState",value:function(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.internalState&&(this.internalState.needsRedraw=e)}},{key:"setNeedsUpdate",value:function(){this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}},{key:"needsUpdate",value:function(){return this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams())}},{key:"hasUniformTransition",value:function(){return this.internalState.uniformTransitions.active}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function(){return this.state&&(this.state.models||(this.state.model?[this.state.model]:[]))}},{key:"getAttributeManager",value:function(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function(){return this.internalState&&this.internalState.layer}},{key:"getLoadOptions",value:function(){return this.props.loadOptions}},{key:"project",value:function(e){var t=this.context.viewport,n=Ot(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),i=Object(wt.o)(n,t.pixelProjectionMatrix),o=Object(r.a)(i,3),a=o[0],s=o[1],u=o[2];return 2===e.length?[a,s]:[a,s,u]}},{key:"unproject",value:function(e){return this.context.viewport.unproject(e)}},{key:"projectPosition",value:function(e){return kt(e,{viewport:this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem})}},{key:"use64bitPositions",value:function(){var e=this.props.coordinateSystem;return e===l.a.DEFAULT||e===l.a.LNGLAT||e===l.a.CARTESIAN}},{key:"onHover",value:function(e,t){return!!this.props.onHover&&this.props.onHover(e,t)}},{key:"onClick",value:function(e,t){return!!this.props.onClick&&this.props.onClick(e,t)}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}},{key:"decodePickingColor",value:function(e){Object(E.a)(e instanceof Uint8Array);var t=Object(r.a)(e,3);return t[0]+256*t[1]+65536*t[2]-1}},{key:"initializeState",value:function(){throw new Error("Layer ".concat(this," has not defined initializeState"))}},{key:"getShaders",value:function(e){var t,n=cn(this.props.extensions);try{for(n.s();!(t=n.n()).done;){var r=t.value;e=gt(e,r.getShaders.call(this,r))}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"shouldUpdateState",value:function(e){e.oldProps,e.props,e.context;return e.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(e){var t=e.oldProps,n=e.props,r=(e.context,e.changeFlags),i=this.getAttributeManager();if(r.dataChanged&&i){var o=r.dataChanged;if(Array.isArray(o)){var a,s=cn(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;i.invalidateAll(u)}}catch(g){s.e(g)}finally{s.f()}}else i.invalidateAll()}var l=t.highlightedObjectIndex>=0||t.pickable,c=n.highlightedObjectIndex>=0||n.pickable;if(l!==c&&i){var f=i.attributes,h=f.pickingColors,d=f.instancePickingColors,p=h||d;p&&(c&&p.constant&&(p.constant=!1,i.invalidate(p.id)),p.value||c||(p.constant=!0,p.value=[0,0,0]))}}},{key:"finalizeState",value:function(){var e,t=cn(this.getModels());try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(r){t.e(r)}finally{t.f()}var n=this.getAttributeManager();n&&n.finalize(),this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState.uniformTransitions.clear(),this.internalState.finalize()}},{key:"draw",value:function(e){var t,n=cn(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.draw(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"getPickingInfo",value:function(e){var t=e.info,n=(e.mode,t.index);return n>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[n]),t}},{key:"activateViewport",value:function(e){var t=this.internalState.viewport;this.internalState.viewport=e,t&&gn({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}},{key:"invalidateAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}},{key:"updateAttributes",value:function(e){var t,n=cn(this.getModels());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setModelAttributes(r,e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_updateAttributes",value:function(e){var t=this.getAttributeManager();if(t){var n=this.getNumInstances(e),r=this.getStartIndices(e);t.update({data:e.data,numInstances:n,startIndices:r,props:e,transitions:e.transitions,buffers:e.data.attributes,context:this,ignoreUnknownAttributes:!0});var i=t.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}}},{key:"_updateAttributeTransition",value:function(){var e=this.getAttributeManager();e&&e.updateTransition()}},{key:"_updateUniformTransition",value:function(){var e=this.internalState.uniformTransitions;if(e.active){var t=e.update(),n=Object.create(this.props);for(var r in t)Object.defineProperty(n,r,{value:t[r]});return n}return this.props}},{key:"calculateInstancePickingColors",value:function(e,t){var n=t.numInstances;if(!e.constant){var r=mn.length/3;if(this.internalState.usesPickingColorCache=!0,r<n){n>dn&&_.a.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")();for(var i=(mn=y.a.allocate(mn,n,{size:3,copy:!0,maxCount:Math.max(n,dn)})).length/3,o=[],a=r;a<i;a++)this.encodePickingColor(a,o),mn[3*a+0]=o[0],mn[3*a+1]=o[1],mn[3*a+2]=o[2]}e.value=mn.subarray(0,3*n)}}},{key:"_setModelAttributes",value:function(e,t){var n=this.getAttributeManager(),r=e.userData.excludeAttributes||{},i=n.getShaderAttributes(t,r);e.setAttributes(i)}},{key:"disablePickingIndex",value:function(e){this._disablePickingIndex(e)}},{key:"_disablePickingIndex",value:function(e){var t=this.getAttributeManager().attributes,n=t.pickingColors,r=t.instancePickingColors,i=n||r,o=i.getVertexOffset(e),a=i.getVertexOffset(e+1);i.buffer.subData({data:new Uint8Array(a-o),offset:o})}},{key:"restorePickingColors",value:function(){var e=this.getAttributeManager().attributes,t=e.pickingColors,n=e.instancePickingColors,r=t||n;this.internalState.usesPickingColorCache&&r.value.buffer!==mn.buffer&&(r.value=mn.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0})}},{key:"getNumInstances",value:function(e){return void 0!==(e=e||this.props).numInstances?e.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:ht(e.data)}},{key:"getStartIndices",value:function(e){return void 0!==(e=e||this.props).startIndices?e.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}},{key:"_initialize",value:function(){Object(W.a)("layer.initialize",this),this._initState(),this.initializeState(this.context);var e,t=cn(this.props.extensions);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.initializeState.call(this,this.context,n)}}catch(r){t.e(r)}finally{t.f()}this.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,extensionsChanged:!0}),this._updateState()}},{key:"_update",value:function(){var e=this.needsUpdate();Object(W.a)("layer.update",this,e),e&&this._updateState()}},{key:"_updateState",value:function(){var e=this.props,t=this.context.viewport,n=this._updateUniformTransition();this.internalState.propsInTransition=n,this.context.viewport=this.internalState.viewport||t,this.props=n;try{var r=this._getUpdateParams(),i=this.getModels();if(this.context.gl)this.updateState(r);else try{this.updateState(r)}catch(l){}var o,a=cn(this.props.extensions);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.updateState.call(this,r,s)}}catch(c){a.e(c)}finally{a.f()}var u=this.getModels()[0]!==i[0];this._updateModules(r,u),this.isComposite?this._renderLayers(r):(this.setNeedsRedraw(),this._updateAttributes(this.props),this.state.model&&this.state.model.setInstanceCount(this.getNumInstances()))}finally{this.context.viewport=t,this.props=e,this.clearChangeFlags(),this.internalState.needsUpdate=!1,this.internalState.resetOldProps()}}},{key:"_finalize",value:function(){Object(W.a)("layer.finalize",this),Object(E.a)(this.internalState&&this.state),this.finalizeState(this.context);var e,t=cn(this.props.extensions);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.finalizeState.call(this,n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"drawLayer",value:function(e){var t=this,n=e.moduleParameters,r=void 0===n?null:n,i=e.uniforms,o=void 0===i?{}:i,a=e.parameters,s=void 0===a?{}:a;this._updateAttributeTransition();var u=this.props;this.props=this.internalState.propsInTransition||u;var l=this.props.opacity;o.opacity=Math.pow(l,1/2.2);try{r&&this.setModuleParameters(r);var c=this.props.getPolygonOffset,f=c&&c(o)||[0,0];Object(Q.m)(this.context.gl,{polygonOffset:f}),Object(Q.n)(this.context.gl,s,(function(){var e,n={moduleParameters:r,uniforms:o,parameters:s,context:t.context},i=cn(t.props.extensions);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.draw.call(t,n,a)}}catch(u){i.e(u)}finally{i.f()}t.draw(n)}))}finally{this.props=u}}},{key:"getChangeFlags",value:function(){return this.internalState.changeFlags}},{key:"setChangeFlags",value:function(e){var t=this.internalState.changeFlags;for(var n in e)if(e[n]){var r=!1;switch(n){case"dataChanged":Array.isArray(t[n])&&(t[n]=Array.isArray(e[n])?t[n].concat(e[n]):e[n],r=!0);default:t[n]||(t[n]=e[n],r=!0)}r&&Object(W.a)("layer.changeFlag",this,n,e)}var i=t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged;t.propsOrDataChanged=i,t.somethingChanged=i||e.viewportChanged||e.stateChanged}},{key:"clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"diffProps",value:function(e,t){var n=ot(e,t);if(n.updateTriggersChanged)for(var r in n.updateTriggersChanged)n.updateTriggersChanged[r]&&this.invalidateAttribute(r);if(n.transitionsChanged)for(var i in n.transitionsChanged)this.internalState.uniformTransitions.add(i,t[i],e[i],e.transitions[i]);return this.setChangeFlags(n)}},{key:"validateProps",value:function(){!function(e){var t=ft(e);for(var n in t){var r=t[n],i=r.validate;if(i&&!i(e[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(e[n]))}}(this.props)}},{key:"setModuleParameters",value:function(e){var t,n=cn(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.updateModuleSettings(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"_updateModules",value:function(e,t){var n=e.props,r=e.oldProps,i=n.autoHighlight,o=n.highlightedObjectIndex,a=n.highlightColor;if(t||r.autoHighlight!==i||r.highlightedObjectIndex!==o||r.highlightColor!==a){var s={};i||(s.pickingSelectedColor=null),Array.isArray(a)&&(s.pickingHighlightColor=a),Number.isInteger(o)&&(s.pickingSelectedColor=o>=0?this.encodePickingColor(o):null),this.setModuleParameters(s)}}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(e){if(!this.internalState)return!1;var t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;var n=this.getAttributeManager(),r=n&&n.getNeedsRedraw(e);return t=t||r}},{key:"_getAttributeManager",value:function(){return new $e(this.context.gl,{id:this.props.id,stats:this.context.stats,timeline:this.context.timeline})}},{key:"_initState",value:function(){Object(E.a)(!this.internalState&&!this.state),Object(E.a)(isFinite(this.props.coordinateSystem),"".concat(this.id,": invalid coordinateSystem"));var e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new un({attributeManager:e,layer:this}),this.clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:function(){return _.a.deprecated("layer.state.attributeManager","layer.getAttributeManager()"),e}}),this.internalState.layer=this,this.internalState.uniformTransitions=new tt(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props)}},{key:"_transferState",value:function(e){Object(W.a)("layer.matched",this,this===e);var t=e.state,n=e.internalState;Object(E.a)(t&&n),this!==e&&(this.internalState=n,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this.diffProps(this.props,this.internalState.getOldProps()))}},{key:"_onAsyncPropUpdated",value:function(){this.diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}},{key:"isLoaded",get:function(){return this.internalState&&!this.internalState.isAsyncPropLoading()}},{key:"wrapLongitude",get:function(){return this.props.wrapLongitude}}]),n}(an);yn.layerName="Layer",yn.defaultProps=vn},function(e,t,n){"use strict";var r=n(7),i=n(0),o=n.n(i);var a=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(s){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),s="-ms-",u="-moz-",l="-webkit-",c="comm",f="rule",h="decl",d=Math.abs,p=String.fromCharCode;function g(e){return e.trim()}function m(e,t,n){return e.replace(t,n)}function v(e,t){return e.indexOf(t)}function y(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function _(e){return e.length}function w(e){return e.length}function x(e,t){return t.push(e),e}function O(e,t){return e.map(t).join("")}var k=1,S=1,E=0,C=0,A=0,P="";function j(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:k,column:S,length:a,return:""}}function T(e,t,n){return j(e,t.root,t.parent,n,t.props,t.children,0)}function M(){return A=C>0?y(P,--C):0,S--,10===A&&(S=1,k--),A}function R(){return A=C<E?y(P,C++):0,S++,10===A&&(S=1,k++),A}function L(){return y(P,C)}function I(){return C}function D(e,t){return b(P,e,t)}function z(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F(e){return k=S=1,E=_(P=e),C=0,[]}function N(e){return P="",e}function B(e){return g(D(C-1,U(91===e?e+2:40===e?e+1:e)))}function V(e){for(;(A=L())&&A<33;)R();return z(e)>2||z(A)>3?"":" "}function $(e,t){for(;--t&&R()&&!(A<48||A>102||A>57&&A<65||A>70&&A<97););return D(e,I()+(t<6&&32==L()&&32==R()))}function U(e){for(;R();)switch(A){case e:return C;case 34:case 39:return U(34===e||39===e?e:A);case 40:41===e&&U(e);break;case 92:R()}return C}function W(e,t){for(;R()&&e+A!==57&&(e+A!==84||47!==L()););return"/*"+D(t,C-1)+"*"+p(47===e?e:R())}function H(e){for(;!z(L());)R();return D(e,C)}function G(e){return N(q("",null,null,null,[""],e=F(e),0,[0],e))}function q(e,t,n,r,i,o,a,s,u){for(var l=0,c=0,f=a,h=0,d=0,g=0,v=1,y=1,b=1,w=0,O="",k=i,S=o,E=r,C=O;y;)switch(g=w,w=R()){case 34:case 39:case 91:case 40:C+=B(w);break;case 9:case 10:case 13:case 32:C+=V(g);break;case 92:C+=$(I()-1,7);continue;case 47:switch(L()){case 42:case 47:x(Z(W(R(),I()),t,n),u);break;default:C+="/"}break;case 123*v:s[l++]=_(C)*b;case 125*v:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+c:d>0&&_(C)-f&&x(d>32?K(C+";",r,n,f-1):K(m(C," ","")+";",r,n,f-2),u);break;case 59:C+=";";default:if(x(E=X(C,t,n,l,c,i,s,O,k=[],S=[],f),o),123===w)if(0===c)q(C,t,E,E,k,o,f,s,S);else switch(h){case 100:case 109:case 115:q(e,E,E,r&&x(X(e,E,E,0,0,i,s,O,i,k=[],f),S),i,S,f,s,r?k:S);break;default:q(C,E,E,E,[""],S,f,s,S)}}l=c=d=0,v=b=1,O=C="",f=a;break;case 58:f=1+_(C),d=g;default:if(v<1)if(123==w)--v;else if(125==w&&0==v++&&125==M())continue;switch(C+=p(w),w*v){case 38:b=c>0?1:(C+="\f",-1);break;case 44:s[l++]=(_(C)-1)*b,b=1;break;case 64:45===L()&&(C+=B(R())),h=L(),c=_(O=C+=H(I())),w++;break;case 45:45===g&&2==_(C)&&(v=0)}}return o}function X(e,t,n,r,i,o,a,s,u,l,c){for(var h=i-1,p=0===i?o:[""],v=w(p),y=0,_=0,x=0;y<r;++y)for(var O=0,k=b(e,h+1,h=d(_=a[y])),S=e;O<v;++O)(S=g(_>0?p[O]+" "+k:m(k,/&\f/g,p[O])))&&(u[x++]=S);return j(e,t,n,0===i?f:s,u,l,c)}function Z(e,t,n){return j(e,t,n,c,p(A),b(e,2,-2),0)}function K(e,t,n,r){return j(e,t,n,h,b(e,0,r),b(e,r+1,-1),r)}function Y(e,t){switch(function(e,t){return(((t<<2^y(e,0))<<2^y(e,1))<<2^y(e,2))<<2^y(e,3)}(e,t)){case 5103:return l+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return l+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return l+e+u+e+s+e+e;case 6828:case 4268:return l+e+s+e+e;case 6165:return l+e+s+"flex-"+e+e;case 5187:return l+e+m(e,/(\w+).+(:[^]+)/,l+"box-$1$2"+s+"flex-$1$2")+e;case 5443:return l+e+s+"flex-item-"+m(e,/flex-|-self/,"")+e;case 4675:return l+e+s+"flex-line-pack"+m(e,/align-content|flex-|-self/,"")+e;case 5548:return l+e+s+m(e,"shrink","negative")+e;case 5292:return l+e+s+m(e,"basis","preferred-size")+e;case 6060:return l+"box-"+m(e,"-grow","")+l+e+s+m(e,"grow","positive")+e;case 4554:return l+m(e,/([^-])(transform)/g,"$1"+l+"$2")+e;case 6187:return m(m(m(e,/(zoom-|grab)/,l+"$1"),/(image-set)/,l+"$1"),e,"")+e;case 5495:case 3959:return m(e,/(image-set\([^]*)/,l+"$1$`$1");case 4968:return m(m(e,/(.+:)(flex-)?(.*)/,l+"box-pack:$3"+s+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+l+e+e;case 4095:case 3583:case 4068:case 2532:return m(e,/(.+)-inline(.+)/,l+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_(e)-1-t>6)switch(y(e,t+1)){case 109:if(45!==y(e,t+4))break;case 102:return m(e,/(.+:)(.+)-([^]+)/,"$1"+l+"$2-$3$1"+u+(108==y(e,t+3)?"$3":"$2-$3"))+e;case 115:return~v(e,"stretch")?Y(m(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==y(e,t+1))break;case 6444:switch(y(e,_(e)-3-(~v(e,"!important")&&10))){case 107:return m(e,":",":"+l)+e;case 101:return m(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+l+(45===y(e,14)?"inline-":"")+"box$3$1"+l+"$2$3$1"+s+"$2box$3")+e}break;case 5936:switch(y(e,t+11)){case 114:return l+e+s+m(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return l+e+s+m(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return l+e+s+m(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return l+e+s+e+e}return e}function J(e,t){for(var n="",r=w(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Q(e,t,n,r){switch(e.type){case"@import":case h:return e.return=e.return||e.value;case c:return"";case f:e.value=e.props.join(",")}return _(n=J(e.children,r))?e.return=e.value+"{"+n+"}":""}function ee(e){return function(t){t.root||(t=t.return)&&e(t)}}n(121);var te=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(z(r)){case 0:38===r&&12===L()&&(t[n]=1),e[n]+=H(C-1);break;case 2:e[n]+=B(r);break;case 4:if(44===r){e[++n]=58===L()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=p(r)}}while(r=R());return e}(F(e),t))},ne=new WeakMap,re=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ne.get(n))&&!r){ne.set(e,!0);for(var i=[],o=te(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var l=0;l<a.length;l++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[l]):a[l]+" "+o[s]}}},ie=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},oe=[function(e,t,n,r){if(!e.return)switch(e.type){case h:e.return=Y(e.value,e.length);break;case"@keyframes":return J([T(m(e.value,"@","@"+l),e,"")],r);case f:if(e.length)return O(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return J([T(m(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return J([T(m(t,/:(plac\w+)/,":"+l+"input-$1"),e,""),T(m(t,/:(plac\w+)/,":-moz-$1"),e,""),T(m(t,/:(plac\w+)/,s+"input-$1"),e,"")],r)}return""}))}}],ae=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){document.head.appendChild(e),e.setAttribute("data-s","")}))}var r=e.stylisPlugins||oe;var i,o,s={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion]"),(function(e){var n=e.getAttribute("data-emotion").split(" ");if(n[0]===t){for(var r=1;r<n.length;r++)s[n[r]]=!0;u.push(e)}}));var l=[re,ie];var c,f=[Q,ee((function(e){c.insert(e)}))],h=function(e){var t=w(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(l.concat(r,f));o=function(e,t,n,r){c=n,J(G(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new a({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:s,registered:{},insert:o};return d.sheet.hydrate(u),d};n(82);function se(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var ue=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},le=n(171),ce=n(122);var fe=/[A-Z]|^ms/g,he=/_EMO_([^_]+?)_([^]*?)_EMO_/g,de=function(e){return 45===e.charCodeAt(1)},pe=function(e){return null!=e&&"boolean"!==typeof e},ge=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return de(e)?e:e.replace(fe,"-$&").toLowerCase()})),me=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(he,(function(e,t,n){return ye={name:t,styles:n,next:ye},t}))}return 1===ce.a[e]||de(e)||"number"!==typeof t||0===t?t:t+"px"};function ve(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ye={name:n.name,styles:n.styles,next:ye},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ye={name:r.name,styles:r.styles,next:ye},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ve(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":pe(a)&&(r+=ge(o)+":"+me(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=ve(e,t,a);switch(o){case"animation":case"animationName":r+=ge(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)pe(a[u])&&(r+=ge(o)+":"+me(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=ye,o=n(e);return ye=i,ve(e,t,o)}break;case"string":}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var ye,be=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var _e=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ye=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=ve(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=ve(n,t,e[a]),r&&(i+=o[a]);be.lastIndex=0;for(var s,u="";null!==(s=be.exec(i));)u+="-"+s[1];return{name:Object(le.a)(i)+u,styles:i,next:ye}},we=Object.prototype.hasOwnProperty,xe=Object(i.createContext)("undefined"!==typeof HTMLElement?ae({key:"css"}):null),Oe=xe.Provider,ke=function(e){return Object(i.forwardRef)((function(t,n){var r=Object(i.useContext)(xe);return e(t,r,n)}))},Se=Object(i.createContext)({});var Ee="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ce=function(e,t){var n={};for(var r in t)we.call(t,r)&&(n[r]=t[r]);return n[Ee]=e,n},Ae=ke((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[Ee],a=[r],s="";"string"===typeof e.className?s=se(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var u=_e(a,void 0,"function"===typeof r||Array.isArray(r)?Object(i.useContext)(Se):void 0);ue(t,u,"string"===typeof o);s+=t.key+"-"+u.name;var l={};for(var c in e)we.call(e,c)&&"css"!==c&&c!==Ee&&(l[c]=e[c]);return l.ref=n,l.className=s,Object(i.createElement)(o,l)}));n(249);var Pe=function(e,t){var n=arguments;if(null==t||!we.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=Ae,o[1]=Ce(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)};function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _e(t)}var Te=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function Me(e,t,n){var r=[],i=se(e,r,n);return r.length<2?n:i+t(r)}var Re=ke((function(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=_e(n,t.registered);return ue(t,i,!1),t.key+"-"+i.name},r={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Me(t.registered,n,Te(r))},theme:Object(i.useContext)(Se)},o=e.children(r);return!0,o}));var Le=n(28),Ie=n(19),De=n(216),ze=n.n(De),Fe=n(5),Ne=n(4),Be=n(13),Ve=n(2),$e=n(80);function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(s){return!1}}();return function(){var n,r=Ge(e);if(t){var i=Ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qe(this,n)}}var Ze=function(){};function Ke(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Ye(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(Ke(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Je=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===Object(Ie.a)(e)&&null!==e?[e]:[]},Qe=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,He({},Object(Le.a)(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function et(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function tt(e){return et(e)?window.pageYOffset:e.scrollTop}function nt(e,t){et(e)?window.scrollTo(0,t):e.scrollTop=t}function rt(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ze,i=tt(e),o=t-i,a=10,s=0;function u(){var t=rt(s+=a,i,o,n);nt(e,t),s<n?window.requestAnimationFrame(u):r(e)}u()}function ot(){try{return document.createEvent("TouchEvent"),!0}catch(s){return!1}}var at=!1,st={get passive(){return at=!0}},ut="undefined"!==typeof window?window:{};ut.addEventListener&&ut.removeEventListener&&(ut.addEventListener("p",Ze,st),ut.removeEventListener("p",Ze,!1));var lt=at;function ct(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return i}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var c=u.getBoundingClientRect().height,f=n.getBoundingClientRect(),h=f.bottom,d=f.height,p=f.top,g=n.offsetParent.getBoundingClientRect().top,m=window.innerHeight,v=tt(u),y=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),_=g-b,w=m-p,x=_+v,O=c-v-p,k=h-m+v+y,S=v+p-b,E=160;switch(i){case"auto":case"bottom":if(w>=d)return{placement:"bottom",maxHeight:t};if(O>=d&&!a)return o&&it(u,k,E),{placement:"bottom",maxHeight:t};if(!a&&O>=r||a&&w>=r)return o&&it(u,k,E),{placement:"bottom",maxHeight:a?w-y:O-y};if("auto"===i||a){var C=t,A=a?_:x;return A>=r&&(C=Math.min(A-y-s.controlHeight,t)),{placement:"top",maxHeight:C}}if("bottom"===i)return o&&nt(u,k),{placement:"bottom",maxHeight:t};break;case"top":if(_>=d)return{placement:"top",maxHeight:t};if(x>=d&&!a)return o&&it(u,S,E),{placement:"top",maxHeight:t};if(!a&&x>=r||a&&_>=r){var P=t;return(!a&&x>=r||a&&_>=r)&&(P=a?_-b:x-b),o&&it(u,S,E),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}var ft=function(e){return"auto"===e?"bottom":e},ht=Object(i.createContext)({getPortalPlacement:null}),dt=function(e){Object(Be.a)(n,e);var t=Xe(n);function n(){var e;Object(Fe.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,o=n.menuPlacement,a=n.menuPosition,s=n.menuShouldScrollIntoView,u=n.theme;if(t){var l="fixed"===a,c=ct({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!l,isFixedPosition:l,theme:u}),f=e.context.getPortalPlacement;f&&f(c),e.setState(c)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||ft(t);return He(He({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return Object(Ne.a)(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(i.Component);dt.contextType=ht;var pt=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},gt=pt,mt=pt,vt=function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.innerProps;return Pe("div",Object(r.a)({css:o("noOptionsMessage",e),className:i({"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)};vt.defaultProps={children:"No options"};var yt=function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.innerProps;return Pe("div",Object(r.a)({css:o("loadingMessage",e),className:i({"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};yt.defaultProps={children:"Loading..."};var bt,_t=function(e){Object(Be.a)(n,e);var t=Xe(n);function n(){var e;Object(Fe.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==ft(e.props.menuPlacement)&&e.setState({placement:n})},e}return Object(Ne.a)(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,i=e.className,o=e.controlElement,a=e.cx,s=e.innerProps,u=e.menuPlacement,l=e.menuPosition,c=e.getStyles,f="fixed"===l;if(!t&&!f||!o)return null;var h=this.state.placement||ft(u),d=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(o),p=f?0:window.pageYOffset,g={offset:d[h]+p,position:l,rect:d},m=Pe("div",Object(r.a)({css:c("menuPortal",g),className:a({"menu-portal":!0},i)},s),n);return Pe(ht.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?Object($e.createPortal)(m,t):m)}}]),n}(i.Component);var wt,xt,Ot={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},kt=function(e){var t=e.size,n=Object(Le.a)(e,["size"]);return Pe("svg",Object(r.a)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Ot},n))},St=function(e){return Pe(kt,Object(r.a)({size:20},e),Pe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Et=function(e){return Pe(kt,Object(r.a)({size:20},e),Pe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ct=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},At=Ct,Pt=Ct,jt=function(){var e=je.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(bt||(wt=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],xt||(xt=wt.slice(0)),bt=Object.freeze(Object.defineProperties(wt,{raw:{value:Object.freeze(xt)}})))),Tt=function(e){var t=e.delay,n=e.offset;return Pe("span",{css:je({animation:"".concat(jt," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Mt=function(e){var t=e.className,n=e.cx,i=e.getStyles,o=e.innerProps,a=e.isRtl;return Pe("div",Object(r.a)({css:i("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},o),Pe(Tt,{delay:0,offset:a}),Pe(Tt,{delay:160,offset:!0}),Pe(Tt,{delay:320,offset:!a}))};Mt.defaultProps={size:4};var Rt=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},Lt=function(e){var t=e.children,n=e.innerProps;return Pe("div",n,t)},It=Lt,Dt=Lt;var zt=function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,o=e.data,a=e.getStyles,s=e.innerProps,u=e.isDisabled,l=e.removeProps,c=e.selectProps,f=r.Container,h=r.Label,d=r.Remove;return Pe(Re,null,(function(r){var p=r.css,g=r.cx;return Pe(f,{data:o,innerProps:He({className:g(p(a("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":u},n))},s),selectProps:c},Pe(h,{data:o,innerProps:{className:g(p(a("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:c},t),Pe(d,{data:o,innerProps:He({className:g(p(a("multiValueRemove",e)),i({"multi-value__remove":!0},n))},l),selectProps:c}))}))};zt.defaultProps={cropWithEllipsis:!0};var Ft={ClearIndicator:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.innerProps;return Pe("div",Object(r.a)({css:o("clearIndicator",e),className:i({indicator:!0,"clear-indicator":!0},n)},a),t||Pe(St,null))},Control:function(e){var t=e.children,n=e.cx,i=e.getStyles,o=e.className,a=e.isDisabled,s=e.isFocused,u=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return Pe("div",Object(r.a)({ref:u,css:i("control",e),className:n({control:!0,"control--is-disabled":a,"control--is-focused":s,"control--menu-is-open":c},o)},l),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.innerProps;return Pe("div",Object(r.a)({css:o("dropdownIndicator",e),className:i({indicator:!0,"dropdown-indicator":!0},n)},a),t||Pe(Et,null))},DownChevron:Et,CrossIcon:St,Group:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.Heading,s=e.headingProps,u=e.innerProps,l=e.label,c=e.theme,f=e.selectProps;return Pe("div",Object(r.a)({css:o("group",e),className:i({group:!0},n)},u),Pe(a,Object(r.a)({},s,{selectProps:f,theme:c,getStyles:o,cx:i}),l),Pe("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,i=e.className,o=Qe(e);o.data;var a=Object(Le.a)(o,["data"]);return Pe("div",Object(r.a)({css:t("groupHeading",e),className:n({"group-heading":!0},i)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,i=e.cx,o=e.innerProps,a=e.getStyles;return Pe("div",Object(r.a)({css:a("indicatorsContainer",e),className:i({indicators:!0},n)},o),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,i=e.getStyles,o=e.innerProps;return Pe("span",Object(r.a)({},o,{css:i("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,i=e.getStyles,o=Qe(e),a=o.innerRef,s=o.isDisabled,u=o.isHidden,l=Object(Le.a)(o,["innerRef","isDisabled","isHidden"]);return Pe("div",{css:i("input",e)},Pe(ze.a,Object(r.a)({className:n({input:!0},t),inputRef:a,inputStyle:Rt(u),disabled:s},l)))},LoadingIndicator:Mt,Menu:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.innerRef,s=e.innerProps;return Pe("div",Object(r.a)({css:o("menu",e),className:i({menu:!0},n),ref:a},s),t)},MenuList:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.innerProps,s=e.innerRef,u=e.isMulti;return Pe("div",Object(r.a)({css:o("menuList",e),className:i({"menu-list":!0,"menu-list--is-multi":u},n),ref:s},a),t)},MenuPortal:_t,LoadingMessage:yt,NoOptionsMessage:vt,MultiValue:zt,MultiValueContainer:It,MultiValueLabel:Dt,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Pe("div",n,t||Pe(St,{size:14}))},Option:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.isDisabled,s=e.isFocused,u=e.isSelected,l=e.innerRef,c=e.innerProps;return Pe("div",Object(r.a)({css:o("option",e),className:i({option:!0,"option--is-disabled":a,"option--is-focused":s,"option--is-selected":u},n),ref:l},c),t)},Placeholder:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.innerProps;return Pe("div",Object(r.a)({css:o("placeholder",e),className:i({placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.innerProps,s=e.isDisabled,u=e.isRtl;return Pe("div",Object(r.a)({css:o("container",e),className:i({"--is-disabled":s,"--is-rtl":u},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,i=e.cx,o=e.getStyles,a=e.isDisabled,s=e.innerProps;return Pe("div",Object(r.a)({css:o("singleValue",e),className:i({"single-value":!0,"single-value--is-disabled":a},n)},s),t)},ValueContainer:function(e){var t=e.children,n=e.className,i=e.cx,o=e.innerProps,a=e.isMulti,s=e.getStyles,u=e.hasValue;return Pe("div",Object(r.a)({css:s("valueContainer",e),className:i({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":u},n)},o),t)}},Nt=n(18);function Bt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Vt=function(e,t){var n;void 0===t&&(t=Bt);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};for(var $t={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ut=function(e){return Pe("span",Object(r.a)({css:$t},e))},Wt={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"select-option":return"option ".concat(r,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=void 0===n?{}:n,i=e.options,o=e.label,a=void 0===o?"":o,s=e.selectValue,u=e.isDisabled,l=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(a," focused, ").concat(c(s,r),".");if("menu"===t){var f=u?" disabled":"",h="".concat(l?"selected":"focused").concat(f);return"option ".concat(a," ").concat(h,", ").concat(c(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Ht=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,a=e.focusableOptions,s=e.isFocused,u=e.selectValue,l=e.selectProps,c=l.ariaLiveMessages,f=l.getOptionLabel,h=l.inputValue,d=l.isMulti,p=l.isOptionDisabled,g=l.isSearchable,m=l.menuIsOpen,v=l.options,y=l.screenReaderStatus,b=l.tabSelectsValue,_=l["aria-label"],w=l["aria-live"],x=Object(i.useMemo)((function(){return He(He({},Wt),c||{})}),[c]),O=Object(i.useMemo)((function(){var e,n="";if(t&&x.onChange){var r=t.option,i=t.removedValue,o=t.value,a=i||r||(e=o,Array.isArray(e)?null:e),s=He({isDisabled:a&&p(a),label:a?f(a):""},t);n=x.onChange(s)}return n}),[t,p,f,x]),k=Object(i.useMemo)((function(){var e="",t=n||r,i=!!(n&&u&&u.includes(n));if(t&&x.onFocus){var o={focused:t,label:f(t),isDisabled:p(t),isSelected:i,options:v,context:t===n?"menu":"value",selectValue:u};e=x.onFocus(o)}return e}),[n,r,f,p,x,v,u]),S=Object(i.useMemo)((function(){var e="";if(m&&v.length&&x.onFilter){var t=y({count:a.length});e=x.onFilter({inputValue:h,resultsMessage:t})}return e}),[a,h,m,x,v,y]),E=Object(i.useMemo)((function(){var e="";if(x.guidance){var t=r?"value":m?"menu":"input";e=x.guidance({"aria-label":_,context:t,isDisabled:n&&p(n),isMulti:d,isSearchable:g,tabSelectsValue:b})}return e}),[_,n,r,d,p,g,m,x,b]),C="".concat(k," ").concat(S," ").concat(E);return Pe(Ut,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},s&&Pe(o.a.Fragment,null,Pe("span",{id:"aria-selection"},O),Pe("span",{id:"aria-context"},C)))},Gt=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],qt=new RegExp("["+Gt.map((function(e){return e.letters})).join("")+"]","g"),Xt={},Zt=0;Zt<Gt.length;Zt++)for(var Kt=Gt[Zt],Yt=0;Yt<Kt.letters.length;Yt++)Xt[Kt.letters[Yt]]=Kt.base;var Jt=function(e){return e.replace(qt,(function(e){return Xt[e]}))},Qt=Vt(Jt),en=function(e){return e.replace(/^\s+|\s+$/g,"")},tn=function(e){return"".concat(e.label," ").concat(e.value)};function nn(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=Object(Le.a)(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Pe("input",Object(r.a)({ref:t},n,{css:je({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var rn=["boxSizing","height","overflow","paddingRight","position"],on={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function an(e){e.preventDefault()}function sn(e){e.stopPropagation()}function un(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function ln(){return"ontouchstart"in window||navigator.maxTouchPoints}var cn=!("undefined"===typeof window||!window.document||!window.document.createElement),fn=0,hn={capture:!1,passive:!1};var dn=function(){return document.activeElement&&document.activeElement.blur()},pn={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function gn(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,a=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,s=Object(i.useRef)(!1),u=Object(i.useRef)(!1),l=Object(i.useRef)(0),c=Object(i.useRef)(null),f=Object(i.useCallback)((function(e,t){if(null!==c.current){var i=c.current,l=i.scrollTop,f=i.scrollHeight,h=i.clientHeight,d=c.current,p=t>0,g=f-h-l,m=!1;g>t&&s.current&&(r&&r(e),s.current=!1),p&&u.current&&(a&&a(e),u.current=!1),p&&t>g?(n&&!s.current&&n(e),d.scrollTop=f,m=!0,s.current=!0):!p&&-t>l&&(o&&!u.current&&o(e),d.scrollTop=0,m=!0,u.current=!0),m&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[]),h=Object(i.useCallback)((function(e){f(e,e.deltaY)}),[f]),d=Object(i.useCallback)((function(e){l.current=e.changedTouches[0].clientY}),[]),p=Object(i.useCallback)((function(e){var t=l.current-e.changedTouches[0].clientY;f(e,t)}),[f]),g=Object(i.useCallback)((function(e){if(e){var t=!!lt&&{passive:!1};"function"===typeof e.addEventListener&&e.addEventListener("wheel",h,t),"function"===typeof e.addEventListener&&e.addEventListener("touchstart",d,t),"function"===typeof e.addEventListener&&e.addEventListener("touchmove",p,t)}}),[p,d,h]),m=Object(i.useCallback)((function(e){e&&("function"===typeof e.removeEventListener&&e.removeEventListener("wheel",h,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchstart",d,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchmove",p,!1))}),[p,d,h]);return Object(i.useEffect)((function(){if(t){var e=c.current;return g(e),function(){m(e)}}}),[t,g,m]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,o=Object(i.useRef)({}),a=Object(i.useRef)(null),s=Object(i.useCallback)((function(e){if(cn){var t=document.body,n=t&&t.style;if(r&&rn.forEach((function(e){var t=n&&n[e];o.current[e]=t})),r&&fn<1){var i=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+i||0;Object.keys(on).forEach((function(e){var t=on[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&ln()&&(t.addEventListener("touchmove",an,hn),e&&(e.addEventListener("touchstart",un,hn),e.addEventListener("touchmove",sn,hn))),fn+=1}}),[]),u=Object(i.useCallback)((function(e){if(cn){var t=document.body,n=t&&t.style;fn=Math.max(fn-1,0),r&&fn<1&&rn.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&ln()&&(t.removeEventListener("touchmove",an,hn),e&&(e.removeEventListener("touchstart",un,hn),e.removeEventListener("touchmove",sn,hn)))}}),[]);return Object(i.useEffect)((function(){if(t){var e=a.current;return s(e),function(){u(e)}}}),[t,s,u]),function(e){a.current=e}}({isEnabled:n});return Pe(o.a.Fragment,null,n&&Pe("div",{onClick:dn,css:pn}),t((function(e){a(e),s(e)})))}var mn={clearIndicator:Pt,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:At,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:mt,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return t={label:"menu"},Object(Ve.a)(t,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),Object(Ve.a)(t,"backgroundColor",a.neutral0),Object(Ve.a)(t,"borderRadius",i),Object(Ve.a)(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Object(Ve.a)(t,"marginBottom",o.menuGutter),Object(Ve.a)(t,"marginTop",o.menuGutter),Object(Ve.a)(t,"position","absolute"),Object(Ve.a)(t,"width","100%"),Object(Ve.a)(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:gt,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?a.primary:a.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var vn,yn={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},bn={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ot(),captureMenuScroll:!ot(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=He({ignoreCase:!0,ignoreAccents:!0,stringify:tn,trim:!0,matchFrom:"any"},vn),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,u=a?en(t):t,l=a?en(o(e)):o(e);return r&&(u=u.toLowerCase(),l=l.toLowerCase()),i&&(u=Qt(u),l=Jt(l)),"start"===s?l.substr(0,u.length)===u:l.indexOf(u)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(s){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function _n(e,t,n,r){return{type:"option",data:t,isDisabled:En(e,t,n),isSelected:Cn(e,t,n),label:kn(e,t),value:Sn(e,t),index:r}}function wn(e,t){return e.options.map((function(n,r){if(n.options){var i=n.options.map((function(n,r){return _n(e,n,t,r)})).filter((function(t){return On(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=_n(e,n,t,r);return On(e,o)?o:void 0})).filter((function(e){return!!e}))}function xn(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Object(Nt.a)(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function On(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!Pn(e)||!o)&&An(e,{label:a,value:s,data:i},r)}var kn=function(e,t){return e.getOptionLabel(t)},Sn=function(e,t){return e.getOptionValue(t)};function En(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Cn(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Sn(e,t);return n.some((function(t){return Sn(e,t)===r}))}function An(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Pn=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},jn=1,Tn=function(e){Object(Be.a)(n,e);var t=Xe(n);function n(e){var r;return Object(Fe.a)(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,o=n.name;t.name=o,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,i=r.props,o=i.closeMenuOnSelect,a=i.isMulti;r.onInputChange("",{action:"set-value"}),o&&(r.setState({inputIsHiddenAfterUpdate:!a}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,o=t.name,a=r.state.selectValue,s=i&&r.isOptionSelected(e,a),u=r.isOptionDisabled(e,a);if(s){var l=r.getOptionValue(e);r.setValue(a.filter((function(e){return r.getOptionValue(e)!==l})),"deselect-option",e)}else{if(u)return void r.ariaOnChange(e,{action:"select-option",name:o});i?r.setValue([].concat(Object(Nt.a)(a),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),o=n.filter((function(e){return r.getOptionValue(e)!==i})),a=t?o:o[0]||null;r.onChange(a,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(r.props.isMulti?[]:null,{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),o=e?i:i[0]||null;r.onChange(o,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ye.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return kn(r.props,e)},r.getOptionValue=function(e){return Sn(r.props,e)},r.getStyles=function(e,t){var n=mn[e](t);n.boxSizing="border-box";var i=r.props.styles[e];return i?i(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,He(He({},Ft),e.components);var e},r.buildCategorizedOptions=function(){return wn(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return xn(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:He({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},r.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!r.props.isDisabled){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault(),e.stopPropagation()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.stopPropagation(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"===typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&et(e.target)&&r.props.onMenuClose():"function"===typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),o=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||o>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(t,{action:"input-change"}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur"}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return Pn(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,u=t.isDisabled,l=t.menuIsOpen,c=t.onKeyDown,f=t.tabSelectsValue,h=t.openMenuOnFocus,d=r.state,p=d.focusedOption,g=d.focusedValue,m=d.selectValue;if(!u&&("function"!==typeof c||(c(e),!e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;r.focusValue("previous");break;case"ArrowRight":if(!n||a)return;r.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(g)r.removeValue(g);else{if(!i)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!l||!f||!p||h&&r.isOptionSelected(p,m))return;r.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(l){if(!p)return;if(r.isComposing)return;r.selectOption(p);break}return;case"Escape":l?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close"}),r.onMenuClose()):s&&o&&r.clearValue();break;case" ":if(a)return;if(!l){r.openMenu("first");break}if(!p)return;r.selectOption(p);break;case"ArrowUp":l?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":l?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!l)return;r.focusOption("pageup");break;case"PageDown":if(!l)return;r.focusOption("pagedown");break;case"Home":if(!l)return;r.focusOption("first");break;case"End":if(!l)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++jn),r.state.selectValue=Je(e.value),r}return Object(Ne.a)(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?nt(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&nt(e,Math.max(t.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(yn):He(He({},yn),this.props.theme):yn}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,i=this.selectOption,o=this.setValue,a=this.props,s=a.isMulti,u=a.isRtl,l=a.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:u,options:l,selectOption:i,selectProps:a,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return En(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Cn(this.props,e,t)}},{key:"filterOption",value:function(e,t){return An(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,a=e.inputValue,s=e.tabIndex,u=e.form,l=this.getComponents().Input,c=this.state.inputIsHidden,f=this.commonProps,h=i||this.getElementId("input"),d={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return n?o.a.createElement(l,Object(r.a)({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:h,innerRef:this.getInputRef,isDisabled:t,isHidden:c,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:u,type:"text",value:a},d)):o.a.createElement(nn,Object(r.a)({id:h,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ze,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:s,form:u,value:""},d))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,i=t.MultiValueContainer,a=t.MultiValueLabel,s=t.MultiValueRemove,u=t.SingleValue,l=t.Placeholder,c=this.commonProps,f=this.props,h=f.controlShouldRenderValue,d=f.isDisabled,p=f.isMulti,g=f.inputValue,m=f.placeholder,v=this.state,y=v.selectValue,b=v.focusedValue,_=v.isFocused;if(!this.hasValue()||!h)return g?null:o.a.createElement(l,Object(r.a)({},c,{key:"placeholder",isDisabled:d,isFocused:_}),m);if(p)return y.map((function(t,u){var l=t===b;return o.a.createElement(n,Object(r.a)({},c,{components:{Container:i,Label:a,Remove:s},isFocused:l,isDisabled:d,key:"".concat(e.getOptionValue(t)).concat(u),index:u,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(g)return null;var w=y[0];return o.a.createElement(u,Object(r.a)({},c,{data:w,isDisabled:d}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,a=n.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||a)return null;var u={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return o.a.createElement(e,Object(r.a)({},t,{innerProps:u,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,a=n.isLoading,s=this.state.isFocused;if(!e||!a)return null;return o.a.createElement(e,Object(r.a)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var i=this.commonProps,a=this.props.isDisabled,s=this.state.isFocused;return o.a.createElement(n,Object(r.a)({},i,{isDisabled:a,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,i=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return o.a.createElement(e,Object(r.a)({},t,{innerProps:a,isDisabled:n,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,i=t.GroupHeading,a=t.Menu,s=t.MenuList,u=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,f=t.Option,h=this.commonProps,d=this.state.focusedOption,p=this.props,g=p.captureMenuScroll,m=p.inputValue,v=p.isLoading,y=p.loadingMessage,b=p.minMenuHeight,_=p.maxMenuHeight,w=p.menuIsOpen,x=p.menuPlacement,O=p.menuPosition,k=p.menuPortalTarget,S=p.menuShouldBlockScroll,E=p.menuShouldScrollIntoView,C=p.noOptionsMessage,A=p.onMenuScrollToTop,P=p.onMenuScrollToBottom;if(!w)return null;var j,T=function(t,n){var i=t.type,a=t.data,s=t.isDisabled,u=t.isSelected,l=t.label,c=t.value,p=d===a,g=s?void 0:function(){return e.onOptionHover(a)},m=s?void 0:function(){return e.selectOption(a)},v="".concat(e.getElementId("option"),"-").concat(n),y={id:v,onClick:m,onMouseMove:g,onMouseOver:g,tabIndex:-1};return o.a.createElement(f,Object(r.a)({},h,{innerProps:y,data:a,isDisabled:s,isSelected:u,key:v,label:l,type:i,value:c,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())j=this.getCategorizedOptions().map((function(t){if("group"===t.type){var a=t.data,s=t.options,u=t.index,l="".concat(e.getElementId("group"),"-").concat(u),c="".concat(l,"-heading");return o.a.createElement(n,Object(r.a)({},h,{key:l,data:a,options:s,Heading:i,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return T(e,"".concat(u,"-").concat(e.index))})))}if("option"===t.type)return T(t,"".concat(t.index))}));else if(v){var M=y({inputValue:m});if(null===M)return null;j=o.a.createElement(l,h,M)}else{var R=C({inputValue:m});if(null===R)return null;j=o.a.createElement(c,h,R)}var L={minMenuHeight:b,maxMenuHeight:_,menuPlacement:x,menuPosition:O,menuShouldScrollIntoView:E},I=o.a.createElement(dt,Object(r.a)({},h,L),(function(t){var n=t.ref,i=t.placerProps,u=i.placement,l=i.maxHeight;return o.a.createElement(a,Object(r.a)({},h,L,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:v,placement:u}),o.a.createElement(gn,{captureEnabled:g,onTopArrive:A,onBottomArrive:P,lockEnabled:S},(function(t){return o.a.createElement(s,Object(r.a)({},h,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:v,maxHeight:l,focusedOption:d}),j)})))}));return k||"fixed"===O?o.a.createElement(u,Object(r.a)({},h,{appendTo:k,controlElement:this.controlRef,menuPlacement:x,menuPosition:O}),I):I}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,a=t.name,s=this.state.selectValue;if(a&&!r){if(i){if(n){var u=s.map((function(t){return e.getOptionValue(t)})).join(n);return o.a.createElement("input",{name:a,type:"hidden",value:u})}var l=s.length>0?s.map((function(t,n){return o.a.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):o.a.createElement("input",{name:a,type:"hidden"});return o.a.createElement("div",null,l)}var c=s[0]?this.getOptionValue(s[0]):"";return o.a.createElement("input",{name:a,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,i=t.focusedOption,a=t.focusedValue,s=t.isFocused,u=t.selectValue,l=this.getFocusableOptions();return o.a.createElement(Ht,Object(r.a)({},e,{ariaSelection:n,focusedOption:i,focusedValue:a,isFocused:s,selectValue:u,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,i=e.SelectContainer,a=e.ValueContainer,s=this.props,u=s.className,l=s.id,c=s.isDisabled,f=s.menuIsOpen,h=this.state.isFocused,d=this.commonProps=this.getCommonProps();return o.a.createElement(i,Object(r.a)({},d,{className:u,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),o.a.createElement(t,Object(r.a)({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:f}),o.a.createElement(a,Object(r.a)({},d,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),o.a.createElement(n,Object(r.a)({},d,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=e.options,a=e.value,s=e.menuIsOpen,u=e.inputValue,l={};if(n&&(a!==n.value||o!==n.options||s!==n.menuIsOpen||u!==n.inputValue)){var c=Je(a),f=s?function(e,t){return xn(wn(e,t))}(e,c):[],h=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,c):null;l={selectValue:c,focusedOption:function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,f),focusedValue:h,clearFocusValueOnUpdate:!1}}var d=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{};return He(He(He({},l),d),{},{prevProps:e})}}]),n}(i.Component);Tn.defaultProps=bn;var Mn={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Rn=(n(383),n(388),n(390),n(107),n(215),i.Component,function(e){var t,n;return n=t=function(t){Object(Be.a)(i,t);var n=Xe(i);function i(){var e;Object(Fe.a)(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callProp("onChange",t,n),e.setState({value:t})},e.onInputChange=function(t,n){var r=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}return Object(Ne.a)(i,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"===typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props;n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue;var i=Object(Le.a)(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return o.a.createElement(e,Object(r.a)({},i,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),i}(i.Component),t.defaultProps=Mn,n}(Tn));t.a=Rn},function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n(8),i=n(5),o=n(4),a=n(142),s=n.n(a),u={mousedown:1,mousemove:2,mouseup:4};!function(e){var t=e.prototype.handler;e.prototype.handler=function(e){var n=this.store;e.button>0&&(function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(function(t){return t.pointerId===e.pointerId}))||n.push(e)),t.call(this,e)}}(s.a.PointerEventInput),s.a.MouseInput.prototype.handler=function(e){var t=u[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};var l=s.a.Manager,c=s.a,f=c?[[c.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[c.Rotate,{enable:!1}],[c.Pinch,{enable:!1}],[c.Swipe,{enable:!1}],[c.Pan,{threshold:0,enable:!1}],[c.Press,{enable:!1}],[c.Tap,{event:"doubletap",taps:2,enable:!1}],[c.Tap,{event:"anytap",enable:!1}],[c.Tap,{enable:!1}]]:null,h={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},d={doubletap:["tap"]},p={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},g=["keydown","keyup"],m=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],v=["wheel","mousewheel","DOMMouseScroll"],y={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},b={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},_=n(115),w=-1!==_.b.indexOf("firefox"),x=v,O="wheel",k=4.000244140625,S=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},o),this.events=x.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent,!!_.a&&{passive:!1})}))}return Object(o.a)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===O&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){if(this.options.enable){var t=e.deltaY;_.c.WheelEvent&&(w&&e.deltaMode===_.c.WheelEvent.DOM_DELTA_PIXEL&&(t/=_.c.devicePixelRatio),e.deltaMode===_.c.WheelEvent.DOM_DELTA_LINE&&(t*=40));var n={x:e.clientX,y:e.clientY};0!==t&&t%k===0&&(t=Math.floor(t/k)),e.shiftKey&&t&&(t*=.25),this._onWheel(e,-t,n)}}},{key:"_onWheel",value:function(e,t,n){this.callback({type:O,center:n,delta:t,srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}(),E=m,C="pointermove",A="pointerover",P="pointerout",j="pointerleave",T=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,e),this.element=t,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},o),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=E.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return Object(o.a)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===C&&(this.enableMoveEvent=t),e===A&&(this.enableOverEvent=t),e===P&&(this.enableOutEvent=t),e===j&&(this.enableLeaveEvent=t)}},{key:"handleEvent",value:function(e){this.handleOverEvent(e),this.handleOutEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this.callback({type:A,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this.callback({type:P,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this.callback({type:j,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this.callback({type:C,srcEvent:e,pointerType:"mouse",target:e.target});break;case"mouseup":this.pressed=!1}}}]),e}(),M=g,R="keydown",L="keyup",I=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},o),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=M.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),t.tabIndex=o.tabIndex||0,t.style.outline="none",this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return Object(o.a)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===R&&(this.enableDownEvent=t),e===L&&(this.enableUpEvent=t)}},{key:"handleEvent",value:function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:R,srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:L,srcEvent:e,key:e.key,target:e.target}))}}]),e}(),D="contextmenu",z=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),t.addEventListener("contextmenu",this.handleEvent)}return Object(o.a)(e,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){e===D&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){this.options.enable&&this.callback({type:D,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}(),F=n(19),N={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var B={srcElement:"root",priority:0},V=function(){function e(t){Object(i.a)(this,e),this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return Object(o.a)(e,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&("object"!==Object(F.a)(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},B,n):B;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var u={type:e,handler:t,srcElement:n.srcElement,priority:n.priority};r&&(u.once=!0),i&&(u.passive=!0),o.push(u),this._active=this._active||!u.passive;for(var l=s.length-1;l>=0&&!(s[l].priority>=u.priority);)l--;s.splice(l+1,0,u)}},{key:"remove",value:function(e,t){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===e&&o.handler===t){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(e){return!e.passive}))}},{key:"handleEvent",value:function(e){if(!this.isEmpty()){for(var t=this._normalizeEvent(e),n=e.srcEvent.target;n&&n!==t.rootElement;){if(this._emit(t,n),t.handled)return;n=n.parentNode}this._emit(t,"root")}}},{key:"_emit",value:function(e,t){var n=this.handlersByElement.get(t);if(n){for(var r=!1,i=function(){e.handled=!0},o=function(){e.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var u=n[s],l=u.type,c=u.handler,f=u.once;if(c(Object.assign({},e,{type:l,stopPropagation:i,stopImmediatePropagation:o})),f&&a.push(n[s]),r)break}for(var h=0;h<a.length;h++){var d=a[h],p=d.type,g=d.handler;this.remove(p,g)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.element;return Object.assign({},e,function(e){var t=N[e.srcEvent.type];if(!t)return null;var n=e.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===t||2===t&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===t?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===t&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(e),function(e,t){var n=e.srcEvent;if(!e.center&&!Number.isFinite(n.clientX))return null;var r=e.center||{x:n.clientX,y:n.clientY},i=t.getBoundingClientRect(),o=i.width/t.offsetWidth,a=i.height/t.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-t.clientLeft)/o,y:(r.y-i.top-t.clientTop)/a}}}(e,t),{handled:!1,rootElement:t})}}]),e}();function $(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W={events:null,recognizers:null,recognizerOptions:{},Manager:l,touchAction:"none",tabIndex:0},H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e),this.options=Object.assign({},W,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var r=n.events;r&&this.on(r)}return Object(o.a)(e,[{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var n=this.options,i=n.Manager;for(var o in this.manager=new i(e,{touchAction:n.touchAction,recognizers:n.recognizers||f}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(h).forEach((function(e){var n=t.manager.get(e);n&&h[e].forEach((function(e){n.recognizeWith(e)}))})),n.recognizerOptions){var a=this.manager.get(o);if(a){var s=n.recognizerOptions[o];delete s.enable,a.set(s)}}this.wheelInput=new S(e,this._onOtherEvent,{enable:!1}),this.moveInput=new T(e,this._onOtherEvent,{enable:!1}),this.keyInput=new I(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new z(e,this._onOtherEvent,{enable:!1});var u,l=$(this.events);try{for(l.s();!(u=l.n()).done;){var c=Object(r.a)(u.value,2),d=c[0],p=c[1];p.isEmpty()||(this._toggleRecognizer(p.recognizerName,!0),this.manager.on(d,p.handleEvent))}}catch(g){l.e(g)}finally{l.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,n){this._addEventHandler(e,t,n,!1)}},{key:"once",value:function(e,t,n){this._addEventHandler(e,t,n,!0)}},{key:"watch",value:function(e,t,n){this._addEventHandler(e,t,n,!1,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var n=this.manager;if(n){var r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});var i=d[e];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);t?(o.requireFailure(e),r.dropRequireFailure(i)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,n,r,i){if("string"===typeof e){var o=this.manager,a=this.events,s=b[e]||e,u=a.get(s);u||(u=new V(this),a.set(s,u),u.recognizerName=y[s]||s,o&&o.on(s,u.handleEvent)),u.add(e,t,n,r,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var l in n=t,e)this._addEventHandler(l,e[l],n,r,i)}},{key:"_removeEventHandler",value:function(e,t){if("string"===typeof e){var n=this.events,r=b[e]||e,i=n.get(r);if(i&&(i.remove(e,t),i.isEmpty())){var o,a=i.recognizerName,s=!1,u=$(n.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;if(l.recognizerName===a&&!l.isEmpty()){s=!0;break}}}catch(f){u.e(f)}finally{u.f()}s||this._toggleRecognizer(a,!1)}}else for(var c in e)this._removeEventHandler(c,e[c])}},{key:"_onBasicInput",value:function(e){var t=e.srcEvent,n=p[t.type];n&&this.manager.emit(n,e)}},{key:"_onOtherEvent",value:function(e){this.manager.emit(e.type,e)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return Le}));var r=n(123);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}var o=n(21),a=n.n(o),s=n(14),u=n(38),l=n(64),c=n(42),f=n(0),h=function(e){return e instanceof HTMLElement},d="blur",p="change",g="input",m="onBlur",v="onChange",y="onSubmit",b="onTouched",_="all",w="select",x="undefined",O="max",k="min",S="maxLength",E="minLength",C="pattern",A="required",P="validate";function j(e,t,n){var r=e.ref;h(r)&&n&&(r.addEventListener(t?p:g,n),r.addEventListener(d,n))}var T=function(e){return null==e},M=function(e){return"object"===typeof e},R=function(e){return!T(e)&&!Array.isArray(e)&&M(e)&&!(e instanceof Date)},L=function(e){return/^\w*$/.test(e)},I=function(e){return e.filter(Boolean)},D=function(e){return I(e.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."))};function z(e,t,n){for(var r=-1,i=L(t)?[t]:D(t),o=i.length,a=o-1;++r<o;){var s=i[r],u=n;if(r!==a){var l=e[s];u=R(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)L(n)?t[n]=e[n]:z(t,n,e[n]);return t},N=function(e){return void 0===e},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=I(t.split(/[,[\].]+?/)).reduce((function(e,t){return T(e)?e:e[t]}),e);return N(r)||r===e?N(e[t])?n:e[t]:r},V=function(e,t){for(var n in e)if(B(t,n)){var r=e[n];if(r){if(r.ref.focus&&N(r.ref.focus()))break;if(r.options){r.options[0].ref.focus();break}}}},$=function(e,t){h(e)&&e.removeEventListener&&(e.removeEventListener(g,t),e.removeEventListener(p,t),e.removeEventListener(d,t))},U={isValid:!1,value:null},W=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.ref.checked?{isValid:!0,value:t.ref.value}:e}),U):U},H=function(e){return"radio"===e.type},G=function(e){return"file"===e.type},q=function(e){return"checkbox"===e.type},X=function(e){return e.type==="".concat(w,"-multiple")},Z={value:!1,isValid:!1},K={value:!0,isValid:!0},Y=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.ref.checked})).map((function(e){return e.ref.value}));return{value:t,isValid:!!t.length}}var n=e[0].ref,r=n.checked,i=n.value,o=n.attributes;return r?o&&!N(o.value)?N(i)||""===i?K:{value:i,isValid:!0}:K:Z}return Z};function J(e,t,n,r,i){var o,a=e.current[t];if(a){var s=a.ref,u=s.value,l=s.disabled,f=a.ref,h=a.valueAsNumber,d=a.valueAsDate,p=a.setValueAs;if(l&&r)return;return G(f)?f.files:H(f)?W(a.options).value:X(f)?(o=f.options,Object(c.a)(o).filter((function(e){return e.selected})).map((function(e){return e.value}))):q(f)?Y(a.options).value:i?u:h?""===u?NaN:+u:d?f.valueAsDate:p?p(u):u}if(n)return B(n.current,t)}function Q(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&Q(e.parentNode)}var ee=function(e){return R(e)&&!Object.keys(e).length},te=function(e){return"boolean"===typeof e};function ne(e,t){var n,r=L(t)?[t]:D(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=N(e)?r++:e[t[r++]];return e}(e,r),o=r[r.length-1];i&&delete i[o];for(var a=0;a<r.slice(0,-1).length;a++){var s=-1,u=void 0,l=r.slice(0,-(a+1)),c=l.length-1;for(a>0&&(n=e);++s<l.length;){var f=l[s];u=u?u[f]:e[f],c===s&&(R(u)&&ee(u)||Array.isArray(u)&&!u.filter((function(e){return R(e)&&!ee(e)||te(e)})).length)&&(n?delete n[f]:delete e[f]),n=u}}return e}var re=function(e,t){return e&&e.ref===t};function ie(e,t,n,r,i,o){var a=n.ref,s=n.ref.name,u=e.current[s];if(!i){var l=J(e,s,r);!N(l)&&z(r.current,s,l)}a.type&&u?H(a)||q(a)?Array.isArray(u.options)&&u.options.length?(I(u.options).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;(Q(e.ref)&&re(e,e.ref)||o)&&($(e.ref,t),ne(u.options,"[".concat(n,"]")))})),u.options&&!I(u.options).length&&delete e.current[s]):delete e.current[s]:(Q(a)&&re(u,a)||o)&&($(a,t),delete e.current[s]):delete e.current[s]}var oe=function(e){return T(e)||!M(e)};function ae(e,t){if(oe(e)||oe(t))return t;for(var n in t){var r=e[n],i=t[n];try{e[n]=R(r)&&R(i)||Array.isArray(r)&&Array.isArray(i)?ae(r,i):i}catch(o){}}return e}function se(e,t,n){if(oe(e)||oe(t)||e instanceof Date||t instanceof Date)return e===t;if(!Object(f.isValidElement)(e)){var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o],u=e[s];if(!n||"ref"!==s){var l=t[s];if((R(u)||Array.isArray(u))&&(R(l)||Array.isArray(l))?!se(u,l,n):u!==l)return!1}}}return!0}function ue(e,t,n,r,i){for(var o=-1;++o<e.length;){for(var a in e[o])Array.isArray(e[o][a])?(!n[o]&&(n[o]={}),n[o][a]=[],ue(e[o][a],B(t[o]||{},a,[]),n[o][a],n[o],a)):se(B(t[o]||{},a),e[o][a])?z(n[o]||{},a):n[o]=Object.assign(Object.assign({},n[o]),Object(l.a)({},a,!0));r&&!n.length&&delete r[i]}return n}var le=function(e,t,n){return ae(ue(e,t,n.slice(0,e.length)),ue(t,e,n.slice(0,e.length)))},ce=function(e){return"string"===typeof e},fe=function(e,t,n,r,i){var o={},a=function(t){(N(i)||(ce(i)?t.startsWith(i):Array.isArray(i)&&i.find((function(e){return t.startsWith(e)}))))&&(o[t]=J(e,t,void 0,r))};for(var s in e.current)a(s);return n?F(o):ae(t,F(o))},he=function(e){var t=e.errors,n=e.name,r=e.error,i=e.validFields,o=e.fieldsWithValidation,a=N(r),s=B(t,n);return a&&!!s||!a&&!se(s,r,!0)||a&&B(o,n)&&!B(i,n)},de=function(e){return e instanceof RegExp},pe=function(e){return R(e)&&!de(e)?e:{value:e,message:""}},ge=function(e){return"function"===typeof e},me=function(e){return ce(e)||Object(f.isValidElement)(e)};function ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(me(e)||te(e)&&!e)return{type:n,message:me(e)?e:"",ref:t}}var ye=function(e,t,n,r,i){return t?Object.assign(Object.assign({},n[e]),{types:Object.assign(Object.assign({},n[e]&&n[e].types?n[e].types:{}),Object(l.a)({},r,i||!0))}):{}},be=function(){var e=Object(u.a)(a.a.mark((function e(t,n,r,i){var o,u,l,c,f,h,d,p,g,m,v,y,b,_,w,x,j,M,L,I,D,z,F,N,B,V,$,U,G,X,Z,K,Q,ne,re,ie,oe,ae,se,ue,le,fe,he,be,_e,we;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.ref,u=r.ref.value,l=r.options,c=r.required,f=r.maxLength,h=r.minLength,d=r.min,p=r.max,g=r.pattern,m=r.validate,v=o.name,y={},b=H(o),_=q(o),w=b||_,x=""===u,j=ye.bind(null,v,n,y),M=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:E,a=e?t:n;y[v]=Object.assign({type:e?r:i,message:a,ref:o},j(e?r:i,a))},!c||!(!b&&!_&&(x||T(u))||te(u)&&!u||_&&!Y(l).isValid||b&&!W(l).isValid)){e.next=15;break}if(L=me(c)?{value:!!c,message:c}:pe(c),I=L.value,D=L.message,!I){e.next=15;break}if(y[v]=Object.assign({type:A,message:D,ref:w?((t.current[v].options||[])[0]||{}).ref:o},j(A,D)),n){e.next=15;break}return e.abrupt("return",y);case 15:if(T(d)&&T(p)||""===u){e.next=23;break}if(N=pe(p),B=pe(d),isNaN(u)?($=o.valueAsDate||new Date(u),ce(N.value)&&(z=$>new Date(N.value)),ce(B.value)&&(F=$<new Date(B.value))):(V=o.valueAsNumber||parseFloat(u),T(N.value)||(z=V>N.value),T(B.value)||(F=V<B.value)),!z&&!F){e.next=23;break}if(M(!!z,N.message,B.message,O,k),n){e.next=23;break}return e.abrupt("return",y);case 23:if(!ce(u)||x||!f&&!h){e.next=32;break}if(U=pe(f),G=pe(h),X=!T(U.value)&&u.length>U.value,Z=!T(G.value)&&u.length<G.value,!X&&!Z){e.next=32;break}if(M(X,U.message,G.message),n){e.next=32;break}return e.abrupt("return",y);case 32:if(!ce(u)||!g||x){e.next=38;break}if(K=pe(g),Q=K.value,ne=K.message,!de(Q)||Q.test(u)){e.next=38;break}if(y[v]=Object.assign({type:C,message:ne,ref:o},j(C,ne)),n){e.next=38;break}return e.abrupt("return",y);case 38:if(!m){e.next=71;break}if(re=J(t,v,i,!1,!0),ie=w&&l?l[0].ref:o,!ge(m)){e.next=52;break}return e.next=44,m(re);case 44:if(oe=e.sent,!(ae=ve(oe,ie))){e.next=50;break}if(y[v]=Object.assign(Object.assign({},ae),j(P,ae.message)),n){e.next=50;break}return e.abrupt("return",y);case 50:e.next=71;break;case 52:if(!R(m)){e.next=71;break}se={},ue=0,le=Object.entries(m);case 55:if(!(ue<le.length)){e.next=67;break}if(fe=Object(s.a)(le[ue],2),he=fe[0],be=fe[1],ee(se)||n){e.next=59;break}return e.abrupt("break",67);case 59:return e.next=61,be(re);case 61:_e=e.sent,(we=ve(_e,ie,he))&&(se=Object.assign(Object.assign({},we),j(he,we.message)),n&&(y[v]=se));case 64:ue++,e.next=55;break;case 67:if(ee(se)){e.next=71;break}if(y[v]=Object.assign({ref:ie},se),n){e.next=71;break}return e.abrupt("return",y);case 71:return e.abrupt("return",y);case 72:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),_e=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var i in n){var o=t+(R(n)?".".concat(i):"[".concat(i,"]"));oe(n[i])?r.push(o):e(o,n[i],r)}return r},we=function(e,t,n,r,i){var o=void 0;return n.add(t),ee(e)||(o=B(e,t),(R(o)||Array.isArray(o))&&_e(t,o).forEach((function(e){return n.add(e)}))),N(o)?i?r:B(r,t):o},xe=function(e){var t=e.isOnBlur,n=e.isOnChange,r=e.isOnTouch,i=e.isTouched,o=e.isReValidateOnBlur,a=e.isReValidateOnChange,s=e.isBlurEvent,u=e.isSubmitted;return!e.isOnAll&&(!u&&r?!(i||s):(u?o:t)?!s:!(u?a:n)||s)},Oe=function(e){return e.substring(0,e.indexOf("["))},ke=function(e,t){return RegExp("^".concat(t,"([|.)\\d+").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e)},Se=function(e,t){return Object(c.a)(e).some((function(e){return ke(t,e)}))},Ee=function(e){return e.type==="".concat(w,"-one")};function Ce(e,t){var n=new MutationObserver((function(){for(var n=0,r=Object.values(e.current);n<r.length;n++){var o=r[n];if(o&&o.options){var a,s=i(o.options);try{for(s.s();!(a=s.n()).done;){var u=a.value;u&&u.ref&&Q(u.ref)&&t(o)}}catch(l){s.e(l)}finally{s.f()}}else o&&Q(o.ref)&&t(o)}}));return n.observe(window.document,{childList:!0,subtree:!0}),n}var Ae=typeof window!==x&&typeof document!==x;function Pe(e){var t,n;if(oe(e)||Ae&&(e instanceof File||h(e)))return e;if(!["Set","Map","Object","Date","Array"].includes(null===(t=e.constructor)||void 0===t?void 0:t.name))return e;if(e instanceof Date)return n=new Date(e.getTime());if(e instanceof Set){n=new Set;var r,o=i(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.add(a)}}catch(f){o.e(f)}finally{o.f()}return n}if(e instanceof Map){n=new Map;var s,u=i(e.keys());try{for(u.s();!(s=u.n()).done;){var l=s.value;n.set(l,Pe(e.get(l)))}}catch(f){u.e(f)}finally{u.f()}return n}for(var c in n=Array.isArray(e)?[]:{},e)n[c]=Pe(e[c]);return n}var je=function(e){return{isOnSubmit:!e||e===y,isOnBlur:e===m,isOnChange:e===v,isOnAll:e===_,isOnTouch:e===b}},Te=function(e){return H(e)||q(e)},Me=typeof window===x,Re=Ae?"Proxy"in window:typeof Proxy!==x;function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mode,n=void 0===t?y:t,r=e.reValidateMode,o=void 0===r?v:r,p=e.resolver,g=e.context,m=e.defaultValues,b=void 0===m?{}:m,w=e.shouldFocusError,x=void 0===w||w,O=e.shouldUnregister,k=void 0===O||O,S=e.criteriaMode,E=Object(f.useRef)({}),C=Object(f.useRef)({}),A=Object(f.useRef)({}),P=Object(f.useRef)(new Set),M=Object(f.useRef)({}),D=Object(f.useRef)({}),$=Object(f.useRef)({}),U=Object(f.useRef)({}),W=Object(f.useRef)(b),Z=Object(f.useRef)(!1),K=Object(f.useRef)(!1),Y=Object(f.useRef)(),Q=Object(f.useRef)({}),te=Object(f.useRef)({}),re=Object(f.useRef)(g),ae=Object(f.useRef)(p),ue=Object(f.useRef)(new Set),de=Object(f.useRef)(je(n)),pe=de.current,me=pe.isOnSubmit,ve=pe.isOnTouch,ye=S===_,ke=Object(f.useState)({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!me,errors:{}}),Le=Object(s.a)(ke,2),Ie=Le[0],De=Le[1],ze=Object(f.useRef)({isDirty:!Re,dirtyFields:!Re,touched:!Re||ve,isValidating:!Re,isSubmitting:!Re,isValid:!Re}),Fe=Object(f.useRef)(Ie),Ne=Object(f.useRef)(),Be=Object(f.useRef)(je(o)).current,Ve=Be.isOnBlur,$e=Be.isOnChange;re.current=g,ae.current=p,Fe.current=Ie,Q.current=k?{}:ee(Q.current)?Pe(b):Q.current;var Ue=Object(f.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Z.current||(Fe.current=Object.assign(Object.assign({},Fe.current),e),De(Fe.current))}),[]),We=function(){return ze.current.isValidating&&Ue({isValidating:!0})},He=Object(f.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=n||he({errors:Fe.current.errors,error:t,name:e,validFields:U.current,fieldsWithValidation:$.current}),a=B(Fe.current.errors,e);t?(ne(U.current,e),o=o||!a||!se(a,t,!0),z(Fe.current.errors,e,t)):((B($.current,e)||ae.current)&&(z(U.current,e,!0),o=o||a),ne(Fe.current.errors,e)),(o&&!T(n)||!ee(r)||ze.current.isValidating)&&Ue(Object.assign(Object.assign(Object.assign({},r),ae.current?{isValid:!!i}:{}),{isValidating:!1}))}),[]),Ge=Object(f.useCallback)((function(e,t){var n=E.current[e],r=n.ref,i=n.options,o=Ae&&h(r)&&T(t)?"":t;H(r)?(i||[]).forEach((function(e){var t=e.ref;return t.checked=t.value===o})):G(r)&&!ce(o)?r.files=o:X(r)?Object(c.a)(r.options).forEach((function(e){return e.selected=o.includes(e.value)})):q(r)&&i?i.length>1?i.forEach((function(e){var t=e.ref;return t.checked=Array.isArray(o)?!!o.find((function(e){return e===t.value})):o===t.value})):i[0].ref.checked=!!o:r.value=o}),[]),qe=Object(f.useCallback)((function(e,t){if(ze.current.isDirty){var n=it();return e&&t&&z(n,e,t),!se(n,W.current)}return!1}),[]),Xe=Object(f.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ze.current.isDirty||ze.current.dirtyFields){var n=!se(B(W.current,e),J(E,e,Q)),r=B(Fe.current.dirtyFields,e),i=Fe.current.isDirty;n?z(Fe.current.dirtyFields,e,!0):ne(Fe.current.dirtyFields,e);var o={isDirty:qe(),dirtyFields:Fe.current.dirtyFields},a=ze.current.isDirty&&i!==o.isDirty||ze.current.dirtyFields&&r!==B(Fe.current.dirtyFields,e);return a&&t&&Ue(o),a?o:{}}return{}}),[]),Ze=Object(f.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:return e.next=6,be(E,ye,E.current[t],Q);case 6:return e.t0=t,r=e.sent[e.t0],He(t,r,n),e.abrupt("return",N(r));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[He,ye]),Ke=Object(f.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.current(it(),re.current,ye);case 2:if(n=e.sent,r=n.errors,i=Fe.current.isValid,!Array.isArray(t)){e.next=11;break}return o=t.map((function(e){var t=B(r,e);return t?z(Fe.current.errors,e,t):ne(Fe.current.errors,e),!t})).every(Boolean),Ue({isValid:ee(r),isValidating:!1}),e.abrupt("return",o);case 11:return s=B(r,t),He(t,s,i!==ee(r),{},ee(r)),e.abrupt("return",!s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[He,ye]),Ye=Object(f.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t||Object.keys(E.current),We(),!ae.current){e.next=4;break}return e.abrupt("return",Ke(n));case 4:if(!Array.isArray(n)){e.next=11;break}return!t&&(Fe.current.errors={}),e.next=8,Promise.all(n.map(function(){var e=Object(u.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t,null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return r=e.sent,Ue({isValidating:!1}),e.abrupt("return",r.every(Boolean));case 11:return e.next=13,Ze(n);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ke,Ze]),Je=Object(f.useCallback)((function(e,t,n){var r=n.shouldDirty,o=n.shouldValidate,a={};z(a,e,t);var s,u=i(_e(e,t));try{for(u.s();!(s=u.n()).done;){var l=s.value;E.current[l]&&(Ge(l,B(a,l)),r&&Xe(l),o&&Ye(l))}}catch(c){u.e(c)}finally{u.f()}}),[Ye,Ge,Xe]),Qe=Object(f.useCallback)((function(e,t,n){if(!k&&!oe(t)&&z(Q.current,e,Array.isArray(t)?Object(c.a)(t):Object.assign({},t)),E.current[e])Ge(e,t),n.shouldDirty&&Xe(e),n.shouldValidate&&Ye(e);else if(!oe(t)&&(Je(e,t,n),ue.current.has(e))){var r=Oe(e)||e;z(C.current,e,t),te.current[r](Object(l.a)({},r,B(C.current,r))),(ze.current.isDirty||ze.current.dirtyFields)&&n.shouldDirty&&(z(Fe.current.dirtyFields,e,le(t,B(W.current,e,[]),B(Fe.current.dirtyFields,e,[]))),Ue({isDirty:!se(Object.assign(Object.assign({},it()),Object(l.a)({},e,t)),W.current)}))}!k&&z(Q.current,e,t)}),[Xe,Ge,Je]),et=function(e){return K.current||P.current.has(e)||P.current.has((e.match(/\w+/)||[])[0])},tt=function(e){var t=!0;if(!ee(M.current))for(var n in M.current)e&&M.current[n].size&&!M.current[n].has(e)&&!M.current[n].has(Oe(e))||(D.current[n](),t=!1);return t};function nt(e,t,n){Qe(e,t,n||{}),et(e)&&Ue(),tt(e)}function rt(e){if(!k){var t,n=Pe(e),r=i(ue.current);try{for(r.s();!(t=r.n()).done;){var o=t.value;L(o)&&!n[o]&&(n=Object.assign(Object.assign({},n),Object(l.a)({},o,[])))}}catch(a){r.e(a)}finally{r.f()}return n}return e}function it(e){if(ce(e))return J(E,e,Q);if(Array.isArray(e)){var t,n={},r=i(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;z(n,o,J(E,o,Q))}}catch(a){r.e(a)}finally{r.f()}return n}return rt(fe(E,Pe(Q.current),k))}Y.current=Y.current?Y.current:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i,o,s,u,l,c,f,h,p,g,m,v,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,r=t.target,i=r.name,!(o=E.current[i])){e.next=32;break}if(l=n===d,c=xe(Object.assign({isBlurEvent:l,isReValidateOnChange:$e,isReValidateOnBlur:Ve,isTouched:!!B(Fe.current.touched,i),isSubmitted:Fe.current.isSubmitted},de.current)),f=Xe(i,!1),h=!ee(f)||!l&&et(i),l&&!B(Fe.current.touched,i)&&ze.current.touched&&(z(Fe.current.touched,i,!0),f=Object.assign(Object.assign({},f),{touched:Fe.current.touched})),!k&&q(r)&&z(Q.current,i,J(E,i)),!c){e.next=13;break}return!l&&tt(i),e.abrupt("return",(!ee(f)||h&&ee(f))&&Ue(f));case 13:if(We(),!ae.current){e.next=26;break}return e.next=17,ae.current(it(),re.current,ye);case 17:p=e.sent,g=p.errors,m=Fe.current.isValid,s=B(g,i),q(r)&&!s&&ae.current&&(v=Oe(i),(y=B(g,v,{})).type&&y.message&&(s=y),v&&(y||B(Fe.current.errors,v))&&(i=v)),u=ee(g),m!==u&&(h=!0),e.next=30;break;case 26:return e.next=28,be(E,ye,o,Q);case 28:e.t0=i,s=e.sent[e.t0];case 30:!l&&tt(i),He(i,s,h,f,u);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ot=Object(f.useCallback)(Object(u.a)(a.a.mark((function e(){var t,n,r,i,o,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=ee(E.current)?W.current:{},e.next=4,ae.current(Object.assign(Object.assign(Object.assign({},n),it()),t),re.current,ye);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:r=e.t0,i=r.errors,o=ee(i),Fe.current.isValid!==o&&Ue({isValid:o});case 11:case"end":return e.stop()}}),e)}))),[ye]),at=Object(f.useCallback)((function(e,t){ie(E,Y.current,e,Q,k,t),k&&(ne(U.current,e.ref.name),ne($.current,e.ref.name))}),[k]),st=Object(f.useCallback)((function(e){if(K.current)Ue();else{var t,n=i(P.current);try{for(n.s();!(t=n.n()).done;){if(t.value.startsWith(e)){Ue();break}}}catch(r){n.e(r)}finally{n.f()}tt(e)}}),[]),ut=Object(f.useCallback)((function(e,t){e&&(at(e,t),k&&!I(e.options||[]).length&&(ne(Fe.current.errors,e.ref.name),z(Fe.current.dirtyFields,e.ref.name,!0),Ue({isDirty:qe()}),ze.current.isValid&&ae.current&&ot(),st(e.ref.name)))}),[ot,at]);function lt(e){e&&(Array.isArray(e)?e:[e]).forEach((function(e){return E.current[e]&&L(e)?delete Fe.current.errors[e]:ne(Fe.current.errors,e)})),Ue({errors:e?Fe.current.errors:{}})}function ct(e,t){var n=(E.current[e]||{}).ref;z(Fe.current.errors,e,Object.assign(Object.assign({},t),{ref:n})),Ue({isValid:!1}),t.shouldFocus&&n&&n.focus&&n.focus()}var ft=Object(f.useCallback)((function(e,t,n){var r=n?M.current[n]:P.current,i=fe(E,Pe(Q.current),k,!1,e);if(ce(e)){var o=Oe(e)||e;return ue.current.has(o)&&(i=Object.assign(Object.assign({},A.current),i)),we(i,e,r,N(B(W.current,e))?t:B(W.current,e),!0)}var a=N(t)?W.current:t;return Array.isArray(e)?e.reduce((function(e,t){return Object.assign(Object.assign({},e),Object(l.a)({},t,we(i,t,r,a)))}),{}):(K.current=N(n),F(!ee(i)&&i||a))}),[]);function ht(e,t){return ft(e,t)}function dt(e){var t,n=i(Array.isArray(e)?e:[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;ut(E.current[r],!0)}}catch(o){n.e(o)}finally{n.f()}}function pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r=e.name,i=e.type,o=e.value,a=Object.assign({ref:e},t),s=E.current,u=Te(e),l=Se(ue.current,r),f=function(t){return Ae&&(!h(e)||t===e)},d=s[r],p=!0;if(d&&(u?Array.isArray(d.options)&&I(d.options).find((function(e){return o===e.ref.value&&f(e.ref)})):f(d.ref)))s[r]=Object.assign(Object.assign({},d),t);else{d=i?u?Object.assign({options:[].concat(Object(c.a)(I(d&&d.options||[])),[{ref:e}]),ref:{type:i,name:r}},t):Object.assign({},a):a,s[r]=d;var g=N(B(Q.current,r));ee(W.current)&&g||(n=B(g?W.current:Q.current,r),(p=N(n))||l||Ge(r,n)),ee(t)||(z($.current,r,!0),!me&&ze.current.isValid&&be(E,ye,d,Q).then((function(e){var t=Fe.current.isValid;ee(e)?z(U.current,r,!0):ne(U.current,r),t!==ee(e)&&Ue()}))),!k||l&&p||!l&&ne(Fe.current.dirtyFields,r),i&&j(u&&d.options?d.options[d.options.length-1]:d,u||Ee(e),Y.current)}}function gt(e,t){if(!Me)if(ce(e))pt({name:e},t);else{if(!R(e)||!("name"in e))return function(t){return t&&pt(t,e)};pt(e,t)}}var mt=Object(f.useCallback)((function(e,t){return function(){var n=Object(u.a)(a.a.mark((function n(r){var i,o,s,u,l,c,f,h,d,p;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&r.preventDefault&&(r.preventDefault(),r.persist()),i={},o=rt(fe(E,Pe(Q.current),k,!0)),ze.current.isSubmitting&&Ue({isSubmitting:!0}),n.prev=4,!ae.current){n.next=15;break}return n.next=8,ae.current(o,re.current,ye);case 8:s=n.sent,u=s.errors,l=s.values,Fe.current.errors=i=u,o=l,n.next=27;break;case 15:c=0,f=Object.values(E.current);case 16:if(!(c<f.length)){n.next=27;break}if(!(h=f[c])){n.next=24;break}return d=h.ref.name,n.next=22,be(E,ye,h,Q);case 22:(p=n.sent)[d]?(z(i,d,p[d]),ne(U.current,d)):B($.current,d)&&(ne(Fe.current.errors,d),z(U.current,d,!0));case 24:c++,n.next=16;break;case 27:if(!ee(i)||!Object.keys(Fe.current.errors).every((function(e){return e in E.current}))){n.next=33;break}return Ue({errors:{},isSubmitting:!0}),n.next=31,e(o,r);case 31:n.next=39;break;case 33:if(Fe.current.errors=Object.assign(Object.assign({},Fe.current.errors),i),n.t0=t,!n.t0){n.next=38;break}return n.next=38,t(Fe.current.errors,r);case 38:x&&V(E.current,Fe.current.errors);case 39:return n.prev=39,Fe.current.isSubmitting=!1,Ue({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ee(Fe.current.errors),submitCount:Fe.current.submitCount+1}),n.finish(39);case 43:case"end":return n.stop()}}),n,null,[[4,,39,43]])})));return function(e){return n.apply(this,arguments)}}()}),[x,ye]),vt=function(e){var t=e.errors,n=e.isDirty,r=e.isSubmitted,i=e.touched,o=e.isValid,a=e.submitCount,s=e.dirtyFields;o||(U.current={},$.current={}),C.current={},P.current=new Set,K.current=!1,Ue({submitCount:a?Fe.current.submitCount:0,isDirty:!!n&&Fe.current.isDirty,isSubmitted:!!r&&Fe.current.isSubmitted,isValid:!!o&&Fe.current.isValid,dirtyFields:s?Fe.current.dirtyFields:{},touched:i?Fe.current.touched:{},errors:t?Fe.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ae)for(var n=0,r=Object.values(E.current);n<r.length;n++){var i=r[n];if(i){var o=i.ref,a=i.options,s=Te(o)&&Array.isArray(a)?a[0].ref:o;if(h(s))try{s.closest("form").reset();break}catch(u){}}}E.current={},W.current=Object.assign({},e||W.current),e&&tt(""),Object.values(te.current).forEach((function(e){return ge(e)&&e()})),Q.current=k?{}:Pe(e||W.current),vt(t)};Object(f.useEffect)((function(){p&&ze.current.isValid&&ot(),Ne.current=Ne.current||!Ae?Ne.current:Ce(E,ut)}),[ut,W.current]),Object(f.useEffect)((function(){return function(){Ne.current&&Ne.current.disconnect(),Z.current=!0,Object.values(E.current).forEach((function(e){return ut(e,!0)}))}}),[]),!p&&ze.current.isValid&&(Ie.isValid=se(U.current,$.current)&&ee(Fe.current.errors));var bt={trigger:Ye,setValue:Object(f.useCallback)(nt,[Qe,Ye]),getValues:Object(f.useCallback)(it,[]),register:Object(f.useCallback)(gt,[W.current]),unregister:Object(f.useCallback)(dt,[]),formState:Re?new Proxy(Ie,{get:function(e,t){if(t in e)return ze.current[t]=!0,e[t]}}):Ie},_t=Object(f.useMemo)((function(){return Object.assign({isFormDirty:qe,updateWatchedValue:st,shouldUnregister:k,updateFormState:Ue,removeFieldEventListener:at,watchInternal:ft,mode:de.current,reValidateMode:{isReValidateOnBlur:Ve,isReValidateOnChange:$e},validateResolver:p?ot:void 0,fieldsRef:E,resetFieldArrayFunctionRef:te,useWatchFieldsRef:M,useWatchRenderFunctionsRef:D,fieldArrayDefaultValuesRef:C,validFieldsRef:U,fieldsWithValidationRef:$,fieldArrayNamesRef:ue,readFormStateRef:ze,formStateRef:Fe,defaultValuesRef:W,shallowFieldsStateRef:Q,fieldArrayValuesRef:A},bt)}),[W.current,st,k,at,ft]);return Object.assign({watch:ht,control:_t,handleSubmit:mt,reset:Object(f.useCallback)(yt,[]),clearErrors:Object(f.useCallback)(lt,[]),setError:Object(f.useCallback)(ct,[]),errors:Ie.errors},bt)}var Ie=Object(f.createContext)(null);Ie.displayName="RHFContext"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(5),i=n(4),o=n(2),a=n(1),s=n(68),u=n(180);var l={container:a.object,gl:a.object,mapboxApiAccessToken:a.string,mapboxApiUrl:a.string,attributionControl:a.bool,preserveDrawingBuffer:a.bool,reuseMaps:a.bool,transformRequest:a.func,mapOptions:a.object,mapStyle:a.oneOfType([a.string,a.object]),preventStyleDiffing:a.bool,visible:a.bool,asyncRender:a.bool,onLoad:a.func,onError:a.func,width:a.number,height:a.number,viewState:a.object,longitude:a.number,latitude:a.number,zoom:a.number,bearing:a.number,pitch:a.number,altitude:a.number},c={container:s.a.body,mapboxApiAccessToken:function(){var t=null;if("undefined"!==typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);t=n&&n[1]}t||"undefined"===typeof e||(t=t||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).MapboxAccessToken||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER:"http://localhost:8080",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}).REACT_APP_MAPBOX_ACCESS_TOKEN);return t||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0,asyncRender:!1,onLoad:function(){},onError:function(e){e&&console.error(e.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";e.debug&&a.checkPropTypes(l,e,"prop",t)}var h=function(){function e(t){var n=this;if(Object(r.a)(this,e),Object(o.a)(this,"props",c),Object(o.a)(this,"width",0),Object(o.a)(this,"height",0),Object(o.a)(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!t.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=t.mapboxgl,e.initialized||(e.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(t)}return Object(i.a)(e,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(e){return this._update(this.props,e),this}},{key:"redraw",value:function(){var e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(t){this._map=e.savedMap;var n=this._map.getContainer(),r=t.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,e.savedMap=null,t.mapStyle&&this._map.setStyle(Object(u.a)(t.mapStyle),{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(t){if(t.reuseMaps&&e.savedMap)this._reuse(t);else{if(t.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,t.gl}}var r={container:t.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:Object(u.a)(t.mapStyle),interactive:!1,trackResize:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(r.transformRequest=t.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,t.mapOptions)),this._map.once("load",t.onLoad),this._map.on("error",t.onError)}return this}},{key:"_destroy",value:function(){this._map&&(e.savedMap?this._map.remove():(e.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(e){var t=this;f(e=Object.assign({},c,e),"Mapbox"),this.mapboxgl.accessToken=e.mapboxApiAccessToken||c.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=e.mapboxApiUrl,this._create(e);var n=e.container;Object.defineProperty(n,"offsetWidth",{get:function(){return t.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return t.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return t.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return t.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},e),this._updateMapSize({},e),this.props=e}},{key:"_update",value:function(e,t){if(this._map){f(t=Object.assign({},this.props,t),"Mapbox");var n=this._updateMapViewport(e,t),r=this._updateMapSize(e,t);this._updateMapStyle(e,t),t.asyncRender||!n&&!r||this.redraw(),this.props=t}}},{key:"_updateMapStyle",value:function(e,t){e.mapStyle!==t.mapStyle&&this._map.setStyle(Object(u.a)(t.mapStyle),{diff:!t.preventStyleDiffing})}},{key:"_updateMapSize",value:function(e,t){var n=e.width!==t.width||e.height!==t.height;return n&&(this.width=t.width,this.height=t.height,this._map.resize()),n}},{key:"_updateMapViewport",value:function(e,t){var n=this._getViewState(e),r=this._getViewState(t),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(e){var t=e.viewState||e,n=t.longitude,r=t.latitude,i=t.zoom,o=t.pitch,a=void 0===o?0:o,s=t.bearing,u=void 0===s?0:s,l=t.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:u,altitude:void 0===l?1.5:l}}},{key:"_checkStyleSheet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if("undefined"!==typeof s.a)try{var t=s.a.createElement("div");t.className="mapboxgl-map",t.style.display="none",s.a.body.appendChild(t);var n="static"!==window.getComputedStyle(t).position;if(!n){var r=s.a.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")),s.a.head.appendChild(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(e){return{center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}}}]),e}();Object(o.a)(h,"initialized",!1),Object(o.a)(h,"propTypes",l),Object(o.a)(h,"defaultProps",c),Object(o.a)(h,"savedMap",null)}).call(this,n(54))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function l(e){if(!e)return null;if("string"===typeof e)return e;e.toJS&&(e=e.toJS());var t,n={},r=a(e.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.id]=i}}catch(l){r.e(l)}finally{r.f()}var s=e.layers.map((function(e){var t=n[e.ref],r=null;if("interactive"in e&&delete(r=o({},e)).interactive,t){delete(r=r||o({},e)).ref;var i,s=a(u);try{for(s.s();!(i=s.n()).done;){var c=i.value;c in t&&(r[c]=t[c])}}catch(l){s.e(l)}finally{s.f()}}return r||e}));return o(o({},e),{},{layers:s})}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return d}));var r,i=n(2),o=n(88),a=n(181),s=(r={},Object(i.a)(r,o.b,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),Object(i.a)(r,o.a,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),r),u="__LUMA_INJECT_DECLARATIONS__",l=/void\s+main\s*\([^)]*\)\s*\{\n?/,c=/}\n?[^{}]*$/,f=[];function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t===o.b,a=function(t){var r=n[t];r.sort((function(e,t){return e.order-t.order})),f.length=r.length;for(var o=0,a=r.length;o<a;++o)f[o]=r[o].injection;var s="".concat(f.join("\n"),"\n");switch(t){case"vs:#decl":i&&(e=e.replace(u,s));break;case"vs:#main-start":i&&(e=e.replace(l,(function(e){return e+s})));break;case"vs:#main-end":i&&(e=e.replace(c,(function(e){return s+e})));break;case"fs:#decl":i||(e=e.replace(u,s));break;case"fs:#main-start":i||(e=e.replace(l,(function(e){return e+s})));break;case"fs:#main-end":i||(e=e.replace(c,(function(e){return s+e})));break;default:e=e.replace(t,(function(e){return e+s}))}};for(var h in n)a(h);return e=e.replace(u,""),r&&(e=e.replace(/\}\s*$/,(function(e){return e+s[t]}))),e}function d(e){var t={};return Object(a.a)(Array.isArray(e)&&e.length>1),e.forEach((function(e){for(var n in e)t[n]=t[n]?"".concat(t[n],"\n").concat(e[n]):e[n]})),t}},,,,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";(function(e){var r=n(131);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){if("undefined"!==typeof window&&"object"===(0,i.default)(window.process)&&"renderer"===window.process.type)return!0;if("undefined"!==typeof e&&"object"===(0,i.default)(e.versions)&&Boolean(e.versions.electron))return!0;var n="object"===("undefined"===typeof navigator?"undefined":(0,i.default)(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent,r=t||n;if(r&&r.indexOf("Electron")>=0)return!0;return!1};var i=r(n(107))}).call(this,n(54))},function(e,t,n){var r=n(252),i=n(403);e.exports=function(e,t){return e&&r(e,i(t))}},function(e,t,n){(function(e){var r=n(79),i=n(399),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(118)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(251),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,n(118)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(257)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(154),i=n(414),o=n(415),a=n(416),s=n(417),u=n(418);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(106)(n(79),"Map");e.exports=r},function(e,t,n){var r=n(423),i=n(430),o=n(432),a=n(433),s=n(434);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(445),i=n(268),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t,n){var r=n(73),i=n(202),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(105),i=n(91);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(253),i=n(474),o=n(153);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(264);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,i,o,a,s){var u=n+(-o*(t-i)+-a*n)*e,l=t+u*e;if(Math.abs(u)<s&&Math.abs(l-i)<s)return r[0]=i,r[1]=0,r;return r[0]=l,r[1]=u,r};var r=[0,0];e.exports=t.default},function(e,t,n){(function(t){(function(){var n,r,i;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(54))},function(e,t,n){(function(t){for(var r=n(498),i="undefined"===typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],u=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,f=0,h=[];s=function(e){if(0===h.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return h.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(this,n(40))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var i="number"===typeof t[r]?t[r]:t[r].val;if(e[r]!==i)return!1}return!0},e.exports=t.default},function(e,t,n){"use strict";var r=n(507);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=n(211),i=n(280),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(h){l=null}e.exports=function(e){var t=s(r,a,arguments);if(u&&l){var n=u(t,"length");n.configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(r,o,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.resetAll=function(){s={},u={},a=0},t.setDefaultOutDelay=function(e){a=e},t.setModalSetIdsHandler=function(e){o=!0,l=e,e(f())},t.clearModalSetIdsHandler=function(){l=function(){}},t.setModalSetHandler=function(e,t){o=!0,u[e]=t,t(s[e]||[])},t.clearModalSetHandler=function(e){delete u[e]},t.mountModal=function(e){0!==i||o||setTimeout(p,1e3);var t=i++;"undefined"===typeof(e=Object.assign({setId:0},e)).outDelay&&(e.outDelay=a);var n=e.setId,r=!1;s[n]||(s[n]=[],r=!0);s[n].push({id:t,info:e,setId:n}),s[n].sort(h),r&&l(f());u[n]&&u[n](s[n]);return t},t.updateModal=c,t.unmountModal=function(e){var t=function(e){for(var t=f(),n=0;n<t.length;n++)for(var r=s[t[n]],i=0;i<r.length;i++)if(r[i].id===e)return r[i].info}(e);if(!t)return;if(t.outDelay){var n=r({},t,{out:!0});return c(e,n),setTimeout(d.bind(null,e),t.outDelay)}d(e)};var i=1,o=!1,a=0,s={},u={},l=function(){};function c(e,t){var n=f(),r=void 0;if(n.forEach((function(n){s[n]=s[n].map((function(i){return i.id===e?(r=n,{id:e,info:t}):i}))})),"undefined"===typeof r)console.log("react-router-modal: updateModal with bad id",e);else{var i=u[r];i&&i(s[r])}}function f(){return Object.keys(s).map((function(e){return parseInt(e,10)}))}function h(e,t){var n=(e.info.stackOrder||0)-(t.info.stackOrder||0);return 0!==n?n:e.id-t.id}function d(e){var t=f(),n=void 0;if(t.forEach((function(t){s[t]=s[t].filter((function(r){return r.id!==e||(n=t,!1)}))})),"undefined"!==typeof n){0===s[n].length&&delete s[n],l(f());var r=u[n];r&&r(s[n]||[])}}function p(){o||console.log("react-router-modal warning: Modal was mounted but no <ModalContainer /> found")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t={};return Object.keys(e).filter((function(e){return 0===e.indexOf("aria-")||"role"===e})).forEach((function(n){t[n]=e[n]})),t},e.exports=t.default},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=u(o),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],f=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},h=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),d=function(){return h?"_"+Math.random().toString(36).substr(2,12):void 0},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"===typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||d(),prevId:e.id},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.id;return n!==t.prevId?{inputId:n||d(),prevId:n}:null}}]),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(f(e,this.sizer),this.placeHolderSizer&&f(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return h&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!==e&&void 0!==e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){c.forEach((function(t){return delete e[t]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",r({},i,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:l},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),t}(o.Component);p.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},p.defaultProps={minWidth:1,injectStyles:!0},t.default=p},function(e,t,n){"use strict";(function(e){var r=n(0),i=n.n(r),o=n(51),a=n(1),s=n.n(a),u=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[a]=s.a.object,i),{Provider:f,Consumer:h}};t.a=f}).call(this,n(40))},function(e,t,n){var r=n(354);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],g=n[2],m=n[3],v=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=p&&p!==g,x="+"===b||"*"===b,O="?"===b||"*"===b,k=n[2]||c,S=v||y;r.push({name:m||o++,prefix:g||"",delimiter:k,optional:O,repeat:x,partial:w,asterisk:!!_,pattern:S?l(S):_?".*":"[^"+u(k)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var f,h=s[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[l].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[l].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');o+=c.prefix+f}}else o+=c}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)a+=u(l);else{var h=u(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+h+d+")*"),a+=d=l.optional?l.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",c(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n(2),o=n(84),a=n(126),s={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};t.b=(r={},Object(i.a)(r,s.WEBGL2,[!1,!0]),Object(i.a)(r,s.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),Object(i.a)(r,s.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),Object(i.a)(r,s.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),Object(i.a)(r,s.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),Object(i.a)(r,s.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),Object(i.a)(r,s.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),Object(i.a)(r,s.FLOAT_BLEND,["EXT_float_blend"]),Object(i.a)(r,s.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),Object(i.a)(r,s.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),Object(i.a)(r,s.TEXTURE_FLOAT,["OES_texture_float",!0]),Object(i.a)(r,s.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),Object(i.a)(r,s.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),Object(i.a)(r,s.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),Object(i.a)(r,s.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),Object(i.a)(r,s.COLOR_ATTACHMENT_RGBA32F,[function(e){var t=new a.a(e,{format:6408,type:5126,dataFormat:6408}),n=new o.a(e,{id:"test-framebuffer",check:!1,attachments:Object(i.a)({},36064,t)}),r=n.getStatus();return t.delete(),n.delete(),36053===r},"EXT_color_buffer_float"]),Object(i.a)(r,s.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),Object(i.a)(r,s.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),Object(i.a)(r,s.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),Object(i.a)(r,s.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),Object(i.a)(r,s.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),Object(i.a)(r,s.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(8),i=n(9),o=n(33),a=6144,s=6145,u=6146,l=34041,c="clear: bad arguments";function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,r=void 0===n?null:n,a=t.color,s=void 0===a?null:a,u=t.depth,l=void 0===u?null:u,f=t.stencil,h=void 0===f?null:f,d={};r&&(d.framebuffer=r);var p=0;s&&(p|=16384,!0!==s&&(d.clearColor=s)),l&&(p|=256,!0!==l&&(d.clearDepth=l)),h&&(p|=1024,!0!==l&&(d.clearStencil=l)),Object(o.a)(0!==p,c),Object(i.n)(e,d,(function(){e.clear(p)}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,f=void 0===n?null:n,h=t.buffer,d=void 0===h?a:h,p=t.drawBuffer,g=void 0===p?0:p,m=t.value,v=void 0===m?[0,0,0,0]:m;Object(i.a)(e),Object(i.n)(e,{framebuffer:f},(function(){switch(d){case a:switch(v.constructor){case Int32Array:e.clearBufferiv(d,g,v);break;case Uint32Array:e.clearBufferuiv(d,g,v);break;case Float32Array:default:e.clearBufferfv(d,g,v)}break;case s:e.clearBufferfv(s,0,[v]);break;case u:e.clearBufferiv(u,0,[v]);break;case l:var t=Object(r.a)(v,2),n=t[0],i=t[1];e.clearBufferfi(l,0,n,i);break;default:Object(o.a)(!1,c)}}))}},function(e,t,n){"use strict";(function(e){var r=n(173),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.a.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();t.a=s}).call(this,n(205)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(5),i=n(4),o=n(136),a=function(){function e(t,n){Object(r.a)(this,e),this.name=t,this.type=n,this.sampleSize=1,this.reset()}return Object(i.a)(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=Object(o.a)(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(Object(o.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),s=function(){function e(t){var n=t.id,i=t.stats;Object(r.a)(this,e),this.id=n,this.stats={},this._initializeStats(i),Object.seal(this)}return Object(i.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,n=e.type;return this.stats[t]||(this.stats[t]=e instanceof a?e:new a(t,n)),this.stats[t]}},{key:"size",get:function(){return Object.keys(this.stats).length}}]),e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));n(49);var r=n(84),i=(n(62),n(9),n(97)),o=n(33);function a(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Object(o.a)(!1),0}}var s=n(316);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sourceX,r=void 0===n?0:n,a=t.sourceY,s=void 0===a?0:a,u=t.sourceFormat,l=void 0===u?6408:u,h=t.sourceAttachment,d=void 0===h?36064:h,p=t.target,g=void 0===p?null:p,m=t.sourceWidth,v=t.sourceHeight,y=t.sourceType,b=c(e),_=b.framebuffer,w=b.deleteFramebuffer;Object(o.a)(_);var x=_.gl,O=_.handle,k=_.attachments;m=m||_.width,v=v||_.height,36064===d&&null===O&&(d=1028),Object(o.a)(k[d]),g=f(g,y=y||k[d].type,l,m,v),y=y||Object(i.b)(g);var S=x.bindFramebuffer(36160,O);return x.readPixels(r,s,m,v,l,y,g),x.bindFramebuffer(36160,S||null),w&&_.delete(),g}function l(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sourceAttachment,r=void 0===n?36064:n,o=t.targetMaxHeight,a=void 0===o?Number.MAX_SAFE_INTEGER:o,s=u(e,{sourceAttachment:r}),l=e.width,c=e.height;c>a;){var f=Object(i.d)({data:s,width:l,height:c});s=f.data,l=f.width,c=f.height}Object(i.a)({data:s,width:l,height:c});var h=document.createElement("canvas");h.width=l,h.height=c;var d=h.getContext("2d"),p=d.createImageData(l,c);return p.data.set(s),d.putImageData(p,0,0),h.toDataURL()}function c(e){return e instanceof r.a?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:Object(s.b)(e),deleteFramebuffer:!0}}function f(e,t,n,r,o){return e||(t=t||5121,new(Object(i.c)(t,{clamped:!1}))(r*o*a(n)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9);function i(e,t,n){var i=n.removedProps,o=void 0===i?{}:i,a=n.deprecatedProps,s=void 0===a?{}:a,u=n.replacedProps,l=void 0===u?{}:u;for(var c in o)if(c in t){var f=o[c]?"".concat(e,".").concat(o[c]):"N/A";r.j.removed("".concat(e,".").concat(c),f)()}for(var h in s)if(h in t){var d=s[h];r.j.deprecated("".concat(e,".").concat(h),"".concat(e,".").concat(d))()}var p=null;for(var g in l)if(g in t){var m=l[g];r.j.deprecated("".concat(e,".").concat(g),"".concat(e,".").concat(m))(),(p=p||Object.assign({},t))[m]=t[g],delete p[g]}return p||t}},,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",g={};function m(){}function v(){}function y(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,o)&&(b=w);var x=y.prototype=m.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:t,done:!0}}return v.prototype=x.constructor=y,y.constructor=v,v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},O(k.prototype),k.prototype[a]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,s,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(61);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(61),i=n(339),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(232)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s}).call(this,n(54))},function(e,t,n){"use strict";var r=n(61),i=n(340),o=n(342),a=n(229),s=n(343),u=n(346),l=n(347),c=n(233);e.exports=function(e){return new Promise((function(t,n){var f=e.data,h=e.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+g)}var m=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,o),d=null}},d.onabort=function(){d&&(n(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||l(m))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&r.forEach(h,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(y){if("json"!==e.responseType)throw y}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),f||(f=null),d.send(f)}))}},function(e,t,n){"use strict";var r=n(341);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(61);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,l),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var c=i.concat(o).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return r.forEach(f,l),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){e.exports=function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return r(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(e,t,r,i){var o=new n(e,t,r,i);return function(e){return o.solve(e)}}var l=u(.25,.1,.25,1);function c(e,t,n){return Math.min(n,Math.max(t,e))}function f(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function h(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}var d=1;function p(){return d++}function g(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function v(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function y(e,t){return-1!==e.indexOf(t,e.length-t.length)}function b(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function _(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function w(e){return Array.isArray(e)?e.map(w):"object"==typeof e&&e?b(e,w):e}var x={};function O(e){x[e]||("undefined"!=typeof console&&console.warn(e),x[e]=!0)}function k(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function S(e){for(var t=0,n=0,r=e.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)t+=((a=e[i]).x-(o=e[n]).x)*(o.y+a.y);return t}function E(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function C(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var o=r||i;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var A=null;function P(e){if(null==A){var t=e.navigator?e.navigator.userAgent:null;A=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return A}function j(e){try{var t=a[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var T,M,R,L,I=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),D=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,z=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,F={now:I,frame:function(e){var t=D(e);return{cancel:function(){return z(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return T||(T=a.document.createElement("a")),T.href=e,T.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==M&&(M=a.matchMedia("(prefers-reduced-motion: reduce)")),M.matches)}},N={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(e){!V&&L&&($?U(e):R=e)}},V=!1,$=!1;function U(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,L),e.isContextLost())return;B.supported=!0}catch(e){}e.deleteTexture(t),V=!0}a.document&&((L=a.document.createElement("img")).onload=function(){R&&U(R),R=null,$=!0},L.onerror=function(){V=!0,R=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var W="01",H=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function G(e){return 0===e.indexOf("mapbox:")}H.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",W,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},H.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},H.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},H.prototype.normalizeStyleURL=function(e,t){if(!G(e))return e;var n=K(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeGlyphsURL=function(e,t){if(!G(e))return e;var n=K(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeSourceURL=function(e,t){if(!G(e))return e;var n=K(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeSpriteURL=function(e,t,n,r){var i=K(e);return G(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+t+n,Y(i))},H.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!G(e))return e;var n=K(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(F.devicePixelRatio>=2||512===t?"@2x":"")+(B.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||N.ACCESS_TOKEN;return N.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},H.prototype.canonicalizeTileURL=function(e,t){var n=K(e);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},H.prototype.canonicalizeTileset=function(e,t){for(var n=!!t&&G(t),r=[],i=0,o=e.tiles||[];i<o.length;i+=1){var a=o[i];X(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},H.prototype._makeAPIURL=function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=K(N.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path=""+r.path+e.path),!N.REQUIRE_ACCESS_TOKEN)return Y(e);if(!(t=t||N.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),Y(e)};var q=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(e){return q.test(e)}var Z=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(e){var t=e.match(Z);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Y(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function J(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Q=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Q.prototype.getStorageKey=function(e){var t,n=J(N.ACCESS_TOKEN);return t=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):N.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},Q.prototype.fetchEventData=function(){var e=j("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=a.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){O("Unable to read from LocalStorage")}},Q.prototype.saveEventData=function(){var e=j("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){O("Unable to write to LocalStorage")}},Q.prototype.processRequests=function(e){},Q.prototype.postEvent=function(e,t,n,r){var i=this;if(N.EVENTS_URL){var o=K(N.EVENTS_URL);o.params.push("access_token="+(r||N.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.1",skuId:W,userId:this.anonId},s=t?h(a,t):a,u={url:Y(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=we(u,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}},Q.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,ne=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n,(N.EVENTS_URL&&r||N.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||X(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=g()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||r&&(t.success[r]=!0)}),e))}},t}(Q),re=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){N.EVENTS_URL&&N.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||X(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(N.ACCESS_TOKEN),r=n?n.u:N.ACCESS_TOKEN,i=r!==this.eventData.tokenU;m(this.anonId)||(this.anonId=g(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=o,t.eventData.tokenU=r)}),e)}},t}(Q)),ie=re.postTurnstileEvent.bind(re),oe=new ne,ae=oe.postMapLoadEvent.bind(oe),se=500,ue=50;function le(){a.caches&&!ee&&(ee=a.caches.open("mapbox-tiles"))}function ce(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var fe,he=1/0;function de(){return null==fe&&(fe=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),fe}var pe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(pe);var ge,me,ve=function(e){function t(t,n,r){401===n&&X(r)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ye=E()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},be=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(ye())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new a.AbortController,i=new a.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ye(),signal:r.signal}),o=!1,s=!1,u=(n=i.url).indexOf("sku=")>0&&X(n);"json"===e.type&&i.headers.set("Accept","application/json");var l=function(n,r,o){if(!s){if(n&&"SecurityError"!==n.message&&O(n),r&&o)return c(r);var l=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=u?n.clone():null;return c(n,r,l)}return t(new ve(n.statusText,n.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},c=function(n,r,u){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){s||(r&&u&&function(e,t,n){if(le(),ee){var r={status:t.status,statusText:t.statusText,headers:new a.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=C(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var n=new a.Response(t,r);le(),ee&&ee.then((function(t){return t.put(ce(e.url),n)})).catch((function(e){return O(e.message)}))})))}}(i,r,u),o=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(e){s||t(new Error(e.message))}))};return u?function(e,t){if(le(),!ee)return t(null);var n=ce(e.url);ee.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=C(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)})).catch(t)})).catch(t)}(i,l):l(null,null),{cancel:function(){s=!0,o||r.abort()}}}(e,t);if(E()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new a.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new ve(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},_e=function(e,t){return be(h(e,{type:"arrayBuffer"}),t)},we=function(e,t){return be(h(e,{method:"POST"}),t)},xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";ge=[],me=0;var Oe=function e(t,n){if(B.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),me>=N.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return ge.push(r),r}me++;var i=!1,o=function(){if(!i)for(i=!0,me--;ge.length&&me<N.MAX_PARALLEL_IMAGE_REQUESTS;){var t=ge.shift();t.cancelled||(t.cancel=e(t.requestParameters,t.callback).cancel)}},s=_e(t,(function(e,t,r,i){o(),e?n(e):t&&(de()?function(e,t){var n=new a.Blob([new Uint8Array(e)],{type:"image/png"});a.createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(t,n):function(e,t,n,r){var i=new a.Image,o=a.URL;i.onload=function(){t(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=xe}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=e.byteLength?o.createObjectURL(s):xe}(t,n,r,i))}));return{cancel:function(){s.cancel(),o()}}};function ke(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function Se(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var Ee=function(e,t){void 0===t&&(t={}),h(this,t),this.type=e},Ce=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",h({error:t},n))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Ee),Ae=function(){};Ae.prototype.on=function(e,t){return this._listeners=this._listeners||{},ke(e,t,this._listeners),this},Ae.prototype.off=function(e,t){return Se(e,t,this._listeners),Se(e,t,this._oneTimeListeners),this},Ae.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},ke(e,t,this._oneTimeListeners),this},Ae.prototype.fire=function(e,t){"string"==typeof e&&(e=new Ee(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,e);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Se(n,s,this._oneTimeListeners),s.call(this,e)}var u=this._eventedParent;u&&(h(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof Ce&&console.error(e.error);return this},Ae.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Ae.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Pe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},je=function(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)};function Te(e){var t=e.value;return t?[new je(e.key,t,"constants have been deprecated as of v8")]:[]}function Me(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}function Re(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Le(e){if(Array.isArray(e))return e.map(Le);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=Le(e[n]);return t}return Re(e)}var Ie=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),De=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};De.prototype.concat=function(e){return new De(this,e)},De.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},De.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var ze={kind:"null"},Fe={kind:"number"},Ne={kind:"string"},Be={kind:"boolean"},Ve={kind:"color"},$e={kind:"object"},Ue={kind:"value"},We={kind:"collator"},He={kind:"formatted"},Ge={kind:"resolvedImage"};function qe(e,t){return{kind:"array",itemType:e,N:t}}function Xe(e){if("array"===e.kind){var t=Xe(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Ze=[ze,Fe,Ne,Be,Ve,He,$e,qe(Ue),Ge];function Ke(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ke(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=Ze;n<r.length;n+=1)if(!Ke(r[n],t))return null}return"Expected "+Xe(e)+" but found "+Xe(t)+" instead."}function Ye(e,t){return t.some((function(t){return t.kind===e.kind}))}function Je(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var Qe=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=s.indexOf("("),l=s.indexOf(")");if(-1!==u&&l+1===s.length){var c=s.substr(0,u),f=s.substr(u+1,l-(u+1)).split(","),h=1;switch(c){case"rgba":if(4!==f.length)return null;h=o(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),h];case"hsla":if(4!==f.length)return null;h=o(f.pop());case"hsl":if(3!==f.length)return null;var d=(parseFloat(f[0])%360+360)%360/360,p=o(f[1]),g=o(f[2]),m=g<=.5?g*(p+1):g+p-g*p,v=2*g-m;return[r(255*a(v,m,d+1/3)),r(255*a(v,m,d)),r(255*a(v,m,d-1/3)),h];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=Qe(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],n=e[2],r=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(n)+","+r+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var nt=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},rt=function(e){this.sections=e};rt.fromString=function(e){return new rt([new nt(e,null,null,null,null)])},rt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},rt.factory=function(e){return e instanceof rt?e:rt.fromString(e)},rt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},rt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image)e.push(["image",r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function ot(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function at(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof rt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1)if(!at(n[t]))return!1;return!0}if("object"==typeof e){for(var r in e)if(!at(e[r]))return!1;return!0}return!1}function st(e){if(null===e)return ze;if("string"==typeof e)return Ne;if("boolean"==typeof e)return Be;if("number"==typeof e)return Fe;if(e instanceof et)return Ve;if(e instanceof tt)return We;if(e instanceof rt)return He;if(e instanceof it)return Ge;if(Array.isArray(e)){for(var t,n=e.length,r=0,i=e;r<i.length;r+=1){var o=st(i[r]);if(t){if(t===o)continue;t=Ue;break}t=o}return qe(t||Ue,n)}return $e}function ut(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof rt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var lt=function(e,t){this.type=e,this.value=t};lt.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!at(e[1]))return t.error("invalid value");var n=e[1],r=st(n),i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new lt(r,n)},lt.prototype.evaluate=function(){return this.value},lt.prototype.eachChild=function(){},lt.prototype.outputDefined=function(){return!0},lt.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof rt?this.value.serialize():this.value};var ct=function(e){this.name="ExpressionEvaluationError",this.message=e};ct.prototype.toJSON=function(){return this.message};var ft={string:Ne,number:Fe,boolean:Be,object:$e},ht=function(e,t){this.type=e,this.args=t};ht.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,r=1,i=e[0];if("array"===i){var o,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ft)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=ft[s],r++}else o=Ue;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],r++}n=qe(o,a)}else n=ft[i];for(var u=[];r<e.length;r++){var l=t.parse(e[r],r,Ue);if(!l)return null;u.push(l)}return new ht(n,u)},ht.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Ke(this.type,st(n)))return n;if(t===this.args.length-1)throw new ct("Expected value to be of type "+Xe(this.type)+", but found "+Xe(st(n))+" instead.")}return null},ht.prototype.eachChild=function(e){this.args.forEach(e)},ht.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ht.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var dt=function(e){this.type=He,this.sections=e};dt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=e.length-1;++o){var a=e[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,Fe)))return null;var u=null;if(a["text-font"]&&!(u=t.parse(a["text-font"],1,qe(Ne))))return null;var l=null;if(a["text-color"]&&!(l=t.parse(a["text-color"],1,Ve)))return null;var c=r[r.length-1];c.scale=s,c.font=u,c.textColor=l}else{var f=t.parse(e[o],1,Ue);if(!f)return null;var h=f.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:f,scale:null,font:null,textColor:null})}}return new dt(r)},dt.prototype.evaluate=function(e){return new rt(this.sections.map((function(t){var n=t.content.evaluate(e);return st(n)===Ge?new nt("",n,null,null,null):new nt(ut(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},dt.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},dt.prototype.outputDefined=function(){return!1},dt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),e.push(i)}return e};var pt=function(e){this.type=Ge,this.input=e};pt.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Ne);return n?new pt(n):t.error("No image name provided.")},pt.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=it.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},pt.prototype.eachChild=function(e){e(this.input)},pt.prototype.outputDefined=function(){return!1},pt.prototype.serialize=function(){return["image",this.input.serialize()]};var gt={"to-boolean":Be,"to-color":Ve,"to-number":Fe,"to-string":Ne},mt=function(e,t){this.type=e,this.args=t};mt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var r=gt[n],i=[],o=1;o<e.length;o++){var a=t.parse(e[o],o,Ue);if(!a)return null;i.push(a)}return new mt(r,i)},mt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(t=i[r].evaluate(e))instanceof et)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":ot(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ct(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(e)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new ct("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?rt.fromString(ut(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(ut(this.args[0].evaluate(e))):ut(this.args[0].evaluate(e))},mt.prototype.eachChild=function(e){this.args.forEach(e)},mt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},mt.prototype.serialize=function(){if("formatted"===this.type.kind)return new dt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new pt(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var vt=["Unknown","Point","LineString","Polygon"],yt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};yt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},yt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?vt[this.feature.type]:this.feature.type:null},yt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},yt.prototype.canonicalID=function(){return this.canonical},yt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},yt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var bt=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};bt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},bt.prototype.eachChild=function(e){this.args.forEach(e)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},bt.parse=function(e,t){var n,r=e[0],i=bt.definitions[r];if(!i)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),u=null,l=0,c=s;l<c.length;l+=1){var f=c[l],h=f[0],d=f[1];u=new Vt(t.registry,t.path,null,t.scope);for(var p=[],g=!1,m=1;m<e.length;m++){var v=e[m],y=Array.isArray(h)?h[m-1]:h.type,b=u.parse(v,1+p.length,y);if(!b){g=!0;break}p.push(b)}if(!g)if(Array.isArray(h)&&h.length!==p.length)u.error("Expected "+h.length+" arguments, but found "+p.length+" instead.");else{for(var _=0;_<p.length;_++){var w=Array.isArray(h)?h[_]:h.type,x=p[_];u.concat(_+1).checkSubtype(w,x.type)}if(0===u.errors.length)return new bt(r,o,d,p)}}if(1===s.length)(n=t.errors).push.apply(n,u.errors);else{for(var O=(s.length?s:a).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Xe).join(", ")+")":"("+Xe(t.type)+"...)"})).join(" | "),k=[],S=1;S<e.length;S++){var E=t.parse(e[S],1+k.length);if(!E)return null;k.push(Xe(E.type))}t.error("Expected arguments of type "+O+", but found ("+k.join(", ")+") instead.")}return null},bt.register=function(e,t){for(var n in bt.definitions=t,t)e[n]=bt};var _t=function(e,t,n){this.type=We,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function wt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function xt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Ot(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function kt(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function St(e,t){for(var n,r,i,o,a,s,u,l=!1,c=0,f=t.length;c<f;c++)for(var h=t[c],d=0,p=h.length;d<p-1;d++){if((o=(n=e)[0]-(r=h[d])[0])*(u=n[1]-(i=h[d+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*u<=0)return!1;kt(e,h[d],h[d+1])&&(l=!l)}return l}function Et(e,t){for(var n=0;n<t.length;n++)if(St(e,t[n]))return!0;return!1}function Ct(e,t,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function At(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!=(f=[(c=o[a+1])[0]-(l=o[a])[0],c[1]-l[1]])[0]*(h=[(u=t)[0]-(s=e)[0],u[1]-s[1]])[1]-f[1]*h[0]&&Ct(s,u,l,c)&&Ct(l,c,s,u))return!0;var s,u,l,c,f,h;return!1}function Pt(e,t){for(var n=0;n<e.length;++n)if(!St(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(At(e[r],e[r+1],t))return!1;return!0}function jt(e,t){for(var n=0;n<t.length;n++)if(Pt(e,t[n]))return!0;return!1}function Tt(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var o=[],a=0;a<e[i].length;a++){var s=Ot(e[i][a],n);wt(t,s),o.push(s)}r.push(o)}return r}function Mt(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=Tt(e[i],t,n);r.push(o)}return r}function Rt(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===o&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}wt(t,e)}function Lt(e,t,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,u=e;s<u.length;s+=1)for(var l=0,c=u[s];l<c.length;l+=1){var f=c[l],h=[f.x+o[0],f.y+o[1]];Rt(h,t,n,i),a.push(h)}return a}function It(e,t,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],u=0,l=e;u<l.length;u+=1){for(var c=[],f=0,h=l[u];f<h.length;f+=1){var d=h[f],p=[d.x+a[0],d.y+a[1]];wt(t,p),c.push(p)}s.push(c)}if(t[2]-t[0]<=o/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var g=0,m=s;g<m.length;g+=1)for(var v=0,y=m[g];v<y.length;v+=1)Rt(y[v],t,n,o)}return s}_t.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Be);if(!r)return null;var i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Be);if(!i)return null;var o=null;return n.locale&&!(o=t.parse(n.locale,1,Ne))?null:new _t(r,i,o)},_t.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},_t.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},_t.prototype.outputDefined=function(){return!1},_t.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Dt=function(e,t){this.type=Be,this.geojson=e,this.geometries=t};function zt(e){if(e instanceof bt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Dt)return!1;var t=!0;return e.eachChild((function(e){t&&!zt(e)&&(t=!1)})),t}function Ft(e){if(e instanceof bt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Ft(e)&&(t=!1)})),t}function Nt(e,t){if(e instanceof bt&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!Nt(e,t)&&(n=!1)})),n}Dt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(at(e[1])){var n=e[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Dt(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Dt(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Dt(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Dt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Tt(t.coordinates,r,i),a=Lt(e.geometry(),n,r,i);if(!xt(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!St(u[s],o))return!1}if("MultiPolygon"===t.type){var l=Mt(t.coordinates,r,i),c=Lt(e.geometry(),n,r,i);if(!xt(n,r))return!1;for(var f=0,h=c;f<h.length;f+=1)if(!Et(h[f],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Tt(t.coordinates,r,i),a=It(e.geometry(),n,r,i);if(!xt(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Pt(u[s],o))return!1}if("MultiPolygon"===t.type){var l=Mt(t.coordinates,r,i),c=It(e.geometry(),n,r,i);if(!xt(n,r))return!1;for(var f=0,h=c;f<h.length;f+=1)if(!jt(h[f],l))return!1}return!0}(e,this.geometries)}return!1},Dt.prototype.eachChild=function(){},Dt.prototype.outputDefined=function(){return!0},Dt.prototype.serialize=function(){return["within",this.geojson]};var Bt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Bt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new Bt(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Bt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Bt.prototype.eachChild=function(){},Bt.prototype.outputDefined=function(){return!1},Bt.prototype.serialize=function(){return["var",this.name]};var Vt=function(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=new De),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function $t(e,t){for(var n,r=e.length-1,i=0,o=r,a=0;i<=o;)if((n=e[a=Math.floor((i+o)/2)])<=t){if(a===r||t<e[a+1])return a;i=a+1}else{if(!(n>t))throw new ct("Input is not a number.");o=a-1}return 0}Vt.prototype.parse=function(e,t,n,r,i){return void 0===i&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},Vt.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new ht(t,[e]):"coerce"===n?new mt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,t.typeAnnotation||"coerce");else o=n(o,a,t.typeAnnotation||"assert")}if(!(o instanceof lt)&&"resolvedImage"!==o.type.kind&&function e(t){if(t instanceof Bt)return e(t.boundExpression);if(t instanceof bt&&"error"===t.name)return!1;if(t instanceof _t)return!1;if(t instanceof Dt)return!1;var n=t instanceof mt||t instanceof ht,r=!0;return t.eachChild((function(t){r=n?r&&e(t):r&&t instanceof lt})),!!r&&zt(t)&&Nt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var u=new yt;try{o=new lt(o.type,o.evaluate(u))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Vt.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Vt(this.registry,r,t||null,i,this.errors)},Vt.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Ie(r,e))},Vt.prototype.checkSubtype=function(e,t){var n=Ke(e,t);return n&&this.error(n),n};var Ut=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function Wt(e,t,n){return e*(1-n)+t*n}Ut.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var n=t.parse(e[1],1,Fe);if(!n)return null;var r=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var o=1;o<e.length;o+=2){var a=1===o?-1/0:e[o],s=e[o+1],u=o,l=o+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=t.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new Ut(i,n,r)},Ut.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[$t(t,r)].evaluate(e)},Ut.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},Ut.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Ut.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Ht=Object.freeze({__proto__:null,number:Wt,color:function(e,t,n){return new et(Wt(e.r,t.r,n),Wt(e.g,t.g,n),Wt(e.b,t.b,n),Wt(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return Wt(e,t[r],n)}))}}),Gt=6/29*3*(6/29),qt=Math.PI/180,Xt=180/Math.PI;function Zt(e){return e>.008856451679035631?Math.pow(e,1/3):e/Gt+4/29}function Kt(e){return e>6/29?e*e*e:Gt*(e-4/29)}function Yt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Jt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Qt(e){var t=Jt(e.r),n=Jt(e.g),r=Jt(e.b),i=Zt((.4124564*t+.3575761*n+.1804375*r)/.95047),o=Zt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Zt((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function en(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Kt(t),n=.95047*Kt(n),r=1.08883*Kt(r),new et(Yt(3.2404542*n-1.5371385*t-.4985314*r),Yt(-.969266*n+1.8760108*t+.041556*r),Yt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function tn(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:Qt,reverse:en,interpolate:function(e,t,n){return{l:Wt(e.l,t.l,n),a:Wt(e.a,t.a,n),b:Wt(e.b,t.b,n),alpha:Wt(e.alpha,t.alpha,n)}}},rn={forward:function(e){var t=Qt(e),n=t.l,r=t.a,i=t.b,o=Math.atan2(i,r)*Xt;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*qt,n=e.c;return en({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:tn(e.h,t.h,n),c:Wt(e.c,t.c,n),l:Wt(e.l,t.l,n),alpha:Wt(e.alpha,t.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function sn(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}an.interpolationFactor=function(e,t,r,i){var o=0;if("exponential"===e.name)o=sn(t,e.base,r,i);else if("linear"===e.name)o=sn(t,1,r,i);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(sn(t,1,r,i))}return o},an.parse=function(e,t){var n=e[0],r=e[1],i=e[2],o=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,Fe)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=Ve:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var c=0;c<o.length;c+=2){var f=o[c],h=o[c+1],d=c+3,p=c+4;if("number"!=typeof f)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(u.length&&u[u.length-1][0]>=f)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var g=t.parse(h,p,l);if(!g)return null;l=l||g.type,u.push([f,g])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new an(l,n,r,i,u):t.error("Type "+Xe(l)+" is not interpolatable.")},an.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var o=$t(t,r),a=an.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),u=n[o+1].evaluate(e);return"interpolate"===this.operator?Ht[this.type.kind.toLowerCase()](s,u,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(u),a)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(u),a))},an.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},an.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},an.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var un=function(e,t){this.type=e,this.args=t};un.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=e.slice(1);o<a.length;o+=1){var s=t.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var u=r&&i.some((function(e){return Ke(r,e.type)}));return new un(u?Ue:n,i)},un.prototype.evaluate=function(e){for(var t,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(e))&&n instanceof it&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null===n);i+=1);return n},un.prototype.eachChild=function(e){this.args.forEach(e)},un.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},un.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var ln=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};ln.prototype.evaluate=function(e){return this.result.evaluate(e)},ln.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},ln.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return a?new ln(n,a):null},ln.prototype.outputDefined=function(){return this.result.outputDefined()},ln.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e.push(r[0],r[1].serialize())}return e.push(this.result.serialize()),e};var cn=function(e,t,n){this.type=e,this.index=t,this.input=n};cn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Fe),r=t.parse(e[2],2,qe(t.expectedType||Ue));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ct("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new ct("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new ct("Array index must be an integer, but found "+t+" instead.");return n[t]},cn.prototype.eachChild=function(e){e(this.index),e(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var fn=function(e,t){this.type=Be,this.needle=e,this.haystack=t};fn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Ue),r=t.parse(e[2],2,Ue);return n&&r?Ye(n.type,[Be,Ne,Fe,ze,Ue])?new fn(n,r):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Xe(n.type)+" instead"):null},fn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Je(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Xe(st(t))+" instead.");if(!Je(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Xe(st(n))+" instead.");return n.indexOf(t)>=0},fn.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},fn.prototype.outputDefined=function(){return!0},fn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var hn=function(e,t,n){this.type=Fe,this.needle=e,this.haystack=t,this.fromIndex=n};hn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Ue),r=t.parse(e[2],2,Ue);if(!n||!r)return null;if(!Ye(n.type,[Be,Ne,Fe,ze,Ue]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Xe(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Fe);return i?new hn(n,r,i):null}return new hn(n,r)},hn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Je(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Xe(st(t))+" instead.");if(!Je(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Xe(st(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},hn.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},hn.prototype.outputDefined=function(){return!1},hn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var dn=function(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};dn.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var i={},o=[],a=2;a<e.length-1;a+=2){var s=e[a],u=e[a+1];Array.isArray(s)||(s=[s]);var l=t.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,f=s;c<f.length;c+=1){var h=f[c];if("number"!=typeof h&&"string"!=typeof h)return l.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,st(h)))return null}else n=st(h);if(void 0!==i[String(h)])return l.error("Branch labels must be unique.");i[String(h)]=o.length}var d=t.parse(u,a,r);if(!d)return null;r=r||d.type,o.push(d)}var p=t.parse(e[1],1,Ue);if(!p)return null;var g=t.parse(e[e.length-1],e.length-1,r);return g?"value"!==p.type.kind&&t.concat(1).checkSubtype(n,p.type)?null:new dn(n,r,p,i,o,g):null},dn.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},dn.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},dn.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(f=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[f][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,l=n;u<l.length;u+=1){var c=l[u],f=c[0],h=c[1];t.push(1===h.length?s(h[0]):h.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var pn=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};pn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var o=t.parse(e[i],i,Be);if(!o)return null;var a=t.parse(e[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new pn(n,r,s):null},pn.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];if(r[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},pn.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];e(r[0]),e(i)}e(this.otherwise)},pn.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},pn.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var gn=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};function mn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function vn(e,t,n,r){return 0===r.compare(t,n)}function yn(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){this.type=Be,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],o=t.parse(e[1],1,Ue);if(!o)return null;if(!mn(n,o.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Xe(o.type)+"'.");var a=t.parse(e[2],2,Ue);if(!a)return null;if(!mn(n,a.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Xe(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Xe(o.type)+"' and '"+Xe(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new ht(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new ht(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,We)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=st(o),u=st(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ct('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=st(o),c=st(a);if("string"!==l.kind||"string"!==c.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}gn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Ue),r=t.parse(e[2],2,Fe);if(!n||!r)return null;if(!Ye(n.type,[qe(Ue),Ne,Ue]))return t.error("Expected first argument to be of type array or string, but found "+Xe(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Fe);return i?new gn(n.type,n,r,i):null}return new gn(n.type,n,r)},gn.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Je(t,["string","array"]))throw new ct("Expected first argument to be of type array or string, but found "+Xe(st(t))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},gn.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},gn.prototype.outputDefined=function(){return!1},gn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var bn=yn("==",(function(e,t,n){return t===n}),vn),_n=yn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!vn(0,t,n,r)})),wn=yn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),xn=yn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),On=yn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),kn=yn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),Sn=function(e,t,n,r,i){this.type=Ne,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Sn.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Fe);if(!n)return null;var r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=t.parse(r.locale,1,Ne)))return null;var o=null;if(r.currency&&!(o=t.parse(r.currency,1,Ne)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=t.parse(r["min-fraction-digits"],1,Fe)))return null;var s=null;return r["max-fraction-digits"]&&!(s=t.parse(r["max-fraction-digits"],1,Fe))?null:new Sn(n,i,o,a,s)},Sn.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Sn.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Sn.prototype.outputDefined=function(){return!1},Sn.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var En=function(e){this.type=Fe,this.input=e};En.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+Xe(n.type)+" instead."):new En(n):null},En.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ct("Expected value to be of type string or array, but found "+Xe(st(t))+" instead.")},En.prototype.eachChild=function(e){e(this.input)},En.prototype.outputDefined=function(){return!1},En.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Cn={"==":bn,"!=":_n,">":xn,"<":wn,">=":kn,"<=":On,array:ht,at:cn,boolean:ht,case:pn,coalesce:un,collator:_t,format:dt,image:pt,in:fn,"index-of":hn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:En,let:ln,literal:lt,match:dn,number:ht,"number-format":Sn,object:ht,slice:gn,step:Ut,string:ht,"to-boolean":mt,"to-color":mt,"to-number":mt,"to-string":mt,var:Bt,within:Dt};function An(e,t){var n=t[0],r=t[1],i=t[2],o=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var a=o?o.evaluate(e):1,s=ot(n,r,i,a);if(s)throw new ct(s);return new et(n/255*a,r/255*a,i/255*a,a)}function Pn(e,t){return e in t}function jn(e,t){var n=t[e];return void 0===n?null:n}function Tn(e){return{type:e}}function Mn(e){return{result:"success",value:e}}function Rn(e){return{result:"error",value:e}}function Ln(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function In(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Dn(e){return!!e.expression&&e.expression.interpolated}function zn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Fn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Nn(e){return e}function Bn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Vn(e,t,n,r,i){return Bn(typeof n===i?r[n]:void 0,e.default,t.default)}function $n(e,t,n){if("number"!==zn(n))return Bn(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=$t(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function Un(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==zn(n))return Bn(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var o=$t(e.stops.map((function(e){return e[0]})),n),a=function(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],u=e.stops[o+1][1],l=Ht[t.type]||Nn;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=on[e.colorSpace];l=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=u.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return l(n,r,a)}}:l(s,u,a)}function Wn(e,t,n){return"color"===t.type?n=et.parse(n):"formatted"===t.type?n=rt.fromString(n.toString()):"resolvedImage"===t.type?n=it.fromString(n.toString()):zn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Bn(n,e.default,t.default)}bt.register(Cn,{error:[{kind:"error"},[Ne],function(e,t){throw new ct(t[0].evaluate(e))}],typeof:[Ne,[Ue],function(e,t){return Xe(st(t[0].evaluate(e)))}],"to-rgba":[qe(Fe,4),[Ve],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ve,[Fe,Fe,Fe],An],rgba:[Ve,[Fe,Fe,Fe,Fe],An],has:{type:Be,overloads:[[[Ne],function(e,t){return Pn(t[0].evaluate(e),e.properties())}],[[Ne,$e],function(e,t){var n=t[1];return Pn(t[0].evaluate(e),n.evaluate(e))}]]},get:{type:Ue,overloads:[[[Ne],function(e,t){return jn(t[0].evaluate(e),e.properties())}],[[Ne,$e],function(e,t){var n=t[1];return jn(t[0].evaluate(e),n.evaluate(e))}]]},"feature-state":[Ue,[Ne],function(e,t){return jn(t[0].evaluate(e),e.featureState||{})}],properties:[$e,[],function(e){return e.properties()}],"geometry-type":[Ne,[],function(e){return e.geometryType()}],id:[Ue,[],function(e){return e.id()}],zoom:[Fe,[],function(e){return e.globals.zoom}],"heatmap-density":[Fe,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Fe,[],function(e){return e.globals.lineProgress||0}],accumulated:[Ue,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Fe,Tn(Fe),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[Fe,Tn(Fe),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:Fe,overloads:[[[Fe,Fe],function(e,t){var n=t[1];return t[0].evaluate(e)-n.evaluate(e)}],[[Fe],function(e,t){return-t[0].evaluate(e)}]]},"/":[Fe,[Fe,Fe],function(e,t){var n=t[1];return t[0].evaluate(e)/n.evaluate(e)}],"%":[Fe,[Fe,Fe],function(e,t){var n=t[1];return t[0].evaluate(e)%n.evaluate(e)}],ln2:[Fe,[],function(){return Math.LN2}],pi:[Fe,[],function(){return Math.PI}],e:[Fe,[],function(){return Math.E}],"^":[Fe,[Fe,Fe],function(e,t){var n=t[1];return Math.pow(t[0].evaluate(e),n.evaluate(e))}],sqrt:[Fe,[Fe],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[Fe,[Fe],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[Fe,[Fe],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[Fe,[Fe],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[Fe,[Fe],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[Fe,[Fe],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[Fe,[Fe],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[Fe,Tn(Fe),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[Fe,Tn(Fe),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[Fe,[Fe],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[Fe,[Fe],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Fe,[Fe],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[Fe,[Fe],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[Be,[Ne,Ue],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[Be,[Ue],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[Be,[Ne],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[Be,[Ne,Ue],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Be,[Ue],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Be,[Ne,Ue],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[Be,[Ue],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Be,[Ne,Ue],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Be,[Ue],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Be,[Ne,Ue],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Be,[Ue],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Be,[Ue],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Be,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Be,[qe(Ne)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Be,[qe(Ue)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Be,[Ne,qe(Ue)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[Be,[Ne,qe(Ue)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Be,overloads:[[[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)&&n.evaluate(e)}],[Tn(Be),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:Be,overloads:[[[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)||n.evaluate(e)}],[Tn(Be),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[Be,[Be],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Be,[Ne],function(e,t){var n=e.globals&&e.globals.isSupportedScript;return!n||n(t[0].evaluate(e))}],upcase:[Ne,[Ne],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Ne,[Ne],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Ne,Tn(Ue),function(e,t){return t.map((function(t){return ut(t.evaluate(e))})).join("")}],"resolved-locale":[Ne,[We],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Hn=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new yt,this._defaultValue=t?function(e){return"color"===e.type&&Fn(e.default)?new et(0,0,0,0):"color"===e.type?et.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Gn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Cn}function qn(e,t){var n=new Vt(Cn,[],t?function(e){var t={color:Ve,string:Ne,number:Fe,enum:Ne,boolean:Be,formatted:He,resolvedImage:Ge};return"array"===e.type?qe(t[e.value]||Ue,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Mn(new Hn(r,t)):Rn(n.errors)}Hn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Hn.prototype.evaluate=function(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ct("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Xn=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Ft(t.expression)};Xn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Xn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)};var Zn=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Ft(t.expression),this.interpolationType=r};function Kn(e,t){if("error"===(e=qn(e,t)).result)return e;var n=e.value.expression,r=zt(n);if(!r&&!Ln(t))return Rn([new Ie("","data expressions not supported")]);var i=Nt(n,["zoom"]);if(!i&&!In(t))return Rn([new Ie("","zoom expressions not supported")]);var o=function e(t){var n=null;if(t instanceof ln)n=e(t.result);else if(t instanceof un)for(var r=0,i=t.args;r<i.length&&!(n=e(i[r]));r+=1);else(t instanceof Ut||t instanceof an)&&t.input instanceof bt&&"zoom"===t.input.name&&(n=t);return n instanceof Ie||t.eachChild((function(t){var r=e(t);r instanceof Ie?n=r:!n&&r?n=new Ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Ie("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Ie?Rn([o]):o instanceof an&&!Dn(t)?Rn([new Ie("",'"interpolate" expressions cannot be used with this property')]):Mn(o?new Zn(r?"camera":"composite",e.value,o.labels,o instanceof an?o.interpolation:void 0):new Xn(r?"constant":"source",e.value)):Rn([new Ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Zn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)},Zn.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,e,t,n):0};var Yn=function(e,t){this._parameters=e,this._specification=t,Me(this,function e(t,n){var r,i,o,a="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],u=s||!(s||void 0!==t.property),l=t.type||(Dn(n)?"exponential":"interval");if(a&&((t=Me({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t.default=et.parse(t.default?t.default:n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!on[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===l)r=Un;else if("interval"===l)r=$n;else if("categorical"===l){r=Vn,i=Object.create(null);for(var c=0,f=t.stops;c<f.length;c+=1){var h=f[c];i[h[0]]=h[1]}o=typeof t.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');r=Wn}if(s){for(var d={},p=[],g=0;g<t.stops.length;g++){var m=t.stops[g],v=m[0].zoom;void 0===d[v]&&(d[v]={zoom:v,type:t.type,property:t.property,default:t.default,stops:[]},p.push(v)),d[v].stops.push([m[0].value,m[1]])}for(var y=[],b=0,_=p;b<_.length;b+=1){var w=_[b];y.push([d[w].zoom,e(d[w],n)])}var x={name:"linear"};return{kind:"composite",interpolationType:x,interpolationFactor:an.interpolationFactor.bind(void 0,x),zoomStops:y.map((function(e){return e[0]})),evaluate:function(e,r){var i=e.zoom;return Un({stops:y,base:t.base},n,i).evaluate(i,r)}}}if(u){var O="exponential"===l?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:O,interpolationFactor:an.interpolationFactor.bind(void 0,O),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return r(t,n,e.zoom,i,o)}}}return{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?Bn(t.default,n.default):r(t,n,s,i,o)}}}(this._parameters,this._specification))};function Jn(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],u=zn(n);if("object"!==u)return[new je(t,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],f=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=Or;else if(i["*"])h=i["*"];else{if(!r["*"]){s.push(new je(t,n[l],'unknown property "'+l+'"'));continue}h=Or}s=s.concat(h({key:(t?t+".":t)+l,value:n[l],valueSpec:f,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var d in r)i[d]||r[d].required&&void 0===r[d].default&&void 0===n[d]&&s.push(new je(t,n,'missing required property "'+d+'"'));return s}function Qn(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||Or;if("array"!==zn(t))return[new je(o,t,"array expected, "+zn(t)+" found")];if(n.length&&t.length!==n.length)return[new je(o,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new je(o,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===zn(n.value)&&(s=n.value);for(var u=[],l=0;l<t.length;l++)u=u.concat(a({array:t,arrayIndex:l,value:t[l],valueSpec:s,style:r,styleSpec:i,key:o+"["+l+"]"}));return u}function er(e){var t=e.key,n=e.value,r=e.valueSpec,i=zn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new je(t,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new je(t,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new je(t,n,n+" is greater than the maximum value "+r.maximum)]:[]}function tr(e){var t,n,r,i=e.valueSpec,o=Re(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,u=!s,l="array"===zn(e.value.stops)&&"array"===zn(e.value.stops[0])&&"object"===zn(e.value.stops[0][0]),c=Jn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new je(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(Qn({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:f})),"array"===zn(n)&&0===n.length&&t.push(new je(e.key,n,"array must have at least one stop")),t},default:function(e){return Or({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&c.push(new je(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||c.push(new je(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!Dn(e.valueSpec)&&c.push(new je(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!Ln(e.valueSpec)?c.push(new je(e.key,e.value,"property functions not supported")):s&&!In(e.valueSpec)&&c.push(new je(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==e.value.property||c.push(new je(e.key,e.value,'"property" property is required')),c;function f(e){var t=[],o=e.value,s=e.key;if("array"!==zn(o))return[new je(s,o,"array expected, "+zn(o)+" found")];if(2!==o.length)return[new je(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==zn(o[0]))return[new je(s,o,"object expected, "+zn(o[0])+" found")];if(void 0===o[0].zoom)return[new je(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new je(s,o,"object stop key must have value")];if(r&&r>Re(o[0].zoom))return[new je(s,o[0].zoom,"stop zoom values must appear in ascending order")];Re(o[0].zoom)!==r&&(r=Re(o[0].zoom),n=void 0,a={}),t=t.concat(Jn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:er,value:h}}))}else t=t.concat(h({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return Gn(Le(o[1]))?t.concat([new je(s+"[1]",o[1],"expressions are not allowed in function stops.")]):t.concat(Or({key:s+"[1]",value:o[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function h(e,r){var s=zn(e.value),u=Re(e.value),l=null!==e.value?e.value:r;if(t){if(s!==t)return[new je(e.key,l,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new je(e.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return Ln(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new je(e.key,l,c)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new je(e.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new je(e.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new je(e.key,l,"integer expected, found "+u)]}}function nr(e){var t=("property"===e.expressionContext?Kn:qn)(Le(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new je(""+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new je(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Ft(n))return[new je(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Ft(n))return[new je(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Nt(n,["zoom","feature-state"]))return[new je(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!zt(n))return[new je(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Re(n))&&i.push(new je(t,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Re(n))&&i.push(new je(t,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Yn.deserialize=function(e){return new Yn(e._parameters,e._specification)},Yn.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var or={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ar(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};ir(e)||(e=ur(e));var t=qn(e,or);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var n=1;n<t.length;n++)if(e(t[n]))return!0;return!1}(e)}}function sr(e,t){return e<t?-1:e>t?1:0}function ur(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?lr(e[1],e[2],"=="):"!="===n?hr(lr(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?lr(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(ur))):"all"===n?["all"].concat(e.slice(1).map(ur)):"none"===n?["all"].concat(e.slice(1).map(ur).map(hr)):"in"===n?cr(e[1],e.slice(2)):"!in"===n?hr(cr(e[1],e.slice(2))):"has"===n?fr(e[1]):"!has"===n?hr(fr(e[1])):"within"!==n||e}function lr(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function cr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sr)]]:["filter-in-small",e,["literal",t]]}}function fr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function hr(e){return["!",e]}function dr(e){return ir(Le(e.value))?nr(Me({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,r=t.key;if("array"!==zn(n))return[new je(r,n,"array expected, "+zn(n)+" found")];var i,o=t.styleSpec,a=[];if(n.length<1)return[new je(r,n,"filter array must have at least 1 element")];switch(a=a.concat(rr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),Re(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Re(n[1])&&a.push(new je(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new je(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=zn(n[1]))&&a.push(new je(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=zn(n[s]),"$type"===Re(n[1])?a=a.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new je(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(e({key:r+"["+u+"]",value:n[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=zn(n[1]),2!==n.length?a.push(new je(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new je(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=zn(n[1]),2!==n.length?a.push(new je(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new je(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(e)}function pr(e,t){var n=e.key,r=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return Or({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,c=e.valueSpec||s[a];if(!c)return[new je(n,o,'unknown property "'+a+'"')];if("string"===zn(o)&&Ln(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new je(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var f=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&f.push(new je(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Fn(Le(o))&&"identity"===Re(o.type)&&f.push(new je(n,o,'"text-font" does not support identity functions'))),f.concat(Or({key:e.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function gr(e){return pr(e,"paint")}function mr(e){return pr(e,"layout")}function vr(e){var t=[],n=e.value,r=e.key,i=e.style,o=e.styleSpec;n.type||n.ref||t.push(new je(r,n,'either "type" or "ref" is required'));var a,s=Re(n.type),u=Re(n.ref);if(n.id)for(var l=Re(n.id),c=0;c<e.arrayIndex;c++){var f=i.layers[c];Re(f.id)===l&&t.push(new je(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+f.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new je(r,n[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Re(e.id)===u&&(a=e)})),a?a.ref?t.push(new je(r,n.ref,"ref cannot reference another ref layer")):s=Re(a.type):t.push(new je(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var h=i.sources&&i.sources[n.source],d=h&&Re(h.type);h?"vector"===d&&"raster"===s?t.push(new je(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===d&&"raster"!==s?t.push(new je(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?t.push(new je(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===d&&h.lineMetrics||t.push(new je(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new je(r,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new je(r,n.source,'source "'+n.source+'" not found'))}else t.push(new je(r,n,'missing required property "source"'));return t=t.concat(Jn({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Or({key:r+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:dr,layout:function(e){return Jn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return mr(Me({layerType:s},e))}}})},paint:function(e){return Jn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return gr(Me({layerType:s},e))}}})}}}))}function yr(e){var t=e.value,n=e.key,r=zn(t);return"string"!==r?[new je(n,t,"string expected, "+r+" found")]:[]}var br={promoteId:function(e){var t=e.key,n=e.value;if("string"===zn(n))return yr({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,yr({key:t+"."+i,value:n[i]}));return r}};function _r(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new je(n,t,'"type" is required')];var o,a=Re(t.type);switch(a){case"vector":case"raster":case"raster-dem":return Jn({key:n,value:t,valueSpec:r["source_"+a.replace("-","_")],style:e.style,styleSpec:r,objectElementValidators:br});case"geojson":if(o=Jn({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:br}),t.cluster)for(var s in t.clusterProperties){var u=t.clusterProperties[s],l=u[0],c="string"==typeof l?[l,["accumulated"],["get",s]]:l;o.push.apply(o,nr({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),o.push.apply(o,nr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return Jn({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Jn({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new je(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function wr(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,o=[],a=zn(t);if(void 0===t)return o;if("object"!==a)return o.concat([new je("light",t,"object expected, "+a+" found")]);for(var s in t){var u=s.match(/^(.*)-transition$/);o=o.concat(u&&r[u[1]]&&r[u[1]].transition?Or({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Or({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new je(s,t[s],'unknown property "'+s+'"')])}return o}var xr={"*":function(){return[]},array:Qn,boolean:function(e){var t=e.value,n=e.key,r=zn(t);return"boolean"!==r?[new je(n,t,"boolean expected, "+r+" found")]:[]},number:er,color:function(e){var t=e.key,n=e.value,r=zn(n);return"string"!==r?[new je(t,n,"color expected, "+r+" found")]:null===Qe(n)?[new je(t,n,'color expected, "'+n+'" found')]:[]},constants:Te,enum:rr,filter:dr,function:tr,layer:vr,object:Jn,source:_r,light:wr,string:yr,formatted:function(e){return 0===yr(e).length?[]:nr(e)},resolvedImage:function(e){return 0===yr(e).length?[]:nr(e)}};function Or(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Fn(Re(t))?tr(e):n.expression&&Gn(Le(t))?nr(e):n.type&&xr[n.type]?xr[n.type](e):Jn(Me({},e,{valueSpec:n.type?r[n.type]:n}))}function kr(e){var t=e.value,n=e.key,r=yr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new je(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new je(n,t,'"glyphs" url must include a "{range}" token'))),r}function Sr(e,t){void 0===t&&(t=Pe);var n=[];return n=n.concat(Or({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:kr,"*":function(){return[]}}})),e.constants&&(n=n.concat(Te({key:"constants",value:e.constants,style:e,styleSpec:t}))),Er(n)}function Er(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Cr(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Er(e.apply(this,t))}}Sr.source=Cr(_r),Sr.light=Cr(wr),Sr.layer=Cr(vr),Sr.filter=Cr(dr),Sr.paintProperty=Cr(gr),Sr.layoutProperty=Cr(mr);var Ar=Sr,Pr=Ar.light,jr=Ar.paintProperty,Tr=Ar.layoutProperty;function Mr(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1)e.fire(new Ce(new Error(i[r].message))),n=!0;return n}var Rr=Lr;function Lr(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var u=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var l=0;l<this.d*this.d;l++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var c=n/t*e;this.min=-c,this.max=e+c}Lr.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Lr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Lr.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},Lr.prototype.query=function(e,t,n,r,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},Lr.prototype._queryCell=function(e,t,n,r,i,o,a,s){var u=this.cells[i];if(null!==u)for(var l=this.keys,c=this.bboxes,f=0;f<u.length;f++){var h=u[f];if(void 0===a[h]){var d=4*h;(s?s(c[d+0],c[d+1],c[d+2],c[d+3]):e<=c[d+2]&&t<=c[d+3]&&n>=c[d+0]&&r>=c[d+1])?(a[h]=!0,o.push(l[h])):a[h]=!1}}},Lr.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var u=this._convertToCellCoord(e),l=this._convertToCellCoord(t),c=this._convertToCellCoord(n),f=this._convertToCellCoord(r),h=u;h<=c;h++)for(var d=l;d<=f;d++){var p=this.d*d+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(d),this._convertFromCellCoord(h+1),this._convertFromCellCoord(d+1)))&&i.call(this,e,t,n,r,p,o,a,s))return}},Lr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Lr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Lr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Ir=a.ImageData,Dr=a.ImageBitmap,zr={};function Fr(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),zr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var Nr in Fr("Object",Object),Rr.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Rr.deserialize=function(e){return new Rr(e.buffer)},Fr("Grid",Rr),Fr("Color",et),Fr("Error",Error),Fr("ResolvedImage",it),Fr("StylePropertyFunction",Yn),Fr("StyleExpression",Hn,{omit:["_evaluator"]}),Fr("ZoomDependentExpression",Zn),Fr("ZoomConstantExpression",Xn),Fr("CompoundExpression",bt,{omit:["_evaluate"]}),Cn)Cn[Nr]._classRegistryKey||Fr("Expression_"+Nr,Cn[Nr]);function Br(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Vr(e){return Dr&&e instanceof Dr}function $r(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Br(e)||Vr(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof Ir)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,o=e;i<o.length;i+=1)r.push($r(o[i],t));return r}if("object"==typeof e){var a=e.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=a.serialize?a.serialize(e,t):{};if(!a.serialize){for(var l in e)if(e.hasOwnProperty(l)&&!(zr[s].omit.indexOf(l)>=0)){var c=e[l];u[l]=zr[s].shallow.indexOf(l)>=0?c:$r(c,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof e)}function Ur(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Br(e)||Vr(e)||ArrayBuffer.isView(e)||e instanceof Ir)return e;if(Array.isArray(e))return e.map(Ur);if("object"==typeof e){var t=e.$name||"Object",n=zr[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,o=Object.keys(e);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=e[a];r[a]=zr[t].shallow.indexOf(a)>=0?s:Ur(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var Wr=function(){this.first=!0};Wr.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var Hr={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Gr(e){for(var t=0,n=e;t<n.length;t+=1)if(qr(n[t].charCodeAt(0)))return!0;return!1}function qr(e){return!(746!==e&&747!==e&&(e<4352||!(Hr["Bopomofo Extended"](e)||Hr.Bopomofo(e)||Hr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Hr["CJK Compatibility Ideographs"](e)||Hr["CJK Compatibility"](e)||Hr["CJK Radicals Supplement"](e)||Hr["CJK Strokes"](e)||!(!Hr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Hr["CJK Unified Ideographs Extension A"](e)||Hr["CJK Unified Ideographs"](e)||Hr["Enclosed CJK Letters and Months"](e)||Hr["Hangul Compatibility Jamo"](e)||Hr["Hangul Jamo Extended-A"](e)||Hr["Hangul Jamo Extended-B"](e)||Hr["Hangul Jamo"](e)||Hr["Hangul Syllables"](e)||Hr.Hiragana(e)||Hr["Ideographic Description Characters"](e)||Hr.Kanbun(e)||Hr["Kangxi Radicals"](e)||Hr["Katakana Phonetic Extensions"](e)||Hr.Katakana(e)&&12540!==e||!(!Hr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Hr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Hr["Unified Canadian Aboriginal Syllabics"](e)||Hr["Unified Canadian Aboriginal Syllabics Extended"](e)||Hr["Vertical Forms"](e)||Hr["Yijing Hexagram Symbols"](e)||Hr["Yi Syllables"](e)||Hr["Yi Radicals"](e))))}function Xr(e){return!(qr(e)||function(e){return!!(Hr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Hr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Hr["Letterlike Symbols"](e)||Hr["Number Forms"](e)||Hr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Hr["Control Pictures"](e)&&9251!==e||Hr["Optical Character Recognition"](e)||Hr["Enclosed Alphanumerics"](e)||Hr["Geometric Shapes"](e)||Hr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Hr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Hr["CJK Symbols and Punctuation"](e)||Hr.Katakana(e)||Hr["Private Use Area"](e)||Hr["CJK Compatibility Forms"](e)||Hr["Small Form Variants"](e)||Hr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Zr(e){return e>=1424&&e<=2303||Hr["Arabic Presentation Forms-A"](e)||Hr["Arabic Presentation Forms-B"](e)}function Kr(e,t){return!(!t&&Zr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Hr.Khmer(e))}function Yr(e){for(var t=0,n=e;t<n.length;t+=1)if(Zr(n[t].charCodeAt(0)))return!0;return!1}var Jr=null,Qr="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Qr="error"),Jr&&Jr(e)};function ni(){ri.fire(new Ee("pluginStateChange",{pluginStatus:Qr,pluginURL:ei}))}var ri=new Ae,ii=function(){return Qr},oi=function(){if("deferred"!==Qr||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qr="loading",ni(),ei&&_e({url:ei},(function(e){e?ti(e):(Qr="loaded",ni())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Qr||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===Qr},setState:function(e){Qr=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wr,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!Kr(r[n].charCodeAt(0),t))return!1;return!0}(e,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var ui=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Fn(e))return new Yn(e,t);if(Gn(e)){var n=Kn(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=et.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===t?e.specification.default:t,e.specification)};ui.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ui.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var li=function(e){this.property=e,this.value=new ui(e,void 0)};li.prototype.transitioned=function(e,t){return new fi(this.property,this.value,t,h({},e.transition,this.transition),e.now)},li.prototype.untransitioned=function(){return new fi(this.property,this.value,null,{},0)};var ci=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(e){return w(this._values[e].value.value)},ci.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new li(this._values[e].property)),this._values[e].value=new ui(this._values[e].property,null===t?void 0:w(t))},ci.prototype.getTransition=function(e){return w(this._values[e].transition)},ci.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new li(this._values[e].property)),this._values[e].transition=w(t)||void 0},ci.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var o=this.getTransition(r);void 0!==o&&(e[r+"-transition"]=o)}return e},ci.prototype.transitioned=function(e,t){for(var n=new hi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(e,t._values[o])}return n},ci.prototype.untransitioned=function(){for(var e=new hi(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var fi=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};fi.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}return i};var hi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};hi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new gi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r},hi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var di=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};di.prototype.getValue=function(e){return w(this._values[e].value)},di.prototype.setValue=function(e,t){this._values[e]=new ui(this._values[e].property,null===t?void 0:w(t))},di.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e},di.prototype.possiblyEvaluate=function(e,t,n){for(var r=new gi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r};var pi=function(e,t,n){this.property=e,this.value=t,this.parameters=n};pi.prototype.isConstant=function(){return"constant"===this.value.kind},pi.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},pi.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var gi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};gi.prototype.get=function(e){return this._values[e]};var mi=function(e){this.specification=e};mi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},mi.prototype.interpolate=function(e,t,n){var r=Ht[this.specification.type];return r?r(e,t,n):e};var vi=function(e,t){this.specification=e,this.overrides=t};vi.prototype.possiblyEvaluate=function(e,t,n,r){return new pi(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)},vi.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new pi(this,{kind:"constant",value:void 0},e.parameters);var r=Ht[this.specification.type];return r?new pi(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e},vi.prototype.evaluate=function(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)};var yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0===e.value)return new pi(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new pi(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new pi(this,{kind:"constant",value:s},t)}return new pi(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,o){if("source"===e.kind){var a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(vi),bi=function(e){this.specification=e};bi.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},bi.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},bi.prototype.interpolate=function(e){return e};var _i=function(e){this.specification=e};_i.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},_i.prototype.interpolate=function(){return!1};var wi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new ui(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new li(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};Fr("DataDrivenProperty",vi),Fr("DataConstantProperty",mi),Fr("CrossFadedDataDrivenProperty",yi),Fr("CrossFadedProperty",bi),Fr("ColorRampProperty",_i);var xi=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new di(n.layout)),n.paint)){for(var r in this._transitionablePaint=new ci(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new gi(n.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){void 0===n&&(n={}),null!=t&&this._validate(Tr,"layers."+this.id+".layout."+e,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return y(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t&&this._validate(jr,"layers."+this.id+".paint."+e,e,t,n))return!1;if(y(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(e,a,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),_(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Mr(this,e.call(Ar,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Pe,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof pi&&Ln(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(Ae),Oi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ki=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Si=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ei(e,t){void 0===t&&(t=1);var n=0,r=0;return{members:e.map((function(e){var i=Oi[e.type].BYTES_PER_ELEMENT,o=n=Ci(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:Ci(n,Math.max(r,t)),alignment:t}}function Ci(e,t){return Math.ceil(e/t)*t}Si.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Si.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Si.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Si.prototype.clear=function(){this.length=0},Si.prototype.resize=function(e){this.reserve(e),this.length=e},Si.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Si.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(Si);Ai.prototype.bytesPerElement=4,Fr("StructArrayLayout2i4",Ai);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e},t}(Si);Pi.prototype.bytesPerElement=8,Fr("StructArrayLayout4i8",Pi);var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Si);ji.prototype.bytesPerElement=12,Fr("StructArrayLayout2i4i12",ji);var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=4*e,u=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=o,this.uint8[u+7]=a,e},t}(Si);Ti.prototype.bytesPerElement=8,Fr("StructArrayLayout2i4ub8",Ti);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(Si);Mi.prototype.bytesPerElement=8,Fr("StructArrayLayout2f8",Mi);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,u,l)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l,c){var f=10*e;return this.uint16[f+0]=t,this.uint16[f+1]=n,this.uint16[f+2]=r,this.uint16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=u,this.uint16[f+8]=l,this.uint16[f+9]=c,e},t}(Si);Ri.prototype.bytesPerElement=20,Fr("StructArrayLayout10ui20",Ri);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l,c,f){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,n,r,i,o,a,s,u,l,c,f)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l,c,f,h){var d=12*e;return this.int16[d+0]=t,this.int16[d+1]=n,this.int16[d+2]=r,this.int16[d+3]=i,this.uint16[d+4]=o,this.uint16[d+5]=a,this.uint16[d+6]=s,this.uint16[d+7]=u,this.int16[d+8]=l,this.int16[d+9]=c,this.int16[d+10]=f,this.int16[d+11]=h,e},t}(Si);Li.prototype.bytesPerElement=24,Fr("StructArrayLayout4i4ui4i24",Li);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(Si);Ii.prototype.bytesPerElement=12,Fr("StructArrayLayout3f12",Ii);var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(Si);Di.prototype.bytesPerElement=4,Fr("StructArrayLayout1ul4",Di);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,o,a,s,u)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l){var c=10*e,f=5*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[f+3]=s,this.uint16[c+8]=u,this.uint16[c+9]=l,e},t}(Si);zi.prototype.bytesPerElement=20,Fr("StructArrayLayout6i1ul2ui20",zi);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Si);Fi.prototype.bytesPerElement=12,Fr("StructArrayLayout2i2i2i12",Fi);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,o){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e},t}(Si);Ni.prototype.bytesPerElement=16,Fr("StructArrayLayout2f1f2i16",Ni);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,e},t}(Si);Bi.prototype.bytesPerElement=12,Fr("StructArrayLayout2ub2f12",Bi);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(Si);Vi.prototype.bytesPerElement=6,Fr("StructArrayLayout3ui6",Vi);var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m){var v=this.length;return this.resize(v+1),this.emplace(v,e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m,v){var y=24*e,b=12*e,_=48*e;return this.int16[y+0]=t,this.int16[y+1]=n,this.uint16[y+2]=r,this.uint16[y+3]=i,this.uint32[b+2]=o,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[y+10]=u,this.uint16[y+11]=l,this.uint16[y+12]=c,this.float32[b+7]=f,this.float32[b+8]=h,this.uint8[_+36]=d,this.uint8[_+37]=p,this.uint8[_+38]=g,this.uint32[b+10]=m,this.int16[y+22]=v,e},t}(Si);$i.prototype.bytesPerElement=48,Fr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",$i);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,_,w,x,O,k,S,E,C){var A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,_,w,x,O,k,S,E,C)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,_,w,x,O,k,S,E,C,A){var P=34*e,j=17*e;return this.int16[P+0]=t,this.int16[P+1]=n,this.int16[P+2]=r,this.int16[P+3]=i,this.int16[P+4]=o,this.int16[P+5]=a,this.int16[P+6]=s,this.int16[P+7]=u,this.uint16[P+8]=l,this.uint16[P+9]=c,this.uint16[P+10]=f,this.uint16[P+11]=h,this.uint16[P+12]=d,this.uint16[P+13]=p,this.uint16[P+14]=g,this.uint16[P+15]=m,this.uint16[P+16]=v,this.uint16[P+17]=y,this.uint16[P+18]=b,this.uint16[P+19]=_,this.uint16[P+20]=w,this.uint16[P+21]=x,this.uint16[P+22]=O,this.uint32[j+12]=k,this.float32[j+13]=S,this.float32[j+14]=E,this.float32[j+15]=C,this.float32[j+16]=A,e},t}(Si);Ui.prototype.bytesPerElement=68,Fr("StructArrayLayout8i15ui1ul4f68",Ui);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(Si);Wi.prototype.bytesPerElement=4,Fr("StructArrayLayout1f4",Wi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(Si);Hi.prototype.bytesPerElement=6,Fr("StructArrayLayout3i6",Hi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}(Si);Gi.prototype.bytesPerElement=8,Fr("StructArrayLayout1ul2ui8",Gi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(Si);qi.prototype.bytesPerElement=4,Fr("StructArrayLayout2ui4",qi);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(Si);Xi.prototype.bytesPerElement=2,Fr("StructArrayLayout1ui2",Xi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e},t}(Si);Zi.prototype.bytesPerElement=16,Fr("StructArrayLayout4f16",Zi);var Ki=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(ki);Ki.prototype.size=20;var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ki(this,e)},t}(zi);Fr("CollisionBoxArray",Yi);var Ji=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(ki);Ji.prototype.size=48;var Qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ji(this,e)},t}($i);Fr("PlacedSymbolArray",Qi);var eo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(ki);eo.prototype.size=68;var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new eo(this,e)},t}(Ui);Fr("SymbolInstanceArray",to);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Wi);Fr("GlyphOffsetArray",no);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Hi);Fr("SymbolLineVertexArray",ro);var io=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(ki);io.prototype.size=8;var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new io(this,e)},t}(Gi);Fr("FeatureIndexArray",oo);var ao=Ei([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(e){void 0===e&&(e=[]),this.segments=e};function uo(e,t){return 256*(e=c(Math.floor(e),0,255))+c(Math.floor(t),0,255)}so.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>so.MAX_VERTEX_ARRAY_LENGTH&&O("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(e,t,n,r){return new so([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Fr("SegmentVector",so);var lo=Ei([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),co=t((function(e){e.exports=function(e,t){var n,r,i,o,a,s,u,l;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,l=0;l<r;)u=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(l+2))<<16;case 2:u^=(255&e.charCodeAt(l+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(l)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),fo=t((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),ho=co,po=fo;ho.murmur3=co,ho.murmur2=po;var go=function(){this.ids=[],this.positions=[],this.indexed=!1};go.prototype.add=function(e,t,n,r){this.ids.push(vo(e)),this.positions.push(t,n,r)},go.prototype.getPositions=function(e){for(var t=vo(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var o=[];this.ids[n]===t;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},go.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){for(var o=t[r+i>>1],a=r-1,s=i+1;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;yo(t,a,s),yo(n,3*a,3*s),yo(n,3*a+1,3*s+1),yo(n,3*a+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},go.deserialize=function(e){var t=new go;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var mo=Math.pow(2,53)-1;function vo(e){var t=+e;return!isNaN(t)&&t<=mo?t:ho(String(e))}function yo(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Fr("FeaturePositionMap",go);var bo=function(e,t){this.gl=e.gl,this.location=t},_o=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(bo),wo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(bo),xo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(bo),Oo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(bo),ko=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(bo),So=function(e){function t(t,n){e.call(this,t,n),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(bo),Eo=new Float32Array(16),Co=function(e){function t(t,n){e.call(this,t,n),this.current=Eo}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(bo);function Ao(e){return[uo(255*e.r,255*e.g),uo(255*e.b,255*e.a)]}var Po=function(e,t,n){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=n};Po.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},Po.prototype.getBinding=function(e,t,n){return"color"===this.type?new So(e,t):new wo(e,t)};var jo=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};jo.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},jo.prototype.setUniform=function(e,t,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)},jo.prototype.getBinding=function(e,t,n){return"u_pattern"===n.substr(0,9)?new ko(e,t):new wo(e,t)};var To=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};To.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)},To.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},To.prototype._setPaintValue=function(e,t,n){if("color"===this.type)for(var r=Ao(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=e;o<t;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},To.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},To.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Mo=function(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};Mo.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.expression.evaluate(new si(this.zoom),t,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)},Mo.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,o)},Mo.prototype._setPaintValue=function(e,t,n,r){if("color"===this.type)for(var i=Ao(n),o=Ao(r),a=e;a<t;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Mo.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Mo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Mo.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},Mo.prototype.getBinding=function(e,t,n){return new wo(e,t)};var Ro=function(e,t,n,r,i,o){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Ro.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},Ro.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},Ro.prototype._setPaintValues=function(e,t,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Ro.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,lo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,lo.members,this.expression.isStateDependent))},Ro.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Lo=function(e,t,n){this.binders={},this._buffers=[];var r=[];for(var i in e.paint._values)if(n(i)){var o=e.paint.get(i);if(o instanceof pi&&Ln(o.property.specification)){var a=Do(i,e.type),s=o.value,u=o.property.specification.type,l=o.property.useIntegerZoom,c=o.property.specification["property-type"],f="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=f?new jo(s.value,a):new Po(s.value,a,u),r.push("/u_"+i);else if("source"===s.kind||f){var h=zo(i,u,"source");this.binders[i]=f?new Ro(s,u,l,t,h,e.id):new To(s,a,u,h),r.push("/a_"+i)}else{var d=zo(i,u,"composite");this.binders[i]=new Mo(s,a,u,l,t,d),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};Lo.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof To||t instanceof Mo?t.maxValue:0},Lo.prototype.populatePaintArrays=function(e,t,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof To||a instanceof Mo||a instanceof Ro)&&a.populatePaintArray(e,t,n,r,i)}},Lo.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof jo&&r.setConstantPatternPositions(e,t)}},Lo.prototype.updatePaintArrays=function(e,t,n,r,i){var o=!1;for(var a in e)for(var s=0,u=t.getPositions(a);s<u.length;s+=1){var l=u[s],c=n.feature(l.index);for(var f in this.binders){var h=this.binders[f];if((h instanceof To||h instanceof Mo||h instanceof Ro)&&!0===h.expression.isStateDependent){var d=r.paint.get(f);h.expression=d.value,h.updatePaintArray(l.start,l.end,c,e[a],i),o=!0}}}return o},Lo.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof Po||n instanceof jo)&&e.push.apply(e,n.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Lo.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof To||n instanceof Mo)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof Ro)for(var i=0;i<lo.members.length;i++)e.push(lo.members[i].name)}return e},Lo.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Po||n instanceof jo||n instanceof Mo)for(var r=0,i=n.uniformNames;r<i.length;r+=1)e.push(i[r])}return e},Lo.prototype.getPaintVertexBuffers=function(){return this._buffers},Lo.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Po||i instanceof jo||i instanceof Mo)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(t[s]){var u=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:u})}}}return n},Lo.prototype.setUniforms=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.name,u=a.property;this.binders[u].setUniform(a.binding,r,n.get(u),s)}},Lo.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Ro){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof To||n instanceof Mo)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Lo.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof To||n instanceof Mo||n instanceof Ro)&&n.upload(e)}this.updatePaintBuffers()},Lo.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof To||t instanceof Mo||t instanceof Ro)&&t.destroy()}};var Io=function(e,t,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=e;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new Lo(o,t,n)}this.needsUpload=!1,this._featureMap=new go,this._bufferOffset=0};function Do(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function zo(e,t,n){var r={color:{source:Mi,composite:Zi},number:{source:Wi,composite:Mi}},i=function(e){return{"line-pattern":{source:Ri,composite:Ri},"fill-pattern":{source:Ri,composite:Ri},"fill-extrusion-pattern":{source:Ri,composite:Ri}}[e]}(e);return i&&i[n]||r[t][n]}Io.prototype.populatePaintArrays=function(e,t,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,r,i,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Io.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,this._featureMap,t,a,r)||this.needsUpload}},Io.prototype.get=function(e){return this.programConfigurations[e]},Io.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Io.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Fr("ConstantBinder",Po),Fr("CrossFadedConstantBinder",jo),Fr("SourceExpressionBinder",To),Fr("CrossFadedCompositeBinder",Ro),Fr("CompositeExpressionBinder",Mo),Fr("ProgramConfiguration",Lo,{omit:["_buffers"]}),Fr("ProgramConfigurationSet",Io);var Fo=Math.pow(2,14)-1,No=-Fo-1;function Bo(e){for(var t=8192/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*t),u=Math.round(a.y*t);a.x=c(s,No,Fo),a.y=c(u,No,Fo),(s<a.x||s>a.x+1||u<a.y||u>a.y+1)&&O("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Vo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Bo(e):[]}}function $o(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var Uo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ai,this.indexArray=new Vi,this.segments=new so,this.programConfigurations=new Io(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Wo(e,t){for(var n=0;n<e.length;n++)if(Qo(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(Qo(e,t[r]))return!0;return!!Xo(e,t)}function Ho(e,t,n){return!!Qo(e,t)||!!Ko(t,e,n)}function Go(e,t){if(1===e.length)return Jo(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(Qo(e,r[i]))return!0;for(var o=0;o<e.length;o++)if(Jo(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(Xo(e,t[a]))return!0;return!1}function qo(e,t,n){if(e.length>1){if(Xo(e,t))return!0;for(var r=0;r<t.length;r++)if(Ko(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Ko(e[i],t,n))return!0;return!1}function Xo(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],o=0;o<t.length-1;o++)if(Zo(r,i,t[o],t[o+1]))return!0;return!1}function Zo(e,t,n,r){return k(e,n,r)!==k(t,n,r)&&k(e,t,n)!==k(e,t,r)}function Ko(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(Yo(e,t[i-1],t[i])<r)return!0;return!1}function Yo(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Jo(e,t){for(var n,r,i,o=!1,a=0;a<e.length;a++)for(var s=0,u=(n=e[a]).length-1;s<n.length;u=s++)(r=n[s]).y>t.y!=(i=n[u]).y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function Qo(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ea(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var o=k(e,t,n[0]);return o!==k(e,t,n[1])||o!==k(e,t,n[2])||o!==k(e,t,n[3])}function ta(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function na(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ra(e,t,n,r,o){if(!t[0]&&!t[1])return e;var a=i.convert(t)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],u=0;u<e.length;u++)s.push(e[u].sub(a));return s}Uo.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.feature,c=u.id,f=u.index,h=u.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,p=Vo(l,d);if(this.layers[0]._featureFilter.filter(new si(this.zoom),p,n)){var g=o?o.evaluate(p,{},n):void 0,m={id:c,properties:l.properties,type:l.type,sourceLayerIndex:h,index:f,geometry:d?p.geometry:Bo(l),patterns:{},sortKey:g};i.push(m)}}o&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,y=i;v<y.length;v+=1){var b=y[v],_=b.geometry,w=b.index,x=b.sourceLayerIndex,O=e[w].feature;this.addFeature(b,_,w,n),t.featureIndex.insert(O,_,w,x,this.index)}},Uo.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Uo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Uo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Uo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Uo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Uo.prototype.addFeature=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var u=s[a],l=u.x,c=u.y;if(!(l<0||l>=8192||c<0||c>=8192)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),h=f.vertexLength;$o(this.layoutVertexArray,l,c,-1,-1),$o(this.layoutVertexArray,l,c,1,-1),$o(this.layoutVertexArray,l,c,1,1),$o(this.layoutVertexArray,l,c,-1,1),this.indexArray.emplaceBack(h,h+1,h+2),this.indexArray.emplaceBack(h,h+3,h+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},Fr("CircleBucket",Uo,{omit:["layers"]});var ia=new wi({"circle-sort-key":new vi(Pe.layout_circle["circle-sort-key"])}),oa={paint:new wi({"circle-radius":new vi(Pe.paint_circle["circle-radius"]),"circle-color":new vi(Pe.paint_circle["circle-color"]),"circle-blur":new vi(Pe.paint_circle["circle-blur"]),"circle-opacity":new vi(Pe.paint_circle["circle-opacity"]),"circle-translate":new mi(Pe.paint_circle["circle-translate"]),"circle-translate-anchor":new mi(Pe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mi(Pe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mi(Pe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new vi(Pe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new vi(Pe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new vi(Pe.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ua(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*f+x*g,e[1]=b*i+_*u+w*h+x*m,e[2]=b*o+_*l+w*d+x*v,e[3]=b*a+_*c+w*p+x*y,e[4]=(b=n[4])*r+(_=n[5])*s+(w=n[6])*f+(x=n[7])*g,e[5]=b*i+_*u+w*h+x*m,e[6]=b*o+_*l+w*d+x*v,e[7]=b*a+_*c+w*p+x*y,e[8]=(b=n[8])*r+(_=n[9])*s+(w=n[10])*f+(x=n[11])*g,e[9]=b*i+_*u+w*h+x*m,e[10]=b*o+_*l+w*d+x*v,e[11]=b*a+_*c+w*p+x*y,e[12]=(b=n[12])*r+(_=n[13])*s+(w=n[14])*f+(x=n[15])*g,e[13]=b*i+_*u+w*h+x*m,e[14]=b*o+_*l+w*d+x*v,e[15]=b*a+_*c+w*p+x*y,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});var la,ca=ua;function fa(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}la=new aa(3),aa!=Float32Array&&(la[0]=0,la[1]=0,la[2]=0),function(){var e=new aa(4);aa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var ha=(function(){var e=new aa(2);aa!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Uo(e)},t.prototype.queryRadius=function(e){var t=e;return ta("circle-radius",this,t)+ta("circle-stroke-width",this,t)+na(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a,s){for(var u=ra(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),c="map"===this.paint.get("circle-pitch-alignment"),f=c?u:function(e,t){return e.map((function(e){return da(e,t)}))}(u,s),h=c?l*a:l,d=0,p=r;d<p.length;d+=1)for(var g=0,m=p[d];g<m.length;g+=1){var v=m[g],y=c?v:da(v,s),b=h,_=fa([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=_[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=o.cameraToCenterDistance/_[3]),Ho(f,y,b))return!0}return!1},t}(xi));function da(e,t){var n=fa([],[e.x,e.y,0,1],t);return new i(n[0]/n[3],n[1]/n[3])}var pa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Uo);function ga(e,t,n,r){var i=t.width,o=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return e.width=i,e.height=o,e.data=r,e}function ma(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var o=ga({},{width:r,height:i},n);va(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=o.data}}function va(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,u=0;u<i.height;u++)for(var l=((n.y+u)*e.width+n.x)*o,c=((r.y+u)*t.width+r.x)*o,f=0;f<i.width*o;f++)s[c+f]=a[l+f];return t}Fr("HeatmapBucket",pa,{omit:["layers"]});var ya=function(e,t){ga(this,e,1,t)};ya.prototype.resize=function(e){ma(this,e,1)},ya.prototype.clone=function(){return new ya({width:this.width,height:this.height},new Uint8Array(this.data))},ya.copy=function(e,t,n,r,i){va(e,t,n,r,i,1)};var ba=function(e,t){ga(this,e,4,t)};ba.prototype.resize=function(e){ma(this,e,4)},ba.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},ba.prototype.clone=function(){return new ba({width:this.width,height:this.height},new Uint8Array(this.data))},ba.copy=function(e,t,n,r,i){va(e,t,n,r,i,4)},Fr("AlphaImage",ya),Fr("RGBAImage",ba);var _a={paint:new wi({"heatmap-radius":new vi(Pe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new vi(Pe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mi(Pe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _i(Pe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mi(Pe.paint_heatmap["heatmap-opacity"])})};function wa(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new ba({width:n,height:r}),o=function(n,r,o){t[e.evaluationKey]=o;var a=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var u=0,l=0;u<n;u++,l+=4){var c=u/(n-1),f=e.clips[a];o(s,l,f.start*(1-c)+f.end*c)}else for(var h=0,d=0;h<n;h++,d+=4)o(0,d,h/(n-1));return i}var xa=function(e){function t(t){e.call(this,t,_a),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new pa(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=wa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(xi),Oa={paint:new wi({"hillshade-illumination-direction":new mi(Pe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mi(Pe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mi(Pe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mi(Pe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mi(Pe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mi(Pe.paint_hillshade["hillshade-accent-color"])})},ka=function(e){function t(t){e.call(this,t,Oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(xi),Sa=Ei([{name:"a_pos",components:2,type:"Int16"}],4).members,Ea=Aa,Ca=Aa;function Aa(e,t,n){n=n||2;var r,i,o,a,s,u,l,c=t&&t.length,f=c?t[0]*n:e.length,h=Pa(e,0,f,n,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Pa(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(Ba(a));for(s.sort(Da),i=0;i<s.length;i++)za(s[i],n),n=ja(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return Ta(h,d,n,r,i,l),d}function Pa(e,t,n,r,i){var o,a;if(i===Qa(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Ka(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Ka(o,e[o],e[o+1],a);return a&&Wa(a,a.next)&&(Ya(a),a=a.next),a}function ja(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Wa(r,r.next)&&0!==Ua(r.prev,r,r.next))r=r.next;else{if(Ya(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Ta(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Na(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,o);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?Ra(e,r,i,o):Ma(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Ya(e),e=u.next,l=u.next;else if((e=u)===l){a?1===a?Ta(e=La(ja(e),t,n),t,n,r,i,o,2):2===a&&Ia(e,t,n,r,i,o):Ta(ja(e),t,n,r,i,o,1);break}}}function Ma(e){var t=e.prev,n=e,r=e.next;if(Ua(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Va(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ua(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ra(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Ua(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,l=Na(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,n,r),c=Na(s,u,t,n,r),f=e.prevZ,h=e.nextZ;f&&f.z>=l&&h&&h.z<=c;){if(f!==e.prev&&f!==e.next&&Va(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ua(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,h!==e.prev&&h!==e.next&&Va(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ua(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;f&&f.z>=l;){if(f!==e.prev&&f!==e.next&&Va(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ua(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;h&&h.z<=c;){if(h!==e.prev&&h!==e.next&&Va(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ua(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function La(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Wa(i,o)&&Ha(i,r,r.next,o)&&Xa(i,o)&&Xa(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Ya(r),Ya(r.next),r=e=o),r=r.next}while(r!==e);return ja(r)}function Ia(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&$a(a,s)){var u=Za(a,s);return a=ja(a,a.next),u=ja(u,u.next),Ta(a,t,n,r,i,o),void Ta(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Da(e,t){return e.x-t.x}function za(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Va(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),Xa(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&Fa(n,r)))&&(n=r,h=u)),r=r.next}while(r!==l);return n}(e,t)){var n=Za(t,e);ja(t,t.next),ja(n,n.next)}}function Fa(e,t){return Ua(e.prev,e,t.prev)<0&&Ua(t.next,e,e.next)<0}function Na(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ba(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Va(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function $a(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ha(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Xa(e,t)&&Xa(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Ua(e.prev,e,t.prev)||Ua(e,t.prev,t))||Wa(e,t)&&Ua(e.prev,e,e.next)>0&&Ua(t.prev,t,t.next)>0)}function Ua(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Wa(e,t){return e.x===t.x&&e.y===t.y}function Ha(e,t,n,r){var i=qa(Ua(e,t,n)),o=qa(Ua(e,t,r)),a=qa(Ua(n,r,e)),s=qa(Ua(n,r,t));return i!==o&&a!==s||!(0!==i||!Ga(e,n,t))||!(0!==o||!Ga(e,r,t))||!(0!==a||!Ga(n,e,r))||!(0!==s||!Ga(n,t,r))}function Ga(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function qa(e){return e>0?1:e<0?-1:0}function Xa(e,t){return Ua(e.prev,e,e.next)<0?Ua(e,t,e.next)>=0&&Ua(e,e.prev,t)>=0:Ua(e,t,e.prev)<0||Ua(e,e.next,t)<0}function Za(e,t){var n=new Ja(e.i,e.x,e.y),r=new Ja(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ka(e,t,n,r){var i=new Ja(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ya(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ja(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qa(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function es(e,t,n,r,i){!function e(t,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var f=t[n],h=r,d=i;for(ts(t,r,n),o(t[i],f)>0&&ts(t,r,i);h<d;){for(ts(t,h,d),h++,d--;o(t[h],f)<0;)h++;for(;o(t[d],f)>0;)d--}0===o(t[r],f)?ts(t,r,d):ts(t,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}(e,t,n||0,r||e.length-1,i||ns)}function ts(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,o=[],a=0;a<n;a++){var s=S(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[e[a]]):r.push(e[a]))}if(r&&o.push(r),t>1)for(var u=0;u<o.length;u++)o[u].length<=t||(es(o[u],t,1,o[u].length-1,is),o[u]=o[u].slice(0,t));return o}function is(e,t){return t.area-e.area}function os(e,t,n){for(var r=n.patternDependencies,i=!1,o=0,a=t;o<a.length;o+=1){var s=a[o].paint.get(e+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,r[u.to]=!0,r[u.from]=!0)}return i}function as(e,t,n,r,i){for(var o=i.patternDependencies,a=0,s=t;a<s.length;a+=1){var u=s[a],l=u.paint.get(e+"-pattern").value;if("constant"!==l.kind){var c=l.evaluate({zoom:r-1},n,{},i.availableImages),f=l.evaluate({zoom:r},n,{},i.availableImages),h=l.evaluate({zoom:r+1},n,{},i.availableImages);f=f&&f.name?f.name:f,h=h&&h.name?h.name:h,o[c=c&&c.name?c.name:c]=!0,o[f]=!0,o[h]=!0,n.patterns[u.id]={min:c,mid:f,max:h}}}return n}Aa.deviation=function(e,t,n,r){var i=t&&t.length,o=Math.abs(Qa(e,0,i?t[0]*n:e.length,n));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(Qa(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var u=0;for(a=0;a<r.length;a+=3){var l=r[a]*n,c=r[a+1]*n,f=r[a+2]*n;u+=Math.abs((e[l]-e[f])*(e[c+1]-e[l+1])-(e[l]-e[c])*(e[f+1]-e[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},Aa.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&n.holes.push(r+=e[i-1].length)}return n},Ea.default=Ca;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ai,this.indexArray=new Vi,this.indexArray2=new qi,this.programConfigurations=new Io(e.layers,e.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,n){this.hasPattern=os("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,f=s.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,d=Vo(u,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var p=r?r.evaluate(d,{},n,t.availableImages):void 0,g={id:l,properties:u.properties,type:u.type,sourceLayerIndex:f,index:c,geometry:h?d.geometry:Bo(u),patterns:{},sortKey:p};i.push(g)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,v=i;m<v.length;m+=1){var y=v[m],b=y.geometry,_=y.index,w=y.sourceLayerIndex;if(this.hasPattern){var x=as("fill",this.layers,y,this.zoom,t);this.patternFeatures.push(x)}else this.addFeature(y,b,_,n,{});t.featureIndex.insert(e[_].feature,b,_,w,this.index)}},ss.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Sa),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),h=f.vertexLength,d=[],p=[],g=0,m=s;g<m.length;g+=1){var v=m[g];if(0!==v.length){v!==s[0]&&p.push(d.length/2);var y=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),b=y.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(b+v.length-1,b),d.push(v[0].x),d.push(v[0].y);for(var _=1;_<v.length;_++)this.layoutVertexArray.emplaceBack(v[_].x,v[_].y),this.indexArray2.emplaceBack(b+_-1,b+_),d.push(v[_].x),d.push(v[_].y);y.vertexLength+=v.length,y.primitiveLength+=v.length}}for(var w=Ea(d,p),x=0;x<w.length;x+=3)this.indexArray.emplaceBack(h+w[x],h+w[x+1],h+w[x+2]);f.vertexLength+=u,f.primitiveLength+=w.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Fr("FillBucket",ss,{omit:["layers","patternFeatures"]});var us=new wi({"fill-sort-key":new vi(Pe.layout_fill["fill-sort-key"])}),ls={paint:new wi({"fill-antialias":new mi(Pe.paint_fill["fill-antialias"]),"fill-opacity":new vi(Pe.paint_fill["fill-opacity"]),"fill-color":new vi(Pe.paint_fill["fill-color"]),"fill-outline-color":new vi(Pe.paint_fill["fill-outline-color"]),"fill-translate":new mi(Pe.paint_fill["fill-translate"]),"fill-translate-anchor":new mi(Pe.paint_fill["fill-translate-anchor"]),"fill-pattern":new yi(Pe.paint_fill["fill-pattern"])}),layout:us},cs=function(e){function t(t){e.call(this,t,ls)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a){return Go(ra(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},t.prototype.isTileClipped=function(){return!0},t}(xi),fs=Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,hs=ds;function ds(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(ps,this,t)}function ps(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function gs(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)r+=((n=e[a]).x-(t=e[i]).x)*(t.y+n.y);return r}ds.types=["Unknown","Point","LineString","Polygon"],ds.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,o=0,a=0,s=0,u=[];e.pos<n;){if(o<=0){var l=e.readVarint();r=7&l,o=l>>3}if(o--,1===r||2===r)a+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&u.push(t),t=[]),t.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&u.push(t),u},ds.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},ds.prototype.toGeoJSON=function(e,t,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,u=this.loadGeometry(),l=ds.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(r=0;r<u.length;r++)f[r]=u[r][0];c(u=f);break;case 2:for(r=0;r<u.length;r++)c(u[r]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=gs(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)c(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var h={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(h.id=this.id),h};var ms=vs;function vs(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ys,this,t),this.length=this._features.length}function ys(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function bs(e,t,n){if(3===e){var r=new ms(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}vs.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new hs(this._pbf,t,this.extent,this._keys,this._values)};var _s={VectorTile:function(e,t){this.layers=e.readFields(bs,{},t)},VectorTileFeature:hs,VectorTileLayer:ms},ws=_s.VectorTileFeature.types,xs=Math.pow(2,13);function Os(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*xs)+a,i*xs*2,o*xs*2,Math.round(s))}var ks=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ji,this.indexArray=new Vi,this.programConfigurations=new Io(e.layers,e.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Ss(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}ks.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,u=o.index,l=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,f=Vo(a,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var h={id:s,sourceLayerIndex:l,index:u,geometry:c?f.geometry:Bo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,h,this.zoom,t)):this.addFeature(h,h.geometry,u,n,{}),t.featureIndex.insert(a,h.geometry,u,l,this.index,!0)}}},ks.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},ks.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},ks.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ks.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ks.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},ks.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ks.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),h=0,d=s;h<d.length;h+=1){var p=d[h];if(0!==p.length&&!((M=p).every((function(e){return e.x<0}))||M.every((function(e){return e.x>8192}))||M.every((function(e){return e.y<0}))||M.every((function(e){return e.y>8192}))))for(var g=0,m=0;m<p.length;m++){var v=p[m];if(m>=1){var y=p[m-1];if(!Ss(v,y)){f.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var b=v.sub(y)._perp()._unit(),_=y.dist(v);g+_>32768&&(g=0),Os(this.layoutVertexArray,v.x,v.y,b.x,b.y,0,0,g),Os(this.layoutVertexArray,v.x,v.y,b.x,b.y,0,1,g),Os(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,0,g+=_),Os(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,1,g);var w=f.vertexLength;this.indexArray.emplaceBack(w,w+2,w+1),this.indexArray.emplaceBack(w+1,w+2,w+3),f.vertexLength+=4,f.primitiveLength+=2}}}}if(f.vertexLength+u>so.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===ws[e.type]){for(var x=[],O=[],k=f.vertexLength,S=0,E=s;S<E.length;S+=1){var C=E[S];if(0!==C.length){C!==s[0]&&O.push(x.length/2);for(var A=0;A<C.length;A++){var P=C[A];Os(this.layoutVertexArray,P.x,P.y,0,0,1,1,0),x.push(P.x),x.push(P.y)}}}for(var j=Ea(x,O),T=0;T<j.length;T+=3)this.indexArray.emplaceBack(k+j[T],k+j[T+2],k+j[T+1]);f.primitiveLength+=j.length/3,f.vertexLength+=u}}var M;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Fr("FillExtrusionBucket",ks,{omit:["layers","features"]});var Es={paint:new wi({"fill-extrusion-opacity":new mi(Pe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new vi(Pe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mi(Pe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mi(Pe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new yi(Pe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new vi(Pe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new vi(Pe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mi(Pe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Cs=function(e){function t(t){e.call(this,t,Es)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new ks(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s,u){var l=ra(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,n),f=this.paint.get("fill-extrusion-base").evaluate(t,n),h=function(e,t,n,r){for(var o=[],a=0,s=e;a<s.length;a+=1){var u=s[a],l=[u.x,u.y,0,1];fa(l,l,t),o.push(new i(l[0]/l[3],l[1]/l[3]))}return o}(l,u),d=function(e,t,n,r){for(var o=[],a=[],s=r[8]*t,u=r[9]*t,l=r[10]*t,c=r[11]*t,f=r[8]*n,h=r[9]*n,d=r[10]*n,p=r[11]*n,g=0,m=e;g<m.length;g+=1){for(var v=[],y=[],b=0,_=m[g];b<_.length;b+=1){var w=_[b],x=w.x,O=w.y,k=r[0]*x+r[4]*O+r[12],S=r[1]*x+r[5]*O+r[13],E=r[2]*x+r[6]*O+r[14],C=r[3]*x+r[7]*O+r[15],A=E+l,P=C+c,j=k+f,T=S+h,M=E+d,R=C+p,L=new i((k+s)/P,(S+u)/P);L.z=A/P,v.push(L);var I=new i(j/R,T/R);I.z=M/R,y.push(I)}o.push(v),a.push(y)}return[o,a]}(r,f,c,u);return function(e,t,n){var r=1/0;Go(n,t)&&(r=Ps(n,t[0]));for(var i=0;i<t.length;i++)for(var o=t[i],a=e[i],s=0;s<o.length-1;s++){var u=o[s],l=[u,o[s+1],a[s+1],a[s],u];Wo(n,l)&&(r=Math.min(r,Ps(n,l)))}return r!==1/0&&r}(d[0],d[1],h)},t}(xi);function As(e,t){return e.x*t.x+e.y*t.y}function Ps(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var o=t[r],a=e[0],s=n.sub(i),u=o.sub(i),l=a.sub(i),c=As(s,s),f=As(s,u),h=As(u,u),d=As(l,s),p=As(l,u),g=c*h-f*f,m=(h*d-f*p)/g,v=(c*p-f*d)/g,y=i.z*(1-m-v)+n.z*m+o.z*v;if(isFinite(y))return y}return 1/0}for(var b=1/0,_=0,w=t;_<w.length;_+=1)b=Math.min(b,w[_].z);return b}var js=Ei([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ts=Ei([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Ms=_s.VectorTileFeature.types,Rs=Math.cos(Math.PI/180*37.5),Ls=Math.pow(2,14)/.5,Is=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Ti,this.layoutVertexArray2=new Mi,this.indexArray=new Vi,this.programConfigurations=new Io(e.layers,e.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Is.prototype.populate=function(e,t,n){this.hasPattern=os("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,f=s.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,d=Vo(u,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var p=r?r.evaluate(d,{},n):void 0,g={id:l,properties:u.properties,type:u.type,sourceLayerIndex:f,index:c,geometry:h?d.geometry:Bo(u),patterns:{},sortKey:p};i.push(g)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,v=i;m<v.length;m+=1){var y=v[m],b=y.geometry,_=y.index,w=y.sourceLayerIndex;if(this.hasPattern){var x=as("line",this.layers,y,this.zoom,t);this.patternFeatures.push(x)}else this.addFeature(y,b,_,n,{});t.featureIndex.insert(e[_].feature,b,_,w,this.index)}},Is.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Is.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Is.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Is.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Ts)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,js),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Is.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Is.prototype.addFeature=function(e,t,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),u=o.get("line-miter-limit"),l=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var c=0,f=t;c<f.length;c+=1)this.addLine(f[c],e,a,s,u,l);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Is.prototype.addLine=function(e,t,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Ms[t.type],u=e.length;u>=2&&e[u-1].equals(e[u-2]);)u--;for(var l=0;l<u-1&&e[l].equals(e[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var c,f=this.overscaling<=16?122880/(512*this.overscaling):0,h=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),d=void 0,p=void 0,g=void 0,m=void 0;this.e1=this.e2=-1,s&&(m=e[l].sub(c=e[u-2])._unit()._perp());for(var v=l;v<u;v++)if(!(p=v===u-1?s?e[l+1]:void 0:e[v+1])||!e[v].equals(p)){m&&(g=m),c&&(d=c),c=e[v],m=p?p.sub(c)._unit()._perp():g;var y=(g=g||m).add(m);0===y.x&&0===y.y||y._unit();var b=g.x*m.x+g.y*m.y,_=y.x*m.x+y.y*m.y,w=0!==_?1/_:1/0,x=2*Math.sqrt(2-2*_),O=_<Rs&&d&&p,k=g.x*m.y-g.y*m.x>0;if(O&&v>l){var S=c.dist(d);if(S>2*f){var E=c.sub(c.sub(d)._mult(f/S)._round());this.updateDistance(d,E),this.addCurrentVertex(E,g,0,0,h),d=E}}var C=d&&p,A=C?n:s?"butt":r;if(C&&"round"===A&&(w<o?A="miter":w<=2&&(A="fakeround")),"miter"===A&&w>i&&(A="bevel"),"bevel"===A&&(w>2&&(A="flipbevel"),w<i&&(A="miter")),d&&this.updateDistance(d,c),"miter"===A)y._mult(w),this.addCurrentVertex(c,y,0,0,h);else if("flipbevel"===A){if(w>100)y=m.mult(-1);else{var P=w*g.add(m).mag()/g.sub(m).mag();y._perp()._mult(P*(k?-1:1))}this.addCurrentVertex(c,y,0,0,h),this.addCurrentVertex(c,y.mult(-1),0,0,h)}else if("bevel"===A||"fakeround"===A){var j=-Math.sqrt(w*w-1),T=k?j:0,M=k?0:j;if(d&&this.addCurrentVertex(c,g,T,M,h),"fakeround"===A)for(var R=Math.round(180*x/Math.PI/20),L=1;L<R;L++){var I=L/R;if(.5!==I){var D=I-.5;I+=I*D*(I-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*D*D+(.848013+b*(.215638*b-1.06021)))}var z=m.sub(g)._mult(I)._add(g)._unit()._mult(k?-1:1);this.addHalfVertex(c,z.x,z.y,!1,k,0,h)}p&&this.addCurrentVertex(c,m,-T,-M,h)}else if("butt"===A)this.addCurrentVertex(c,y,0,0,h);else if("square"===A){var F=d?1:-1;this.addCurrentVertex(c,y,F,F,h)}else"round"===A&&(d&&(this.addCurrentVertex(c,g,0,0,h),this.addCurrentVertex(c,g,1,1,h,!0)),p&&(this.addCurrentVertex(c,m,-1,-1,h,!0),this.addCurrentVertex(c,m,0,0,h)));if(O&&v<u-1){var N=c.dist(p);if(N>2*f){var B=c.add(p.sub(c)._mult(f/N)._round());this.updateDistance(c,B),this.addCurrentVertex(B,m,0,0,h),c=B}}}}},Is.prototype.addCurrentVertex=function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i),this.distance>Ls/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,o))},Is.prototype.addHalfVertex=function(e,t,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Ls-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(r?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),i?this.e2=u:this.e1=u},Is.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Is.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Fr("LineBucket",Is,{omit:["layers","patternFeatures"]});var Ds=new wi({"line-cap":new mi(Pe.layout_line["line-cap"]),"line-join":new vi(Pe.layout_line["line-join"]),"line-miter-limit":new mi(Pe.layout_line["line-miter-limit"]),"line-round-limit":new mi(Pe.layout_line["line-round-limit"]),"line-sort-key":new vi(Pe.layout_line["line-sort-key"])}),zs={paint:new wi({"line-opacity":new vi(Pe.paint_line["line-opacity"]),"line-color":new vi(Pe.paint_line["line-color"]),"line-translate":new mi(Pe.paint_line["line-translate"]),"line-translate-anchor":new mi(Pe.paint_line["line-translate-anchor"]),"line-width":new vi(Pe.paint_line["line-width"]),"line-gap-width":new vi(Pe.paint_line["line-gap-width"]),"line-offset":new vi(Pe.paint_line["line-offset"]),"line-blur":new vi(Pe.paint_line["line-blur"]),"line-dasharray":new bi(Pe.paint_line["line-dasharray"]),"line-pattern":new yi(Pe.paint_line["line-pattern"]),"line-gradient":new _i(Pe.paint_line["line-gradient"])}),layout:Ds},Fs=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=h({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(vi))(zs.paint.properties["line-width"].specification);Fs.useIntegerZoom=!0;var Ns=function(e){function t(t){e.call(this,t,zs),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ut,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values["line-floorwidth"]=Fs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Is(e)},t.prototype.queryRadius=function(e){var t=e,n=Bs(ta("line-width",this,t),ta("line-gap-width",this,t)),r=ta("line-offset",this,t);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s){var u=ra(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),l=s/2*Bs(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(r=function(e,t){for(var n=[],r=new i(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],u=0;u<a.length;u++){var l=a[u],c=a[u+1],f=0===u?r:l.sub(a[u-1])._unit()._perp(),h=u===a.length-1?r:c.sub(l)._unit()._perp(),d=f._add(h)._unit();d._mult(1/(d.x*h.x+d.y*h.y)),s.push(d._mult(t)._add(l))}n.push(s)}return n}(r,c*s)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var o=0;o<i.length;o++)if(Qo(e,i[o]))return!0;if(qo(e,i,n))return!0}return!1}(u,r,l)},t.prototype.isTileClipped=function(){return!0},t}(xi);function Bs(e,t){return t>0?t+2*e:e}var Vs=Ei([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),$s=Ei([{name:"a_projected_pos",components:3,type:"Float32"}],4),Us=(Ei([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ei([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ws=(Ei([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Hs=Ei([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Gs(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),ai.applyArabicShaping&&(e=ai.applyArabicShaping(e)),e}(e.text,t,n)})),e}Ei([{name:"triangle",components:3,type:"Uint16"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ei([{type:"Float32",name:"offsetX"}]),Ei([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var qs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Xs=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},Zs=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=p,a/=256,l-=8);e[n+d-p]|=128*g},Ks=Ys;function Ys(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Ys.Varint=0,Ys.Fixed64=1,Ys.Bytes=2,Ys.Fixed32=5;var Js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Qs(e){return e.type===Ys.Bytes?e.readVarint()+e.pos:e.pos+1}function eu(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tu(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function nu(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function ru(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function iu(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function ou(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function au(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function su(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function uu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function lu(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function cu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function fu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function hu(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function du(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function pu(e,t,n){1===e&&n.readMessage(gu,t)}function gu(e,t,n){if(3===e){var r=n.readMessage(mu,{}),i=r.width,o=r.height,a=r.left,s=r.top,u=r.advance;t.push({id:r.id,bitmap:new ya({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:u}})}}function mu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function vu(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];t+=o.w*o.h,n=Math.max(n,o.w)}e.sort((function(e,t){return t.h-e.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,u=0,l=0,c=e;l<c.length;l+=1)for(var f=c[l],h=a.length-1;h>=0;h--){var d=a[h];if(!(f.w>d.w||f.h>d.h)){if(f.x=d.x,f.y=d.y,u=Math.max(u,f.y+f.h),s=Math.max(s,f.x+f.w),f.w===d.w&&f.h===d.h){var p=a.pop();h<a.length&&(a[h]=p)}else f.h===d.h?(d.x+=f.w,d.w-=f.w):f.w===d.w?(d.y+=f.h,d.h-=f.h):(a.push({x:d.x+f.w,y:d.y,w:d.w-f.w,h:f.h}),d.y+=f.h,d.h-=f.h);break}}return{w:s,h:u,fill:t/(s*u)||0}}Ys.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=fu(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=du(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=fu(this.buf,this.pos)+4294967296*fu(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=fu(this.buf,this.pos)+4294967296*du(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Xs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Xs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return eu(e,r,t);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return eu(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Js?function(e,t,n){return Js.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Ys.Bytes)return e.push(this.readVarint(t));var n=Qs(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSVarint());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Ys.Bytes)return e.push(this.readBoolean());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFloat());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Ys.Bytes)return e.push(this.readDouble());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ys.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ys.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ys.Fixed32)this.pos+=4;else{if(t!==Ys.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),hu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),hu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),hu(this.buf,-1&e,this.pos),hu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),hu(this.buf,-1&e,this.pos),hu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&tu(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Zs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Zs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&tu(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Ys.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,nu,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,ru,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,au,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,iu,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ou,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,su,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,uu,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,lu,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,cu,t)},writeBytesField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var yu=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,o=t.stretchY,a=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},bu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};bu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},bu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},bu.tlbr.get=function(){return this.tl.concat(this.br)},bu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(yu.prototype,bu);var _u=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var o=vu(i),a=new ba({width:o.w||1,height:o.h||1});for(var s in e){var u=e[s],l=n[s].paddedRect;ba.copy(u.data,a,{x:0,y:0},{x:l.x+1,y:l.y+1},u.data)}for(var c in t){var f=t[c],h=r[c].paddedRect,d=h.x+1,p=h.y+1,g=f.data.width,m=f.data.height;ba.copy(f.data,a,{x:0,y:0},{x:d,y:p},f.data),ba.copy(f.data,a,{x:0,y:m-1},{x:d,y:p-1},{width:g,height:1}),ba.copy(f.data,a,{x:0,y:0},{x:d,y:p+m},{width:g,height:1}),ba.copy(f.data,a,{x:g-1,y:0},{x:d-1,y:p},{width:1,height:m}),ba.copy(f.data,a,{x:0,y:0},{x:d+g,y:p},{width:1,height:m})}this.image=a,this.iconPositions=n,this.patternPositions=r};_u.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new yu(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},_u.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},_u.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl;n.update(t.data,void 0,{x:r[0],y:r[1]})}},Fr("ImagePosition",yu),Fr("ImageAtlas",_u);var wu={horizontal:1,vertical:2,horizontalOnly:3},xu=function(){this.scale=1,this.fontStack="",this.imageName=null};xu.forText=function(e,t){var n=new xu;return n.scale=e||1,n.fontStack=t,n},xu.forImage=function(e){var t=new xu;return t.imageName=e,t};var Ou=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function ku(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g){var m,v=Ou.fromFeature(e,i);f===wu.vertical&&v.verticalizePunctuation();var y=ai.processBidirectionalText,b=ai.processStyledBidirectionalText;if(y&&1===v.sections.length){m=[];for(var _=0,w=y(v.toString(),Tu(v,l,o,t,r,d,p));_<w.length;_+=1){var x=w[_],O=new Ou;O.text=x,O.sections=v.sections;for(var k=0;k<x.length;k++)O.sectionIndex.push(0);m.push(O)}}else if(b){m=[];for(var S=0,E=b(v.text,v.sectionIndex,Tu(v,l,o,t,r,d,p));S<E.length;S+=1){var C=E[S],A=new Ou;A.text=C[0],A.sectionIndex=C[1],A.sections=v.sections,m.push(A)}}else m=function(e,t){for(var n=[],r=e.text,i=0,o=0,a=t;o<a.length;o+=1){var s=a[o];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}(v,Tu(v,l,o,t,r,d,p));var P=[],j={positionedLines:P,text:v.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,o,a,s,u,l,c,f){for(var h=0,d=-17,p=0,g=0,m="right"===s?1:"left"===s?0:.5,v=0,y=0,b=i;y<b.length;y+=1){var _=b[y];_.trim();var w=_.getMaxScale(),x=24*(w-1),O={positionedGlyphs:[],lineOffset:0};e.positionedLines[v]=O;var k=O.positionedGlyphs,S=0;if(_.length()){for(var E=0;E<_.length();E++){var C=_.getSection(E),A=_.getSectionIndex(E),P=_.getCharCode(E),j=0,T=null,M=null,R=null,L=24,I=!(u===wu.horizontal||!c&&!qr(P)||c&&(Su[P]||(W=P,Hr.Arabic(W)||Hr["Arabic Supplement"](W)||Hr["Arabic Extended-A"](W)||Hr["Arabic Presentation Forms-A"](W)||Hr["Arabic Presentation Forms-B"](W))));if(C.imageName){var D=r[C.imageName];if(!D)continue;R=C.imageName,e.iconsInText=e.iconsInText||!0,M=D.paddedRect;var z=D.displaySize;C.scale=24*C.scale/f,j=x+(24-z[1]*C.scale),L=(T={width:z[0],height:z[1],left:1,top:-3,advance:I?z[1]:z[0]}).advance;var F=I?z[0]*C.scale-24*w:z[1]*C.scale-24*w;F>0&&F>S&&(S=F)}else{var N=n[C.fontStack],B=N&&N[P];if(B&&B.rect)M=B.rect,T=B.metrics;else{var V=t[C.fontStack],$=V&&V[P];if(!$)continue;T=$.metrics}j=24*(w-C.scale)}I?(e.verticalizable=!0,k.push({glyph:P,imageName:R,x:h,y:d+j,vertical:I,scale:C.scale,fontStack:C.fontStack,sectionIndex:A,metrics:T,rect:M}),h+=L*C.scale+l):(k.push({glyph:P,imageName:R,x:h,y:d+j,vertical:I,scale:C.scale,fontStack:C.fontStack,sectionIndex:A,metrics:T,rect:M}),h+=T.advance*C.scale+l)}0!==k.length&&(p=Math.max(h-l,p),Ru(k,0,k.length-1,m,S)),h=0;var U=o*w+S;O.lineOffset=Math.max(S,x),d+=U,g=Math.max(U,g),++v}else d+=o,++v}var W,H=d- -17,G=Mu(a),q=G.horizontalAlign,X=G.verticalAlign;(function(e,t,n,r,i,o,a,s,u){var l,c=(t-n)*i;l=o!==a?-s*r- -17:(-r*u+.5)*a;for(var f=0,h=e;f<h.length;f+=1)for(var d=0,p=h[f].positionedGlyphs;d<p.length;d+=1){var g=p[d];g.x+=c,g.y+=l}})(e.positionedLines,m,q,X,p,g,o,H,i.length),e.top+=-X*H,e.bottom=e.top+H,e.left+=-q*p,e.right=e.left+p}(j,t,n,r,m,a,s,u,f,l,h,g),!function(e){for(var t=0,n=e;t<n.length;t+=1)if(0!==n[t].positionedGlyphs.length)return!1;return!0}(P)&&j}Ou.fromFeature=function(e,t){for(var n=new Ou,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},Ou.prototype.length=function(){return this.text.length},Ou.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Ou.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Ou.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Ou.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Xr(r)&&!qs[e[n+1]]||i&&Xr(i)&&!qs[e[n-1]]||!qs[e[n]]?e[n]:qs[e[n]]}return t}(this.text)},Ou.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Su[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Su[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},Ou.prototype.substring=function(e,t){var n=new Ou;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},Ou.prototype.toString=function(){return this.text},Ou.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)},Ou.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(xu.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},Ou.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(xu.forImage(t)),this.sectionIndex.push(this.sections.length-1)):O("Reached maximum number of images 6401")}else O("Can't add FormattedSection with an empty image.")},Ou.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Su={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Eu={};function Cu(e,t,n,r,i,o){if(t.imageName){var a=r[t.imageName];return a?a.displaySize[0]*t.scale*24/o+i:0}var s=n[t.fontStack],u=s&&s[e];return u?u.metrics.advance*t.scale+i:0}function Au(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Pu(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function ju(e,t,n,r,i,o){for(var a=null,s=Au(t,n,i,o),u=0,l=r;u<l.length;u+=1){var c=l[u],f=Au(t-c.x,n,i,o)+c.badness;f<=s&&(a=c,s=f)}return{index:e,x:t,priorBreak:a,badness:s}}function Tu(e,t,n,r,i,o,a){if("point"!==o)return[];if(!e)return[];for(var s,u=[],l=function(e,t,n,r,i,o){for(var a=0,s=0;s<e.length();s++){var u=e.getSection(s);a+=Cu(e.getCharCode(s),u,r,i,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r,i,a),c=e.text.indexOf("\u200b")>=0,f=0,h=0;h<e.length();h++){var d=e.getSection(h),p=e.getCharCode(h);if(Su[p]||(f+=Cu(p,d,r,i,t,a)),h<e.length()-1){var g=!((s=p)<11904||!(Hr["Bopomofo Extended"](s)||Hr.Bopomofo(s)||Hr["CJK Compatibility Forms"](s)||Hr["CJK Compatibility Ideographs"](s)||Hr["CJK Compatibility"](s)||Hr["CJK Radicals Supplement"](s)||Hr["CJK Strokes"](s)||Hr["CJK Symbols and Punctuation"](s)||Hr["CJK Unified Ideographs Extension A"](s)||Hr["CJK Unified Ideographs"](s)||Hr["Enclosed CJK Letters and Months"](s)||Hr["Halfwidth and Fullwidth Forms"](s)||Hr.Hiragana(s)||Hr["Ideographic Description Characters"](s)||Hr["Kangxi Radicals"](s)||Hr["Katakana Phonetic Extensions"](s)||Hr.Katakana(s)||Hr["Vertical Forms"](s)||Hr["Yi Radicals"](s)||Hr["Yi Syllables"](s)));(Eu[p]||g||d.imageName)&&u.push(ju(h+1,f,l,u,Pu(p,e.getCharCode(h+1),g&&c),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(ju(e.length(),f,l,u,0,!0))}function Mu(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Ru(e,t,n,r,i){if(r||i)for(var o=e[n],a=(e[n].x+o.metrics.advance*o.scale)*r,s=t;s<=n;s++)e[s].x-=a,e[s].y+=i}function Lu(e,t,n,r,i,o){var a,s=e.image;if(s.content){var u=s.content,l=s.pixelRatio||1;a=[u[0]/l,u[1]/l,s.displaySize[0]-u[2]/l,s.displaySize[1]-u[3]/l]}var c,f,h,d,p=t.left*o,g=t.right*o;"width"===n||"both"===n?(d=i[0]+p-r[3],f=i[0]+g+r[1]):f=(d=i[0]+(p+g-s.displaySize[0])/2)+s.displaySize[0];var m=t.top*o,v=t.bottom*o;return"height"===n||"both"===n?(c=i[1]+m-r[0],h=i[1]+v+r[2]):h=(c=i[1]+(m+v-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:f,bottom:h,left:d,collisionPadding:a}}Eu[10]=!0,Eu[32]=!0,Eu[38]=!0,Eu[40]=!0,Eu[41]=!0,Eu[43]=!0,Eu[45]=!0,Eu[47]=!0,Eu[173]=!0,Eu[183]=!0,Eu[8203]=!0,Eu[8208]=!0,Eu[8211]=!0,Eu[8231]=!0;var Iu=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Du(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=e;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<e+1;)a++;a=Math.min(r.length-1,a);var s=r[o],u=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(u)),interpolationType:i}}function zu(e,t,n){var r=t.uSize,i=n.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?Wt(i/128,n.upperSize/128,t.uSizeT):r}function Fu(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,o=i?c(an.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?r=Wt(e.minSize,e.maxSize,o):n=o}return{uSizeT:n,uSize:r}}Fr("Anchor",Iu);var Nu=Object.freeze({__proto__:null,getSizeData:Du,evaluateSizeForFeature:zu,evaluateSizeForZoom:Fu,SIZE_PACK_FACTOR:128});function Bu(e,t,n,r,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=e[a],f=e[a+1];if(!f)return!1;var h=e[a-1].angleTo(c)-c.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:h}),l+=h;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=c.dist(f)}return!0}function Vu(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function $u(e,t,n){return e?.6*t*n:0}function Uu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Wu(e,t,n,r,i,o){for(var a=$u(n,i,o),s=Uu(n,r)*o,u=0,l=Vu(e)/2,c=0;c<e.length-1;c++){var f=e[c],h=e[c+1],d=f.dist(h);if(u+d>l){var p=(l-u)/d,g=Wt(f.x,h.x,p),m=Wt(f.y,h.y,p),v=new Iu(g,m,h.angleTo(f),c);return v._round(),!a||Bu(e,v,s,a,t)?v:void 0}u+=d}}function Hu(e,t,n,r,i,o,a,s,u){var l=$u(r,o,a),c=Uu(r,i),f=c*a,h=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-f<t/4&&(t=f+t/4),function e(t,n,r,i,o,a,s,u,l){for(var c=a/2,f=Vu(t),h=0,d=n-r,p=[],g=0;g<t.length-1;g++){for(var m=t[g],v=t[g+1],y=m.dist(v),b=v.angleTo(m);d+r<h+y;){var _=((d+=r)-h)/y,w=Wt(m.x,v.x,_),x=Wt(m.y,v.y,_);if(w>=0&&w<l&&x>=0&&x<l&&d-c>=0&&d+c<=f){var O=new Iu(w,x,b,g);O._round(),i&&!Bu(t,O,a,i,o)||p.push(O)}}h+=y}return u||p.length||s||(p=e(t,h/2,r,i,o,a,s,!0,l)),p}(e,h?t/2*s%t:(c/2+2*o)*a*s%t,t,l,n,f,h,!1,u)}function Gu(e,t,n,r,o){for(var a=[],s=0;s<e.length;s++)for(var u=e[s],l=void 0,c=0;c<u.length-1;c++){var f=u[c],h=u[c+1];f.x<t&&h.x<t||(f.x<t?f=new i(t,f.y+(t-f.x)/(h.x-f.x)*(h.y-f.y))._round():h.x<t&&(h=new i(t,f.y+(t-f.x)/(h.x-f.x)*(h.y-f.y))._round()),f.y<n&&h.y<n||(f.y<n?f=new i(f.x+(n-f.y)/(h.y-f.y)*(h.x-f.x),n)._round():h.y<n&&(h=new i(f.x+(n-f.y)/(h.y-f.y)*(h.x-f.x),n)._round()),f.x>=r&&h.x>=r||(f.x>=r?f=new i(r,f.y+(r-f.x)/(h.x-f.x)*(h.y-f.y))._round():h.x>=r&&(h=new i(r,f.y+(r-f.x)/(h.x-f.x)*(h.y-f.y))._round()),f.y>=o&&h.y>=o||(f.y>=o?f=new i(f.x+(o-f.y)/(h.y-f.y)*(h.x-f.x),o)._round():h.y>=o&&(h=new i(f.x+(o-f.y)/(h.y-f.y)*(h.x-f.x),o)._round()),l&&f.equals(l[l.length-1])||a.push(l=[f]),l.push(h)))))}return a}function qu(e,t,n,r){var o=[],a=e.image,s=a.pixelRatio,u=a.paddedRect.w-2,l=a.paddedRect.h-2,c=e.right-e.left,f=e.bottom-e.top,h=a.stretchX||[[0,u]],d=a.stretchY||[[0,l]],p=function(e,t){return e+t[1]-t[0]},g=h.reduce(p,0),m=d.reduce(p,0),v=u-g,y=l-m,b=0,_=g,w=0,x=m,O=0,k=v,S=0,E=y;if(a.content&&r){var C=a.content;b=Xu(h,0,C[0]),w=Xu(d,0,C[1]),_=Xu(h,C[0],C[2]),x=Xu(d,C[1],C[3]),O=C[0]-b,S=C[1]-w,k=C[2]-C[0]-_,E=C[3]-C[1]-x}var A=function(r,o,u,l){var h=Ku(r.stretch-b,_,c,e.left),d=Yu(r.fixed-O,k,r.stretch,g),p=Ku(o.stretch-w,x,f,e.top),v=Yu(o.fixed-S,E,o.stretch,m),y=Ku(u.stretch-b,_,c,e.left),C=Yu(u.fixed-O,k,u.stretch,g),A=Ku(l.stretch-w,x,f,e.top),P=Yu(l.fixed-S,E,l.stretch,m),j=new i(h,p),T=new i(y,p),M=new i(y,A),R=new i(h,A),L=new i(d/s,v/s),I=new i(C/s,P/s),D=t*Math.PI/180;if(D){var z=Math.sin(D),F=Math.cos(D),N=[F,-z,z,F];j._matMult(N),T._matMult(N),R._matMult(N),M._matMult(N)}var B=r.stretch+r.fixed,V=o.stretch+o.fixed;return{tl:j,tr:T,bl:R,br:M,tex:{x:a.paddedRect.x+1+B,y:a.paddedRect.y+1+V,w:u.stretch+u.fixed-B,h:l.stretch+l.fixed-V},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:I,minFontScaleX:k/s/c,minFontScaleY:E/s/f,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var P=Zu(h,v,g),j=Zu(d,y,m),T=0;T<P.length-1;T++)for(var M=P[T],R=P[T+1],L=0;L<j.length-1;L++)o.push(A(M,j[L],R,j[L+1]));else o.push(A({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:l+1}));return o}function Xu(e,t,n){for(var r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];r+=Math.max(t,Math.min(n,a[1]))-Math.max(t,Math.min(n,a[0]))}return r}function Zu(e,t,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=e;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],l=r[r.length-1];r.push({fixed:s-l.stretch,stretch:l.stretch}),r.push({fixed:s-l.stretch,stretch:l.stretch+(u-s)})}return r.push({fixed:t+1,stretch:n}),r}function Ku(e,t,n,r){return e/t*n+r}function Yu(e,t,n,r){return e-t*n/r}var Ju=function(e,t,n,r,o,a,s,u,l,c){if(this.boxStartIndex=e.length,l){var f=a.top,h=a.bottom,d=a.collisionPadding;d&&(f-=d[1],h+=d[3]);var p=h-f;p>0&&(p=Math.max(10,p),this.circleDiameter=p)}else{var g=a.top*s-u,m=a.bottom*s+u,v=a.left*s-u,y=a.right*s+u,b=a.collisionPadding;if(b&&(v-=b[0]*s,g-=b[1]*s,y+=b[2]*s,m+=b[3]*s),c){var _=new i(v,g),w=new i(y,g),x=new i(v,m),O=new i(y,m),k=c*Math.PI/180;_._rotate(k),w._rotate(k),x._rotate(k),O._rotate(k),v=Math.min(_.x,w.x,x.x,O.x),y=Math.max(_.x,w.x,x.x,O.x),g=Math.min(_.y,w.y,x.y,O.y),m=Math.max(_.y,w.y,x.y,O.y)}e.emplaceBack(t.x,t.y,v,g,y,m,n,r,o)}this.boxEndIndex=e.length},Qu=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=el),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function el(e,t){return e<t?-1:e>t?1:0}function tl(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,u=e[0],l=0;l<u.length;l++){var c=u[l];(!l||c.x<r)&&(r=c.x),(!l||c.y<o)&&(o=c.y),(!l||c.x>a)&&(a=c.x),(!l||c.y>s)&&(s=c.y)}var f=Math.min(a-r,s-o),h=f/2,d=new Qu([],nl);if(0===f)return new i(r,o);for(var p=r;p<a;p+=f)for(var g=o;g<s;g+=f)d.push(new rl(p+h,g+h,h,e));for(var m=function(e){for(var t=0,n=0,r=0,i=e[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],l=i[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,r+=(u.y+l.y)*c,t+=3*c}return new rl(n/t,r/t,0,e)}(e),v=d.length;d.length;){var y=d.pop();(y.d>m.d||!m.d)&&(m=y,n&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,v)),y.max-m.d<=t||(d.push(new rl(y.p.x-(h=y.h/2),y.p.y-h,h,e)),d.push(new rl(y.p.x+h,y.p.y-h,h,e)),d.push(new rl(y.p.x-h,y.p.y+h,h,e)),d.push(new rl(y.p.x+h,y.p.y+h,h,e)),v+=4)}return n&&(console.log("num probes: "+v),console.log("best distance: "+m.d)),m.p}function nl(e,t){return t.max-e.max}function rl(e,t,n,r){this.p=new i(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var o=t[i],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u];l.y>e.y!=c.y>e.y&&e.x<(c.x-l.x)*(e.y-l.y)/(c.y-l.y)+l.x&&(n=!n),r=Math.min(r,Yo(e,l,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}Qu.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Qu.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Qu.prototype.peek=function(){return this.data[0]},Qu.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r},Qu.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&n(t[s],a)<0&&(o=s,a=t[s]),n(a,i)>=0)break;t[e]=a,e=o}t[e]=i};var il=Number.POSITIVE_INFINITY;function ol(e,t){return t[1]!==il?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function al(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sl(e,t,n,r,o,a,s,u,l,c,f,h,d,p,g){var m=function(e,t,n,r,o,a,s,u){for(var l=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],f=0,h=t.positionedLines;f<h.length;f+=1)for(var d=h[f],p=0,g=d.positionedGlyphs;p<g.length;p+=1){var m=g[p];if(m.rect){var v=m.rect||{},y=4,b=!0,_=1,w=0,x=(o||u)&&m.vertical,O=m.metrics.advance*m.scale/2;if(u&&t.verticalizable&&(w=d.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var k=s[m.imageName];b=k.sdf,y=1/(_=k.pixelRatio)}var S=o?[m.x+O,m.y]:[0,0],E=o?[0,0]:[m.x+O+n[0],m.y+n[1]-w],C=[0,0];x&&(C=E,E=[0,0]);var A=(m.metrics.left-y)*m.scale-O+E[0],P=(-m.metrics.top-y)*m.scale+E[1],j=A+v.w*m.scale/_,T=P+v.h*m.scale/_,M=new i(A,P),R=new i(j,P),L=new i(A,T),I=new i(j,T);if(x){var D=new i(-O,O- -17),z=-Math.PI/2,F=12-O,N=new i(22-F,-(m.imageName?F:0)),B=new(Function.prototype.bind.apply(i,[null].concat(C)));M._rotateAround(z,D)._add(N)._add(B),R._rotateAround(z,D)._add(N)._add(B),L._rotateAround(z,D)._add(N)._add(B),I._rotateAround(z,D)._add(N)._add(B)}if(l){var V=Math.sin(l),$=Math.cos(l),U=[$,-V,V,$];M._matMult(U),R._matMult(U),L._matMult(U),I._matMult(U)}var W=new i(0,0),H=new i(0,0);c.push({tl:M,tr:R,bl:L,br:I,tex:v,writingMode:t.writingMode,glyphOffset:S,sectionIndex:m.sectionIndex,isSDF:b,pixelOffsetTL:W,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,u,o,a,s,r,e.allowVerticalPlacement),v=e.textSizeData,y=null;"source"===v.kind?(y=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&O(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===v.kind&&((y=[128*p.compositeTextSizes[0].evaluate(s,{},g),128*p.compositeTextSizes[1].evaluate(s,{},g)])[0]>32640||y[1]>32640)&&O(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,m,y,u,a,s,c,t,l.lineStartIndex,l.lineLength,d,g);for(var b=0,_=f;b<_.length;b+=1)h[_[b]]=e.text.placedSymbolArray.length-1;return 4*m.length}function ul(e){for(var t in e)return e[t];return null}function ll(e,t,n,r){var i=e.compareText;if(t in i){for(var o=i[t],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[t]=[];return i[t].push(r),!1}var cl=_s.VectorTileFeature.types,fl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function hl(e,t,n,r,i,o,a,s,u,l,c,f,h){var d=s?Math.min(32640,Math.round(s[0])):0,p=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(d<<1)+(u?1:0),p,16*l,16*c,256*f,256*h)}function dl(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function pl(e){for(var t=0,n=e.sections;t<n.length;t+=1)if(Yr(n[t].text))return!0;return!1}var gl=function(e){this.layoutVertexArray=new Li,this.indexArray=new Vi,this.programConfigurations=e,this.segments=new so,this.dynamicLayoutVertexArray=new Ii,this.opacityVertexArray=new Di,this.placedSymbolArray=new Qi};gl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},gl.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Vs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,$s.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,fl,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},gl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Fr("SymbolBuffers",gl);var ml=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new Bi};ml.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Us.members,!0)},ml.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Fr("CollisionBuffers",ml);var vl=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Du(this.zoom,t["text-size"]),this.iconSizeData=Du(this.zoom,t["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(e){return wu[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};vl.prototype.createArrays=function(){this.text=new gl(new Io(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new gl(new Io(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new no,this.lineVertexArray=new ro,this.symbolInstances=new to},vl.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(n||r)&&i){var a=qs[e.charAt(o)];a&&(t[a.charCodeAt(0)]=!0)}},vl.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),u=("constant"!==a.value.kind||a.value.value instanceof rt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),l="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],u||l){for(var f=t.iconDependencies,h=t.glyphDependencies,d=t.availableImages,p=new si(this.zoom),g=0,m=e;g<m.length;g+=1){var v=m[g],y=v.feature,b=v.id,_=v.index,w=v.sourceLayerIndex,x=r._featureFilter.needGeometry,O=Vo(y,x);if(r._featureFilter.filter(p,O,n)){x||(O.geometry=Bo(y));var k=void 0;if(u){var S=r.getValueAndResolveTokens("text-field",O,n,d),E=rt.factory(S);pl(E)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(k=Gs(E,r,O))}var C=void 0;if(l){var A=r.getValueAndResolveTokens("icon-image",O,n,d);C=A instanceof it?A:it.fromString(A)}if(k||C){var P=this.sortFeaturesByKey?c.evaluate(O,{},n):void 0;if(this.features.push({id:b,text:k,icon:C,index:_,sourceLayerIndex:w,geometry:O.geometry,properties:y.properties,type:cl[y.type],sortKey:P}),C&&(f[C.name]=!0),k){var j=o.evaluate(O,{},n).join(","),T="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(wu.vertical)>=0;for(var M=0,R=k.sections;M<R.length;M+=1){var L=R[M];if(L.image)f[L.image.name]=!0;else{var I=Gr(k.toString()),D=L.fontStack||j,z=h[D]=h[D]||{};this.calculateGlyphDependencies(L.text,z,T,this.allowVerticalPlacement,I)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){var o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){var o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function u(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var l=0;l<e.length;l++){var c=e[l],f=c.geometry,h=c.text?c.text.toString():null;if(h){var d=u(h,f),p=u(h,f,!0);if(d in n&&p in t&&n[d]!==t[p]){var g=s(d,p,f),m=a(d,p,r[g].geometry);delete t[d],delete n[p],n[u(h,r[m].geometry,!0)]=m,r[g].geometry=null}else d in n?a(d,p,f):p in t?s(d,p,f):(o(l),t[d]=i-1,n[p]=i-1)}else o(l)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},vl.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},vl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},vl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},vl.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},vl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},vl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},vl.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:r},a<t.length-1&&(r+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},vl.prototype.addSymbols=function(e,t,n,r,i,o,a,s,u,l,c,f){for(var h=e.indexArray,d=e.layoutVertexArray,p=e.segments.prepareSegment(4*t.length,d,h,this.canOverlap?o.sortKey:void 0),g=this.glyphOffsetArray.length,m=p.vertexLength,v=this.allowVerticalPlacement&&a===wu.vertical?Math.PI/2:0,y=o.text&&o.text.sections,b=0;b<t.length;b++){var _=t[b],w=_.tl,x=_.tr,O=_.bl,k=_.br,S=_.tex,E=_.pixelOffsetTL,C=_.pixelOffsetBR,A=_.minFontScaleX,P=_.minFontScaleY,j=_.glyphOffset,T=_.isSDF,M=_.sectionIndex,R=p.vertexLength,L=j[1];hl(d,s.x,s.y,w.x,L+w.y,S.x,S.y,n,T,E.x,E.y,A,P),hl(d,s.x,s.y,x.x,L+x.y,S.x+S.w,S.y,n,T,C.x,E.y,A,P),hl(d,s.x,s.y,O.x,L+O.y,S.x,S.y+S.h,n,T,E.x,C.y,A,P),hl(d,s.x,s.y,k.x,L+k.y,S.x+S.w,S.y+S.h,n,T,C.x,C.y,A,P),dl(e.dynamicLayoutVertexArray,s,v),h.emplaceBack(R,R+1,R+2),h.emplaceBack(R+1,R+2,R+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(j[0]),b!==t.length-1&&M===t[b+1].sectionIndex||e.programConfigurations.populatePaintArrays(d.length,o,o.index,{},f,y&&y[M])}e.placedSymbolArray.emplaceBack(s.x,s.y,g,this.glyphOffsetArray.length-g,m,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},vl.prototype._addCollisionDebugVertex=function(e,t,n,r,i,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},vl.prototype.addCollisionDebugVertices=function(e,t,n,r,o,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),l=u.vertexLength,c=o.layoutVertexArray,f=o.collisionVertexArray,h=s.anchorX,d=s.anchorY;this._addCollisionDebugVertex(c,f,a,h,d,new i(e,t)),this._addCollisionDebugVertex(c,f,a,h,d,new i(n,t)),this._addCollisionDebugVertex(c,f,a,h,d,new i(n,r)),this._addCollisionDebugVertex(c,f,a,h,d,new i(e,r)),u.vertexLength+=4;var p=o.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),u.primitiveLength+=4},vl.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},vl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ml(Fi,Ws.members,qi),this.iconCollisionBox=new ml(Fi,Ws.members,qi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},vl.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,o,a,s,u){for(var l={},c=t;c<n;c++){var f=e.get(c);l.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},l.textFeatureIndex=f.featureIndex;break}for(var h=r;h<i;h++){var d=e.get(h);l.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},l.verticalTextFeatureIndex=d.featureIndex;break}for(var p=o;p<a;p++){var g=e.get(p);l.iconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},l.iconFeatureIndex=g.featureIndex;break}for(var m=s;m<u;m++){var v=e.get(m);l.verticalIconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},l.verticalIconFeatureIndex=v.featureIndex;break}return l},vl.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},vl.prototype.hasTextData=function(){return this.text.segments.get().length>0},vl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},vl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},vl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},vl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},vl.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},vl.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),o},vl.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},vl.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Fr("SymbolBucket",vl,{omit:["layers","collisionBoxArray","features","compareText"]}),vl.MAX_GLYPHS=65535,vl.addDynamicAttributes=dl;var yl=new wi({"symbol-placement":new mi(Pe.layout_symbol["symbol-placement"]),"symbol-spacing":new mi(Pe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mi(Pe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new vi(Pe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mi(Pe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mi(Pe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mi(Pe.layout_symbol["icon-ignore-placement"]),"icon-optional":new mi(Pe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mi(Pe.layout_symbol["icon-rotation-alignment"]),"icon-size":new vi(Pe.layout_symbol["icon-size"]),"icon-text-fit":new mi(Pe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mi(Pe.layout_symbol["icon-text-fit-padding"]),"icon-image":new vi(Pe.layout_symbol["icon-image"]),"icon-rotate":new vi(Pe.layout_symbol["icon-rotate"]),"icon-padding":new mi(Pe.layout_symbol["icon-padding"]),"icon-keep-upright":new mi(Pe.layout_symbol["icon-keep-upright"]),"icon-offset":new vi(Pe.layout_symbol["icon-offset"]),"icon-anchor":new vi(Pe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mi(Pe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mi(Pe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mi(Pe.layout_symbol["text-rotation-alignment"]),"text-field":new vi(Pe.layout_symbol["text-field"]),"text-font":new vi(Pe.layout_symbol["text-font"]),"text-size":new vi(Pe.layout_symbol["text-size"]),"text-max-width":new vi(Pe.layout_symbol["text-max-width"]),"text-line-height":new mi(Pe.layout_symbol["text-line-height"]),"text-letter-spacing":new vi(Pe.layout_symbol["text-letter-spacing"]),"text-justify":new vi(Pe.layout_symbol["text-justify"]),"text-radial-offset":new vi(Pe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mi(Pe.layout_symbol["text-variable-anchor"]),"text-anchor":new vi(Pe.layout_symbol["text-anchor"]),"text-max-angle":new mi(Pe.layout_symbol["text-max-angle"]),"text-writing-mode":new mi(Pe.layout_symbol["text-writing-mode"]),"text-rotate":new vi(Pe.layout_symbol["text-rotate"]),"text-padding":new mi(Pe.layout_symbol["text-padding"]),"text-keep-upright":new mi(Pe.layout_symbol["text-keep-upright"]),"text-transform":new vi(Pe.layout_symbol["text-transform"]),"text-offset":new vi(Pe.layout_symbol["text-offset"]),"text-allow-overlap":new mi(Pe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mi(Pe.layout_symbol["text-ignore-placement"]),"text-optional":new mi(Pe.layout_symbol["text-optional"])}),bl={paint:new wi({"icon-opacity":new vi(Pe.paint_symbol["icon-opacity"]),"icon-color":new vi(Pe.paint_symbol["icon-color"]),"icon-halo-color":new vi(Pe.paint_symbol["icon-halo-color"]),"icon-halo-width":new vi(Pe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new vi(Pe.paint_symbol["icon-halo-blur"]),"icon-translate":new mi(Pe.paint_symbol["icon-translate"]),"icon-translate-anchor":new mi(Pe.paint_symbol["icon-translate-anchor"]),"text-opacity":new vi(Pe.paint_symbol["text-opacity"]),"text-color":new vi(Pe.paint_symbol["text-color"],{runtimeType:Ve,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new vi(Pe.paint_symbol["text-halo-color"]),"text-halo-width":new vi(Pe.paint_symbol["text-halo-width"]),"text-halo-blur":new vi(Pe.paint_symbol["text-halo-blur"]),"text-translate":new mi(Pe.paint_symbol["text-translate"]),"text-translate-anchor":new mi(Pe.paint_symbol["text-translate-anchor"])}),layout:yl},_l=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:ze,this.defaultValue=e};_l.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},_l.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},_l.prototype.outputDefined=function(){return!1},_l.prototype.serialize=function(){return null},Fr("FormatSectionOverride",_l,{omit:["defaultValue"]});var wl=function(e){function t(t){e.call(this,t,bl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Gn(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new vl(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=bl.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new _l(o),s=new Hn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Xn("source",s):new Zn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new pi(o.property,i,o.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get("text-field"),r=bl.paint.properties[t],i=!1,o=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r.overrides&&r.overrides.hasOverride(n[t]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof rt)o(n.value.value.sections);else if("source"===n.value.kind){var a=function e(t){i||(t instanceof lt&&st(t.value)===He?o(t.value.sections):t instanceof dt?o(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},t}(xi),xl={paint:new wi({"background-color":new mi(Pe.paint_background["background-color"]),"background-pattern":new bi(Pe.paint_background["background-pattern"]),"background-opacity":new mi(Pe.paint_background["background-opacity"])})},Ol=function(e){function t(t){e.call(this,t,xl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(xi),kl={paint:new wi({"raster-opacity":new mi(Pe.paint_raster["raster-opacity"]),"raster-hue-rotate":new mi(Pe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mi(Pe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mi(Pe.paint_raster["raster-brightness-max"]),"raster-saturation":new mi(Pe.paint_raster["raster-saturation"]),"raster-contrast":new mi(Pe.paint_raster["raster-contrast"]),"raster-resampling":new mi(Pe.paint_raster["raster-resampling"]),"raster-fade-duration":new mi(Pe.paint_raster["raster-fade-duration"])})},Sl=function(e){function t(t){e.call(this,t,kl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(xi),El=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(xi),Cl={circle:ha,heatmap:xa,hillshade:ka,fill:cs,"fill-extrusion":Cs,line:Ns,symbol:wl,background:Ol,raster:Sl},Al=a.HTMLImageElement,Pl=a.HTMLCanvasElement,jl=a.HTMLVideoElement,Tl=a.ImageData,Ml=a.ImageBitmap,Rl=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};Rl.prototype.update=function(e,t,n){var r=e.width,i=e.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[r,i],e instanceof Al||e instanceof Pl||e instanceof jl||e instanceof Tl||Ml&&e instanceof Ml?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var u=n||{x:0,y:0},l=u.x,c=u.y;e instanceof Al||e instanceof Pl||e instanceof jl||e instanceof Tl||Ml&&e instanceof Ml?s.texSubImage2D(s.TEXTURE_2D,0,l,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,l,c,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Rl.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},Rl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Rl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ll=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Ll.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Ll.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Il=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},v(["receive","process"],this),this.invoker=new Ll(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=E()?e:a};function Dl(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}Il.prototype.send=function(e,t,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=P(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:$r(t,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Il.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else E()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},Il.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Il.prototype.processTask=function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Ur(t.error)):r(null,Ur(t.data)))}else{var i=!1,o=P(this.globalScope)?void 0:[],a=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?$r(t):null,data:$r(r,o)},o)}:function(e){i=!0},s=null,u=Ur(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,u,a);else if(this.parent.getWorkerSource){var l=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,l[0],u.source)[l[1]](u,a)}else a(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Il.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var zl=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};zl.prototype.setNorthEast=function(e){return this._ne=e instanceof Fl?new Fl(e.lng,e.lat):Fl.convert(e),this},zl.prototype.setSouthWest=function(e){return this._sw=e instanceof Fl?new Fl(e.lng,e.lat):Fl.convert(e),this},zl.prototype.extend=function(e){var t,n,r=this._sw,i=this._ne;if(e instanceof Fl)t=e,n=e;else{if(!(e instanceof zl))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(zl.convert(e)):this.extend(Fl.convert(e)):this;if(n=e._ne,!(t=e._sw)||!n)return this}return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Fl(t.lng,t.lat),this._ne=new Fl(n.lng,n.lat)),this},zl.prototype.getCenter=function(){return new Fl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},zl.prototype.getSouthWest=function(){return this._sw},zl.prototype.getNorthEast=function(){return this._ne},zl.prototype.getNorthWest=function(){return new Fl(this.getWest(),this.getNorth())},zl.prototype.getSouthEast=function(){return new Fl(this.getEast(),this.getSouth())},zl.prototype.getWest=function(){return this._sw.lng},zl.prototype.getSouth=function(){return this._sw.lat},zl.prototype.getEast=function(){return this._ne.lng},zl.prototype.getNorth=function(){return this._ne.lat},zl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},zl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},zl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},zl.prototype.contains=function(e){var t=Fl.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},zl.convert=function(e){return!e||e instanceof zl?e:new zl(e)};var Fl=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Fl.prototype.wrap=function(){return new Fl(f(this.lng,-180,180),this.lat)},Fl.prototype.toArray=function(){return[this.lng,this.lat]},Fl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Fl.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Fl.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new zl(new Fl(this.lng-n,this.lat-t),new Fl(this.lng+n,this.lat+t))},Fl.convert=function(e){if(e instanceof Fl)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Fl(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Fl(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Nl=2*Math.PI*6371008.8;function Bl(e){return Nl*Math.cos(e*Math.PI/180)}function Vl(e){return(180+e)/360}function $l(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Ul(e,t){return e/Bl(t)}function Wl(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Hl=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};Hl.fromLngLat=function(e,t){void 0===t&&(t=0);var n=Fl.convert(e);return new Hl(Vl(n.lng),$l(n.lat),Ul(t,n.lat))},Hl.prototype.toLngLat=function(){return new Fl(360*this.x-180,Wl(this.y))},Hl.prototype.toAltitude=function(){return this.z*Bl(Wl(this.y))},Hl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Nl*(e=Wl(this.y),1/Math.cos(e*Math.PI/180));var e};var Gl=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Zl(0,e,e,t,n)};Gl.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Gl.prototype.url=function(e,t){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Dl(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Dl(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(e,t,n){for(var r,i="",o=e;o>0;o--)i+=(t&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Gl.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Gl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var ql=function(e,t){this.wrap=e,this.canonical=t,this.key=Zl(e,t.z,t.z,t.x,t.y)},Xl=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Gl(n,+r,+i),this.key=Zl(t,e,n,r,i)};function Zl(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var o=1<<n;return(o*o*e+o*i+r).toString(36)+n.toString(36)+t.toString(36)}Xl.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Xl.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Xl(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xl(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Xl.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?Zl(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Zl(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},Xl.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Xl.prototype.children=function(e){if(this.overscaledZ>=e)return[new Xl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Xl(t,this.wrap,t,n,r),new Xl(t,this.wrap,t,n+1,r),new Xl(t,this.wrap,t,n,r+1),new Xl(t,this.wrap,t,n+1,r+1)]},Xl.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Xl.prototype.wrapped=function(){return new Xl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Xl.prototype.unwrapTo=function(e){return new Xl(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Xl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Xl.prototype.toUnwrapped=function(){return new ql(this.wrap,this.canonical)},Xl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Xl.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Hl(e.x-this.wrap,e.y))},Fr("CanonicalTileID",Gl),Fr("OverscaledTileID",Xl,{omit:["posMatrix"]});var Kl=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return O('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Kl.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Kl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Kl.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Kl.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},Kl.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},Kl.prototype.getPixels=function(){return new ba({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Kl.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,u=-n*this.dim,l=o;l<a;l++)for(var c=r;c<i;c++)this.data[this._idx(c,l)]=e.data[this._idx(c+s,l+u)]},Fr("DEMData",Kl);var Yl=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};Yl.prototype.encode=function(e){return this._stringToNumber[e]},Yl.prototype.decode=function(e){return this._numberToString[e]};var Jl=function(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},Ql={geometry:{configurable:!0}};Ql.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Ql.geometry.set=function(e){this._geometry=e},Jl.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Jl.prototype,Ql);var ec=function(){this.state={},this.stateChanges={},this.deletedStates={}};ec.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},h(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var o in this.deletedStates[e][r]={},this.state[e][r])n[o]||(this.deletedStates[e][r][o]=null);else for(var a in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][a]&&delete this.deletedStates[e][r][a]},ec.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},ec.prototype.getState=function(e,t){var n=String(t),r=h({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var o in i)delete r[o]}return r},ec.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},ec.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),h(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var l in this.deletedStates[a]){if(null===this.deletedStates[a][l])this.state[a][l]={};else for(var c=0,f=Object.keys(this.deletedStates[a][l]);c<f.length;c+=1)delete this.state[a][l][f[c]];s[l]=this.state[a][l]}n[a]=n[a]||{},h(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var d in e)e[d].setFeatureState(n,t)};var tc=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Rr(8192,16,0),this.grid3D=new Rr(8192,16,0),this.featureIndexArray=new oo,this.promoteId=t};function nc(e,t,n,r,i){return b(e,(function(e,o){var a=t instanceof gi?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function rc(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=e;o<a.length;o+=1){var s=a[o];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function ic(e,t){return t-e}tc.prototype.insert=function(e,t,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,u=0;u<t.length;u++){for(var l=t[u],c=[1/0,1/0,-1/0,-1/0],f=0;f<l.length;f++){var h=l[f];c[0]=Math.min(c[0],h.x),c[1]=Math.min(c[1],h.y),c[2]=Math.max(c[2],h.x),c[3]=Math.max(c[3],h.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},tc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _s.VectorTile(new Ks(this.rawTileData)).layers,this.sourceLayerCoder=new Yl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tc.prototype.query=function(e,t,n,r){var o=this;this.loadVTLayers();for(var a=e.params||{},s=8192/e.tileSize/e.scale,u=ar(a.filter),l=e.queryGeometry,c=e.queryPadding*s,f=rc(l),h=this.grid.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c),d=rc(e.cameraQueryGeometry),p=0,g=this.grid3D.query(d.minX-c,d.minY-c,d.maxX+c,d.maxY+c,(function(t,n,r,o){return function(e,t,n,r,o){for(var a=0,s=e;a<s.length;a+=1){var u=s[a];if(t<=u.x&&n<=u.y&&r>=u.x&&o>=u.y)return!0}var l=[new i(t,n),new i(t,o),new i(r,o),new i(r,n)];if(e.length>2)for(var c=0,f=l;c<f.length;c+=1)if(Qo(e,f[c]))return!0;for(var h=0;h<e.length-1;h++)if(ea(e[h],e[h+1],l))return!0;return!1}(e.cameraQueryGeometry,t-c,n-c,r+c,o+c)}));p<g.length;p+=1)h.push(g[p]);h.sort(ic);for(var m,v={},y=function(i){var c=h[i];if(c!==m){m=c;var f=o.featureIndexArray.get(c),d=null;o.loadMatchingFeature(v,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,u,a.layers,a.availableImages,t,n,r,(function(t,n,r){return d||(d=Bo(t)),n.queryIntersectsFeature(l,t,r,d,o.z,e.transform,s,e.pixelPosMatrix)}))}},b=0;b<h.length;b++)y(b);return v},tc.prototype.loadMatchingFeature=function(e,t,n,r,i,o,a,s,u,l,c){var f=this.bucketLayerIDs[t];if(!o||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(o,f)){var d=this.sourceLayerCoder.decode(n),p=this.vtLayers[d].feature(r);if(i.needGeometry){var g=Vo(p,!0);if(!i.filter(new si(this.tileID.overscaledZ),g,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),p))return;for(var m=this.getId(p,d),v=0;v<f.length;v++){var y=f[v];if(!(o&&o.indexOf(y)<0)){var b=s[y];if(b){var _={};void 0!==m&&l&&(_=l.getState(b.sourceLayer||"_geojsonTileLayer",m));var w=h({},u[y]);w.paint=nc(w.paint,b.paint,p,_,a),w.layout=nc(w.layout,b.layout,p,_,a);var x=!c||c(p,b,_);if(x){var O=new Jl(p,this.z,this.x,this.y,m);O.layer=w;var k=e[y];void 0===k&&(k=e[y]=[]),k.push({featureIndex:r,feature:O,intersectionZ:x})}}}}}},tc.prototype.lookupSymbolFeatures=function(e,t,n,r,i,o,a,s){var u={};this.loadVTLayers();for(var l=ar(i),c=0,f=e;c<f.length;c+=1)this.loadMatchingFeature(u,n,r,f[c],l,o,a,s,t);return u},tc.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1)if(e===i[r])return!0;return!1},tc.prototype.getId=function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n},Fr("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var oc=function(e,t){this.tileID=e,this.uid=p(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};oc.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<F.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},oc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},oc.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=o[i],r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=e}},i=0,o=e;i<o.length;i+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof vl){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof vl&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(u))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Yi},oc.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},oc.prototype.getBucket=function(e){return this.buckets[e.id]},oc.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Rl(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Rl(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},oc.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},oc.prototype.queryRenderedFeatures=function(e,t,n,r,i,o,a,s,u,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:a,queryPadding:this.queryPadding*u},e,t,n):{}},oc.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=ar(t&&t.filter),s=this.tileID.canonical,u=s.z,l=s.x,c=s.y,f={z:u,x:l,y:c},h=0;h<o.length;h++){var d=o.feature(h);if(a.needGeometry){var p=Vo(d,!0);if(!a.filter(new si(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),d))continue;var g=n.getId(d,i),m=new Jl(d,u,l,c,g);m.tile=f,e.push(m)}}},oc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},oc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},oc.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=C(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var o=this.expirationTime-t;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},oc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},oc.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=t&&t.style&&t.style.getLayer(r);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}},oc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},oc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<F.now()},oc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},oc.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=F.now()+e},oc.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[e]=n},oc.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=t;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var ac=a.performance,sc=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},ac.mark(this._marks.start)};sc.prototype.finish=function(){ac.mark(this._marks.end);var e=ac.getEntriesByName(this._marks.measure);return 0===e.length&&(ac.measure(this._marks.measure,this._marks.start,this._marks.end),e=ac.getEntriesByName(this._marks.measure),ac.clearMarks(this._marks.start),ac.clearMarks(this._marks.end),ac.clearMeasures(this._marks.measure)),e},e.Actor=Il,e.AlphaImage=ya,e.CanonicalTileID=Gl,e.CollisionBoxArray=Yi,e.Color=et,e.DEMData=Kl,e.DataConstantProperty=mi,e.DictionaryCoder=Yl,e.EXTENT=8192,e.ErrorEvent=Ce,e.EvaluationParameters=si,e.Event=Ee,e.Evented=Ae,e.FeatureIndex=tc,e.FillBucket=ss,e.FillExtrusionBucket=ks,e.ImageAtlas=_u,e.ImagePosition=yu,e.LineBucket=Is,e.LngLat=Fl,e.LngLatBounds=zl,e.MercatorCoordinate=Hl,e.ONE_EM=24,e.OverscaledTileID=Xl,e.Point=i,e.Point$1=i,e.Properties=wi,e.Protobuf=Ks,e.RGBAImage=ba,e.RequestManager=H,e.RequestPerformance=sc,e.ResourceType=pe,e.SegmentVector=so,e.SourceFeatureState=ec,e.StructArrayLayout1ui2=Xi,e.StructArrayLayout2f1f2i16=Ni,e.StructArrayLayout2i4=Ai,e.StructArrayLayout3ui6=Vi,e.StructArrayLayout4i8=Pi,e.SymbolBucket=vl,e.Texture=Rl,e.Tile=oc,e.Transitionable=ci,e.Uniform1f=wo,e.Uniform1i=_o,e.Uniform2f=xo,e.Uniform3f=Oo,e.Uniform4f=ko,e.UniformColor=So,e.UniformMatrix4f=Co,e.UnwrappedTileID=ql,e.ValidationError=je,e.WritingMode=wu,e.ZoomHistory=Wr,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=dl,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),i[a]=t,0==--r&&n(o,i)}))}))},e.bezier=u,e.bindAll=v,e.browser=F,e.cacheEntryPossiblyAdded=function(e){++he>ue&&(e.getActor().send("enforceCacheSizeLimit",se),he=0)},e.clamp=c,e.clearTileCache=function(e){var t=a.caches.delete("mapbox-tiles");e&&t.catch(e).then((function(){return e()}))},e.clipLine=Gu,e.clone=function(e){var t=new aa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=w,e.clone$2=function(e){var t=new aa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Hs,e.config=N,e.create=function(){var e=new aa(16);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new aa(9);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new aa(4);return aa!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=qn,e.createLayout=Ei,e.createStyleLayer=function(e){return"custom"===e.type?new El(e):new Cl[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e},e.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=l,e.emitValidationErrors=Mr,e.endsWith=y,e.enforceCacheSizeLimit=function(e){le(),ee&&ee.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=zu,e.evaluateSizeForZoom=Fu,e.evaluateVariableOffset=ol,e.evented=ri,e.extend=h,e.featureFilter=ar,e.filterObject=_,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Mu,e.getAnchorJustification=al,e.getArrayBuffer=_e,e.getImage=Oe,e.getJSON=function(e,t){return be(h(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ye,e.getVideo=function(e,t){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var o=0;o<e.length;o++){var s=a.document.createElement("source");n=e[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[o],i.appendChild(s)}return{cancel:function(){}}},e.identity=sa,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=n*s-r*a,b=n*u-i*a,_=n*l-o*a,w=r*u-i*s,x=r*l-o*s,O=i*l-o*u,k=c*g-f*p,S=c*m-h*p,E=c*v-d*p,C=f*m-h*g,A=f*v-d*g,P=h*v-d*m,j=y*P-b*A+_*C+w*E-x*S+O*k;return j?(e[0]=(s*P-u*A+l*C)*(j=1/j),e[1]=(i*A-r*P-o*C)*j,e[2]=(g*O-m*x+v*w)*j,e[3]=(h*x-f*O-d*w)*j,e[4]=(u*E-a*P-l*S)*j,e[5]=(n*P-i*E+o*S)*j,e[6]=(m*_-p*O-v*b)*j,e[7]=(c*O-h*_+d*b)*j,e[8]=(a*A-s*E+l*k)*j,e[9]=(r*E-n*A-o*k)*j,e[10]=(p*x-g*_+v*y)*j,e[11]=(f*_-c*x-d*y)*j,e[12]=(s*S-a*C-u*k)*j,e[13]=(n*C-r*S+i*k)*j,e[14]=(g*b-p*w-m*y)*j,e[15]=(c*w-f*b+h*y)*j,e):null},e.isChar=Hr,e.isMapboxURL=G,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=be,e.mapObject=b,e.mercatorXfromLng=Vl,e.mercatorYfromLat=$l,e.mercatorZfromAltitude=Ul,e.mul=ca,e.multiply=ua,e.mvt=_s,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.number=Wt,e.offscreenCanvasSupported=de,e.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ks(e).readFields(pu,[])},e.pbf=Ks,e.performSymbolLayout=function(e,t,n,r,i,o,a){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,l={};if("composite"===e.textSizeData.kind){var c=e.textSizeData,f=c.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new si(c.minZoom),a),u["text-size"].possiblyEvaluate(new si(f),a)]}if("composite"===e.iconSizeData.kind){var h=e.iconSizeData,d=h.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new si(h.minZoom),a),u["icon-size"].possiblyEvaluate(new si(d),a)]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new si(e.zoom+1),a),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new si(e.zoom+1),a),l.textMaxSize=u["text-size"].possiblyEvaluate(new si(18));for(var p=24*s.get("text-line-height"),g="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),v=s.get("text-size"),y=function(){var o=_[b],u=s.get("text-font").evaluate(o,{},a).join(","),c=v.evaluate(o,{},a),f=l.layoutTextSize.evaluate(o,{},a),h=l.layoutIconSize.evaluate(o,{},a),d={horizontal:{},vertical:void 0},y=o.text,w=[0,0];if(y){var x=y.toString(),k=24*s.get("text-letter-spacing").evaluate(o,{},a),S=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r=n[t].charCodeAt(0),Hr.Arabic(r)||Hr["Arabic Supplement"](r)||Hr["Arabic Extended-A"](r)||Hr["Arabic Presentation Forms-A"](r)||Hr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(x)?k:0,E=s.get("text-anchor").evaluate(o,{},a),C=s.get("text-variable-anchor");if(!C){var A=s.get("text-radial-offset").evaluate(o,{},a);w=A?ol(E,[24*A,il]):s.get("text-offset").evaluate(o,{},a).map((function(e){return 24*e}))}var P=g?"center":s.get("text-justify").evaluate(o,{},a),j=s.get("symbol-placement"),T="point"===j?24*s.get("text-max-width").evaluate(o,{},a):0,M=function(){e.allowVerticalPlacement&&Gr(x)&&(d.vertical=ku(y,t,n,i,u,T,p,E,"left",S,w,wu.vertical,!0,j,f,c))};if(!g&&C){for(var R="auto"===P?C.map((function(e){return al(e)})):[P],L=!1,I=0;I<R.length;I++){var D=R[I];if(!d.horizontal[D])if(L)d.horizontal[D]=d.horizontal[0];else{var z=ku(y,t,n,i,u,T,p,"center",D,S,w,wu.horizontal,!1,j,f,c);z&&(d.horizontal[D]=z,L=1===z.positionedLines.length)}}M()}else{"auto"===P&&(P=al(E));var F=ku(y,t,n,i,u,T,p,E,P,S,w,wu.horizontal,!1,j,f,c);F&&(d.horizontal[P]=F),M(),Gr(x)&&g&&m&&(d.vertical=ku(y,t,n,i,u,T,p,E,P,S,w,wu.vertical,!1,j,f,c))}}var N=void 0,B=!1;if(o.icon&&o.icon.name){var V=r[o.icon.name];V&&(N=function(e,t,n){var r=Mu(n),i=t[0]-e.displaySize[0]*r.horizontalAlign,o=t[1]-e.displaySize[1]*r.verticalAlign;return{image:e,top:o,bottom:o+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),B=V.sdf,void 0===e.sdfIcons?e.sdfIcons=V.sdf:e.sdfIcons!==V.sdf&&O("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(V.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var $=ul(d.horizontal)||d.vertical;e.iconsInText=!!$&&$.iconsInText,($||N)&&function(e,t,n,r,i,o,a,s,u,l,c){var f=o.textMaxSize.evaluate(t,{});void 0===f&&(f=a);var h,d=e.layers[0].layout,p=d.get("icon-offset").evaluate(t,{},c),g=ul(n.horizontal),m=a/24,v=e.tilePixelRatio*m,y=e.tilePixelRatio*f/24,b=e.tilePixelRatio*s,_=e.tilePixelRatio*d.get("symbol-spacing"),w=d.get("text-padding")*e.tilePixelRatio,x=d.get("icon-padding")*e.tilePixelRatio,k=d.get("text-max-angle")/180*Math.PI,S="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),E="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),C=d.get("symbol-placement"),A=_/2,P=d.get("icon-text-fit");r&&"none"!==P&&(e.allowVerticalPlacement&&n.vertical&&(h=Lu(r,n.vertical,P,d.get("icon-text-fit-padding"),p,m)),g&&(r=Lu(r,g,P,d.get("icon-text-fit-padding"),p,m)));var j=function(s,f){f.x<0||f.x>=8192||f.y<0||f.y>=8192||function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,_,w,x,k,S){var E,C,A,P,j,T=e.addToLineVertexArray(t,n),M=0,R=0,L=0,I=0,D=-1,z=-1,F={},N=ho(""),B=0,V=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(B=(E=s.layout.get("text-offset").evaluate(_,{},k).map((function(e){return 24*e})))[0],V=E[1]):(B=24*s.layout.get("text-radial-offset").evaluate(_,{},k),V=il),e.allowVerticalPlacement&&r.vertical){var $=s.layout.get("text-rotate").evaluate(_,{},k)+90;P=new Ju(u,t,l,c,f,r.vertical,h,d,p,$),a&&(j=new Ju(u,t,l,c,f,a,m,v,p,$))}if(i){var U=s.layout.get("icon-rotate").evaluate(_,{}),W="none"!==s.layout.get("icon-text-fit"),H=qu(i,U,x,W),G=a?qu(a,U,x,W):void 0;A=new Ju(u,t,l,c,f,i,m,v,!1,U),M=4*H.length;var q=e.iconSizeData,X=null;"source"===q.kind?(X=[128*s.layout.get("icon-size").evaluate(_,{})])[0]>32640&&O(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===q.kind&&((X=[128*w.compositeIconSizes[0].evaluate(_,{},k),128*w.compositeIconSizes[1].evaluate(_,{},k)])[0]>32640||X[1]>32640)&&O(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,H,X,b,y,_,!1,t,T.lineStartIndex,T.lineLength,-1,k),D=e.icon.placedSymbolArray.length-1,G&&(R=4*G.length,e.addSymbols(e.icon,G,X,b,y,_,wu.vertical,t,T.lineStartIndex,T.lineLength,-1,k),z=e.icon.placedSymbolArray.length-1)}for(var Z in r.horizontal){var K=r.horizontal[Z];if(!C){N=ho(K.text);var Y=s.layout.get("text-rotate").evaluate(_,{},k);C=new Ju(u,t,l,c,f,K,h,d,p,Y)}var J=1===K.positionedLines.length;if(L+=sl(e,t,K,o,s,p,_,g,T,r.vertical?wu.horizontal:wu.horizontalOnly,J?Object.keys(r.horizontal):[Z],F,D,w,k),J)break}r.vertical&&(I+=sl(e,t,r.vertical,o,s,p,_,g,T,wu.vertical,["vertical"],F,z,w,k));var Q=C?C.boxStartIndex:e.collisionBoxArray.length,ee=C?C.boxEndIndex:e.collisionBoxArray.length,te=P?P.boxStartIndex:e.collisionBoxArray.length,ne=P?P.boxEndIndex:e.collisionBoxArray.length,re=A?A.boxStartIndex:e.collisionBoxArray.length,ie=A?A.boxEndIndex:e.collisionBoxArray.length,oe=j?j.boxStartIndex:e.collisionBoxArray.length,ae=j?j.boxEndIndex:e.collisionBoxArray.length,se=-1,ue=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=ue(C,se),se=ue(P,se),se=ue(A,se);var le=(se=ue(j,se))>-1?1:0;le&&(se*=S/24),e.glyphOffsetArray.length>=vl.MAX_GLYPHS&&O("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,_.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,D,z,N,Q,ee,te,ne,re,ie,oe,ae,l,L,I,M,R,le,0,h,B,V,se)}(e,f,s,n,r,i,h,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,v,w,S,u,b,x,E,p,t,o,l,c,a)};if("line"===C)for(var T=0,M=Gu(t.geometry,0,0,8192,8192);T<M.length;T+=1)for(var R=M[T],L=0,I=Hu(R,_,k,n.vertical||g,r,24,y,e.overscaling,8192);L<I.length;L+=1){var D=I[L];g&&ll(e,g.text,A,D)||j(R,D)}else if("line-center"===C)for(var z=0,F=t.geometry;z<F.length;z+=1){var N=F[z];if(N.length>1){var B=Wu(N,k,n.vertical||g,r,24,y);B&&j(N,B)}}else if("Polygon"===t.type)for(var V=0,$=rs(t.geometry,0);V<$.length;V+=1){var U=$[V],W=tl(U,16);j(U[0],new Iu(W.x,W.y,0))}else if("LineString"===t.type)for(var H=0,G=t.geometry;H<G.length;H+=1){var q=G[H];j(q,new Iu(q[0].x,q[0].y,0))}else if("Point"===t.type)for(var X=0,Z=t.geometry;X<Z.length;X+=1)for(var K=0,Y=Z[X];K<Y.length;K+=1){var J=Y[K];j([J],new Iu(J.x,J.y,0))}}(e,o,d,N,r,l,f,h,w,B,a)},b=0,_=e.features;b<_.length;b+=1)y();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=ai,e.polygonIntersectsPolygon=Wo,e.postMapLoadEvent=ae,e.postTurnstileEvent=ie,e.potpack=vu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Fr,e.registerForPluginStateChange=function(e){return e({pluginStatus:Qr,pluginURL:ei}),ri.on("pluginStateChange",e),e},e.renderColorRamp=wa,e.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=r*-s+o*u,e[3]=i*-s+a*u,e},e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=u*i+h*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=h*i-u*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+f*r,e[3]=u*i+h*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=f*i-s*r,e[7]=h*i-u*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.scale$2=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){se=e,ue=t},e.setRTLTextPlugin=function(e,t,n){if(void 0===n&&(n=!1),"deferred"===Qr||"loading"===Qr||"loaded"===Qr)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=F.resolveURL(e),Qr="deferred",Jr=t,ni(),n||oi()},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.styleSpec=Pe,e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.symbolSize=Nu,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},e.transformMat4=fa,e.translate=function(e,t,n){var r,i,o,a,s,u,l,c,f,h,d,p,g=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*g+s*m+f*v+t[12],e[13]=i*g+u*m+h*v+t[13],e[14]=o*g+l*m+d*v+t[14],e[15]=a*g+c*m+p*v+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=p,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Pr,e.validateStyle=Ar,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=_s,e.version="1.13.1",e.warnOnce=O,e.webpSupported=B,e.window=a,e.wrap=f})),r(["./shared"],(function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",i=0,o=e;i<o.length;i+=1)r+=t(o[i])+",";return r+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+t(e[a[u]])+",";return s+"}"}function n(n){for(var r="",i=0,o=e.refProperties;i<o.length;i+=1)r+="/"+t(n[o[i]]);return r}var r=function(e){this.keyCache={},e&&this.replace(e)};r.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},r.prototype.update=function(t,r){for(var i=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=e.createStyleLayer(s);u._featureFilter=e.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,c=r;l<c.length;l+=1){var f=c[l];delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}this.familiesBySource={};for(var h=0,d=function(e,t){for(var r={},i=0;i<e.length;i++){var o=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(e[i])}var s=[];for(var u in r)s.push(r[u]);return s}(e.values(this._layerConfigs),this.keyCache);h<d.length;h+=1){var p=d[h].map((function(e){return i._layers[e.id]})),g=p[0];if("none"!==g.visibility){var m=g.source||"",v=this.familiesBySource[m];v||(v=this.familiesBySource[m]={});var y=g.sourceLayer||"_geojsonTileLayer",b=v[y];b||(b=v[y]=[]),b.push(p)}}};var i=function(t){var n={},r=[];for(var i in t){var o=t[i],a=n[i]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};r.push(l),a[s]={rect:l,metrics:u.metrics}}}}var c=e.potpack(r),f=new e.AlphaImage({width:c.w||1,height:c.h||1});for(var h in t){var d=t[h];for(var p in d){var g=d[+p];if(g&&0!==g.bitmap.width&&0!==g.bitmap.height){var m=n[h][p].rect;e.AlphaImage.copy(g.bitmap,f,{x:0,y:0},{x:m.x+1,y:m.y+1},g.bitmap)}}}this.image=f,this.positions=n};e.register("GlyphAtlas",i);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function a(t,n,r){for(var i=new e.EvaluationParameters(n),o=0,a=t;o<a.length;o+=1)a[o].recalculate(i,r)}function s(t,n){var r=e.getArrayBuffer(t.request,(function(t,r,i,o){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(t,n,r,o,s){var u=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var f,h,d,p,g={},m={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},v=n.familiesBySource[this.source];for(var y in v){var b=t.layers[y];if(b){1===b.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=l.encode(y),w=[],x=0;x<b.length;x++){var O=b.feature(x),k=c.getId(O,y);w.push({feature:O,id:k,index:x,sourceLayerIndex:_})}for(var S=0,E=v[y];S<E.length;S+=1){var C=E[S],A=C[0];A.minzoom&&this.zoom<Math.floor(A.minzoom)||A.maxzoom&&this.zoom>=A.maxzoom||"none"!==A.visibility&&(a(C,this.zoom,r),(g[A.id]=A.createBucket({index:c.bucketLayerIDs.length,layers:C,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(w,m,this.tileID.canonical),c.bucketLayerIDs.push(C.map((function(e){return e.id}))))}}}var P=e.mapObject(m.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(P).length?o.send("getGlyphs",{uid:this.uid,stacks:P},(function(e,t){f||(f=e,h=t,M.call(u))})):h={};var j=Object.keys(m.iconDependencies);j.length?o.send("getImages",{icons:j,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){f||(f=e,d=t,M.call(u))})):d={};var T=Object.keys(m.patternDependencies);function M(){if(f)return s(f);if(h&&d&&p){var t=new i(h),n=new e.ImageAtlas(d,p);for(var o in g){var u=g[o];u instanceof e.SymbolBucket?(a(u.layers,this.zoom,r),e.performSymbolLayout(u,h,t.positions,d,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof e.LineBucket||u instanceof e.FillBucket||u instanceof e.FillExtrusionBucket)&&(a(u.layers,this.zoom,r),u.addFeatures(m,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:e.values(g).filter((function(e){return!e.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?t.positions:null})}}T.length?o.send("getImages",{icons:T,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){f||(f=e,p=t,M.call(u))})):p={},M.call(this)};var u=function(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(t,n){var r=this,i=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new o(t);s.abort=this.loadVectorData(t,(function(t,o){if(delete r.loading[i],t||!o)return s.status="done",r.loaded[i]=s,n(t);var u=o.rawData,l={};o.expires&&(l.expires=o.expires),o.cacheControl&&(l.cacheControl=o.cacheControl);var c={};if(a){var f=a.finish();f&&(c.resourceTiming=JSON.parse(JSON.stringify(f)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:u.slice(0)},r,l,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},u.prototype.reloadTile=function(e,t){var n=this,r=this.loaded,i=e.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),t(e,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},u.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var l=e.window.ImageBitmap,c=function(){this.loaded={}};function f(e,t){if(0!==e.length){h(e[0],t);for(var n=1;n<e.length;n++)h(e[n],!t)}}function h(e,t){for(var n=0,r=0,i=e.length,o=i-1;r<i;o=r++)n+=(e[r][0]-e[o][0])*(e[o][1]+e[r][1]);n>=0!=!!t&&e.reverse()}c.prototype.loadTile=function(t,n){var r=t.uid,i=t.encoding,o=t.rawImageData,a=l&&o instanceof l?this.getImageData(o):o,s=new e.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},c.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var d=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,p=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};p.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];t.push([new e.Point$1(i[0],i[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var f=c[l];u.push(new e.Point$1(f[0],f[1]))}o.push(u)}return o},p.prototype.toGeoJSON=function(e,t,n){return d.call(this,e,t,n)};var g=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};g.prototype.feature=function(e){return new p(this._features[e])};var m=e.vectorTile.VectorTileFeature,v=y;function y(e,t){this.options=t||{},this.features=e,this.length=e.length}function b(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}y.prototype.feature=function(e){return new b(this.features[e],this.options.extent)},b.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<r.length;o++)i.push(new e.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var u=a[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[t,r,n,i]},b.prototype.toGeoJSON=m.prototype.toGeoJSON;var _=x,w=v;function x(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,O,e.layers[n])}(t,n),n.finish()}function O(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,k,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)t.writeMessage(4,P,o[n])}function k(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,S,e),t.writeVarintField(3,n.type),t.writeMessage(4,A,n)}function S(e,t){var n=e.feature,r=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),o[s]=u=r.length-1),t.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,h=a[f];void 0===h&&(i.push(l),a[f]=h=i.length-1),t.writeVarint(h)}}function E(e,t){return(t<<3)+(7&e)}function C(e){return e<<1^e>>31}function A(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],l=1;1===r&&(l=u.length),t.writeVarint(E(1,l));for(var c=3===r?u.length-1:u.length,f=0;f<c;f++){1===f&&1!==r&&t.writeVarint(E(2,c-1));var h=u[f].x-i,d=u[f].y-o;t.writeVarint(C(h)),t.writeVarint(C(d)),i+=h,o+=d}3===r&&t.writeVarint(E(7,1))}}function P(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function j(e,t,n,r){T(e,n,r),T(t,2*n,2*r),T(t,2*n+1,2*r+1)}function T(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function M(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}_.fromVectorTileJs=x,_.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new v(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return x({layers:n})},_.GeoJSONWrapper=w;var R=function(e){return e[0]},L=function(e){return e[1]},I=function(e,t,n,r,i){void 0===t&&(t=R),void 0===n&&(n=L),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length),u=0;u<e.length;u++)a[u]=u,s[2*u]=t(e[u]),s[2*u+1]=n(e[u]);!function e(t,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function e(t,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-u*c/s+f)),Math.min(o,Math.floor(r+(s-u)*c/s+f)),a)}var h=n[2*r+a],d=i,p=o;for(j(t,n,i,r),n[2*o+a]>h&&j(t,n,i,o);d<p;){for(j(t,n,d,p),d++,p--;n[2*d+a]<h;)d++;for(;n[2*p+a]>h;)p--}n[2*i+a]===h?j(t,n,i,p):j(t,n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(t,n,s,i,o,a%2),e(t,n,r,i,s-1,a+1),e(t,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};I.prototype.range=function(e,t,n,r){return function(e,t,n,r,i,o,a){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var f=l.pop(),h=l.pop(),d=l.pop();if(h-d<=a)for(var p=d;p<=h;p++)u=t[2*p+1],(s=t[2*p])>=n&&s<=i&&u>=r&&u<=o&&c.push(e[p]);else{var g=Math.floor((d+h)/2);u=t[2*g+1],(s=t[2*g])>=n&&s<=i&&u>=r&&u<=o&&c.push(e[g]);var m=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(d),l.push(g-1),l.push(m)),(0===f?i>=s:o>=u)&&(l.push(g+1),l.push(h),l.push(m))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)},I.prototype.within=function(e,t,n){return function(e,t,n,r,i,o){for(var a=[0,e.length-1,0],s=[],u=i*i;a.length;){var l=a.pop(),c=a.pop(),f=a.pop();if(c-f<=o)for(var h=f;h<=c;h++)M(t[2*h],t[2*h+1],n,r)<=u&&s.push(e[h]);else{var d=Math.floor((f+c)/2),p=t[2*d],g=t[2*d+1];M(p,g,n,r)<=u&&s.push(e[d]);var m=(l+1)%2;(0===l?n-i<=p:r-i<=g)&&(a.push(f),a.push(d-1),a.push(m)),(0===l?n+i>=p:r+i>=g)&&(a.push(d+1),a.push(c),a.push(m))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var D={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},z=function(e){this.options=W(Object.create(D),e),this.trees=new Array(this.options.maxZoom+1)};function F(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function N(e,t){var n=e.geometry.coordinates,r=n[1];return{x:$(n[0]),y:U(r),zoom:1/0,index:t,parentId:-1}}function B(e){return{type:"Feature",id:e.id,properties:V(e),geometry:{type:"Point",coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function V(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return W(W({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function $(e){return e/360+.5}function U(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function W(e,t){for(var n in t)e[n]=t[n];return e}function H(e){return e.x}function G(e){return e.y}function q(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((e-n)*a+(t-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=e-n)*a+(s=t-r)*s}function X(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Z(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)Z(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)Z(e,t[r][i])}(i),i}function Z(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function K(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=t.id;if(n.promoteId?u=t.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===o)Y(i,s);else if("MultiPoint"===o)for(var l=0;l<i.length;l++)Y(i[l],s);else if("LineString"===o)J(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(l=0;l<i.length;l++)J(i[l],s=[],a,!1),e.push(X(u,"LineString",s,t.properties));return}Q(i,s,a,!1)}else if("Polygon"===o)Q(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<t.geometry.geometries.length;l++)K(e,{id:u,geometry:t.geometry.geometries[l],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<i.length;l++){var c=[];Q(i[l],c,a,!0),s.push(c)}}e.push(X(u,o,s,t.properties))}}function Y(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function J(e,t,n,r){for(var i,o,a=0,s=0;s<e.length;s++){var u=ee(e[s][0]),l=te(e[s][1]);t.push(u),t.push(l),t.push(0),s>0&&(a+=r?(i*l-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(l-o,2))),i=u,o=l}var c=t.length-3;t[2]=1,function e(t,n,r,i){for(var o,a=i,s=r-n>>1,u=r-n,l=t[n],c=t[n+1],f=t[r],h=t[r+1],d=n+3;d<r;d+=3){var p=q(t[d],t[d+1],l,c,f,h);if(p>a)o=d,a=p;else if(p===a){var g=Math.abs(d-s);g<u&&(o=d,u=g)}}a>i&&(o-n>3&&e(t,n,o,i),t[o+2]=a,r-o>3&&e(t,o,r,i))}(t,0,c,n),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function Q(e,t,n,r){for(var i=0;i<e.length;i++){var o=[];J(e[i],o,n,r),t.push(o)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ne(e,t,n,r,i,o,a,s){if(r/=t,o>=(n/=t)&&a<r)return e;if(a<n||o>=r)return null;for(var u=[],l=0;l<e.length;l++){var c=e[l],f=c.geometry,h=c.type,d=0===i?c.minX:c.minY,p=0===i?c.maxX:c.maxY;if(d>=n&&p<r)u.push(c);else if(!(p<n||d>=r)){var g=[];if("Point"===h||"MultiPoint"===h)re(f,g,n,r,i);else if("LineString"===h)ie(f,g,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===h)ae(f,g,n,r,i,!1);else if("Polygon"===h)ae(f,g,n,r,i,!0);else if("MultiPolygon"===h)for(var m=0;m<f.length;m++){var v=[];ae(f[m],v,n,r,i,!0),v.length&&g.push(v)}if(g.length){if(s.lineMetrics&&"LineString"===h){for(m=0;m<g.length;m++)u.push(X(c.id,h,g[m],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===g.length?(h="LineString",g=g[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===g.length?"Point":"MultiPoint"),u.push(X(c.id,h,g,c.tags))}}}return u.length?u:null}function re(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function ie(e,t,n,r,i,o,a){for(var s,u,l=oe(e),c=0===i?ue:le,f=e.start,h=0;h<e.length-3;h+=3){var d=e[h],p=e[h+1],g=e[h+2],m=e[h+3],v=e[h+4],y=0===i?d:p,b=0===i?m:v,_=!1;a&&(s=Math.sqrt(Math.pow(d-m,2)+Math.pow(p-v,2))),y<n?b>n&&(u=c(l,d,p,m,v,n),a&&(l.start=f+s*u)):y>r?b<r&&(u=c(l,d,p,m,v,r),a&&(l.start=f+s*u)):se(l,d,p,g),b<n&&y>=n&&(u=c(l,d,p,m,v,n),_=!0),b>r&&y<=r&&(u=c(l,d,p,m,v,r),_=!0),!o&&_&&(a&&(l.end=f+s*u),t.push(l),l=oe(e)),a&&(f+=s)}var w=e.length-3;d=e[w],p=e[w+1],g=e[w+2],(y=0===i?d:p)>=n&&y<=r&&se(l,d,p,g),w=l.length-3,o&&w>=3&&(l[w]!==l[0]||l[w+1]!==l[1])&&se(l,l[0],l[1],l[2]),l.length&&t.push(l)}function oe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,n,r,i,o){for(var a=0;a<e.length;a++)ie(e[a],t,n,r,i,o,!1)}function se(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ue(e,t,n,r,i,o){var a=(o-t)/(r-t);return e.push(o),e.push(n+(i-n)*a),e.push(1),a}function le(e,t,n,r,i,o){var a=(o-n)/(i-n);return e.push(t+(r-t)*a),e.push(o),e.push(1),a}function ce(e,t){for(var n=[],r=0;r<e.length;r++){var i,o=e[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=fe(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(fe(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],l=0;l<o.geometry[s].length;l++)u.push(fe(o.geometry[s][l],t));i.push(u)}n.push(X(o.id,a,i,o.tags))}return n}function fe(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function he(e,t){if(e.transformed)return e;var n,r,i,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var u=e.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(de(l[r],l[r+1],t,o,a,s));else for(r=0;r<l.length;r++){var f=[];for(i=0;i<l[r].length;i+=2)f.push(de(l[r][i],l[r][i+1],t,o,a,s));u.geometry.push(f)}}return e.transformed=!0,e}function de(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function pe(e,t,n,r,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,ge(a,e[s],o,i);var u=e[s].minX,l=e[s].minY,c=e[s].maxX,f=e[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),f>a.maxY&&(a.maxY=f)}return a}function ge(e,t,n,r){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)me(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)me(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)me(a,l[s],e,n,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===o&&r.lineMetrics){for(var f in c={},t.tags)c[f]=t.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(h.id=t.id),e.features.push(h)}}function me(e,t,n,r,i,o){var a=r*r;if(r>0&&t.size<(i?a:r))n.numPoints+=t.length/3;else{for(var s=[],u=0;u<t.length;u+=3)(0===r||t[u+2]>a)&&(n.numSimplified++,s.push(t[u]),s.push(t[u+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(s,o),e.push(s)}}function ve(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)K(n,e.features[r],t,r);else K(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=ne(e,1,-1-n,n,0,-1,2,t),o=ne(e,1,1-n,2+n,0,-1,2,t);return(i||o)&&(r=ne(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=ce(i,1).concat(r)),o&&(r=r.concat(ce(o,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ye(e,t,n){return 32*((1<<e)*n+t)+e}function be(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new g(r.features),o=_(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}z.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare "+e.length+" points";n&&console.time(a),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(N(e[u],u));this.trees[i+1]=new I(s,H,G,o,Float32Array),n&&console.timeEnd(a);for(var l=i;l>=r;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new I(s,H,G,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},z.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}for(var u=this.trees[this._limitZoom(t)],l=[],c=0,f=u.range($(n),U(o),$(i),U(r));c<f.length;c+=1){var h=u.points[f[c]];l.push(h.numPoints?B(h):this.points[h.index])}return l},z.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[t];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,l=i.within(o.x,o.y,a);u<l.length;u+=1){var c=i.points[l[u]];c.parentId===e&&s.push(c.numPoints?B(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},z.prototype.getLeaves=function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r},z.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.radius/o.extent,s=(n-a)/i,u=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((t-a)/i,s,(t+1+a)/i,u),r.points,t,n,i,l),0===t&&this._addTileFeatures(r.range(1-a/i,s,1,u),r.points,i,n,i,l),t===i-1&&this._addTileFeatures(r.range(0,s,a/i,u),r.points,-1,n,i,l),l.features.length?l:null},z.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},z.prototype._appendLeaves=function(e,t,n,r,i){for(var o=0,a=this.getChildren(t);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i},z.prototype._addTileFeatures=function(e,t,n,r,i,o){for(var a=0,s=e;a<s.length;a+=1){var u=t[s[a]],l=u.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:l?V(u):this.points[u.index].properties},f=void 0;l?f=u.id:this.options.generateId?f=u.index:this.points[u.index].id&&(f=this.points[u.index].id),void 0!==f&&(c.id=f),o.features.push(c)}},z.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},z.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,t)),s=0;s<e.length;s++){var u=e[s];if(!(u.zoom<=t)){u.zoom=t;for(var l=this.trees[t+1],c=l.within(u.x,u.y,a),f=u.numPoints||1,h=f,d=0,p=c;d<p.length;d+=1){var g=l.points[p[d]];g.zoom>t&&(h+=g.numPoints||1)}if(h>=o){for(var m=u.x*f,v=u.y*f,y=i&&f>1?this._map(u,!0):null,b=(s<<5)+(t+1)+this.points.length,_=0,w=c;_<w.length;_+=1){var x=l.points[w[_]];if(!(x.zoom<=t)){x.zoom=t;var O=x.numPoints||1;m+=x.x*O,v+=x.y*O,x.parentId=b,i&&(y||(y=this._map(u,!0)),i(y,this._map(x)))}}u.parentId=b,n.push(F(m/h,v/h,b,h,y))}else if(n.push(u),h>1)for(var k=0,S=c;k<S.length;k+=1){var E=l.points[S[k]];E.zoom<=t||(E.zoom=t,n.push(E))}}}return n},z.prototype._getOriginId=function(e){return e-this.points.length>>5},z.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},z.prototype._map=function(e,t){if(e.numPoints)return t?W({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?W({},r):r},ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(e,t,n,r,i,o,a){for(var s=[e,t,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,f=ye(t,n,r),h=this.tiles[f];if(!h&&(l>1&&console.time("creation"),h=this.tiles[f]=pe(e,t,n,r,u),this.tileCoords.push({z:t,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var d="z"+t;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(h.source=e,i){if(t===u.maxZoom||t===i)continue;var p=1<<i-t;if(n!==Math.floor(o/p)||r!==Math.floor(a/p))continue}else if(t===u.indexMaxZoom||h.numPoints<=u.indexMaxPoints)continue;if(h.source=null,0!==e.length){l>1&&console.time("clipping");var g,m,v,y,b,_,w=.5*u.buffer/u.extent,x=.5-w,O=.5+w,k=1+w;g=m=v=y=null,b=ne(e,c,n-w,n+O,0,h.minX,h.maxX,u),_=ne(e,c,n+x,n+k,0,h.minX,h.maxX,u),e=null,b&&(g=ne(b,c,r-w,r+O,1,h.minY,h.maxY,u),m=ne(b,c,r+x,r+k,1,h.minY,h.maxY,u),b=null),_&&(v=ne(_,c,r-w,r+O,1,h.minY,h.maxY,u),y=ne(_,c,r+x,r+k,1,h.minY,h.maxY,u),_=null),l>1&&console.timeEnd("clipping"),s.push(g||[],t+1,2*n,2*r),s.push(m||[],t+1,2*n,2*r+1),s.push(v||[],t+1,2*n+1,2*r),s.push(y||[],t+1,2*n+1,2*r+1)}}},ve.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,o=r.debug;if(e<0||e>24)return null;var a=1<<e,s=ye(e,t=(t%a+a)%a,n);if(this.tiles[s])return he(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var u,l=e,c=t,f=n;!u&&l>0;)l--,c=Math.floor(c/2),f=Math.floor(f/2),u=this.tiles[ye(l,c,f)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,f),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,f,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?he(this.tiles[s],i):null):null};var _e=function(t){function n(e,n,r,i){t.call(this,e,n,r,be),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new e.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)f(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)f(t.coordinates[r],n);return t}(a,!0);try{if(r.filter){var s=e.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var u=a.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));a={type:"FeatureCollection",features:u}}t._geoJSONIndex=r.cluster?new z(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),l=0,c=u;l<c.length;l+=1){var f=c[l],h=r[f],d=h[0],p=e.createExpression(h[1]),g=e.createExpression("string"==typeof d?[d,["accumulated"],["get",f]]:d);i[f]=p.value,o[f]=g.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=u;n<r.length;n+=1){var o=r[n];t[o]=i[o].evaluate(a,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=u;n<r.length;n+=1){var i=r[n];a.accumulated=e[i],e[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(e,t){return new ve(e,t)}(a,r.geojsonVtOptions)}catch(o){return n(o)}t.loaded={};var l={};if(i){var c=i.finish();c&&(l.resourceTiming={},l.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,l)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded;return r&&r[e.uid]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(u),we=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:_e},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return we.prototype.setReferrer=function(e,t){this.referrer=t},we.prototype.setImages=function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var o in i)i[o].availableImages=t}n()},we.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},we.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},we.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},we.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},we.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},we.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},we.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},we.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},we.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}},we.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},we.prototype.syncRTLPluginState=function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=e.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(e){r(e.toString())}},we.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},we.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t},we.prototype.getWorkerSource=function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i){r.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]},we.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]},we.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new we(self)),we})),r(["./shared"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!n(e)}function n(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[n=e&&e.failIfMajorPerformanceCaveat]&&(r[n]=function(e){var n=function(e){var n=document.createElement("canvas"),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(e);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=n);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},r=e.window.document&&e.window.document.documentElement.style;function i(e){if(!r)return e[0];for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[s]=t};var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){u=!0}});e.window.addEventListener("test",l,l),e.window.removeEventListener("test",l,l)}catch(e){u=!1}n.addEventListener=function(e,t,n,r){void 0===r&&(r={}),e.addEventListener(t,n,"passive"in r&&u?r:r.capture)},n.removeEventListener=function(e,t,n,r){void 0===r&&(r={}),e.removeEventListener(t,n,"passive"in r&&u?r:r.capture)};var c=function t(n){n.preventDefault(),n.stopPropagation(),e.window.removeEventListener("click",t,!0)};function f(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new e.Point(n[o].clientX-r.left-t.clientLeft,n[o].clientY-r.top-t.clientTop));return i},n.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var h=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},n.prototype._validate=function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(e,t){if(!e)return!0;for(var n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||t<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},n.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,l=u.x+1,c=u.y+1,f=this.images[s].data,h=f.width,d=f.height;e.RGBAImage.copy(f,a,{x:0,y:0},{x:l,y:c},{width:h,height:d}),e.RGBAImage.copy(f,a,{x:0,y:d-1},{x:l,y:c-1},{width:h,height:1}),e.RGBAImage.copy(f,a,{x:0,y:0},{x:l,y:c+d},{width:h,height:1}),e.RGBAImage.copy(f,a,{x:h-1,y:0},{x:l-1,y:c},{width:1,height:d}),e.RGBAImage.copy(f,a,{x:0,y:0},{x:l+h,y:c},{width:1,height:d})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];f(i)&&this.updateImage(r,i)}}},n}(e.Evented),d=m,p=m,g=1e20;function m(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(e,t,n,r,i,o,a){for(var s=0;s<t;s++){for(var u=0;u<n;u++)r[u]=e[u*t+s];for(y(r,i,o,a,n),u=0;u<n;u++)e[u*t+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<t;s++)r[s]=e[u*t+s];for(y(r,i,o,a,t),s=0;s<t;s++)e[u*t+s]=Math.sqrt(i[s])}}function y(e,t,n,r,i){n[0]=0,r[0]=-g,r[1]=+g;for(var o=1,a=0;o<i;o++){for(var s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+g}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;t[o]=(o-n[a])*(o-n[a])+e[n[a]]}}m.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=t.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?g:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?g:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},d.default=p;var b=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};b.prototype.setURL=function(e){this.url=e},b.prototype.getGlyphs=function(t,n){var r=this,i=[];for(var o in t)for(var a=0,s=t[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});e.asyncAll(i,(function(e,t){var n=e.stack,i=e.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void t(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])t(null,{stack:n,id:i,glyph:a});else{var u=o.requests[s];u||(u=o.requests[s]=[],b.loadGlyphRange(n,s,r.url,r.requestManager,(function(e,t){if(t){for(var n in t)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t[+n]);o.ranges[s]=!0}for(var i=0,a=u;i<a.length;i+=1)(0,a[i])(e,t);delete o.requests[s]}))),u.push((function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})}))}}else t(null,{stack:n,id:i,glyph:a})}),(function(e,t){if(e)n(e);else if(t){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,l=a.glyph;(r[s]||(r[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}}))},b.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},b.prototype._tinySDF=function(t,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=t.tinySDF=new b.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(t,n,r,i,o){var a=256*n,s=a+255,u=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(u,(function(t,n){if(t)o(t);else if(n){for(var r={},i=0,a=e.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},b.TinySDF=d;var _=function(){this.specification=e.styleSpec.light.position};_.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},_.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var w=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new _,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),x=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(w),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(void 0===n&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),O=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};O.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]},O.prototype.getDashRanges=function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});for(var s=e[0],u=1;u<e.length;u++){var l=e[u];r.push({left:i=s*n,right:o=(s+=l)*n,isDash:a=!a,zeroLength:0===l})}return r},O.prototype.addRoundDash=function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=e[a],u=0;u<this.width;u++){u/s.right>1&&(s=e[++a]);var l=Math.abs(u-s.left),c=Math.abs(u-s.right),f=Math.min(l,c),h=void 0,d=i/n*(r+1);if(s.isDash){var p=r-Math.abs(d);h=Math.sqrt(f*f+p*p)}else h=r-Math.sqrt(f*f+d*d);this.data[o+u]=Math.max(0,Math.min(255,h+128))}},O.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],o=e[e.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,u=e[s],l=0;l<this.width;l++){l/u.right>1&&(u=e[++s]);var c=Math.abs(l-u.left),f=Math.abs(l-u.right),h=Math.min(c,f);this.data[a+l]=Math.max(0,Math.min(255,(u.isDash?h:-h)+128))}},O.prototype.addDash=function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];if(0!==o){var s=this.width/o,u=this.getDashRanges(t,this.width,s);n?this.addRoundDash(u,s,r):this.addRegularDash(u)}var l={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,l},O.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var k=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new t.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function S(t,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=n.canonicalizeTileset(a,t.url),r(null,a)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}k.prototype.broadcast=function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})},k.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},k.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},k.Actor=e.Actor;var E=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};E.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},E.prototype.contains=function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<o&&t.y>=i&&t.y<a};var C=function(t){function n(n,r,i,o){if(t.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new E(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},n.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),A=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new E(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;t.texture=r.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(a,o,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),P=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?o:e.browser.getImageData(o,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:a,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,u={};return u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},n}(A),j=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)t.fire(new e.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",r))}}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)n.fire(new e.ErrorEvent(t));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},n.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this},n.prototype._updateWorkerData=function(t){var n=this;this._loaded=!1;var r=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(e,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),t(e))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,o){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),T=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),M=function(t){function n(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):o&&(r.image=o,t&&(r.coordinates=t),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var u=s[a];n=Math.min(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.x),o=Math.max(o,u.y)}var l=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),f=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((n+i)/2*f),Math.floor((r+o)/2*f))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,T.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),R=function(t){function n(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],e.ResourceType.Source).url);e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=t}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,T.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(M),L=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,T.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(M),I={vector:C,raster:A,"raster-dem":P,geojson:j,video:R,image:M,canvas:L};function D(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function z(e,t,n,r,i,o){var a=function(e,t,n){if(e)for(var r=0,i=e;r<i.length;r+=1){var o=t[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in t){var s=t[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),u=e.tilesIn(r,s,a);u.sort(F);for(var l=[],c=0,f=u;c<f.length;c+=1){var h=f[c];l.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,n,e._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,i,o,s,D(e.transform,h.tileID))})}var d=function(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],f=u[l]=u[l]||{},h=t[l]=t[l]||[],d=0,p=c;d<p.length;d+=1){var g=p[d];f[g.featureIndex]||(f[g.featureIndex]=!0,h.push(g))}}return t}(l);for(var p in d)d[p].forEach((function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return d}function F(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var N=function(e,t){this.max=e,this.onRemove=t,this.reset()};N.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},N.prototype.add=function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:t,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(e,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},N.prototype.has=function(e){return e.wrapped().key in this.data},N.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},N.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},N.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},N.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},N.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},N.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},N.prototype.filter=function(e){var t=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];e(o.value)||t.push(o)}for(var a=0,s=t;a<s.length;a+=1){var u=s[a];this.remove(u.value.tileID,u)}};var B=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var V={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},$=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};$.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},$.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},$.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}},$.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[V[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},$.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};U.prototype.get=function(){return this.current},U.prototype.set=function(e){},U.prototype.getDefault=function(){return this.default},U.prototype.setDefault=function(){this.set(this.default)};var W=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(U),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(U),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(U),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(U),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(U),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(U),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(U),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(U),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(U),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(U),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(U),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(U),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(U),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(U),ie=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(U),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(U),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(U),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(U),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(U),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(U),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(U),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(U),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(U),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(U),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(U),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(U),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(U),ve=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(U),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(U),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(U),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(U),we=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(U),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(we),Oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(we),ke=function(e,t,n,r){this.context=e,this.width=t,this.height=n;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new xe(e,i),r&&(this.depthAttachment=new Oe(e,i))};ke.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)};var Se=function(e,t,n){this.func=e,this.mask=t,this.range=n};Se.ReadOnly=!1,Se.ReadWrite=!0,Se.disabled=new Se(519,Se.ReadOnly,[0,1]);var Ee=function(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Ee.disabled=new Ee({func:519,mask:0},0,0,7680,7680,7680);var Ce=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Ce.disabled=new Ce(Ce.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ce.unblended=new Ce(Ce.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ce.alphaBlended=new Ce([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Ae=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};Ae.disabled=new Ae(!1,1029,2305),Ae.backCCW=new Ae(!0,1029,2305);var Pe=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new H(this),this.clearStencil=new G(this),this.colorMask=new q(this),this.depthMask=new X(this),this.stencilMask=new Z(this),this.stencilFunc=new K(this),this.stencilOp=new Y(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new re(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new ue(this),this.program=new le(this),this.activeTexture=new ce(this),this.viewport=new fe(this),this.bindFramebuffer=new he(this),this.bindRenderbuffer=new de(this),this.bindTexture=new pe(this),this.bindVertexBuffer=new ge(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ve(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new be(this),this.pixelStoreUnpackFlipY=new _e(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Pe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Pe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Pe.prototype.createIndexBuffer=function(e,t){return new B(this,e,t)},Pe.prototype.createVertexBuffer=function(e,t,n){return new $(this,e,t,n)},Pe.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},Pe.prototype.createFramebuffer=function(e,t,n){return new ke(this,e,t,n)},Pe.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Pe.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Pe.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Pe.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Pe.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Pe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var je=function(t){function n(n,r,i){var o=this;t.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(t,n,r,i){var o=new I[n.type](t,n,r,i);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new N(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Te).map((function(e){return e.key}))},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort((function(t,r){var i=t.tileID,o=r.tileID,a=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(Te).map((function(e){return e.key}))},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);o(e,i),o(i,e)}}function o(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>t;)if(e[(u=u.scaledTo(u.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},n.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(t){var r=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return r._source.hasTile(e)})))):i=[];var o=t.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(i,o);if(Me(this._source.type)){for(var l={},c={},f=0,h=Object.keys(u);f<h.length;f+=1){var d=h[f],p=u[d],g=this._tiles[d];if(g&&!(g.fadeEndTime&&g.fadeEndTime<=e.browser.now())){var m=this.findLoadedParent(p,a);m&&(this._addTile(m.tileID),l[m.tileID.key]=m.tileID),c[d]=p}}for(var v in this._retainLoadedChildren(c,o,s,u),l)u[v]||(this._coveredTiles[v]=!0,u[v]=l[v])}for(var y in u)this._tiles[y].clearFadeHold();for(var b=0,_=e.keysDifference(this._tiles,u);b<_.length;b+=1){var w=_[b],x=this._tiles[w];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(this.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||this._removeTile(w)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},i={},o=Math.max(t-n.maxOverzooming,this._source.minzoom),a=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},u=0,l=e;u<l.length;u+=1){var c=l[u],f=this._addTile(c);r[c.key]=c,f.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,a,r);for(var h=0,d=e;h<d.length;h+=1){var p=d[h],g=this._tiles[p.key];if(!g.hasData()){if(t+1>this._source.maxzoom){var m=p.children(this._source.maxzoom)[0],v=this.getTile(m);if(v&&v.hasData()){r[m.key]=m;continue}}else{var y=p.children(this._source.maxzoom);if(r[y[0].key]&&r[y[1].key]&&r[y[2].key]&&r[y[3].key])continue}for(var b=g.wasRequested(),_=p.overscaledZ-1;_>=o;--_){var w=p.scaledTo(_);if(i[w.key])break;if(i[w.key]=!0,!(g=this.getTile(w))&&b&&(g=this._addTile(w)),g&&(r[w.key]=w,b=g.wasRequested(),g.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=t;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=Boolean(n);return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(t):t,u=t.map((function(e){return a.pointCoordinate(e)})),l=s.map((function(e){return a.pointCoordinate(e)})),c=this.getIds(),f=1/0,h=1/0,d=-1/0,p=-1/0,g=0,m=l;g<m.length;g+=1){var v=m[g];f=Math.min(f,v.x),h=Math.min(h,v.y),d=Math.max(d,v.x),p=Math.max(p,v.y)}for(var y=function(t){var r=i._tiles[c[t]];if(!r.holdingForFade()){var s=r.tileID,g=Math.pow(2,a.zoom-r.tileID.overscaledZ),m=n*r.queryPadding*e.EXTENT/r.tileSize/g,v=[s.getTilePoint(new e.MercatorCoordinate(f,h)),s.getTilePoint(new e.MercatorCoordinate(d,p))];if(v[0].x-m<e.EXTENT&&v[0].y-m<e.EXTENT&&v[1].x+m>=0&&v[1].y+m>=0){var y=u.map((function(e){return s.getTilePoint(e)})),b=l.map((function(e){return s.getTilePoint(e)}));o.push({tile:r,tileID:s,queryGeometry:y,cameraQueryGeometry:b,scale:g})}}},b=0;b<c.length;b++)y(b);return o},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Me(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)},n.prototype.removeFeatureState=function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)},n.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},n.prototype.setDependencies=function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)},n.prototype.reloadTilesForDependencies=function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))},n}(e.Evented);function Te(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Me(e){return"raster"===e||"image"===e||"video"===e}function Re(){return new e.window.Worker(Zi.workerUrl)}je.maxOverzooming=10,je.maxUnderzooming=3;var Le="mapboxgl_preloaded_worker_pool",Ie=function(){this.active={}};Ie.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Ie.workerCount;)this.workers.push(new Re);return this.active[e]=!0,this.workers.slice()},Ie.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},Ie.prototype.isPreloaded=function(){return!!this.active[Le]},Ie.prototype.numActive=function(){return Object.keys(this.active).length};var De,ze=Math.floor(e.browser.hardwareConcurrency/2);function Fe(){return De||(De=new Ie),De}function Ne(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function Be(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Ne(e[r],t[e[r].ref]));return e}Ie.workerCount=Math.max(Math.min(ze,6),1);var Ve={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function $e(e,t,n){n.push({command:Ve.addSource,args:[e,t[e]]})}function Ue(e,t,n){t.push({command:Ve.removeSource,args:[e]}),n[e]=!0}function We(e,t,n,r){Ue(e,n,r),$e(e,t,n)}function He(t,n,r){var i;for(i in t[r])if(t[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;return!0}function Ge(t,n,r,i,o,a){var s;for(s in n=n||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function qe(e){return e.id}function Xe(e,t){return e[t.id]=t,e}var Ze=function(e,t){this.reset(e,t)};Ze.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Ze.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,u=s>0?(i-a)/s:0;return this.points[o].mult(1-u).add(this.points[n].mult(u))};var Ke=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Ye(t,n,r,i,o){var a=e.create();return n?(e.scale(a,a,[1/o,1/o,1]),r||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function Je(t,n,r,i,o){if(n){var a=e.clone(t);return e.scale(a,a,[o,o,1]),r||e.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Qe(t,n){var r=[t.x,t.y,0,1];ct(r,r,n);var i=r[3];return{point:new e.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function nt(t,n,r,i,o,a,s,u){var l=i?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(l,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],h=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;h.clear();for(var d=t.lineVertexArray,p=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=r.transform.width/r.transform.height,m=!1,v=0;v<p.length;v++){var y=p.get(v);if(y.hidden||y.writingMode===e.WritingMode.vertical&&!m)lt(y.numGlyphs,h);else{m=!1;var b=[y.anchorX,y.anchorY,0,1];if(e.transformMat4(b,b,n),tt(b,f)){var _=et(r.transform.cameraToCenterDistance,b[3]),w=e.evaluateSizeForFeature(l,c,y),x=s?w/_:w*_,O=new e.Point(y.anchorX,y.anchorY),k=Qe(O,o).point,S={},E=ot(y,x,!1,u,n,o,a,t.glyphOffsetArray,d,h,k,O,S,g);m=E.useVertical,(E.notEnoughRoom||m||E.needsFlipping&&ot(y,x,!0,u,n,o,a,t.glyphOffsetArray,d,h,k,O,S,g).notEnoughRoom)&&lt(y.numGlyphs,h)}else lt(y.numGlyphs,h)}}i?t.text.dynamicLayoutVertexBuffer.updateData(h):t.icon.dynamicLayoutVertexBuffer.updateData(h)}function rt(e,t,n,r,i,o,a,s,u,l,c){var f=s.glyphStartIndex+s.numGlyphs,h=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,p=t.getoffsetX(s.glyphStartIndex),g=t.getoffsetX(f-1),m=st(e*p,n,r,i,o,a,s.segment,h,d,u,l,c);if(!m)return null;var v=st(e*g,n,r,i,o,a,s.segment,h,d,u,l,c);return v?{first:m,last:v}:null}function it(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ot(t,n,r,i,o,a,s,u,l,c,f,h,d,p){var g,m=n/24,v=t.lineOffsetX*m,y=t.lineOffsetY*m;if(t.numGlyphs>1){var b=t.glyphStartIndex+t.numGlyphs,_=t.lineStartIndex,w=t.lineStartIndex+t.lineLength,x=rt(m,u,v,y,r,f,h,t,l,a,d);if(!x)return{notEnoughRoom:!0};var O=Qe(x.first.point,s).point,k=Qe(x.last.point,s).point;if(i&&!r){var S=it(t.writingMode,O,k,p);if(S)return S}g=[x.first];for(var E=t.glyphStartIndex+1;E<b-1;E++)g.push(st(m*u.getoffsetX(E),v,y,r,f,h,t.segment,_,w,l,a,d));g.push(x.last)}else{if(i&&!r){var C=Qe(h,o).point,A=t.lineStartIndex+t.segment+1,P=new e.Point(l.getx(A),l.gety(A)),j=Qe(P,o),T=j.signedDistanceFromCamera>0?j.point:at(h,P,C,1,o),M=it(t.writingMode,C,T,p);if(M)return M}var R=st(m*u.getoffsetX(t.glyphStartIndex),v,y,r,f,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,a,d);if(!R)return{notEnoughRoom:!0};g=[R]}for(var L=0,I=g;L<I.length;L+=1){var D=I[L];e.addDynamicAttributes(c,D.point,D.angle)}return{}}function at(e,t,n,r,i){var o=Qe(e.add(e.sub(t)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function st(t,n,r,i,o,a,s,u,l,c,f,h){var d=i?t-n:t+n,p=d>0?1:-1,g=0;i&&(p*=-1,g=Math.PI),p<0&&(g+=Math.PI);for(var m=p>0?u+s:u+s+1,v=o,y=o,b=0,_=0,w=Math.abs(d),x=[];b+_<=w;){if((m+=p)<u||m>=l)return null;if(y=v,x.push(v),void 0===(v=h[m])){var O=new e.Point(c.getx(m),c.gety(m)),k=Qe(O,f);if(k.signedDistanceFromCamera>0)v=h[m]=k.point;else{var S=m-p;v=at(0===b?a:new e.Point(c.getx(S),c.gety(S)),O,y,w-b+1,f)}}b+=_,_=y.dist(v)}var E=(w-b)/_,C=v.sub(y),A=C.mult(E)._add(y);A._add(C._unit()._perp()._mult(r*p));var P=g+Math.atan2(v.y-y.y,v.x-y.x);return x.push(A),{point:A,angle:P,path:x}}Ke.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ke.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ke.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},Ke.prototype._insertBoxCell=function(e,t,n,r,i,o){this.boxCells[i].push(o)},Ke.prototype._insertCircleCell=function(e,t,n,r,i,o){this.circleCells[i].push(o)},Ke.prototype._query=function(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],f=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:l-f,y1:c-f,x2:l+f,y2:c+f})}return o?a.filter(o):a}return this._forEachCell(e,t,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Ke.prototype._queryCircle=function(e,t,n,r,i){var o=e-n,a=e+n,s=t-n,u=t+n;if(a<0||o>this.width||u<0||s>this.height)return!r&&[];var l=[];return this._forEachCell(o,s,a,u,this._queryCellCircle,l,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?l.length>0:l},Ke.prototype.query=function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)},Ke.prototype.hitTest=function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)},Ke.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},Ke.prototype._queryCell=function(e,t,n,r,i,o,a,s){var u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,f=0,h=l;f<h.length;f+=1){var d=h[f];if(!u.box[d]){u.box[d]=!0;var p=4*d;if(e<=c[p+2]&&t<=c[p+3]&&n>=c[p+0]&&r>=c[p+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[d],x1:c[p],y1:c[p+1],x2:c[p+2],y2:c[p+3]})}}}var g=this.circleCells[i];if(null!==g)for(var m=this.circles,v=0,y=g;v<y.length;v+=1){var b=y[v];if(!u.circle[b]){u.circle[b]=!0;var _=3*b;if(this._circleAndRectCollide(m[_],m[_+1],m[_+2],e,t,n,r)&&(!s||s(this.circleKeys[b]))){if(a.hitTest)return o.push(!0),!0;var w=m[_],x=m[_+1],O=m[_+2];o.push({key:this.circleKeys[b],x1:w-O,y1:x-O,x2:w+O,y2:x+O})}}}},Ke.prototype._queryCellCircle=function(e,t,n,r,i,o,a,s){var u=a.circle,l=a.seenUids,c=this.boxCells[i];if(null!==c)for(var f=this.bboxes,h=0,d=c;h<d.length;h+=1){var p=d[h];if(!l.box[p]){l.box[p]=!0;var g=4*p;if(this._circleAndRectCollide(u.x,u.y,u.radius,f[g+0],f[g+1],f[g+2],f[g+3])&&(!s||s(this.boxKeys[p])))return o.push(!0),!0}}var m=this.circleCells[i];if(null!==m)for(var v=this.circles,y=0,b=m;y<b.length;y+=1){var _=b[y];if(!l.circle[_]){l.circle[_]=!0;var w=3*_;if(this._circlesCollide(v[w],v[w+1],v[w+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[_])))return o.push(!0),!0}}},Ke.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var u=this._convertToXCellCoord(e),l=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),h=u;h<=c;h++)for(var d=l;d<=f;d++)if(i.call(this,e,t,n,r,this.xCellCount*d+h,o,a,s))return},Ke.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ke.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ke.prototype._circlesCollide=function(e,t,n,r,i,o){var a=r-e,s=i-t,u=n+o;return u*u>a*a+s*s},Ke.prototype._circleAndRectCollide=function(e,t,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(e-(r+s));if(u>s+n)return!1;var l=(a-i)/2,c=Math.abs(t-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var f=u-s,h=c-l;return f*f+h*h<=n*n};var ut=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function lt(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(ut,3*r)}}function ct(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var ft=function(e,t,n){void 0===t&&(t=new Ke(e.width+200,e.height+200,25)),void 0===n&&(n=new Ke(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function ht(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}ft.prototype.placeCollisionBox=function(e,t,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),a=n*o.perspectiveRatio,s=e.x1*a+o.point.x,u=e.y1*a+o.point.y,l=e.x2*a+o.point.x,c=e.y2*a+o.point.y;return!this.isInsideGrid(s,u,l,c)||!t&&this.grid.hitTest(s,u,l,c,i)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},ft.prototype.placeCollisionCircles=function(t,n,r,i,o,a,s,u,l,c,f,h,d){var p=[],g=new e.Point(n.anchorX,n.anchorY),m=Qe(g,a),v=et(this.transform.cameraToCenterDistance,m.signedDistanceFromCamera),y=(c?o/v:o*v)/e.ONE_EM,b=Qe(g,s).point,_=rt(y,i,n.lineOffsetX*y,n.lineOffsetY*y,!1,b,g,n,r,s,{}),w=!1,x=!1,O=!0;if(_){for(var k=.5*h*v+d,S=new e.Point(-100,-100),E=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),C=new Ze,A=_.first,P=_.last,j=[],T=A.path.length-1;T>=1;T--)j.push(A.path[T]);for(var M=1;M<P.path.length;M++)j.push(P.path[M]);var R=2.5*k;if(u){var L=j.map((function(e){return Qe(e,u)}));j=L.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:L.map((function(e){return e.point}))}var I=[];if(j.length>0){for(var D=j[0].clone(),z=j[0].clone(),F=1;F<j.length;F++)D.x=Math.min(D.x,j[F].x),D.y=Math.min(D.y,j[F].y),z.x=Math.max(z.x,j[F].x),z.y=Math.max(z.y,j[F].y);I=D.x>=S.x&&z.x<=E.x&&D.y>=S.y&&z.y<=E.y?[j]:z.x<S.x||D.x>E.x||z.y<S.y||D.y>E.y?[]:e.clipLine([j],S.x,S.y,E.x,E.y)}for(var N=0,B=I;N<B.length;N+=1){var V;C.reset(B[N],.25*k),V=C.length<=.5*k?1:Math.ceil(C.paddedLength/R)+1;for(var $=0;$<V;$++){var U=$/Math.max(V-1,1),W=C.lerp(U),H=W.x+100,G=W.y+100;p.push(H,G,k,0);var q=H-k,X=G-k,Z=H+k,K=G+k;if(O=O&&this.isOffscreen(q,X,Z,K),x=x||this.isInsideGrid(q,X,Z,K),!t&&this.grid.hitTestCircle(H,G,k,f)&&(w=!0,!l))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!l&&w||!x?[]:p,offscreen:O,collisionDetected:w}},ft.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,u=t;s<u.length;s+=1){var l=u[s],c=new e.Point(l.x+100,l.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var f={},h={},d=0,p=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));d<p.length;d+=1){var g=p[d],m=g.key;if(void 0===f[m.bucketInstanceId]&&(f[m.bucketInstanceId]={}),!f[m.bucketInstanceId][m.featureIndex]){var v=[new e.Point(g.x1,g.y1),new e.Point(g.x2,g.y1),new e.Point(g.x2,g.y2),new e.Point(g.x1,g.y2)];e.polygonIntersectsPolygon(n,v)&&(f[m.bucketInstanceId][m.featureIndex]=!0,void 0===h[m.bucketInstanceId]&&(h[m.bucketInstanceId]=[]),h[m.bucketInstanceId].push(m.featureIndex))}}return h},ft.prototype.insertCollisionBox=function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])},ft.prototype.insertCollisionCircles=function(e,t,n,r,i){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])},ft.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var i=[n,r,0,1];return ct(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ft.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},ft.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary},ft.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var dt=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};dt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pt=function(e,t,n,r,i){this.text=new dt(e?e.text:null,t,n,i),this.icon=new dt(e?e.icon:null,t,r,i)};pt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var gt=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},mt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},vt=function(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},yt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function bt(t,n,r,i,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*r,l=e.evaluateVariableOffset(t,i);return new e.Point(s+l[0]*o,u+l[1]*o)}function _t(t,n,r,i,o,a){var s=t.x1,u=t.x2,l=t.y1,c=t.y2,f=t.anchorPointX,h=t.anchorPointY,d=new e.Point(n,r);return i&&d._rotate(o?a:-a),{x1:s+d.x,y1:l+d.y,x2:u+d.x,y2:c+d.y,anchorPointX:f,anchorPointY:h}}yt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var wt=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new ft(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new yt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function xt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}wt.prototype.getBucketParts=function(t,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,u=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,f=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),h="map"===u.get("text-pitch-alignment"),d="map"===u.get("text-rotation-alignment"),p=ht(r,1,this.transform.zoom),g=Ye(f,h,d,this.transform,p),m=null;if(h){var v=Je(f,h,d,this.transform,p);m=e.multiply([],this.transform.labelPlaneMatrix,v)}this.retainedQueryData[o.bucketInstanceId]=new vt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var y={bucket:o,layout:u,posMatrix:f,textLabelPlaneMatrix:g,labelToScreenMatrix:m,scale:l,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var b=0,_=o.sortKeyRanges;b<_.length;b+=1){var w=_[b];t.push({sortKey:w.sortKey,symbolInstanceStart:w.symbolInstanceStart,symbolInstanceEnd:w.symbolInstanceEnd,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}},wt.prototype.attemptAnchorPlacement=function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p){var g,m=[f.textOffset0,f.textOffset1],v=bt(e,n,r,m,i),y=this.collisionIndex.placeCollisionBox(_t(t,v.x,v.y,o,a,this.transform.angle),c,s,u,l.predicate);if(!p||0!==this.collisionIndex.placeCollisionBox(_t(p,v.x,v.y,o,a,this.transform.angle),c,s,u,l.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(g=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:m,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:g},this.markUsedJustification(h,e,f,d),h.allowVerticalPlacement&&(this.markUsedOrientation(h,d,f),this.placedOrientations[f.crossTileID]=d),{shift:v,placedGlyphBoxes:y}):void 0},wt.prototype.placeLayerBucketPart=function(t,n,r){var i=this,o=t.parameters,a=o.bucket,s=o.layout,u=o.posMatrix,l=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,f=o.textPixelRatio,h=o.holdingForFade,d=o.collisionBoxArray,p=o.partiallyEvaluatedTextSize,g=o.collisionGroup,m=s.get("text-optional"),v=s.get("icon-optional"),y=s.get("text-allow-overlap"),b=s.get("icon-allow-overlap"),_="map"===s.get("text-rotation-alignment"),w="map"===s.get("text-pitch-alignment"),x="none"!==s.get("icon-text-fit"),O="viewport-y"===s.get("symbol-z-order"),k=y&&(b||!a.hasIconData()||v),S=b&&(y||!a.hasTextData()||m);!a.collisionArrays&&d&&a.deserializeCollisionBoxes(d);var E=function(t,o){if(!n[t.crossTileID])if(h)i.placements[t.crossTileID]=new gt(!1,!1,!1);else{var d,O=!1,E=!1,C=!0,A=null,P={box:null,offscreen:null},j={box:null,offscreen:null},T=null,M=null,R=0,L=0,I=0;o.textFeatureIndex?R=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(R=t.featureIndex),o.verticalTextFeatureIndex&&(L=o.verticalTextFeatureIndex);var D=o.textBox;if(D){var z=function(n){var r=e.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[t.crossTileID];o&&(i.placedOrientations[t.crossTileID]=o,i.markUsedOrientation(a,r=o,t))}return r},F=function(n,r){if(a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(P=r(),j=P):P=n(),!(P&&P.box&&P.box.length));i+=1);else P=n()};if(s.get("text-variable-anchor")){var N=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var B=i.prevPlacement.variableOffsets[t.crossTileID];N.indexOf(B.anchor)>0&&(N=N.filter((function(e){return e!==B.anchor}))).unshift(B.anchor)}var V=function(e,n,r){for(var o=e.x2-e.x1,s=e.y2-e.y1,l=t.textBoxScale,c=x&&!b?n:null,h={box:[],offscreen:!1},d=y?2*N.length:N.length,p=0;p<d;++p){var m=i.attemptAnchorPlacement(N[p%N.length],e,o,s,l,_,w,f,u,g,p>=N.length,t,a,r,c);if(m&&(h=m.placedGlyphBoxes)&&h.box&&h.box.length){O=!0,A=m.shift;break}}return h};F((function(){return V(D,o.iconBox,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(P&&P.box&&P.box.length)&&t.numVerticalGlyphVertices>0&&n?V(n,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),P&&(O=P.box,C=P.offscreen);var $=z(P&&P.box);if(!O&&i.prevPlacement){var U=i.prevPlacement.variableOffsets[t.crossTileID];U&&(i.variableOffsets[t.crossTileID]=U,i.markUsedJustification(a,U.anchor,t,$))}}else{var W=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,y,f,u,g.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,t),i.placedOrientations[t.crossTileID]=n),r};F((function(){return W(D,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?W(n,e.WritingMode.vertical):{box:null,offscreen:null}})),z(P&&P.box&&P.box.length)}}if(O=(d=P)&&d.box&&d.box.length>0,C=d&&d.offscreen,t.useRuntimeCollisionCircles){var H=a.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),G=e.evaluateSizeForFeature(a.textSizeData,p,H),q=s.get("text-padding");T=i.collisionIndex.placeCollisionCircles(y,H,a.lineVertexArray,a.glyphOffsetArray,G,u,l,c,r,w,g.predicate,t.collisionCircleDiameter,q),O=y||T.circles.length>0&&!T.collisionDetected,C=C&&T.offscreen}if(o.iconFeatureIndex&&(I=o.iconFeatureIndex),o.iconBox){var X=function(e){var t=x&&A?_t(e,A.x,A.y,_,w,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,b,f,u,g.predicate)};E=j&&j.box&&j.box.length&&o.verticalIconBox?(M=X(o.verticalIconBox)).box.length>0:(M=X(o.iconBox)).box.length>0,C=C&&M.offscreen}var Z=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,K=v||0===t.numIconVertices;if(Z||K?K?Z||(E=E&&O):O=E&&O:E=O=E&&O,O&&d&&d.box&&i.collisionIndex.insertCollisionBox(d.box,s.get("text-ignore-placement"),a.bucketInstanceId,j&&j.box&&L?L:R,g.ID),E&&M&&i.collisionIndex.insertCollisionBox(M.box,s.get("icon-ignore-placement"),a.bucketInstanceId,I,g.ID),T&&(O&&i.collisionIndex.insertCollisionCircles(T.circles,s.get("text-ignore-placement"),a.bucketInstanceId,R,g.ID),r)){var Y=a.bucketInstanceId,J=i.collisionCircleArrays[Y];void 0===J&&(J=i.collisionCircleArrays[Y]=new mt);for(var Q=0;Q<T.circles.length;Q+=4)J.circles.push(T.circles[Q+0]),J.circles.push(T.circles[Q+1]),J.circles.push(T.circles[Q+2]),J.circles.push(T.collisionDetected?1:0)}i.placements[t.crossTileID]=new gt(O||k,E||S,C||a.justReloaded),n[t.crossTileID]=!0}};if(O)for(var C=a.getSortedSymbolIndexes(this.transform.angle),A=C.length-1;A>=0;--A){var P=C[A];E(a.symbolInstances.get(P),a.collisionArrays[P])}else for(var j=t.symbolInstanceStart;j<t.symbolInstanceEnd;j++)E(a.symbolInstances.get(j),a.collisionArrays[j]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var T=this.collisionCircleArrays[a.bucketInstanceId];e.invert(T.invProjMatrix,u),T.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},wt.prototype.markUsedJustification=function(t,n,r,i){var o;o=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var u=s[a];u>=0&&(t.text.placedSymbolArray.get(u).crossTileID=o>=0&&u!==o?0:r.crossTileID)}},wt.prototype.markUsedOrientation=function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)t.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},wt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=i[s];l?(this.opacities[s]=new pt(l,r,u.text,u.icon),n=n||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new pt(null,r,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var c in i){var f=i[c];if(!this.opacities[c]){var h=new pt(f,r,!1,!1);h.isHidden()||(this.opacities[c]=h,n=n||f.text.placed||f.icon.placed)}}for(var d in o)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=o[d]);for(var p in a)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=a[p]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},wt.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},wt.prototype.updateBucketOpacities=function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var o=t.layers[0].layout,a=new pt(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),l=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),f="map"===o.get("text-pitch-alignment"),h="none"!==o.get("icon-text-fit"),d=new pt(null,0,s&&(u||!t.hasIconData()||o.get("icon-optional")),u&&(s||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var p=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},g=function(r){var o=t.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,g=o.crossTileID,m=i.opacities[g];n[g]?m=a:m||(i.opacities[g]=m=d),n[g]=!0;var v=o.numIconVertices>0,y=i.placedOrientations[o.crossTileID],b=y===e.WritingMode.vertical,_=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(s>0||u>0){var w=jt(m.text);p(t.text,s,b?Tt:w),p(t.text,u,_?Tt:w);var x=m.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=x||b?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=x||_?1:0);var O=i.variableOffsets[o.crossTileID];O&&i.markUsedJustification(t,O.anchor,o,y);var k=i.placedOrientations[o.crossTileID];k&&(i.markUsedJustification(t,"left",o,k),i.markUsedOrientation(t,k,o))}if(v){var S=jt(m.icon),E=!(h&&o.verticalPlacedIconSymbolIndex&&b);o.placedIconSymbolIndex>=0&&(p(t.icon,o.numIconVertices,E?S:Tt),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=m.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,o.numVerticalIconVertices,E?Tt:S),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var C=t.collisionArrays[r];if(C){var A=new e.Point(0,0);if(C.textBox||C.verticalTextBox){var P=!0;if(l){var j=i.variableOffsets[g];j?(A=bt(j.anchor,j.width,j.height,j.textOffset,j.textBoxScale),c&&A._rotate(f?i.transform.angle:-i.transform.angle)):P=!1}C.textBox&&xt(t.textCollisionBox.collisionVertexArray,m.text.placed,!P||b,A.x,A.y),C.verticalTextBox&&xt(t.textCollisionBox.collisionVertexArray,m.text.placed,!P||_,A.x,A.y)}var T=Boolean(!_&&C.verticalIconBox);C.iconBox&&xt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,T,h?A.x:0,h?A.y:0),C.verticalIconBox&&xt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!T,h?A.x:0,h?A.y:0)}}},m=0;m<t.symbolInstances.length;m++)g(m);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var v=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=v.invProjMatrix,t.placementViewportMatrix=v.viewportMatrix,t.collisionCircleArray=v.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},wt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},wt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},wt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},wt.prototype.stillRecent=function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e},wt.prototype.setStale=function(){this.stale=!0};var Ot=Math.pow(2,25),kt=Math.pow(2,24),St=Math.pow(2,17),Et=Math.pow(2,16),Ct=Math.pow(2,9),At=Math.pow(2,8),Pt=Math.pow(2,1);function jt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Ot+t*kt+n*St+t*Et+n*Ct+t*At+n*Pt+t}var Tt=0,Mt=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Mt.prototype.continuePlacement=function(e,t,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var Rt=function(e,t,n,r,i,o,a){this.placement=new wt(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Rt.prototype.isDone=function(){return this._done},Rt.prototype.continuePlacement=function(t,n,r){for(var i=this,o=e.browser.now(),a=function(){var t=e.browser.now()-o;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new Mt(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Rt.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Lt=512/e.EXTENT/2,It=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var i=t.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};It.prototype.getScaledCoordinates=function(t,n){var r=Lt/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},It.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var o=e.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,t),u=0,l=a;u<l.length;u+=1){var c=l[u];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Dt=function(){this.maxCrossTileID=0};Dt.prototype.generate=function(){return++this.maxCrossTileID};var zt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};zt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=e},zt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(e)&&u.findMatches(t.symbolInstances,e,i)}else{var l=a[e.scaledTo(Number(o)).key];l&&l.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var f=t.symbolInstances.get(c);f.crossTileID||(f.crossTileID=n.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new It(e,t.symbolInstances,t.bucketInstanceId),!0},zt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[e][i[r].crossTileID]},zt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t};var Ft=function(){this.layerIndexes={},this.crossTileIDs=new Dt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ft.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new zt);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=t;a<s.length;a+=1){var u=s[a],l=u.getBucket(e);l&&e.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,l,this.crossTileIDs)&&(i=!0),o[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Ft.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var Nt=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},Bt=e.pick(Ve,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Vt=e.pick(Ve,["setCenter","setZoom","setBearing","setPitch"]),$t=function(){var t={},n=e.styleSpec.$version;for(var r in e.styleSpec.$root){var i,o=e.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(t[r]=i)}return t}(),Ut=function(t){function n(r,i){var o=this;void 0===i&&(i={}),t.call(this),this.map=r,this.dispatcher=new k(Fe(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new b(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new Ft,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadURL=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){r._request=null,r._load(t,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load($t,!1)},n.prototype._load=function(t,n){if(!n||!Nt(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Be(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},n.prototype._loadSprite=function(t){var n=this;this._spriteRequest=function(t,n,r){var i,o,a,s=e.browser.devicePixelRatio>1?"@2x":"",u=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){u=null,a||(a=e,i=t,c())})),l=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){l=null,a||(a=e,o=t,c())}));function c(){if(a)r(a);else if(i&&o){var t=e.browser.getImageData(o),n={};for(var s in i){var u=i[s],l=u.width,c=u.height,f=u.x,h=u.y,d=u.sdf,p=u.pixelRatio,g=u.stretchX,m=u.stretchY,v=u.content,y=new e.RGBAImage({width:l,height:c});e.RGBAImage.copy(t,y,{x:f,y:h},{x:0,y:0},{width:l,height:c}),n[s]={data:y,pixelRatio:p,sdf:d,stretchX:g,stretchY:m,content:v}}r(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),l&&(l.cancel(),l=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new e.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&t.push(i.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var u={};for(var l in this.sourceCaches){var c=this.sourceCaches[l];u[l]=c.used,c.used=!1}for(var f=0,h=this._order;f<h.length;f+=1){var d=this._layers[h[f]];d.recalculate(t,this._availableImages),!d.isHidden(t.zoom)&&d.source&&(this.sourceCaches[d.source].used=!0)}for(var p in u){var g=this.sourceCaches[p];u[p]!==g.used&&g.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:p}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),Nt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Be(t.layers);var r=function(t,n){if(!t)return[{command:Ve.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Ve.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:Ve.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:Ve.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:Ve.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:Ve.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:Ve.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:Ve.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:Ve.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:Ve.setLight,args:[n.light]});var i={},o=[];!function(t,n,r,i){var o;for(o in n=n||{},t=t||{})t.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Ue(o,r,i));for(o in n)n.hasOwnProperty(o)&&(t.hasOwnProperty(o)?e.deepEqual(t[o],n[o])||("geojson"===t[o].type&&"geojson"===n[o].type&&He(t,n,o)?r.push({command:Ve.setGeoJSONSourceData,args:[o,n[o].data]}):We(o,n,r,i)):$e(o,n,r))}(t.sources,n.sources,o,i);var a=[];t.layers&&t.layers.forEach((function(e){i[e.source]?r.push({command:Ve.removeLayer,args:[e.id]}):a.push(e)})),r=r.concat(o),function(t,n,r){n=n||[];var i,o,a,s,u,l,c,f=(t=t||[]).map(qe),h=n.map(qe),d=t.reduce(Xe,{}),p=n.reduce(Xe,{}),g=f.slice(),m=Object.create(null);for(i=0,o=0;i<f.length;i++)p.hasOwnProperty(a=f[i])?o++:(r.push({command:Ve.removeLayer,args:[a]}),g.splice(g.indexOf(a,o),1));for(i=0,o=0;i<h.length;i++)g[g.length-1-i]!==(a=h[h.length-1-i])&&(d.hasOwnProperty(a)?(r.push({command:Ve.removeLayer,args:[a]}),g.splice(g.lastIndexOf(a,g.length-o),1)):o++,r.push({command:Ve.addLayer,args:[p[a],l=g[g.length-i]]}),g.splice(g.length-i,0,a),m[a]=!0);for(i=0;i<h.length;i++)if(s=d[a=h[i]],u=p[a],!m[a]&&!e.deepEqual(s,u))if(e.deepEqual(s.source,u.source)&&e.deepEqual(s["source-layer"],u["source-layer"])&&e.deepEqual(s.type,u.type)){for(c in Ge(s.layout,u.layout,r,a,null,Ve.setLayoutProperty),Ge(s.paint,u.paint,r,a,null,Ve.setPaintProperty),e.deepEqual(s.filter,u.filter)||r.push({command:Ve.setFilter,args:[a,u.filter]}),e.deepEqual(s.minzoom,u.minzoom)&&e.deepEqual(s.maxzoom,u.maxzoom)||r.push({command:Ve.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ge(s[c],u[c],r,a,c.slice(6),Ve.setPaintProperty):e.deepEqual(s[c],u[c])||r.push({command:Ve.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ge(s[c],u[c],r,a,c.slice(6),Ve.setPaintProperty):e.deepEqual(s[c],u[c])||r.push({command:Ve.setLayerProperty,args:[a,c,u[c]]}))}else r.push({command:Ve.removeLayer,args:[a]}),l=g[g.lastIndexOf(a)+1],r.push({command:Ve.addLayer,args:[u,l]})}(a,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Ve.setStyle,args:[n]}]}return r}(this.serialize(),t).filter((function(e){return!(e.command in Vt)}));if(0===r.length)return!1;var i=r.filter((function(e){return!(e.command in Bt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return r.forEach((function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)})),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,n),this._afterImageUpdated(t)},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},n.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[t]=new je(t,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:t}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===t.type){if(Nt(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},r))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.hasLayer=function(e){return e in this._layers},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,u=e;s<u.length;s+=1){var l=u[s][a];if(l)for(var c=0,f=l;c<f.length;c+=1)i.push(f[c])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var h=[],d=this._order.length-1;d>=0;d--){var p=this._order[d];if(n(p))for(var g=i.length-1;g>=0;g--){var m=i[g].feature;if(r[m.layer.id]<d)break;h.push(m),i.pop()}else for(var v=0,y=e;v<y.length;v+=1){var b=y[v][p];if(b)for(var _=0,w=b;_<w.length;_+=1)h.push(w[_].feature)}}return h},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var l=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||l.push(z(this.sourceCaches[c],this._layers,this._serializedLayers,t,n,r));return this.placement&&l.push(function(e,t,n,r,i,o,a){for(var s={},u=o.queryRenderedSymbols(r),l=[],c=0,f=Object.keys(u).map(Number);c<f.length;c+=1)l.push(a[f[c]]);l.sort(F);for(var h=function(){var n=p[d],r=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var o in r){var a=s[o]=s[o]||[],l=r[o];l.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var c=0,f=l;c<f.length;c+=1)a.push(f[c])}},d=0,p=l;d<p.length;d+=1)h();var g=function(t){s[t].forEach((function(r){var i=r.feature,o=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var m in s)g(m);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,t))}return r}(r,n):[]},n.prototype.addSourceType=function(e,t,r){return n.getSourceType(e)?r(new Error('A source type called "'+e+'" already exists.')):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in t)if(!e.deepEqual(t[o],r[o])){i=!0;break}if(i){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}},n.prototype._validate=function(t,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Nt(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},i)))},n.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,u={},l=0,c=this._order;l<c.length;l+=1){var f=this._layers[c[l]];if("symbol"===f.type){if(!u[f.source]){var h=this.sourceCaches[f.source];u[f.source]=h.getRenderableIds(!0).map((function(e){return h.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var d=this.crossTileSymbolIndex.addLayer(f,u[f.source],t.center.lng);a=a||d}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Rt(t,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var p=0,g=this._order;p<g.length;p+=1){var m=this._layers[g[p]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,u[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);Ut.getSourceType=function(e){return I[e]},Ut.setSourceType=function(e,t){I[e]=t},Ut.registerForPluginStateChange=e.registerForPluginStateChange;var Wt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ht=yn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Gt=yn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),qt=yn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Xt=yn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Zt=yn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Kt=yn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Yt=yn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Jt=yn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qt=yn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),en=yn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tn=yn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=yn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=yn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=yn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),un=yn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),ln=yn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=yn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),fn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hn=yn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),dn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),pn=yn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),gn=yn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),mn=yn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),vn=yn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function yn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(n,(function(e,t,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var bn=Object.freeze({__proto__:null,prelude:Ht,background:Gt,backgroundPattern:qt,circle:Xt,clippingMask:Zt,heatmap:Kt,heatmapTexture:Yt,collisionBox:Jt,collisionCircle:Qt,debug:en,fill:tn,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:un,hillshade:ln,line:cn,lineGradient:fn,linePattern:hn,lineSDF:dn,raster:pn,symbolIcon:gn,symbolSDF:mn,symbolTextAndIcon:vn}),_n=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function wn(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}_n.prototype.bind=function(e,t,n,r,i,o,a,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,o,a,s)},_n.prototype.freshBind=function(e,t,n,r,i,o,a){var s,u=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var f=u;f<s;f++)c.disableVertexAttribArray(f)}t.enableAttributes(c,e);for(var h=0,d=n;h<d.length;h+=1)d[h].enableAttributes(c,e);o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(var p=0,g=n;p<g.length;p+=1){var m=g[p];m.bind(),m.setVertexAttribPointers(c,e,i)}o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),l.currentNumAttributes=u},_n.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var xn=function(e,t,n,r,i,o){var a=e.gl;this.program=a.createProgram();for(var s=wn(n.staticAttributes),u=r?r.getBinderAttributes():[],l=s.concat(u),c=n.staticUniforms?wn(n.staticUniforms):[],f=r?r.getBinderUniforms():[],h=[],d=0,p=c.concat(f);d<p.length;d+=1){var g=p[d];h.indexOf(g)<0&&h.push(g)}var m=r?r.defines():[];o&&m.push("#define OVERDRAW_INSPECTOR;");var v=m.concat(Ht.fragmentSource,n.fragmentSource).join("\n"),y=m.concat(Ht.vertexSource,n.vertexSource).join("\n"),b=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,v),a.compileShader(b),a.attachShader(this.program,b);var _=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,y),a.compileShader(_),a.attachShader(this.program,_),this.attributes={};var w={};this.numAttributes=l.length;for(var x=0;x<this.numAttributes;x++)l[x]&&(a.bindAttribLocation(this.program,x,l[x]),this.attributes[l[x]]=x);a.linkProgram(this.program),a.deleteShader(_),a.deleteShader(b);for(var O=0;O<h.length;O++){var k=h[O];if(k&&!w[k]){var S=a.getUniformLocation(this.program,k);S&&(w[k]=S)}}this.fixedUniforms=i(e,w),this.binderUniforms=r?r.getUniforms(e,w):[]}}};function On(e,t,n){var r=1/ht(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}xn.prototype.draw=function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g){var m,v=e.gl;if(!this.failedToCreate){for(var y in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o),this.fixedUniforms)this.fixedUniforms[y].set(a[y]);d&&d.setUniforms(e,this.binderUniforms,f,{zoom:h});for(var b=(m={},m[v.LINES]=2,m[v.TRIANGLES]=3,m[v.LINE_STRIP]=1,m)[t],_=0,w=c.get();_<w.length;_+=1){var x=w[_],O=x.vaos||(x.vaos={});(O[s]||(O[s]=new _n)).bind(e,this,u,d?d.getPaintVertexBuffers():[],l,x.vertexOffset,p,g),v.drawElements(t,x.primitiveLength*b,v.UNSIGNED_SHORT,x.primitiveOffset*b*2)}}};var kn=function(t,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(u,-n.transform.angle),e.transformMat3(s,s,u);var l=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r,u_opacity:i}},Sn=function(t,n,r,i,o,a,s){return e.extend(kn(t,n,r,i),On(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},En=function(e){return{u_matrix:e}},Cn=function(t,n,r,i){return e.extend(En(t),On(r,n,i))},An=function(e,t){return{u_matrix:e,u_world:t}},Pn=function(t,n,r,i,o){return e.extend(Cn(t,n,r,i),{u_world:o})},jn=function(t,n,r,i){var o,a,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var u=ht(r,1,s.zoom);o=!0,a=[u,u]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:a}},Tn=function(e,t,n){var r=ht(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Mn=function(e,t,n){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Rn=function(e,t,n){return void 0===n&&(n=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},Ln=function(e){return{u_matrix:e}},In=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:ht(t,1,n),u_intensity:r}},Dn=function(t,n,r){var i=t.transform;return{u_matrix:Vn(t,n,r),u_ratio:1/ht(n,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},zn=function(t,n,r,i){return e.extend(Dn(t,n,r),{u_image:0,u_image_height:i})},Fn=function(t,n,r,i){var o=t.transform,a=Bn(n,o);return{u_matrix:Vn(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/ht(n,1,o.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Nn=function(t,n,r,i,o){var a=t.lineAtlas,s=Bn(n,t.transform),u="round"===r.layout.get("line-cap"),l=a.getDash(i.from,u),c=a.getDash(i.to,u),f=l.width*o.fromScale,h=c.width*o.toScale;return e.extend(Dn(t,n,r),{u_patternscale_a:[s/f,-l.height/2],u_patternscale_b:[s/h,-c.height/2],u_sdfgamma:a.width/(256*Math.min(f,h)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:c.y,u_mix:o.t})};function Bn(e,t){return 1/ht(e,1,t.tileZoom)}function Vn(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var $n=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Un(i.paint.get("raster-hue-rotate"))};var o,a};function Un(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Wn,Hn=function(e,t,n,r,i,o,a,s,u,l){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},Gn=function(t,n,r,i,o,a,s,u,l,c,f){var h=o.transform;return e.extend(Hn(t,n,r,i,o,a,s,u,l,c),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+f})},qn=function(t,n,r,i,o,a,s,u,l,c){return e.extend(Gn(t,n,r,i,o,a,s,u,!0,l,!0),{u_texsize_icon:c,u_texture_icon:1})},Xn=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Zn=function(t,n,r,i,o,a){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),o=n.imageManager.getPattern(e.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,f=c*(r.tileID.canonical.x+r.tileID.wrap*l),h=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ht(r,1,n.transform.tileZoom),u_pixel_coord_upper:[f>>16,h>>16],u_pixel_coord_lower:[65535&f,65535&h]}}(i,a,r,o),{u_matrix:t,u_opacity:n})},Kn={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function Yn(t,n,r,i,o,a,s){for(var u=t.context,l=u.gl,c=t.useProgram("collisionBox"),f=[],h=0,d=0,p=0;p<i.length;p++){var g=i[p],m=n.getTile(g),v=m.getBucket(r);if(v){var y=g.posMatrix;0===o[0]&&0===o[1]||(y=t.translatePosMatrix(g.posMatrix,m,o,a));var b=s?v.textCollisionBox:v.iconCollisionBox,_=v.collisionCircleArray;if(_.length>0){var w=e.create(),x=y;e.mul(w,v.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(w,w,v.placementViewportMatrix),f.push({circleArray:_,circleOffset:d,transform:x,invTransform:w}),d=h+=_.length/4}b&&c.draw(u,l.LINES,Se.disabled,Ee.disabled,t.colorModeForRenderPass(),Ae.disabled,Tn(y,t.transform,m),r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,null,b.collisionVertexBuffer)}}if(s&&f.length){var O=t.useProgram("collisionCircle"),k=new e.StructArrayLayout2f1f2i16;k.resize(4*h),k._trim();for(var S=0,E=0,C=f;E<C.length;E+=1)for(var A=C[E],P=0;P<A.circleArray.length/4;P++){var j=4*P,T=A.circleArray[j+0],M=A.circleArray[j+1],R=A.circleArray[j+2],L=A.circleArray[j+3];k.emplace(S++,T,M,R,L,0),k.emplace(S++,T,M,R,L,1),k.emplace(S++,T,M,R,L,2),k.emplace(S++,T,M,R,L,3)}(!Wn||Wn.length<2*h)&&(Wn=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(h));for(var I=u.createIndexBuffer(Wn,!0),D=u.createVertexBuffer(k,e.collisionCircleLayout.members,!0),z=0,F=f;z<F.length;z+=1){var N=F[z],B=Mn(N.transform,N.invTransform,t.transform);O.draw(u,l.TRIANGLES,Se.disabled,Ee.disabled,t.colorModeForRenderPass(),Ae.disabled,B,r.id,D,I,e.SegmentVector.simpleSegment(0,2*N.circleOffset,N.circleArray.length,N.circleArray.length/2),null,t.transform.zoom,null,null,null)}D.destroy(),I.destroy()}}var Jn=e.identity(new Float32Array(16));function Qn(t,n,r,i,o,a){var s=e.getAnchorAlignment(t),u=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.Point((u/o+c[0])*a,(l/o+c[1])*a)}function er(t,n,r,i,o,a,s,u,l,c,f){var h=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,g={};d.clear();for(var m=0;m<h.length;m++){var v=h.get(m),y=v.hidden||!v.crossTileID||t.allowVerticalPlacement&&!v.placedOrientation?null:i[v.crossTileID];if(y){var b=new e.Point(v.anchorX,v.anchorY),_=Qe(b,r?u:s),w=et(a.cameraToCenterDistance,_.signedDistanceFromCamera),x=o.evaluateSizeForFeature(t.textSizeData,c,v)*w/e.ONE_EM;r&&(x*=t.tilePixelRatio/l);for(var O=Qn(y.anchor,y.width,y.height,y.textOffset,y.textBoxScale,x),k=r?Qe(b.add(O),s).point:_.point.add(n?O.rotate(-a.angle):O),S=t.allowVerticalPlacement&&v.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,E=0;E<v.numGlyphs;E++)e.addDynamicAttributes(d,k,S);f&&v.associatedIconIndex>=0&&(g[v.associatedIconIndex]={shiftedAnchor:k,angle:S})}else lt(v.numGlyphs,d)}if(f){p.clear();for(var C=t.icon.placedSymbolArray,A=0;A<C.length;A++){var P=C.get(A);if(P.hidden)lt(P.numGlyphs,p);else{var j=g[A];if(j)for(var T=0;T<P.numGlyphs;T++)e.addDynamicAttributes(p,j.shiftedAnchor,j.angle);else lt(P.numGlyphs,p)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(d)}function tr(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function nr(t,n,r,i,o,a,s,u,l,c,f,h){for(var d=t.context,p=d.gl,g=t.transform,m="map"===u,v="map"===l,y=m&&"point"!==r.layout.get("symbol-placement"),b=m&&!v&&!y,_=void 0!==r.layout.get("symbol-sort-key").constantOr(1),w=!1,x=t.depthModeForSublayer(0,Se.ReadOnly),O=r.layout.get("text-variable-anchor"),k=[],S=0,E=i;S<E.length;S+=1){var C=E[S],A=n.getTile(C),P=A.getBucket(r);if(P){var j=o?P.text:P.icon;if(j&&j.segments.get().length){var T=j.programConfigurations.get(r.id),M=o||P.sdfIcons,R=o?P.textSizeData:P.iconSizeData,L=v||0!==g.pitch,I=t.useProgram(tr(M,o,P),T),D=e.evaluateSizeForZoom(R,g.zoom),z=void 0,F=[0,0],N=void 0,B=void 0,V=null,$=void 0;if(o)N=A.glyphAtlasTexture,B=p.LINEAR,z=A.glyphAtlasTexture.size,P.iconsInText&&(F=A.imageAtlasTexture.size,V=A.imageAtlasTexture,$=L||t.options.rotating||t.options.zooming||"composite"===R.kind||"camera"===R.kind?p.LINEAR:p.NEAREST);else{var U=1!==r.layout.get("icon-size").constantOr(0)||P.iconsNeedLinear;N=A.imageAtlasTexture,B=M||t.options.rotating||t.options.zooming||U||L?p.LINEAR:p.NEAREST,z=A.imageAtlasTexture.size}var W=ht(A,1,t.transform.zoom),H=Ye(C.posMatrix,v,m,t.transform,W),G=Je(C.posMatrix,v,m,t.transform,W),q=O&&P.hasTextData(),X="none"!==r.layout.get("icon-text-fit")&&q&&P.hasIconData();y&&nt(P,C.posMatrix,t,o,H,G,v,c);var Z=t.translatePosMatrix(C.posMatrix,A,a,s),K=y||o&&O||X?Jn:H,Y=t.translatePosMatrix(G,A,a,s,!0),J=M&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:I,buffers:j,uniformValues:M?P.iconsInText?qn(R.kind,D,b,v,t,Z,K,Y,z,F):Gn(R.kind,D,b,v,t,Z,K,Y,o,z,!0):Hn(R.kind,D,b,v,t,Z,K,Y,o,z),atlasTexture:N,atlasTextureIcon:V,atlasInterpolation:B,atlasInterpolationIcon:$,isSDF:M,hasHalo:J};if(_&&P.canOverlap){w=!0;for(var ee=0,te=j.segments.get();ee<te.length;ee+=1){var ne=te[ee];k.push({segments:new e.SegmentVector([ne]),sortKey:ne.sortKey,state:Q})}}else k.push({segments:j.segments,sortKey:0,state:Q})}}}w&&k.sort((function(e,t){return e.sortKey-t.sortKey}));for(var re=0,ie=k;re<ie.length;re+=1){var oe=ie[re],ae=oe.state;if(d.activeTexture.set(p.TEXTURE0),ae.atlasTexture.bind(ae.atlasInterpolation,p.CLAMP_TO_EDGE),ae.atlasTextureIcon&&(d.activeTexture.set(p.TEXTURE1),ae.atlasTextureIcon&&ae.atlasTextureIcon.bind(ae.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),ae.isSDF){var se=ae.uniformValues;ae.hasHalo&&(se.u_is_halo=1,rr(ae.buffers,oe.segments,r,t,ae.program,x,f,h,se)),se.u_is_halo=0}rr(ae.buffers,oe.segments,r,t,ae.program,x,f,h,ae.uniformValues)}}function rr(e,t,n,r,i,o,a,s,u){var l=r.context;i.draw(l,l.gl.TRIANGLES,o,a,s,Ae.disabled,u,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function ir(e,t,n,r,i,o,a){var s,u,l,c,f,h=e.context.gl,d=n.paint.get("fill-pattern"),p=d&&d.constantOr(1),g=n.getCrossfadeParameters();a?(u=p&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(u=p?"fillPattern":"fill",s=h.TRIANGLES);for(var m=0,v=r;m<v.length;m+=1){var y=v[m],b=t.getTile(y);if(!p||b.patternsLoaded()){var _=b.getBucket(n);if(_){var w=_.programConfigurations.get(n.id),x=e.useProgram(u,w);p&&(e.context.activeTexture.set(h.TEXTURE0),b.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),w.updatePaintBuffers(g));var O=d.constantOr(null);if(O&&b.imageAtlas){var k=b.imageAtlas,S=k.patternPositions[O.to.toString()],E=k.patternPositions[O.from.toString()];S&&E&&w.setConstantPatternPositions(S,E)}var C=e.translatePosMatrix(y.posMatrix,b,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=_.indexBuffer2,f=_.segments2;var A=[h.drawingBufferWidth,h.drawingBufferHeight];l="fillOutlinePattern"===u&&p?Pn(C,e,g,b,A):An(C,A)}else c=_.indexBuffer,f=_.segments,l=p?Cn(C,e,g,b):En(C);x.draw(e.context,s,i,e.stencilModeForClipping(y),o,Ae.disabled,l,n.id,_.layoutVertexBuffer,c,f,n.paint,e.transform.zoom,w)}}}}function or(e,t,n,r,i,o,a){for(var s=e.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=l.constantOr(1),f=n.getCrossfadeParameters(),h=n.paint.get("fill-extrusion-opacity"),d=0,p=r;d<p.length;d+=1){var g=p[d],m=t.getTile(g),v=m.getBucket(n);if(v){var y=v.programConfigurations.get(n.id),b=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(e.context.activeTexture.set(u.TEXTURE0),m.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),y.updatePaintBuffers(f));var _=l.constantOr(null);if(_&&m.imageAtlas){var w=m.imageAtlas,x=w.patternPositions[_.to.toString()],O=w.patternPositions[_.from.toString()];x&&O&&y.setConstantPatternPositions(x,O)}var k=e.translatePosMatrix(g.posMatrix,m,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),S=n.paint.get("fill-extrusion-vertical-gradient"),E=c?Sn(k,e,S,h,g,f,m):kn(k,e,S,h);b.draw(s,s.gl.TRIANGLES,i,o,a,Ae.backCCW,E,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,n.paint,e.transform.zoom,y)}}}function ar(t,n,r,i,o,a){var s=t.context,u=s.gl,l=n.fbo;if(l){var c=t.useProgram("hillshade");s.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.colorAttachment.get());var f=function(t,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var u,l,c,f=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(n.tileID.toUnwrapped(),f),u_image:0,u_latrange:(u=n.tileID,l=Math.pow(2,u.canonical.z),c=u.canonical.y,[new e.MercatorCoordinate(0,c/l).toLngLat().lat,new e.MercatorCoordinate(0,(c+1)/l).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(t,n,r);c.draw(s,u.TRIANGLES,i,o,a,Ae.disabled,f,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sr(t,n,r,i,o,a){var s=t.context,u=s.gl,l=n.dem;if(l&&l.data){var c=l.dim,f=l.stride,h=l.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(f),n.demTexture){var d=n.demTexture;d.update(h,{premultiply:!1}),d.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(s,h,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var p=n.fbo;if(!p){var g=new e.Texture(s,{width:c,height:c,data:null},u.RGBA);g.bind(u.LINEAR,u.CLAMP_TO_EDGE),(p=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(g.texture)}s.bindFramebuffer.set(p.framebuffer),s.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,o,a,Ae.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,l),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ur(t,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),u=(s-t.timeAdded)/a,l=n?(s-n.timeAdded)/a:-1,c=r.getSource(),f=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-f)>Math.abs(t.tileID.overscaledZ-f),d=h&&t.refreshedUponExpiration?1:e.clamp(h?u:1-l,0,1);return t.refreshedUponExpiration&&u>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var lr=new e.Color(1,0,0,1),cr=new e.Color(0,1,0,1),fr=new e.Color(0,0,1,1),hr=new e.Color(1,0,1,1),dr=new e.Color(0,1,1,1);function pr(e,t,n,r){mr(e,0,t+n/2,e.transform.width,n,r)}function gr(e,t,n,r){mr(e,t-n/2,0,n,e.transform.height,r)}function mr(t,n,r,i,o,a){var s=t.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,o*e.browser.devicePixelRatio),s.clear({color:a}),u.disable(u.SCISSOR_TEST)}function vr(t,n,r){var i=t.context,o=i.gl,a=r.posMatrix,s=t.useProgram("debug"),u=Se.disabled,l=Ee.disabled,c=t.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,u,l,c,Ae.disabled,Rn(a,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var f=n.getTileByID(r.key).latestRawTileData,h=Math.floor((f&&f.byteLength||0)/1024),d=n.getTile(r).tileSize,p=512/Math.min(d,512)*(r.overscaledZ/t.transform.zoom)*.5,g=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(g+=" => "+r.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,g+" "+h+"kb"),s.draw(i,o.TRIANGLES,u,l,Ce.alphaBlended,Ae.disabled,Rn(a,e.Color.transparent,p),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var yr={symbol:function(t,n,r,i,o){if("translucent"===t.renderPass){var a=Ee.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,o,a,s){for(var u=n.transform,l="map"===o,c="map"===a,f=0,h=t;f<h.length;f+=1){var d=h[f],p=i.getTile(d),g=p.getBucket(r);if(g&&g.text&&g.text.segments.get().length){var m=e.evaluateSizeForZoom(g.textSizeData,u.zoom),v=ht(p,1,n.transform.zoom),y=Ye(d.posMatrix,c,l,n.transform,v),b="none"!==r.layout.get("icon-text-fit")&&g.hasIconData();if(m){var _=Math.pow(2,u.zoom-p.tileID.overscaledZ);er(g,l,c,s,e.symbolSize,u,y,d.posMatrix,_,m,b)}}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Yn(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Yn(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),u=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var l=t.context,c=l.gl,f=t.depthModeForSublayer(0,Se.ReadOnly),h=Ee.disabled,d=t.colorModeForRenderPass(),p=[],g=0;g<i.length;g++){var m=i[g],v=n.getTile(m),y=v.getBucket(r);if(y){var b=y.programConfigurations.get(r.id),_={programConfiguration:b,program:t.useProgram("circle",b),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:jn(t,m,v,r)};if(u)for(var w=0,x=y.segments.get();w<x.length;w+=1){var O=x[w];p.push({segments:new e.SegmentVector([O]),sortKey:O.sortKey,state:_})}else p.push({segments:y.segments,sortKey:0,state:_})}}u&&p.sort((function(e,t){return e.sortKey-t.sortKey}));for(var k=0,S=p;k<S.length;k+=1){var E=S[k],C=E.state;C.program.draw(l,c.TRIANGLES,f,h,d,Ae.disabled,C.uniformValues,r.id,C.layoutVertexBuffer,C.indexBuffer,E.segments,r.paint,t.transform.zoom,C.programConfiguration)}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=Ee.disabled,u=new Ce([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,o,i)}}(o,t,r),o.clear({color:e.Color.transparent});for(var l=0;l<i.length;l++){var c=i[l];if(!n.hasRenderableParent(c)){var f=n.getTile(c),h=f.getBucket(r);if(h){var d=h.programConfigurations.get(r.id);t.useProgram("heatmap",d).draw(o,a.TRIANGLES,Se.disabled,s,u,Ae.disabled,In(c.posMatrix,f,t.transform.zoom,r.paint.get("heatmap-intensity")),r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,t.transform.zoom,d)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Se.disabled,Ee.disabled,t.colorModeForRenderPass(),Ae.disabled,function(t,n,r,i){var o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.depthModeForSublayer(0,Se.ReadOnly),u=t.colorModeForRenderPass(),l=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),f=c.constantOr(1),h=r.paint.get("line-gradient"),d=r.getCrossfadeParameters(),p=f?"linePattern":l?"lineSDF":h?"lineGradient":"line",g=t.context,m=g.gl,v=!0,y=0,b=i;y<b.length;y+=1){var _=b[y],w=n.getTile(_);if(!f||w.patternsLoaded()){var x=w.getBucket(r);if(x){var O=x.programConfigurations.get(r.id),k=t.context.program.get(),S=t.useProgram(p,O),E=v||S.program!==k,C=c.constantOr(null);if(C&&w.imageAtlas){var A=w.imageAtlas,P=A.patternPositions[C.to.toString()],j=A.patternPositions[C.from.toString()];P&&j&&O.setConstantPatternPositions(P,j)}var T=f?Fn(t,w,r,d):l?Nn(t,w,r,l,d):h?zn(t,w,r,x.lineClipsArray.length):Dn(t,w,r);if(f)g.activeTexture.set(m.TEXTURE0),w.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),O.updatePaintBuffers(d);else if(l&&(E||t.lineAtlas.dirty))g.activeTexture.set(m.TEXTURE0),t.lineAtlas.bind(g);else if(h){var M=x.gradients[r.id],R=M.texture;if(r.gradientVersion!==M.version){var L=256;if(r.stepInterpolant){var I=n.getSource().maxzoom,D=_.canonical.z===I?Math.ceil(1<<t.transform.maxZoom-_.canonical.z):1;L=e.clamp(e.nextPowerOfTwo(x.maxLineLength/e.EXTENT*1024*D),256,g.maxTextureSize)}M.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:L,image:M.gradient||void 0,clips:x.lineClipsArray}),M.texture?M.texture.update(M.gradient):M.texture=new e.Texture(g,M.gradient,m.RGBA),M.version=r.gradientVersion,R=M.texture}g.activeTexture.set(m.TEXTURE0),R.bind(r.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}S.draw(g,m.TRIANGLES,s,t.stencilModeForClipping(_),u,Ae.disabled,T,r.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,r.paint,t.transform.zoom,O,x.layoutVertexBuffer2),v=!1}}}}},fill:function(t,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),l=t.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===l){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?Se.ReadWrite:Se.ReadOnly);ir(t,n,r,i,c,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var f=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Se.ReadOnly);ir(t,n,r,i,f,s,!0)}}},"fill-extrusion":function(e,t,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var o=new Se(e.context.gl.LEQUAL,Se.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))or(e,t,n,r,o,Ee.disabled,Ce.disabled),or(e,t,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();or(e,t,n,r,o,Ee.disabled,a)}}},hillshade:function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,o=e.depthModeForSublayer(0,Se.ReadOnly),a=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r],u=s[0],l=0,c=s[1];l<c.length;l+=1){var f=c[l],h=t.getTile(f);h.needsHillshadePrepare&&"offscreen"===e.renderPass?sr(e,h,n,o,Ee.disabled,a):"translucent"===e.renderPass&&ar(e,h,n,o,u[f.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),u=e.colorModeForRenderPass(),l=a instanceof M?[{},r]:e.stencilConfigForOverlap(r),c=l[0],f=l[1],h=f[f.length-1].overscaledZ,d=!e.options.moving,p=0,g=f;p<g.length;p+=1){var m=g[p],v=e.depthModeForSublayer(m.overscaledZ-h,1===n.paint.get("raster-opacity")?Se.ReadWrite:Se.ReadOnly,o.LESS),y=t.getTile(m),b=e.transform.calculatePosMatrix(m.toUnwrapped(),d);y.registerFadeDuration(n.paint.get("raster-fade-duration"));var _=t.findLoadedParent(m,0),w=ur(y,_,t,n,e.transform),x=void 0,O=void 0,k="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),y.texture.bind(k,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),_?(_.texture.bind(k,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,_.tileID.overscaledZ-y.tileID.overscaledZ),O=[y.tileID.canonical.x*x%1,y.tileID.canonical.y*x%1]):y.texture.bind(k,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var S=$n(b,O||[0,0],x||1,w,n);a instanceof M?s.draw(i,o.TRIANGLES,v,Ee.disabled,u,Ae.disabled,S,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,v,c[m.overscaledZ],u,Ae.disabled,S,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=e.context,a=o.gl,s=e.transform,u=s.tileSize,l=n.paint.get("background-pattern");if(!e.isPatternMissing(l)){var c=!l&&1===r.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===c){var f=Ee.disabled,h=e.depthModeForSublayer(0,"opaque"===c?Se.ReadWrite:Se.ReadOnly),d=e.colorModeForRenderPass(),p=e.useProgram(l?"backgroundPattern":"background"),g=s.coveringTiles({tileSize:u});l&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var m=n.getCrossfadeParameters(),v=0,y=g;v<y.length;v+=1){var b=y[v],_=e.transform.calculatePosMatrix(b.toUnwrapped()),w=l?Zn(_,i,e,l,{tileID:b,tileSize:u},m):Xn(_,i,r);p.draw(o,a.TRIANGLES,h,f,d,Ae.disabled,w,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)vr(e,t,n[r])},custom:function(e,t,n){var r=e.context,i=n.implementation;if("offscreen"===e.renderPass){var o=i.prerender;o&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),o.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Ee.disabled);var a="3d"===i.renderingMode?new Se(e.context.gl.LEQUAL,Se.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Se.ReadOnly);r.setDepthMode(a),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},br=function(e,t){this.context=new Pe(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=je.maxUnderzooming+je.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ft,this.gpuTimers={}};br.prototype.resize=function(t,n){if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},br.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,Wt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,Wt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,T.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,Wt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new Ee({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},br.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,Se.disabled,this.stencilClearMode,Ce.disabled,Ae.disabled,Ln(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},br.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Ce.disabled),n.setDepthMode(Se.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Se.disabled,new Ee({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE),Ce.disabled,Ae.disabled,Ln(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},br.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Ee({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},br.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Ee({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},br.prototype.stencilConfigForOverlap=function(e){var t,n=this.context.gl,r=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new Ee({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(t={},t[i]=Ee.disabled,t),r]},br.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ce([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ce.unblended:Ce.alphaBlended},br.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return Se.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Se(n||this.context.gl.LEQUAL,t,[r,r])},br.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},br.prototype.render=function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var u,l,c={},f={},h={};for(var d in o){var p=o[d];c[d]=p.getVisibleCoordinates(),f[d]=c[d].slice().reverse(),h[d]=p.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var g=0;g<i.length;g++)if(this.style._layers[i[g]].is3D()){this.opaquePassCutoff=g;break}this.renderPass="offscreen";for(var m=0,v=i;m<v.length;m+=1){var y=this.style._layers[v[m]];if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var b=f[y.source];("custom"===y.type||b.length)&&this.renderLayer(this,o[y.source],y,b)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var _=this.style._layers[i[this.currentLayer]],w=o[_.source],x=c[_.source];this._renderTileClippingMasks(_,x),this.renderLayer(this,w,_,x)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var O=this.style._layers[i[this.currentLayer]],k=o[O.source],S=("symbol"===O.type?h:f)[O.source];this._renderTileClippingMasks(O,c[O.source]),this.renderLayer(this,k,O,S)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(l&&l.id)&&(l=r.style.sourceCaches[e.source]),(!u||u.getSource().maxzoom<l.getSource().maxzoom)&&(u=l))})),u&&yr.debug(this,u,u.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;pr(e,e.transform.height-(t.top||0),3,lr),pr(e,t.bottom||0,3,cr),gr(e,t.left||0,3,fr),gr(e,e.transform.width-(t.right||0),3,hr);var n=e.transform.centerPoint;!function(e,t,n,r){mr(e,t-1,n-10,2,20,r),mr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,dr)}(this),this.context.setDefault()},br.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),yr[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},br.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}},br.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},br.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},br.prototype.queryGpuTimers=function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=o}return t},br.prototype.translatePosMatrix=function(t,n,r,i,o){if(!r[0]&&!r[1])return t;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var l=[o?r[0]:ht(n,r[0],this.transform.zoom),o?r[1]:ht(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,l),c},br.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},br.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},br.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n},br.prototype.useProgram=function(e,t){this.cache=this.cache||{};var n=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new xn(this.context,e,bn[e],t,Kn[e],this._showOverdrawInspector)),this.cache[n]},br.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},br.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},br.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},br.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var _r=function(e,t){this.points=e,this.planes=t};_r.fromInvProjectionMatrix=function(t,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return e.transformMat4([],n,t)})).map((function(t){return e.scale$1([],t,1/t[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var n=e.sub([],o[t[0]],o[t[1]]),r=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],n,r)),a=-e.dot(i,o[t[1]]);return i.concat(a)}));return new _r(o,a)};var wr=function(t,n){this.min=t,this.max=n,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};wr.prototype.quadrant=function(t){for(var n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new wr(r,i)},wr.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},wr.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},wr.prototype.intersects=function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var o=t.planes[i],a=0,s=0;s<n.length;s++)a+=e.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var u=0;u<3;u++){for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=0;f<t.points.length;f++){var h=t.points[f][u]-this.min[u];l=Math.min(l,h),c=Math.max(c,h)}if(c<0||l>this.max[u]-this.min[u])return 0}return 1};var xr=function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r};xr.prototype.interpolate=function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this},xr.prototype.getCenter=function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(r,i)},xr.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},xr.prototype.clone=function(){return new xr(this.top,this.bottom,this.left,this.right)},xr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Or=function(t,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new xr,this._posMatrixCache={},this._alignedPosMatrixCache={}},kr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Or.prototype.clone=function(){var e=new Or(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},kr.minZoom.get=function(){return this._minZoom},kr.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},kr.maxZoom.get=function(){return this._maxZoom},kr.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},kr.minPitch.get=function(){return this._minPitch},kr.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},kr.maxPitch.get=function(){return this._maxPitch},kr.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},kr.renderWorldCopies.get=function(){return this._renderWorldCopies},kr.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},kr.worldSize.get=function(){return this.tileSize*this.scale},kr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},kr.size.get=function(){return new e.Point(this.width,this.height)},kr.bearing.get=function(){return-this.angle/Math.PI*180},kr.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},kr.pitch.get=function(){return this._pitch/Math.PI*180},kr.pitch.set=function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},kr.fov.get=function(){return this._fov/Math.PI*180},kr.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},kr.zoom.get=function(){return this._zoom},kr.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},kr.center.get=function(){return this._center},kr.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},kr.padding.get=function(){return this._edgeInsets.toJSON()},kr.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},kr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Or.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Or.prototype.interpolatePadding=function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()},Or.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Or.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),u=Math.floor(Math.max(r.x,i.x,o.x,a.x)),l=s-1;l<=u+1;l++)0!==l&&n.push(new e.UnwrappedTileID(l,t));return n},Or.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=_r.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=n);var l=function(e){return{aabb:new wr([e*o,0,0],[(e+1)*o,o,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},c=[],f=[],h=n,d=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var p=1;p<=3;p++)c.push(l(-p)),c.push(l(p));for(c.push(l(0));c.length>0;){var g=c.pop(),m=g.x,v=g.y,y=g.fullyVisible;if(!y){var b=g.aabb.intersects(s);if(0===b)continue;y=2===b}var _=g.aabb.distanceX(a),w=g.aabb.distanceY(a),x=Math.max(Math.abs(_),Math.abs(w));if(g.zoom===h||x>3+(1<<h-g.zoom)-2&&g.zoom>=u)f.push({tileID:new e.OverscaledTileID(g.zoom===h?d:g.zoom,g.wrap,g.zoom,m,v),distanceSq:e.sqrLen([a[0]-.5-m,a[1]-.5-v])});else for(var O=0;O<4;O++){var k=(m<<1)+O%2,S=(v<<1)+(O>>1);c.push({aabb:g.aabb.quadrant(O),zoom:g.zoom+1,x:k,y:S,wrap:g.wrap,fullyVisible:y})}}return f.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},Or.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},kr.unmodified.get=function(){return this._unmodified},Or.prototype.zoomScale=function(e){return Math.pow(2,e)},Or.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Or.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},Or.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},kr.point.get=function(){return this.project(this.center)},Or.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},Or.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Or.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Or.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Or.prototype.coordinateLocation=function(e){return e.toLngLat()},Or.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,u=n[2]/i,l=r[2]/o,c=u===l?0:(0-u)/(l-u);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/o,c)/this.worldSize,e.number(a,s,c)/this.worldSize)},Or.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},Or.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Or.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Or.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Or.prototype.calculatePosMatrix=function(t,n){void 0===n&&(n=!1);var r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,u=e.identity(new Float64Array(16));return e.translate(u,u,[s*a,o.y*a,0]),e.scale(u,u,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]},Or.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Or.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,i,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var f=this.latRange;o=e.mercatorYfromLat(f[1])*this.worldSize,t=(a=e.mercatorYfromLat(f[0])*this.worldSize)-o<l.y?l.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=e.mercatorXfromLng(h[0])*this.worldSize,n=(u=e.mercatorXfromLng(h[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var d=this.point,p=Math.max(n||0,t||0);if(p)return this.center=this.unproject(new e.Point(n?(u+s)/2:d.x,t?(a+o)/2:d.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var g=d.y,m=l.y/2;g-m<o&&(i=o+m),g+m>a&&(i=a-m)}if(this.lngRange){var v=d.x,y=l.x/2;v-y<s&&(r=s+y),v+y>u&&(r=u-y)}void 0===r&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==r?r:d.x,void 0!==i?i:d.y))),this._unmodified=c,this._constraining=!1}},Or.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),l=this.height/50,c=new Float64Array(16);e.perspective(c,this._fov,this.width/this.height,l,u),c[8]=2*-t.x/this.width,c[9]=2*t.y/this.height,e.scale(c,c,[1,-1,1]),e.translate(c,c,[0,0,-this.cameraToCenterDistance]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle),e.translate(c,c,[-a,-s,0]),this.mercatorMatrix=e.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),e.scale(c,c,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=e.invert([],this.projMatrix);var f=this.width%2/2,h=this.height%2/2,d=Math.cos(this.angle),p=Math.sin(this.angle),g=a-Math.round(a)+d*f+p*h,m=s-Math.round(s)+d*h+p*f,v=new Float64Array(c);if(e.translate(v,v,[g>.5?g-1:g,m>.5?m-1:m,0]),this.alignedProjMatrix=v,c=e.create(),e.scale(c,c,[this.width/2,-this.height/2,1]),e.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=e.create(),e.scale(c,c,[1,-1,1]),e.translate(c,c,[-1,-1,0]),e.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Or.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Or.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},Or.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,u=t;s<u.length;s+=1){var l=u[s];r=Math.min(r,l.x),i=Math.min(i,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}return[new e.Point(r,i),new e.Point(o,i),new e.Point(o,a),new e.Point(r,a),new e.Point(r,i)]},Object.defineProperties(Or.prototype,kr);var Sr=function(t){var n,r,i,o;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Sr.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Sr.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Sr.prototype.getHashString=function(t){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,u=this._map.getBearing(),l=this._map.getPitch(),c="";if(c+=t?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(u||l)&&(c+="/"+Math.round(10*u)/10),l&&(c+="/"+Math.round(l)),this._hashName){var f=this._hashName,h=!1,d=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===f?(h=!0,t+"="+c):e})).filter((function(e){return e}));return h||d.push(f+"="+c),"#"+d.join("&")}return"#"+c},Sr.prototype._getCurrentHash=function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")},Sr.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},Sr.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var Er={linearity:.3,easing:e.bezier(0,0,.3,1)},Cr=e.extend({deceleration:2500,maxSpeed:1400},Er),Ar=e.extend({deceleration:20,maxSpeed:1400},Er),Pr=e.extend({deceleration:1e3,maxSpeed:360},Er),jr=e.extend({deceleration:1e3,maxSpeed:90},Er),Tr=function(e){this._map=e,this.clear()};function Mr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Rr(t,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=e.clamp(t*o/(n/1e3),-i,i),u=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*u,amount:s*(u/2)}}Tr.prototype.clear=function(){this._inertiaBuffer=[]},Tr.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},Tr.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,n=e.browser.now();t.length>0&&n-t[0].time>160;)t.shift()},Tr.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var u=Rr(n.pan.mag(),a,e.extend({},Cr,t||{}));s.offset=n.pan.mult(u.amount/n.pan.mag()),s.center=this._map.transform.center,Mr(s,u)}if(n.zoom){var l=Rr(n.zoom,a,Ar);s.zoom=this._map.transform.zoom+l.amount,Mr(s,l)}if(n.bearing){var c=Rr(n.bearing,a,Pr);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),Mr(s,c)}if(n.pitch){var f=Rr(n.pitch,a,jr);s.pitch=this._map.transform.pitch+f.amount,Mr(s,f)}if(s.zoom||s.bearing){var h=void 0===n.pinchAround?n.around:n.pinchAround;s.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Lr=function(t){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),u=i.unproject(s);t.call(this,r,e.extend({point:s,lngLat:u,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Ir=function(t){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,s=n.touchPos(i.getCanvasContainer(),a),u=s.map((function(e){return i.unproject(e)})),l=s.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.Point(0,0)),c=i.unproject(l);t.call(this,r,{points:s,point:l,lngLats:u,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Dr=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),zr=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};zr.prototype.reset=function(){delete this._mousedownPos},zr.prototype.wheel=function(e){return this._firePreventable(new Dr(e.type,this._map,e))},zr.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Lr(e.type,this._map,e))},zr.prototype.mouseup=function(e){this._map.fire(new Lr(e.type,this._map,e))},zr.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Lr(e.type,this._map,e))},zr.prototype.dblclick=function(e){return this._firePreventable(new Lr(e.type,this._map,e))},zr.prototype.mouseover=function(e){this._map.fire(new Lr(e.type,this._map,e))},zr.prototype.mouseout=function(e){this._map.fire(new Lr(e.type,this._map,e))},zr.prototype.touchstart=function(e){return this._firePreventable(new Ir(e.type,this._map,e))},zr.prototype.touchmove=function(e){this._map.fire(new Ir(e.type,this._map,e))},zr.prototype.touchend=function(e){this._map.fire(new Ir(e.type,this._map,e))},zr.prototype.touchcancel=function(e){this._map.fire(new Ir(e.type,this._map,e))},zr.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},zr.prototype.isEnabled=function(){return!0},zr.prototype.isActive=function(){return!1},zr.prototype.enable=function(){},zr.prototype.disable=function(){};var Fr=function(e){this._map=e};Fr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fr.prototype.mousemove=function(e){this._map.fire(new Lr(e.type,this._map,e))},Fr.prototype.mousedown=function(){this._delayContextMenu=!0},Fr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Lr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fr.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Lr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Fr.prototype.isEnabled=function(){return!0},Fr.prototype.isActive=function(){return!1},Fr.prototype.enable=function(){},Fr.prototype.disable=function(){};var Nr=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function Br(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}Nr.prototype.isEnabled=function(){return!!this._enabled},Nr.prototype.isActive=function(){return!!this._active},Nr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Nr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Nr.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},Nr.prototype.mousemoveWindow=function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),u=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=u-s+"px"}}},Nr.prototype.mouseupWindow=function(t,r){var i=this;if(this._active&&0===t.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},Nr.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},Nr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},Nr.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var Vr=function(e){this.reset(),this.numTouches=e.numTouches};Vr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Vr.prototype.touchstart=function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){for(var n=new e.Point(0,0),r=0,i=t;r<i.length;r+=1)n._add(i[r]);return n.div(t.length)}(n),this.touches=Br(r,n)))},Vr.prototype.touchmove=function(e,t,n){if(!this.aborted&&this.centroid){var r=Br(n,t);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Vr.prototype.touchend=function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var $r=function(e){this.singleTap=new Vr(e),this.numTaps=e.numTaps,this.reset()};$r.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},$r.prototype.touchstart=function(e,t,n){this.singleTap.touchstart(e,t,n)},$r.prototype.touchmove=function(e,t,n){this.singleTap.touchmove(e,t,n)},$r.prototype.touchend=function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Ur=function(){this._zoomIn=new $r({numTouches:1,numTaps:2}),this._zoomOut=new $r({numTouches:2,numTaps:1}),this.reset()};Ur.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ur.prototype.touchstart=function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)},Ur.prototype.touchmove=function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)},Ur.prototype.touchend=function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),o=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):o?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0},Ur.prototype.touchcancel=function(){this.reset()},Ur.prototype.enable=function(){this._enabled=!0},Ur.prototype.disable=function(){this._enabled=!1,this.reset()},Ur.prototype.isEnabled=function(){return this._enabled},Ur.prototype.isActive=function(){return this._active};var Wr={0:1,2:2},Hr=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};Hr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hr.prototype._correctButton=function(e,t){return!1},Hr.prototype._move=function(e,t){return{}},Hr.prototype.mousedown=function(e,t){if(!this._lastPoint){var r=n.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}},Hr.prototype.mousemoveWindow=function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){var n=Wr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)},Hr.prototype.mouseupWindow=function(e){this._lastPoint&&n.mouseButton(e)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Gr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,n){e.prototype.mousedown.call(this,t,n),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(Hr),qr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Hr),Xr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Hr),Zr=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Zr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Zr.prototype.touchstart=function(e,t,n){return this._calculateTransform(e,t,n)},Zr.prototype.touchmove=function(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)},Zr.prototype.touchend=function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()},Zr.prototype.touchcancel=function(){this.reset()},Zr.prototype._calculateTransform=function(t,n,r){r.length>0&&(this._active=!0);var i=Br(r,n),o=new e.Point(0,0),a=new e.Point(0,0),s=0;for(var u in i){var l=i[u],c=this._touches[u];c&&(o._add(l),a._add(l.sub(c)),s++,i[u]=l)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var f=a.div(s);if(this._sum._add(f),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:f}}},Zr.prototype.enable=function(){this._enabled=!0},Zr.prototype.disable=function(){this._enabled=!1,this.reset()},Zr.prototype.isEnabled=function(){return this._enabled},Zr.prototype.isActive=function(){return this._active};var Kr=function(){this.reset()};function Yr(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Jr(e,t){return Math.log(e/t)/Math.LN2}Kr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Kr.prototype._start=function(e){},Kr.prototype._move=function(e,t,n){return{}},Kr.prototype.touchstart=function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))},Kr.prototype.touchmove=function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Yr(n,t,r[0]),a=Yr(n,t,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}}},Kr.prototype.touchend=function(e,t,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Yr(r,t,i[0]),s=Yr(r,t,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Kr.prototype.touchcancel=function(){this.reset()},Kr.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Kr.prototype.disable=function(){this._enabled=!1,this.reset()},Kr.prototype.isEnabled=function(){return this._enabled},Kr.prototype.isActive=function(){return this._active};var Qr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Jr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jr(this._distance,n),pinchAround:t}},t}(Kr);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,n),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=ei(e,this._startVector);return Math.abs(n)<t},t}(Kr);function ni(e){return Math.abs(e.y)>Math.abs(e.x)}var ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ni(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=e.y>0==t.y>0;return ni(e)&&ni(t)&&o}},t}(Kr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function ai(e){return e*(2-e)}oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:n?Math.round(u)+n*(e.shiftKey?2:1):u,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-o*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,u=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&u&&l){var f=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),h=l(f);a=e.number(u,s,h),f<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n},si.prototype.reset=function(){this._active=!1};var ui=function(e,t){this._clickZoom=e,this._tapZoom=t};ui.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ui.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ui.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ui.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var li=function(){this.reset()};li.prototype.reset=function(){this._active=!1},li.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new $r({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))},ci.prototype.touchmove=function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)},ci.prototype.touchend=function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var fi=function(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n};fi.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},fi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},fi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},fi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var hi=function(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n};hi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},hi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},hi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},hi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var di=function(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};di.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},di.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},di.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},di.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},di.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},di.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var pi=function(e){return e.zoom||e.drag||e.pitch||e.rotate},gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function mi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var vi=function(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Tr(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],u=s[0];n.addEventListener(u,s[1],u===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};vi.prototype.destroy=function(){for(var t=0,r=this._listeners;t<r.length;t+=1){var i=r[t],o=i[0];n.removeEventListener(o,i[1],o===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},vi.prototype._addDefaultHandlers=function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new zr(t,e));var r=t.boxZoom=new Nr(t,e);this._add("boxZoom",r);var i=new Ur,o=new li;t.doubleClickZoom=new ui(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ci;this._add("tapDragZoom",a);var s=t.touchPitch=new ri;this._add("touchPitch",s);var u=new qr(e),l=new Xr(e);t.dragRotate=new hi(e,u,l),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",l,["mouseRotate"]);var c=new Gr(e),f=new Zr(e);t.dragPan=new fi(n,c,f),this._add("mousePan",c),this._add("touchPan",f,["touchZoom","touchRotate"]);var h=new ti,d=new Qr;t.touchZoomRotate=new di(n,d,h,a),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]);var p=t.scrollZoom=new si(t,this);this._add("scrollZoom",p,["mousePan"]);var g=t.keyboard=new oi;this._add("keyboard",g),this._add("blockableMapEvent",new Fr(t));for(var m=0,v=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<v.length;m+=1){var y=v[m];e.interactive&&e[y]&&t[y].enable(e[y])}},vi.prototype._add=function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t},vi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,n=this._handlers;t<n.length;t+=1)n[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},vi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},vi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},vi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},vi.prototype.isMoving=function(){return Boolean(pi(this._eventsInProgress))||this.isZooming()},vi.prototype._blockedByActive=function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1},vi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},vi.prototype._getMapTouches=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&t.push(i)}return t},vi.prototype.handleEvent=function(e,t){if("blur"!==e.type){this._updatingCamera=!0;for(var r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,u=s?n.touchPos(this._el,s):n.mousePos(this._el,e),l=0,c=this._handlers;l<c.length;l+=1){var f=c[l],h=f.handlerName,d=f.handler,p=f.allowed;if(d.isEnabled()){var g=void 0;this._blockedByActive(a,p,h)?d.reset():d[t||e.type]&&(g=d[t||e.type](e,u,s),this.mergeHandlerResult(i,o,g,h,r),g&&g.needsRenderFrame&&this._triggerRenderFrame()),(g||d.isActive())&&(a[h]=d)}}var m={};for(var v in this._previousActiveHandlers)a[v]||(m[v]=r);this._previousActiveHandlers=a,(Object.keys(m).length||mi(i))&&(this._changes.push([i,o,m]),this._triggerRenderFrame()),(Object.keys(a).length||mi(i))&&this._map._stop(!0),this._updatingCamera=!1;var y=i.cameraAnimation;y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],y(this._map))}else this.stop(!0)},vi.prototype.mergeHandlerResult=function(t,n,r,i,o){if(r){e.extend(t,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},vi.prototype._applyChanges=function(){for(var t={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],l=a[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(n,u),e.extend(r,l)}this._updateMapTransform(t,n,r),this._changes=[]},vi.prototype._updateMapTransform=function(e,t,n){var r=this._map,i=r.transform;if(!mi(e))return this._fireEvents(t,n,!0);var o=e.panDelta,a=e.zoomDelta,s=e.bearingDelta,u=e.pitchDelta,l=e.around,c=e.pinchAround;void 0!==c&&(l=c),r._stop(!0),l=l||r.transform.centerPoint;var f=i.pointLocation(o?l.sub(o):l);s&&(i.bearing+=s),u&&(i.pitch+=u),a&&(i.zoom+=a),i.setLocationAtPoint(f,l),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)},vi.prototype._fireEvents=function(t,n,r){var i=this,o=pi(this._eventsInProgress),a=pi(t),s={};for(var u in t)this._eventsInProgress[u]||(s[u+"start"]=t[u].originalEvent),this._eventsInProgress[u]=t[u];for(var l in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(l,s[l]);for(var c in a&&this._fireEvent("move",a.originalEvent),t)this._fireEvent(c,t[c].originalEvent);var f,h={};for(var d in this._eventsInProgress){var p=this._eventsInProgress[d],g=p.handlerName,m=p.originalEvent;this._handlersById[g].isActive()||(delete this._eventsInProgress[d],h[d+"end"]=f=n[g]||m)}for(var v in h)this._fireEvent(v,h[v]);var y=pi(this._eventsInProgress);if(r&&(o||a)&&!y){this._updatingCamera=!0;var b=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),_=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};b?(_(b.bearing||this._map.getBearing())&&(b.bearing=0),this._map.easeTo(b,{originalEvent:f})):(this._map.fire(new e.Event("moveend",{originalEvent:f})),_(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},vi.prototype._fireEvent=function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},vi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new gi("renderFrame",{timeStamp:t})),e._applyChanges()}))},vi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var yi=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.resetNorthPitch=function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=e.extend(o,i.padding);var s=this.transform,u=s.padding,l=s.project(e.LngLat.convert(t)),c=s.project(e.LngLat.convert(n)),f=l.rotate(-r*Math.PI/180),h=c.rotate(-r*Math.PI/180),d=new e.Point(Math.max(f.x,h.x),Math.max(f.y,h.y)),p=new e.Point(Math.min(f.x,h.x),Math.min(f.y,h.y)),g=d.sub(p),m=(s.width-(u.left+u.right+i.padding.left+i.padding.right))/g.x,v=(s.height-(u.top+u.bottom+i.padding.top+i.padding.bottom))/g.y;if(!(v<0||m<0)){var y=Math.min(s.scaleZoom(s.scale*Math.min(m,v)),i.maxZoom),b="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),_=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),w=b.add(_).mult(s.scale/s.zoomScale(y));return{center:s.unproject(l.add(c).div(2).sub(w)),zoom:y,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))},n.prototype.easeTo=function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),l="zoom"in t?+t.zoom:o,c="bearing"in t?this._normalizeBearing(t.bearing,a):a,f="pitch"in t?+t.pitch:s,h="padding"in t?t.padding:i.padding,d=e.Point.convert(t.offset),p=i.centerPoint.add(d),g=i.pointLocation(p),m=e.LngLat.convert(t.center||g);this._normalizeCenter(m);var v,y,b=i.project(g),_=i.project(m).sub(b),w=i.zoomScale(l-o);t.around&&(v=e.LngLat.convert(t.around),y=i.locationPoint(v));var x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||f!==s,this._padding=!i.isPaddingEqual(h),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,x),this._ease((function(t){if(r._zooming&&(i.zoom=e.number(o,l,t)),r._rotating&&(i.bearing=e.number(a,c,t)),r._pitching&&(i.pitch=e.number(s,f,t)),r._padding&&(i.interpolatePadding(u,h,t),p=i.centerPoint.add(d)),v)i.setLocationAtPoint(v,y);else{var g=i.zoomScale(i.zoom-o),m=l>o?Math.min(2,w):Math.max(.5,w),x=Math.pow(m,1-t),O=i.unproject(b.add(_.mult(t*x)).mult(g));i.setLocationAtPoint(i.renderWorldCopies?O.wrap():O,p)}r._fireMoveEvents(n)}),(function(e){r._afterEase(n,e)}),t),this},n.prototype._prepareEase=function(t,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},n.prototype._afterEase=function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},n.prototype.flyTo=function(t,n){var r=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):a,f="bearing"in t?this._normalizeBearing(t.bearing,s):s,h="pitch"in t?+t.pitch:u,d="padding"in t?t.padding:o.padding,p=o.zoomScale(c-a),g=e.Point.convert(t.offset),m=o.centerPoint.add(g),v=o.pointLocation(m),y=e.LngLat.convert(t.center||v);this._normalizeCenter(y);var b=o.project(v),_=o.project(y).sub(b),w=t.curve,x=Math.max(o.width,o.height),O=x/p,k=_.mag();if("minZoom"in t){var S=e.clamp(Math.min(t.minZoom,a,c),o.minZoom,o.maxZoom),E=x/o.zoomScale(S-a);w=Math.sqrt(E/k*2)}var C=w*w;function A(e){var t=(O*O-x*x+(e?-1:1)*C*C*k*k)/(2*(e?O:x)*C*k);return Math.log(Math.sqrt(t*t+1)-t)}function P(e){return(Math.exp(e)-Math.exp(-e))/2}function j(e){return(Math.exp(e)+Math.exp(-e))/2}var T=A(0),M=function(e){return j(T)/j(T+w*e)},R=function(e){return x*((j(T)*(P(t=T+w*e)/j(t))-P(T))/C)/k;var t},L=(A(1)-T)/w;if(Math.abs(k)<1e-6||!isFinite(L)){if(Math.abs(x-O)<1e-6)return this.easeTo(t,n);var I=O<x?-1:1;L=Math.abs(Math.log(O/x))/w,R=function(){return 0},M=function(e){return Math.exp(I*w*e)}}return t.duration="duration"in t?+t.duration:1e3*L/("screenSpeed"in t?+t.screenSpeed/w:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==f,this._pitching=h!==u,this._padding=!o.isPaddingEqual(d),this._prepareEase(n,!1),this._ease((function(t){var i=t*L,p=1/M(i);o.zoom=1===t?c:a+o.scaleZoom(p),r._rotating&&(o.bearing=e.number(s,f,t)),r._pitching&&(o.pitch=e.number(u,h,t)),r._padding&&(o.interpolatePadding(l,d,t),m=o.centerPoint.add(g));var v=1===t?y:o.unproject(b.add(_.mult(R(i))).mult(p));o.setLocationAtPoint(o.renderWorldCopies?v.wrap():v,m),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),bi=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};bi.prototype.getDefaultPosition=function(){return"bottom-right"},bi.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},bi.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},bi.prototype._setElementTitle=function(e,t){var n=this._map._getUIString("AttributionControl."+t);e.title=n,e.setAttribute("aria-label",n)},bi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},bi.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+=t.key+"="+t.value+(r<n.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},bi.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},bi.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length}));var a=(e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},bi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var _i=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};_i.prototype.onAdd=function(e){this._map=e,this._container=n.create("div","mapboxgl-ctrl");var t=n.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},_i.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},_i.prototype.getDefaultPosition=function(){return"bottom-left"},_i.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},_i.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},_i.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var wi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};wi.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},wi.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,r=t?this._queue.concat(t):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===e)return void(i.cancelled=!0)}},wi.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},wi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Oi=e.window.HTMLImageElement,ki=e.window.HTMLElement,Si=e.window.ImageBitmap,Ei={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ci=function(r){function i(t){var n=this;if(null!=(t=e.extend({},Ei,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Or(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new wi,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},xi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof ki))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new vi(this,t),this._hash=t.hash&&new Sr("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new bi({customAttribution:t.customAttribution})),this.addControl(new _i,t.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){n.fire(new e.Event(t.dataType+"dataloading",t))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],i=n[1];this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,n){var r,i=this;if("mouseenter"===e||"mouseover"===e){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[];a.length?o||(o=!0,n.call(i,new Lr(e,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){(i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,n.call(i,new Lr(e,i,r.originalEvent)))},mouseout:function(t){a&&(a=!1,n.call(i,new Lr(e,i,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(r={},r[e]=function(e){var r=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(i,e),delete e.features)},r)}},i.prototype.on=function(e,t,n){if(void 0===n)return r.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(e,t,n){if(void 0===n)return r.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(e,t,n){var i=this;return void 0===n?r.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(r){for(var o=r[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===t&&s.listener===n){for(var u in s.delegates)i.off(u,s.delegates[u]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var r;if(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])r=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),o=e.Point.convert(t[1]);r=[i,new e.Point(o.x,i.y),o,new e.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Ut(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ut(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),o=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(o,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)},i.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(t,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,s=r.stretchY,u=r.content;if(this._lazyInitEmptyStyle(),n instanceof Oi||Si&&n instanceof Si){var l=e.browser.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l.width,height:l.height},l.data),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(t,{data:new e.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,t)}},i.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Oi||Si&&n instanceof Si?e.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof Oi||Si&&n instanceof Si)),void this.style.updateImage(t,r))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},i.prototype.setFilter=function(e,t,n){return void 0===n&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=n.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=n.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,n){var r=e.browser.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new br(r,this.transform),e.webpSupported.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=e.browser.now();this.style.zoomHistory.update(s,u);var l=new e.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=l.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var f=e.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:f,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var h=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(h);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var d=this._sourcesDirty||this._styleDirty||this._placementDirty;return d||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||d||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Ai(this._canvasContainer),Ai(this._controlContainer),Ai(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,n){e.setCacheLimits(t,n)},o.version.get=function(){return e.version},Object.defineProperties(i.prototype,o),i}(yi);function Ai(e){e.parentNode&&e.parentNode.removeChild(e)}var Pi={showCompass:!0,showZoom:!0,visualizePitch:!1},ji=function(t){var r=this;this.options=e.extend({},Pi,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return r._map.zoomIn({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return r._map.zoomOut({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ji.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},ji.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},ji.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ti(this._map,this._compass,this.options.visualizePitch)),this._container},ji.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ji.prototype._createButton=function(e,t){var r=n.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r},ji.prototype._setButtonTitle=function(e,t){var n=this._map._getUIString("NavigationControl."+t);e.title=n,e.setAttribute("aria-label",n)};var Ti=function(t,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new qr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Xr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Mi(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<a?t=i:r.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Ti.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),n.disableDrag()},Ti.prototype.move=function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Ti.prototype.off=function(){var e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(e,"touchmove",this.touchmove),n.removeEventListener(e,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Ti.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(e.window,"mousemove",this.mousemove),n.removeEventListener(e.window,"mouseup",this.mouseup)},Ti.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(this.element,t)),n.addEventListener(e.window,"mousemove",this.mousemove),n.addEventListener(e.window,"mouseup",this.mouseup)},Ti.prototype.mousemove=function(e){this.move(e,n.mousePos(this.element,e))},Ti.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Ti.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Ti.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Ti.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ti.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ri={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Li(e,t,n){var r=e.classList;for(var i in Ri)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+t)}var Ii,Di=function(t){function r(r,i){if(t.call(this),(r instanceof e.window.HTMLElement||i)&&(r=e.extend({element:r},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var f=c[l],h=n.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",f.rx),h.setAttributeNS(null,"ry",f.ry),u.appendChild(h)}var d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var p=n.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(p);var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"fill","#000000");var m=n.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),g.appendChild(m);var v=n.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(6.0, 7.0)"),v.setAttributeNS(null,"fill","#FFFFFF");var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#000000"),b.setAttributeNS(null,"opacity","0.25"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#FFFFFF"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962"),y.appendChild(b),y.appendChild(_),s.appendChild(u),s.appendChild(d),s.appendChild(g),s.appendChild(v),s.appendChild(y),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),Li(this._element,this._anchor,"marker"),this._popup=null}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},r.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Mi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,Ri[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+t)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(e.Evented),zi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Fi=0,Ni=!1,Bi=function(t){function r(n){t.call(this),this.options=e.extend({},zi,n),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Ii?r(Ii):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){r(Ii="denied"!==e.state)})):r(Ii=!!e.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fi=0,Ni=!1},r.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Ni)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Di(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Di({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fi--,Ni=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Fi>1?(t={maximumAge:6e5,timeout:0},Ni=!0):(t=this.options.positionOptions,Ni=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Vi={maxWidth:100,unit:"metric"},$i=function(t){this.options=e.extend({},Vi,t),e.bindAll(["_onMove","setUnit"],this)};function Ui(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?Wi(t,r,u/5280,e._getUIString("ScaleControl.Miles")):Wi(t,r,u,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Wi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Wi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):Wi(t,r,s,e._getUIString("ScaleControl.Meters"))}function Wi(e,t,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a)));e.style.width=t*(s/n)+"px",e.innerHTML=s+"&nbsp;"+r}$i.prototype.getDefaultPosition=function(){return"bottom-left"},$i.prototype._onMove=function(){Ui(this._map,this._container,this.options)},$i.prototype.onAdd=function(e){return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},$i.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},$i.prototype.setUnit=function(e){this.options.unit=e,Ui(this._map,this._container,this.options)};var Hi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};Hi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Hi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Hi.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Hi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Hi.prototype._isFullscreen=function(){return this._fullscreen},Hi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Hi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Gi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},qi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Xi=function(t){function r(n){t.call(this),this.options=e.extend(Object.create(Gi),n),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},r.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},r.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},r.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(e){this._update(e.point)},r.prototype._onMouseMove=function(e){this._update(e.point)},r.prototype._onDrag=function(e){this._update(e.point)},r.prototype._update=function(t){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return r._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Mi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,a=function t(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-n),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var i=e.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n["top-left"]||[0,0]),"top-right":e.Point.convert(n["top-right"]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(n["bottom-right"]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var s,u=this._container.offsetWidth,l=this._container.offsetHeight;s=i.y+a.bottom.y<l?["top"]:i.y>this._map.transform.height-l?["bottom"]:[],i.x<u/2?s.push("left"):i.x>this._map.transform.width-u/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=i.add(a[o]).round();n.setTransform(this._container,Ri[o]+" translate("+c.x+"px,"+c.y+"px)"),Li(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(qi);e&&e.focus()}},r.prototype._onClose=function(){this.remove()},r}(e.Evented),Zi={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Ci,NavigationControl:ji,GeolocateControl:Bi,AttributionControl:bi,ScaleControl:$i,FullscreenControl:Hi,Popup:Xi,Marker:Di,Style:Ut,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){Fe().acquire(Le)},clearPrewarmedResources:function(){var e=De;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Le),De=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Ie.workerCount},set workerCount(e){Ie.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return Zi})),n}()},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",d="[object Object]",p="[object Promise]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",b="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[o]=k[a]=k[_]=k[s]=k[w]=k[u]=k[l]=k[c]=k[f]=k[h]=k[d]=k[g]=k[m]=k[v]=k[b]=!1;var S="object"==typeof e&&e&&e.Object===Object&&e,E="object"==typeof self&&self&&self.Object===Object&&self,C=S||E||Function("return this")(),A=t&&!t.nodeType&&t,P=A&&"object"==typeof n&&n&&!n.nodeType&&n,j=P&&P.exports===A,T=j&&S.process,M=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),R=M&&M.isTypedArray;function L(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function I(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,F,N=Array.prototype,B=Function.prototype,V=Object.prototype,$=C["__core-js_shared__"],U=B.toString,W=V.hasOwnProperty,H=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),G=V.toString,q=RegExp("^"+U.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=j?C.Buffer:void 0,Z=C.Symbol,K=C.Uint8Array,Y=V.propertyIsEnumerable,J=N.splice,Q=Z?Z.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=X?X.isBuffer:void 0,ne=(z=Object.keys,F=Object,function(e){return z(F(e))}),re=Te(C,"DataView"),ie=Te(C,"Map"),oe=Te(C,"Promise"),ae=Te(C,"Set"),se=Te(C,"WeakMap"),ue=Te(Object,"create"),le=Ie(re),ce=Ie(ie),fe=Ie(oe),he=Ie(ae),de=Ie(se),pe=Z?Z.prototype:void 0,ge=pe?pe.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function _e(e){var t=this.__data__=new ve(e);this.size=t.size}function we(e,t){var n=Fe(e),r=!n&&ze(e),i=!n&&!r&&Ne(e),o=!n&&!r&&!i&&We(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)!t&&!W.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Le(l,u))||s.push(l);return s}function xe(e,t){for(var n=e.length;n--;)if(De(e[n][0],t))return n;return-1}function Oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=W.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(o){}var i=G.call(e);r&&(t?e[Q]=n:delete e[Q]);return i}(e):function(e){return G.call(e)}(e)}function ke(e){return Ue(e)&&Oe(e)==o}function Se(e,t,n,r,i){return e===t||(null==e||null==t||!Ue(e)&&!Ue(t)?e!==e&&t!==t:function(e,t,n,r,i,c){var p=Fe(e),b=Fe(t),x=p?a:Re(e),O=b?a:Re(t),k=(x=x==o?d:x)==d,S=(O=O==o?d:O)==d,E=x==O;if(E&&Ne(e)){if(!Ne(t))return!1;p=!0,k=!1}if(E&&!k)return c||(c=new _e),p||We(e)?Ae(e,t,n,r,i,c):function(e,t,n,r,i,o,a){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!o(new K(e),new K(t)));case s:case u:case h:return De(+e,+t);case l:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case f:var c=I;case m:var d=1&r;if(c||(c=D),e.size!=t.size&&!d)return!1;var p=a.get(e);if(p)return p==t;r|=2,a.set(e,t);var b=Ae(c(e),c(t),r,i,o,a);return a.delete(e),b;case y:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,x,n,r,i,c);if(!(1&n)){var C=k&&W.call(e,"__wrapped__"),A=S&&W.call(t,"__wrapped__");if(C||A){var P=C?e.value():e,j=A?t.value():t;return c||(c=new _e),i(P,j,n,r,c)}}if(!E)return!1;return c||(c=new _e),function(e,t,n,r,i,o){var a=1&n,s=Pe(e),u=s.length,l=Pe(t).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var f=s[c];if(!(a?f in t:W.call(t,f)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var d=!0;o.set(e,t),o.set(t,e);var p=a;for(;++c<u;){var g=e[f=s[c]],m=t[f];if(r)var v=a?r(m,g,f,t,e,o):r(g,m,f,e,t,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,c)}(e,t,n,r,Se,i))}function Ee(e){return!(!$e(e)||function(e){return!!H&&H in e}(e))&&(Be(e)?q:x).test(Ie(e))}function Ce(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||V;return e===n}(e))return ne(e);var t=[];for(var n in Object(e))W.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ae(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var c=-1,f=!0,h=2&n?new be:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],p=t[c];if(r)var g=a?r(p,d,c,t,e,o):r(d,p,c,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!L(t,(function(e,t){if(a=t,!h.has(a)&&(d===e||i(d,e,n,r,o)))return h.push(t);var a}))){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Pe(e){return function(e,t,n){var r=t(e);return Fe(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,He,Me)}function je(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Te(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ee(n)?n:void 0}me.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ue){var n=t[e];return n===r?void 0:n}return W.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:W.call(t,e)},me.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ue&&void 0===t?r:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0)&&(n==t.length-1?t.pop():J.call(t,n,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return xe(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,r=xe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(ie||ve),string:new me}},ye.prototype.delete=function(e){var t=je(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return je(this,e).get(e)},ye.prototype.has=function(e){return je(this,e).has(e)},ye.prototype.set=function(e,t){var n=je(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,r),this},be.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.clear=function(){this.__data__=new ve,this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Me=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(ee(e),(function(t){return Y.call(e,t)})))}:function(){return[]},Re=Oe;function Le(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ie(e){if(null!=e){try{return U.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function De(e,t){return e===t||e!==e&&t!==t}(re&&Re(new re(new ArrayBuffer(1)))!=w||ie&&Re(new ie)!=f||oe&&Re(oe.resolve())!=p||ae&&Re(new ae)!=m||se&&Re(new se)!=b)&&(Re=function(e){var t=Oe(e),n=t==d?e.constructor:void 0,r=n?Ie(n):"";if(r)switch(r){case le:return w;case ce:return f;case fe:return p;case he:return m;case de:return b}return t});var ze=ke(function(){return arguments}())?ke:function(e){return Ue(e)&&W.call(e,"callee")&&!Y.call(e,"callee")},Fe=Array.isArray;var Ne=te||function(){return!1};function Be(e){if(!$e(e))return!1;var t=Oe(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function $e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ue(e){return null!=e&&"object"==typeof e}var We=R?function(e){return function(t){return e(t)}}(R):function(e){return Ue(e)&&Ve(e.length)&&!!k[Oe(e)]};function He(e){return null!=(t=e)&&Ve(t.length)&&!Be(t)?we(e):Ce(e);var t}n.exports=function(e,t){return Se(e,t)}}).call(this,n(40),n(118)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getAceInstance=t.debounce=t.editorEvents=t.editorOptions=void 0;t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];t.getAceInstance=function(){var t;return"undefined"===typeof window?(e.window={},t=n(152),delete e.window):window.ace?(t=window.ace).acequire=window.ace.require||window.ace.acequire:t=n(152),t};t.debounce=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}}).call(this,n(40))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(239),a=o.getAceInstance(),s=n(152),u=n(358),l=n(1),c=n(0),f=n(238),h=n(359),d=function(e){function t(t){var n=e.call(this,t)||this;return o.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=o.debounce,n}return r(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.mode,s=t.focus,l=t.theme,c=t.fontSize,f=t.value,d=t.defaultValue,p=t.cursorStart,g=t.showGutter,m=t.wrapEnabled,v=t.showPrintMargin,y=t.scrollMargin,b=void 0===y?[0,0,0,0]:y,_=t.keyboardHandler,w=t.onLoad,x=t.commands,O=t.annotations,k=t.markers,S=t.splits;this.editor=a.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/"+l),r&&r(a);var E=Object.keys(this.props.editorProps),C=new u.Split(this.editor.container,"ace/theme/"+l,S);this.editor.env.split=C,this.splitEditor=C.getEditor(0),this.split=C,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var A=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),C.forEach((function(t,n){for(var r=0;r<E.length;r++)t[E[r]]=e.props.editorProps[E[r]];var s=h(d,n),u=h(f,n,"");t.session.setUndoManager(new a.UndoManager),t.setTheme("ace/theme/"+l),t.renderer.setScrollMargin(b[0],b[1],b[2],b[3]),t.getSession().setMode("ace/mode/"+i),t.setFontSize(c),t.renderer.setShowGutter(g),t.getSession().setUseWrapMode(m),t.setShowPrintMargin(v),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===s?u:s,p);var y=h(O,n,[]),w=h(k,n,[]);t.getSession().setAnnotations(y),w&&w.length>0&&e.handleMarkers(w,t);for(r=0;r<o.editorOptions.length;r++){var S=o.editorOptions[r];A.hasOwnProperty(S)?t.setOption(S,e.props[S]):e.props[S]&&console.warn("ReaceAce: editor option "+S+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}e.handleOptions(e.props,t),Array.isArray(x)&&x.forEach((function(e){"string"===typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),_&&t.setKeyboardHandler("ace/keyboard/"+_)})),n&&(this.refEditor.className+=" "+n),s&&this.splitEditor.focus();var P=this.editor.env.split;P.setOrientation("below"===this.props.orientation?P.BELOW:P.BESIDE),P.resize(!0),w&&w(P)},t.prototype.componentDidUpdate=function(e){var t=this,n=e,r=this.props,i=this.editor.env.split;if(r.splits!==n.splits&&i.setSplits(r.splits),r.orientation!==n.orientation&&i.setOrientation("below"===r.orientation?i.BELOW:i.BESIDE),i.forEach((function(e,i){r.mode!==n.mode&&e.getSession().setMode("ace/mode/"+r.mode),r.keyboardHandler!==n.keyboardHandler&&(r.keyboardHandler?e.setKeyboardHandler("ace/keyboard/"+r.keyboardHandler):e.setKeyboardHandler(null)),r.fontSize!==n.fontSize&&e.setFontSize(r.fontSize),r.wrapEnabled!==n.wrapEnabled&&e.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==n.showPrintMargin&&e.setShowPrintMargin(r.showPrintMargin),r.showGutter!==n.showGutter&&e.renderer.setShowGutter(r.showGutter);for(var a=0;a<o.editorOptions.length;a++){var s=o.editorOptions[a];r[s]!==n[s]&&e.setOption(s,r[s])}f(r.setOptions,n.setOptions)||t.handleOptions(r,e);var u=h(r.value,i,"");if(e.getValue()!==u){t.silent=!0;var l=e.session.selection.toJSON();e.setValue(u,r.cursorStart),e.session.selection.fromJSON(l),t.silent=!1}var c=h(r.annotations,i,[]),d=h(n.annotations,i,[]);f(c,d)||e.getSession().setAnnotations(c);var p=h(r.markers,i,[]),g=h(n.markers,i,[]);!f(p,g)&&Array.isArray(p)&&t.handleMarkers(p,e)})),r.className!==n.className){var a=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=a.indexOf(e);a.splice(t,1)})),this.refEditor.className=" "+r.className+" "+a.join(" ")}r.theme!==n.theme&&i.setTheme("ace/theme/"+r.theme),r.focus&&!n.focus&&this.splitEditor.focus(),r.height===this.props.height&&r.width===this.props.width||this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e,t){for(var n=Object.keys(e.setOptions),r=0;r<n.length;r++)t.setOption(n[r],e.setOptions[n[r]])},t.prototype.handleMarkers=function(e,t){var n=t.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);for(var r in n=t.getSession().getMarkers(!1))n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.startRow,r=e.startCol,i=e.endRow,o=e.endCol,a=e.className,u=e.type,l=e.inFront,c=void 0!==l&&l,f=new s.Range(n,r,i,o);t.getSession().addMarker(f,a,u,c)}))},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,r=e.height,o=e.style,a=i({width:n,height:r},o);return c.createElement("div",{ref:this.updateRef,id:t,style:a})},t.propTypes={className:l.string,debounceChangePeriod:l.number,defaultValue:l.arrayOf(l.string),focus:l.bool,fontSize:l.oneOfType([l.number,l.string]),height:l.string,mode:l.string,name:l.string,onBlur:l.func,onChange:l.func,onCopy:l.func,onFocus:l.func,onInput:l.func,onLoad:l.func,onPaste:l.func,onScroll:l.func,orientation:l.string,showGutter:l.bool,splits:l.number,theme:l.string,value:l.arrayOf(l.string),width:l.string,onSelectionChange:l.func,onCursorChange:l.func,onBeforeLoad:l.func,minLines:l.number,maxLines:l.number,readOnly:l.bool,highlightActiveLine:l.bool,tabSize:l.number,showPrintMargin:l.bool,cursorStart:l.number,editorProps:l.object,setOptions:l.object,style:l.object,scrollMargin:l.array,annotations:l.array,markers:l.array,keyboardHandler:l.string,wrapEnabled:l.bool,enableBasicAutocompletion:l.oneOfType([l.bool,l.array]),enableLiveAutocompletion:l.oneOfType([l.bool,l.array]),commands:l.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(c.Component);t.default=d},function(e,t){ace.define("ace/theme/dracula",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-dracula",t.cssText="ace-dracula .ace_gutter {background: #282a36;color: rgb(144,145,148)}.ace-dracula .ace_print-margin {width: 1px;background: #e8e8e8}.ace-dracula {background-color: #282a36;color: #f8f8f2}.ace-dracula .ace_cursor {color: #f8f8f0}.ace-dracula .ace_marker-layer .ace_selection {background: #44475a}.ace-dracula.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #282a36;border-radius: 2px}.ace-dracula .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-dracula .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #3B3A32}.ace-dracula .ace_marker-layer .ace_active-line {background: #44475a}.ace-dracula .ace_gutter-active-line {background-color: #44475a}.ace-dracula .ace_marker-layer .ace_selected-word {border: 1px solid #44475a}.ace-dracula .ace_fold {background-color: #50fa7b;border-color: #f8f8f2}.ace-dracula .ace_keyword {color: #ff79c6}.ace-dracula .ace_constant.ace_language {color: #bd93f9}.ace-dracula .ace_constant.ace_numeric {color: #bd93f9}.ace-dracula .ace_constant.ace_character {color: #bd93f9}.ace-dracula .ace_constant.ace_character.ace_escape {color: #ff79c6}.ace-dracula .ace_constant.ace_other {color: #bd93f9}.ace-dracula .ace_support.ace_function {color: #8be9fd}.ace-dracula .ace_support.ace_constant {color: #6be5fd}.ace-dracula .ace_support.ace_class {font-style: italic;color: #66d9ef}.ace-dracula .ace_support.ace_type {font-style: italic;color: #66d9ef}.ace-dracula .ace_storage {color: #ff79c6}.ace-dracula .ace_storage.ace_type {font-style: italic;color: #8be9fd}.ace-dracula .ace_invalid {color: #F8F8F0;background-color: #ff79c6}.ace-dracula .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #bd93f9}.ace-dracula .ace_string {color: #f1fa8c}.ace-dracula .ace_comment {color: #6272a4}.ace-dracula .ace_variable {color: #50fa7b}.ace-dracula .ace_variable.ace_parameter {font-style: italic;color: #ffb86c}.ace-dracula .ace_entity.ace_other.ace_attribute-name {color: #50fa7b}.ace-dracula .ace_entity.ace_name.ace_function {color: #50fa7b}.ace-dracula .ace_entity.ace_name.ace_tag {color: #ff79c6}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(8),i=n(5),o=n(4),a=n(13),s=n(15),u=n(6),l=n(30),c=n(166),f=n(101),h=n(24),d=n(48),p=n(37),g=n(39);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var v=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),y=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),b=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),_={},w=function(e){Object(a.a)(n,e);var t=m(n);function n(e){var r;return Object(i.a)(this,n),r=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return Object(o.a)(n,[{key:"INDICES",get:function(){return b}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return _.IDENTITY=_.IDENTITY||Object.freeze(new n(v)),_.IDENTITY}},{key:"ZERO",get:function(){return _.ZERO=_.ZERO||Object.freeze(new n(y)),_.ZERO}}]),Object(o.a)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=l,this[10]=c,this[11]=f,this[12]=h,this[13]=d,this[14]=p,this[15]=g,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g){return this[0]=e,this[1]=i,this[2]=u,this[3]=h,this[4]=t,this[5]=o,this[6]=l,this[7]=d,this[8]=n,this[9]=a,this[10]=c,this[11]=p,this[12]=r,this[13]=s,this[14]=f,this[15]=g,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(v)}},{key:"fromQuaternion",value:function(e){return h.c(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,r=e.right,i=e.bottom,o=e.top,a=e.near,s=e.far;return s===1/0?n._computeInfinitePerspectiveOffCenter(this,t,r,i,o,a):h.d(this,t,r,i,o,a,s),this.check()}},{key:"lookAt",value:function(e,t,n){if(1===arguments.length){var r=e;e=r.eye,t=r.center,n=r.up}return t=t||[0,0,0],n=n||[0,1,0],h.g(this,e,t,n),this.check()}},{key:"ortho",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return h.i(this,t,n,r,i,a,u),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,r=void 0===t?45*Math.PI/180:t,i=e.aspect,o=void 0===i?1:i,a=e.focalDistance,s=void 0===a?1:a,u=e.near,l=void 0===u?.1:u,c=e.far,f=void 0===c?500:c;if(r>2*Math.PI)throw Error("radians");var h=r/2,d=s*Math.tan(h),p=d*o;return(new n).ortho({left:-p,right:p,bottom:-d,top:d,near:l,far:f})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,n=void 0===t?void 0:t,r=e.fov,i=void 0===r?45*Math.PI/180:r,o=e.aspect,a=void 0===o?1:o,s=e.near,u=void 0===s?.1:s,l=e.far,c=void 0===l?500:l;if((n=n||i)>2*Math.PI)throw Error("radians");return h.j(this,n,a,u,c),this.check()}},{key:"determinant",value:function(){return h.a(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(t||[-0,-0,-0]),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(t||[-0,-0,-0]),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*o,e}},{key:"transpose",value:function(){return h.q(this,this),this.check()}},{key:"invert",value:function(){return h.f(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return h.h(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return h.h(this,this,e),this.check()}},{key:"rotateX",value:function(e){return h.l(this,this,e),this.check()}},{key:"rotateY",value:function(e){return h.m(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return h.n(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t=Object(r.a)(e,3),n=t[0],i=t[1],o=t[2];return this.rotateX(n).rotateY(i).rotateZ(o)}},{key:"rotateAxis",value:function(e,t){return h.k(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?h.o(this,this,e):h.o(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return h.p(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(t=g.n(t||[-0,-0,-0,-0],e,this),Object(l.b)(t,4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){switch(e.length){case 2:t=d.h(t||[-0,-0],e,this);break;case 3:t=p.n(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(l.b)(t,e.length),t}},{key:"transformAsVector",value:function(e,t){switch(e.length){case 2:t=Object(f.a)(t||[-0,-0],e,this);break;case 3:t=Object(f.c)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(l.b)(t,e.length),t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,n){return this.identity().translate([e,t,n])}},{key:"transformPoint",value:function(e,t){return Object(l.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return Object(l.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return Object(l.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(e,t,n,r,i,o){var a=2*o/(n-t),s=2*o/(i-r),u=(n+t)/(n-t),l=(i+r)/(i-r),c=-2*o;return e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=l,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=c,e[15]=0,e}}]),n}(c.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(5),i=n(4),o=n(13),a=n(15),s=n(6),u=n(166),l=n(30),c=n(101),f=n(66),h=n(48),d=n(37);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var g=Object.freeze([1,0,0,0,1,0,0,0,1]),m=Object.freeze([0,0,0,0,0,0,0,0,0]),v=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),y={},b=function(e){Object(o.a)(n,e);var t=p(n);function n(e){var i;return Object(r.a)(this,n),i=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?i.copy(e):i.identity(),i}return Object(i.a)(n,[{key:"ELEMENTS",get:function(){return 9}},{key:"RANK",get:function(){return 3}},{key:"INDICES",get:function(){return v}}],[{key:"IDENTITY",get:function(){return y.IDENTITY=y.IDENTITY||Object.freeze(new n(g)),y.IDENTITY}},{key:"ZERO",get:function(){return y.ZERO=y.ZERO||Object.freeze(new n(m)),y.ZERO}}]),Object(i.a)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,u){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,u){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=i,this[5]=s,this[6]=n,this[7]=o,this[8]=u,this.check()}},{key:"determinant",value:function(){return f.b(this)}},{key:"identity",value:function(){return this.copy(g)}},{key:"fromQuaternion",value:function(e){return f.c(this,e),this.check()}},{key:"transpose",value:function(){return f.i(this,this),this.check()}},{key:"invert",value:function(){return f.d(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return f.e(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return f.e(this,this,e),this.check()}},{key:"rotate",value:function(e){return f.f(this,this,e),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?f.g(this,this,e):f.g(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return f.h(this,this,e),this.check()}},{key:"transform",value:function(e,t){switch(e.length){case 2:t=h.g(t||[-0,-0],e,this);break;case 3:t=d.m(t||[-0,-0,-0],e,this);break;case 4:t=Object(c.d)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(l.b)(t,e.length),t}},{key:"transformVector",value:function(e,t){return Object(l.c)("Matrix3.transformVector"),this.transform(e,t)}},{key:"transformVector2",value:function(e,t){return Object(l.c)("Matrix3.transformVector"),this.transform(e,t)}},{key:"transformVector3",value:function(e,t){return Object(l.c)("Matrix3.transformVector"),this.transform(e,t)}}]),n}(u.a)},function(e,t,n){"use strict";t.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},function(e,t,n){"use strict";var r=n(108);t.a={name:"project32",dependencies:[r.a],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    mat3 rotation = project_get_orientation_matrix(projectedPosition);\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},function(e,t,n){"use strict";(function(e){var t=n(303),r=n(50),i=n(129);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=t.extension,o=t.target,a=t.target2,s=i.b[n];Object(r.a)(s);for(var u=s.meta,l=(void 0===u?{}:u).suffix,c=void 0===l?"":l,f=e.getExtension(n),h=function(){var t=p[d],n="".concat(t).concat(c),r=null;"meta"===t||"function"===typeof e[t]||(f&&"function"===typeof f[n]?r=function(){return f[n].apply(f,arguments)}:"function"===typeof s[t]&&(r=s[t].bind(o))),r&&(o[t]=r,a[t]=r)},d=0,p=Object.keys(s);d<p.length;d++)h()}("undefined"!==typeof e?e:window).polyfillContext=function(e){e.luma=e.luma||{};var n=e.luma;return n.polyfilled||(Object(t.a)(e),function(e){e.luma.extensions={};var t,n=o(e.getSupportedExtensions()||[]);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.luma[r]=e.getExtension(r)}}catch(i){n.e(i)}finally{n.f()}}(e),function(e,t){var n,r=o(Object.getOwnPropertyNames(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;"overrides"!==i&&s(e,{extension:i,target:e.luma,target2:e})}}catch(a){r.e(a)}finally{r.f()}}(e,i.b),function(e,t){var n=t.target,r=t.target2;Object.keys(i.a).forEach((function(t){if("function"===typeof i.a[t]){var o=e[t]?e[t].bind(e):function(){},a=i.a[t].bind(null,e,o);n[t]=a,r[t]=a}}))}(e,{target:n,target2:e}),n.polyfilled=!0),e}}).call(this,n(40))},function(e,t,n){"use strict";(function(e,r){var i=n(131);Object.defineProperty(t,"__esModule",{value:!0}),t.console=t.process=t.document=t.global=t.window=t.self=void 0;var o=i(n(107)),a={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document,process:"object"===("undefined"===typeof r?"undefined":(0,o.default)(r))&&r},s=a.self||a.window||a.global;t.self=s;var u=a.window||a.self||a.global;t.window=u;var l=a.global||a.self||a.window;t.global=l;var c=a.document||{};t.document=c;var f=a.process||{};t.process=f;var h=console;t.console=h}).call(this,n(40),n(54))},function(e,t,n){"use strict";(function(e){var r=n(131);Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,t.isBrowserMainThread=function(){return a()&&"undefined"!==typeof document};var i=r(n(107)),o=r(n(188));function a(){return!("object"===("undefined"===typeof e?"undefined":(0,i.default)(e))&&"[object process]"===String(e)&&!e.browser)||(0,o.default)()}}).call(this,n(54))},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(40))},function(e,t,n){var r=n(395),i=n(133);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(397),i=n(254),o=n(73),a=n(190),s=n(255),u=n(256),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),h=!n&&!c&&!f&&u(e),d=n||c||f||h,p=d?r(e.length,String):[],g=p.length;for(var m in e)!t&&!l.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},function(e,t,n){var r=n(398),i=n(91),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(400),i=n(192),o=n(193),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(105),i=n(120);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(435),i=n(91);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(436),i=n(439),o=n(440);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,g=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var v=e[p],y=t[p];if(a)var b=l?a(y,v,p,t,e,u):a(v,y,p,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(v===e||s(v,e,n,a,u)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,n){var r=n(79).Uint8Array;e.exports=r},function(e,t,n){var r=n(266),i=n(200),o=n(133);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(267),i=n(73);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(120);e.exports=function(e){return e===e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(272),i=n(159);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(73),i=n(201),o=n(453),a=n(456);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(274),i=n(197),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(471);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(267),i=n(195),o=n(200),a=n(268),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(278),o=Object.keys,a=o?function(e){return o(e)}:n(504),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=n(280),i=n(212),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},function(e,t,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(A){u=null}var l=function(){throw new a},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(t){return l}}}():l,f=n(281)(),h=Object.getPrototypeOf||function(e){return e.__proto__},d={},p="undefined"===typeof Uint8Array?r:h(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},m=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=h(i.prototype))}return g[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(211),b=n(508),_=y.call(Function.call,Array.prototype.concat),w=y.call(Function.apply,Array.prototype.splice),x=y.call(Function.call,String.prototype.replace),O=y.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,E=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return x(e,k,(function(e,t,n,i){r[r.length]=n?x(i,S,"$1"):t||e})),r},C=function(e,t){var n,r=e;if(b(v,r)&&(r="%"+(n=v[r])[0]+"%"),b(g,r)){var o=g[r];if(o===d&&(o=m(r)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');var n=E(e),r=n.length>0?n[0]:"",o=C("%"+r+"%",t),s=o.name,l=o.value,c=!1,f=o.alias;f&&(r=f[0],w(n,_([0,1],f)));for(var h=1,d=!0;h<n.length;h+=1){var p=n[h],m=O(p,0,1),v=O(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(c=!0),b(g,s="%"+(r+="."+p)+"%"))l=g[s];else if(null!=l){if(!(p in l)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&h+1>=n.length){var y=u(l,p);l=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:l[p]}else d=b(l,p),l=l[p];d&&!c&&(g[s]=l)}}return l}},function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(506);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},function(e,t,n){"use strict";var r=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(282);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},function(e,t,n){"use strict";var r=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var r=n(284),i=n(134).supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof/a/.dotAll)return e.get}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=(r=a)&&r.__esModule?r:{default:r},u=n(213);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,n,r;l(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={},c(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillMount",value:function(){this.setState({modalId:(0,u.mountModal)(i({setId:this.context.setId||0,props:this.props.props||{}},this.props))})}},{key:"componentWillReceiveProps",value:function(e){(0,u.updateModal)(this.state.modalId,e)}},{key:"componentWillUnmount",value:function(){(0,u.unmountModal)(this.state.modalId)}},{key:"render",value:function(){return null}}]),t}(s.default.Component);f.contextTypes={setId:function(){}},t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(0)),o=n(58),a=s(n(286));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return e.url.length-1e4}t.default=(0,o.withRouter)((function(e){var t=e.path,n=e.parentPath,s=e.exact,l=e.props,c=e.onBackdropClick,f=r({},e);delete f.exact,delete f.path,delete f.parentPath,delete f.onBackdropClick,delete f.props;var h=function(e){return"function"===typeof n?n(e):n||(e.params[0]?e.params[0]:""===e.params[0]?"/":e.url)};return i.default.createElement(o.Route,{path:t,exact:s,render:function(e){var t=e.match,n=e.location,o=e.history;return i.default.createElement(a.default,r({},f,{props:r({},l,{match:t,location:n,history:o,parentPath:h(t),closeModal:function(){return o.push(h(t))}}),stackOrder:u(t),onBackdropClick:c||function(){return o.push(h(t))}}))}})})),e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(5),i=n(4),o=n(13),a=n(15),s=n(6),u=n(125),l=n(30),c=n(57);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var h=function(e){Object(o.a)(n,e);var t=f(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"copy",value:function(e){return Object(c.a)(!1),this}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-e[n];t+=r*r}return Object(l.a)(t)}},{key:"dot",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return Object(l.a)(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]*=o[a];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]/=o[a];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return Object(c.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(l.a)(this[e])}},{key:"setComponent",value:function(e,t){return Object(c.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}}]),n}(u.a),d=n(29),p=n(37),g=n(101);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var v=[0,0,0],y={},b=function(e){Object(o.a)(n,e);var t=m(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,n),e=t.call(this,-0,-0,-0),1===arguments.length&&Object(d.e)(i)?e.copy(i):(d.b.debug&&(Object(l.a)(i),Object(l.a)(o),Object(l.a)(a)),e[0]=i,e[1]=o,e[2]=a),e}return Object(i.a)(n,null,[{key:"ZERO",get:function(){return y.ZERO=y.ZERO||Object.freeze(new n(0,0,0,0))}}]),Object(i.a)(n,[{key:"set",value:function(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return d.b.debug&&(Object(l.a)(e.x),Object(l.a)(e.y),Object(l.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"angle",value:function(e){return p.a(this,e)}},{key:"cross",value:function(e){return p.c(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?v:n;return p.i(this,this,r,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?v:n;return p.j(this,this,r,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?v:n;return p.k(this,this,r,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return p.n(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(g.c)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return p.m(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(g.b)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return p.o(this,this,e),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}}]),n}(h)},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(5),i=n(4),o=n(13),a=n(15),s=n(6),u=n(125),l=n(30),c=n(57),f=n(17),h=n(66),d=n(37),p=n(39);function g(){var e=new f.a(4);return f.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function m(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-r*l,e[2]=o*c+a*l+r*u-i*s,e[3]=a*c-r*s-i*u-o*l,e}function y(e,t,n,r){var i,o,a,s,u,l=t[0],c=t[1],h=t[2],d=t[3],p=n[0],g=n[1],m=n[2],v=n[3];return(o=l*p+c*g+h*m+d*v)<0&&(o=-o,p=-p,g=-g,m=-m,v=-v),1-o>f.b?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*l+u*p,e[1]=s*c+u*g,e[2]=s*h+u*m,e[3]=s*d+u*v,e}function b(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}p.b,p.g,p.c,p.l;var _=p.a,w=p.k,x=p.d,O=p.i,k=p.h,S=p.m,E=p.j,C=(p.f,p.e,function(){var e=d.b(),t=d.e(1,0,0),n=d.e(0,1,0);return function(r,i,o){var a=d.d(i,o);return a<-.999999?(d.c(e,t,i),d.f(e)<1e-6&&d.c(e,n,i),d.h(e,e),m(r,e,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(d.c(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+a,E(r,r))}}());(function(){var e=g(),t=g()})(),function(){var e=h.a()}();function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var P=[0,0,0,1],j=function(e){Object(o.a)(n,e);var t=A(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(r.a)(this,n),e=t.call(this,-0,-0,-0,-0),Array.isArray(i)&&1===arguments.length?e.copy(i):e.set(i,o,a,s),e}return Object(i.a)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"set",value:function(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}},{key:"fromMatrix3",value:function(e){return b(this,e),this.check()}},{key:"identity",value:function(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}},{key:"fromAxisRotation",value:function(e,t){return m(this,e,t),this.check()}},{key:"setAxisAngle",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:"len",value:function(){return k(this)}},{key:"lengthSquared",value:function(){return S(this)}},{key:"dot",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return x(this,e)}},{key:"rotationTo",value:function(e,t){return C(this,e,t),this.check()}},{key:"add",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return _(this,this,e),this.check()}},{key:"calculateW",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2];e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i))}(this,this),this.check()}},{key:"conjugate",value:function(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s}(this,this),this.check()}},{key:"lerp",value:function(e,t,n){return O(this,e,t,n),this.check()}},{key:"multiplyRight",value:function(e,t){return Object(c.a)(!t),v(this,this,e),this.check()}},{key:"multiplyLeft",value:function(e,t){return Object(c.a)(!t),v(this,e,this),this.check()}},{key:"normalize",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:"rotateX",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-r*s}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u-o*s,e[1]=i*u+a*s,e[2]=o*u+r*s,e[3]=a*u-i*s}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=o*u+a*s,e[3]=a*u-o*s}(this,this,e),this.check()}},{key:"scale",value:function(e){return w(this,this,e),this.check()}},{key:"slerp",value:function(e,t,n){switch(arguments.length){case 1:var r=arguments[0],i=r.start;e=void 0===i?P:i,t=r.target,n=r.ratio;break;case 2:var o=Array.prototype.slice.call(arguments);t=o[0],n=o[1],e=this}return y(this,e,t,n),this.check()}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return p.o(t,e,this),Object(l.b)(t,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(e,t){return this.setAxisAngle(e,t)}},{key:"premultiply",value:function(e,t){return this.multiplyLeft(e,t)}},{key:"multiply",value:function(e,t){return this.multiplyRight(e,t)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Object(l.a)(e)}}]),n}(u.a)},function(e,t,n){"use strict";var r={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};var i={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){var n=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){var i=Array.from(e.pickingHighlightColor,(function(e){return e/255}));Number.isFinite(i[3])||(i[3]=1),t.picking_uHighlightColor=i}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}};t.a=Object.assign({inject:{"vs:DECKGL_FILTER_COLOR":"\n    picking_setPickingColor(geometry.pickingColor);\n    // for picking depth values\n    picking_setPickingAttribute(geometry.position.z);\n    ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n    // use highlight color if this fragment belongs to the selected object.\n    color = picking_filterHighlightColor(color);\n\n    // use picking color if rendering to picking FBO.\n    color = picking_filterPickingColor(color);\n      "}}},i)},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}},function(e,t,n){e.exports=n(334)},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!==typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function s(){o(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},f=v(0,0,0,0);function h(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=c(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=h(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=h(r.width),u=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=d(r,"left","right")+o),Math.round(u+a)!==n&&(u-=d(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var l=Math.round(s+o)-t,p=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(p)&&(u-=p)}return v(i.left,i.top,s,u)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return r?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):p(e):f}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return l(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);l(this,{target:e,contentRect:n})},_=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!==typeof WeakMap?new WeakMap:new n,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new _(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var O="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:x;t.a=O}).call(this,n(40))},function(e,t,n){e.exports=n(355)},function(e,t,n){(function(r){var i;e.exports=(i=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(2)()},function(e,t){e.exports=i},function(e,t,n){"use strict";var r=n(3);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,n,r){"use strict";r.r(n);var i=r(1),o=r.n(i),a=r(0),s=r.n(a);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t=e.pageClassName,n=e.pageLinkClassName,r=e.page,i=e.selected,a=e.activeClassName,s=e.activeLinkClassName,l=e.getEventListener,c=e.pageSelectedHandler,f=e.href,h=e.extraAriaContext,d=e.pageLabelBuilder,p=e.ariaLabel||"Page "+r+(h?" "+h:""),g=null;return i&&(g="page",p=e.ariaLabel||"Page "+r+" is your current page",t=void 0!==t?t+" "+a:a,void 0!==n?void 0!==s&&(n=n+" "+s):n=s),o.a.createElement("li",{className:t},o.a.createElement("a",u({role:"button",className:n,href:f,tabIndex:"0","aria-label":p,"aria-current":g,onKeyPress:c},l(c)),d(r)))};l.propTypes={pageSelectedHandler:s.a.func.isRequired,selected:s.a.bool.isRequired,pageClassName:s.a.string,pageLinkClassName:s.a.string,activeClassName:s.a.string,activeLinkClassName:s.a.string,extraAriaContext:s.a.string,href:s.a.string,ariaLabel:s.a.string,page:s.a.number.isRequired,getEventListener:s.a.func.isRequired,pageLabelBuilder:s.a.func.isRequired};var c=l;function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var r=void 0!==n?n:t;if(r)if("function"!=typeof r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=void 0;try{o=r[i]}catch(e){continue}e.register(o,i,"/home/adele/workspace/react-paginate/react_components/PageView.js")}}else e.register(r,"module.exports","/home/adele/workspace/react-paginate/react_components/PageView.js")}}();var h=function(e){var t=e.breakLabel,n=e.breakClassName,r=e.breakLinkClassName,i=e.breakHandler,a=e.getEventListener,s=n||"break";return o.a.createElement("li",{className:s},o.a.createElement("a",f({className:r,role:"button",tabIndex:"0",onKeyPress:i},a(i)),t))};h.propTypes={breakLabel:s.a.oneOfType([s.a.string,s.a.node]),breakClassName:s.a.string,breakLinkClassName:s.a.string,breakHandler:s.a.func.isRequired,getEventListener:s.a.func.isRequired};var d=h;function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var r=void 0!==n?n:t;if(r)if("function"!=typeof r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=void 0;try{o=r[i]}catch(e){continue}e.register(o,i,"/home/adele/workspace/react-paginate/react_components/BreakView.js")}}else e.register(r,"module.exports","/home/adele/workspace/react-paginate/react_components/BreakView.js")}}();var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i=y(a);function a(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),x(_(t=i.call(this,e)),"handlePreviousPage",(function(e){var n=t.state.selected;e.preventDefault?e.preventDefault():e.returnValue=!1,n>0&&t.handlePageSelected(n-1,e)})),x(_(t),"handleNextPage",(function(e){var n=t.state.selected,r=t.props.pageCount;e.preventDefault?e.preventDefault():e.returnValue=!1,n<r-1&&t.handlePageSelected(n+1,e)})),x(_(t),"handlePageSelected",(function(e,n){n.preventDefault?n.preventDefault():n.returnValue=!1,t.state.selected!==e?(t.setState({selected:e}),t.callCallback(e)):t.callActiveCallback(e)})),x(_(t),"getEventListener",(function(e){return x({},t.props.eventListener,e)})),x(_(t),"handleBreakClick",(function(e,n){n.preventDefault?n.preventDefault():n.returnValue=!1;var r=t.state.selected;t.handlePageSelected(r<e?t.getForwardJump():t.getBackwardJump(),n)})),x(_(t),"callCallback",(function(e){void 0!==t.props.onPageChange&&"function"==typeof t.props.onPageChange&&t.props.onPageChange({selected:e})})),x(_(t),"callActiveCallback",(function(e){void 0!==t.props.onPageActive&&"function"==typeof t.props.onPageActive&&t.props.onPageActive({selected:e})})),x(_(t),"pagination",(function(){var e=[],n=t.props,r=n.pageRangeDisplayed,i=n.pageCount,a=n.marginPagesDisplayed,s=n.breakLabel,u=n.breakClassName,l=n.breakLinkClassName,c=t.state.selected;if(i<=r)for(var f=0;f<i;f++)e.push(t.getPageElement(f));else{var h,p,g,m=r/2,v=r-m;c>i-r/2?m=r-(v=i-c):c<r/2&&(v=r-(m=c));var y=function(e){return t.getPageElement(e)};for(h=0;h<i;h++)(p=h+1)<=a||p>i-a||h>=c-m&&h<=c+v?e.push(y(h)):s&&e[e.length-1]!==g&&(g=o.a.createElement(d,{key:h,breakLabel:s,breakClassName:u,breakLinkClassName:l,breakHandler:t.handleBreakClick.bind(null,h),getEventListener:t.getEventListener}),e.push(g))}return e})),n=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,t.state={selected:n},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,n=e.disableInitialCallback,r=e.extraAriaContext;void 0===t||n||this.callCallback(t),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead.")}},{key:"componentDidUpdate",value:function(e){void 0!==this.props.forcePage&&this.props.forcePage!==e.forcePage&&this.setState({selected:this.props.forcePage})}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,n=t.pageCount,r=e+t.pageRangeDisplayed;return r>=n?n-1:r}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"hrefBuilder",value:function(e){var t=this.props,n=t.hrefBuilder,r=t.pageCount;if(n&&e!==this.state.selected&&e>=0&&e<r)return n(e+1)}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var n=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(n=n+" "+this.props.extraAriaContext),n}}},{key:"getPageElement",value:function(e){var t=this.state.selected,n=this.props,r=n.pageClassName,i=n.pageLinkClassName,a=n.activeClassName,s=n.activeLinkClassName,u=n.extraAriaContext,l=n.pageLabelBuilder;return o.a.createElement(c,{key:e,pageSelectedHandler:this.handlePageSelected.bind(null,e),selected:t===e,pageClassName:r,pageLinkClassName:i,activeClassName:a,activeLinkClassName:s,extraAriaContext:u,href:this.hrefBuilder(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1,pageLabelBuilder:l,getEventListener:this.getEventListener})}},{key:"render",value:function(){var e=this.props,t=e.disabledClassName,n=e.pageCount,r=e.containerClassName,i=e.previousLabel,a=e.previousClassName,s=e.previousLinkClassName,u=e.previousAriaLabel,l=e.prevRel,c=e.nextLabel,f=e.nextClassName,h=e.nextLinkClassName,d=e.nextAriaLabel,p=e.nextRel,m=this.state.selected,v=a+(0===m?" ".concat(t):""),y=f+(m===n-1?" ".concat(t):""),b=0===m?"true":"false",_=m===n-1?"true":"false";return o.a.createElement("ul",{className:r},o.a.createElement("li",{className:v},o.a.createElement("a",g({className:s,href:this.hrefBuilder(m-1),tabIndex:"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":b,"aria-label":u,rel:l},this.getEventListener(this.handlePreviousPage)),i)),this.pagination(),o.a.createElement("li",{className:y},o.a.createElement("a",g({className:h,href:this.hrefBuilder(m+1),tabIndex:"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":_,"aria-label":d,rel:p},this.getEventListener(this.handleNextPage)),c)))}}])&&m(t.prototype,n),r&&m(t,r),a}(i.Component);x(O,"propTypes",{pageCount:s.a.number.isRequired,pageRangeDisplayed:s.a.number.isRequired,marginPagesDisplayed:s.a.number.isRequired,previousLabel:s.a.node,previousAriaLabel:s.a.string,prevRel:s.a.string,nextLabel:s.a.node,nextAriaLabel:s.a.string,nextRel:s.a.string,breakLabel:s.a.oneOfType([s.a.string,s.a.node]),hrefBuilder:s.a.func,onPageChange:s.a.func,onPageActive:s.a.func,initialPage:s.a.number,forcePage:s.a.number,disableInitialCallback:s.a.bool,containerClassName:s.a.string,pageClassName:s.a.string,pageLinkClassName:s.a.string,pageLabelBuilder:s.a.func,activeClassName:s.a.string,activeLinkClassName:s.a.string,previousClassName:s.a.string,nextClassName:s.a.string,previousLinkClassName:s.a.string,nextLinkClassName:s.a.string,disabledClassName:s.a.string,breakClassName:s.a.string,breakLinkClassName:s.a.string,extraAriaContext:s.a.string,ariaLabelBuilder:s.a.func,eventListener:s.a.string}),x(O,"defaultProps",{pageCount:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(e){return e},eventListener:"onClick"}),function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var r=void 0!==n?n:t;if(r)if("function"!=typeof r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=void 0;try{o=r[i]}catch(e){continue}e.register(o,i,"/home/adele/workspace/react-paginate/react_components/PaginationBoxView.js")}}else e.register(r,"module.exports","/home/adele/workspace/react-paginate/react_components/PaginationBoxView.js")}}(),n.default=O,function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var r=void 0!==n?n:t;if(r)if("function"!=typeof r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=void 0;try{o=r[i]}catch(e){continue}e.register(o,i,"/home/adele/workspace/react-paginate/react_components/index.js")}}else e.register(r,"module.exports","/home/adele/workspace/react-paginate/react_components/index.js")}}()}]))}).call(this,n(40))},function(e,t,n){"use strict";e.exports=i;var r=n(362);function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o=4294967296,a=1/o,s="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function u(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function l(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function c(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function f(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function _(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function w(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function x(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=_(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=x(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=_(this.buf,this.pos)+_(this.buf,this.pos+4)*o;return this.pos+=8,e},readSFixed64:function(){var e=_(this.buf,this.pos)+x(this.buf,this.pos+4)*o;return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return l(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&s?function(e,t,n){return s.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){var r="",i=t;for(;i<n;){var o,a,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128===(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var n=u(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),w(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),w(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),w(this.buf,-1&e,this.pos),w(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),w(this.buf,-1&e,this.pos),w(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&c(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,b,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(93),i=n(95);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(){var e=Object(i.b)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function u(e){var t,n=s(),i=o(e=Array.isArray(e)?e:[e]);try{var a=function(){var e=t.value,i=Object(r.b)(e);n.find((function(e){return i===e}))||n.unshift(i)};for(i.s();!(t=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}}function l(){return s()}},function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,u,l,c,d,p,m=t&&t.length,v=m?t[0]*n:e.length,y=i(e,0,v,n,!0),b=[];if(!y||y.next===y.prev)return b;if(m&&(y=function(e,t,n,r){var a,s,u,l=[];for(a=0,s=t.length;a<s;a++)(u=i(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r,!1))===u.next&&(u.steiner=!0),l.push(g(u));for(l.sort(f),a=0;a<l.length;a++)h(l[a],n),n=o(n,n.next);return n}(e,t,y,n)),e.length>80*n){r=u=e[0],s=l=e[1];for(var _=n;_<v;_+=n)(c=e[_])<r&&(r=c),(d=e[_+1])<s&&(s=d),c>u&&(u=c),d>l&&(l=d);p=0!==(p=Math.max(u-r,l-s))?1/p:0}return a(y,b,n,r,s,p),b}function i(e,t,n,r,i){var o,a;if(i===A(e,t,n,r)>0)for(o=t;o<n;o+=r)a=S(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=S(o,e[o],e[o+1],a);return a&&b(a,a.next)&&(E(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(E(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,f,h){if(e){!h&&f&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=p(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,f);for(var d,g,m=e;e.prev!==e.next;)if(d=e.prev,g=e.next,f?u(e,r,i,f):s(e))t.push(d.i/n),t.push(e.i/n),t.push(g.i/n),E(e),e=g.next,m=g.next;else if((e=g)===m){h?1===h?a(e=l(o(e),t,n),t,n,r,i,f,2):2===h&&c(e,t,n,r,i,f):a(o(e),t,n,r,i,f,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(y(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(m(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,n,r){var i=e.prev,o=e,a=e.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=p(s,u,t,n,r),h=p(l,c,t,n,r),d=e.prevZ,g=e.nextZ;d&&d.z>=f&&g&&g.z<=h;){if(d!==e.prev&&d!==e.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,g!==e.prev&&g!==e.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=h;){if(g!==e.prev&&g!==e.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function l(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!b(i,a)&&_(i,r,r.next,a)&&O(i,a)&&O(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),E(r),E(r.next),r=e=a),r=r.next}while(r!==e);return o(r)}function c(e,t,n,r,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var c=k(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,t,n,r,i,s),void a(c,t,n,r,i,s)}l=l.next}u=u.next}while(u!==e)}function f(e,t){return e.x-t.x}function h(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&m(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),O(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&d(n,r)))&&(n=r,h=u)),r=r.next}while(r!==l);return n}(e,t)){var n=k(t,e);o(t,t.next),o(n,n.next)}}function d(e,t){return y(e.prev,e,t.prev)<0&&y(t.next,e,e.next)<0}function p(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function g(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function m(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&_(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(O(e,t)&&O(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(y(e.prev,e,t.prev)||y(e,t.prev,t))||b(e,t)&&y(e.prev,e,e.next)>0&&y(t.prev,t,t.next)>0)}function y(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function b(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,n,r){var i=x(y(e,t,n)),o=x(y(e,t,r)),a=x(y(n,r,e)),s=x(y(n,r,t));return i!==o&&a!==s||(!(0!==i||!w(e,n,t))||(!(0!==o||!w(e,r,t))||(!(0!==a||!w(n,e,r))||!(0!==s||!w(n,t,r)))))}function w(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function x(e){return e>0?1:e<0?-1:0}function O(e,t){return y(e.prev,e,e.next)<0?y(e,t,e.next)>=0&&y(e,e.prev,t)>=0:y(e,t,e.prev)<0||y(e,e.next,t)<0}function k(e,t){var n=new C(e.i,e.x,e.y),r=new C(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S(e,t,n,r){var i=new C(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,e.exports.default=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(A(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(A(e,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((e[h]-e[p])*(e[d+1]-e[h+1])-(e[h]-e[d])*(e[p+1]-e[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(34),i={};function o(e,t){var n;i[e]=!0,void 0!==t&&(n=t,r.global.console&&r.global.console.error&&r.global.console.error(n))}var a=function e(t){var n=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(var r=0;r<this.attribs.length;r++){var i=new e.VertexAttrib(n);this.attribs[r]=i}this.maxAttrib=0};(a.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var s=function(e){var t=this;this.gl=e,function(e){var t=e.getError;e.getError=function(){var n;do{0!==(n=t.apply(e))&&(i[n]=!0)}while(0!==n);for(n in i)if(i[n])return delete i[n],parseInt(n,10);return 0}}(e);var n=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:n.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);var i=r.attribs[e];return i.enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);var i=r.attribs[e];return i.enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,r){switch(e){case 34962:t.currentArrayBuffer=r;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,r){var i=t.currentVertexArrayObject,o=i.attribs[e];switch(r){case 34975:return o.buffer;case 34338:return o.enabled;case 34339:return o.size;case 34340:return o.stride;case 34341:return o.type;case 34922:return o.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,r,i,o,a,s){var u=t.currentVertexArrayObject;u.maxAttrib=Math.max(u.maxAttrib,e);var l=u.attribs[e];return l.buffer=t.currentArrayBuffer,l.size=r,l.type=i,l.normalized=o,l.stride=a,l.offset=s,l.recache(),n.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(function(){var e;e="OESVertexArrayObject emulation library context restored",r.global.console&&r.global.console.log&&r.global.console.log(e),t.reset_()}),!0),this.reset_()};function u(e){if("function"!==typeof e.createVertexArray){var t=e.getSupportedExtensions;e.getSupportedExtensions=function(){var e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};var n=e.getExtension;e.getExtension=function(t){var r=n.call(this,t);return r||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new s(this)),this.__OESVertexArrayObject))}}}s.prototype.VERTEX_ARRAY_BINDING_OES=34229,s.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;var t=this.gl;this.maxVertexAttribs=t.getParameter(34921),this.defaultVertexArrayObject=new a(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},s.prototype.createVertexArrayOES=function(){var e=new a(this);return this.vertexArrayObjects.push(e),e},s.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},s.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof a&&e.hasBeenBound&&e.ext===this)},s.prototype.bindVertexArrayOES=function(e){var t=this.gl;if(!e||e.isAlive){var n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(r!==i){r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(t,34963,i.elementArrayBuffer);for(var a=this.currentArrayBuffer,s=Math.max(r?r.maxAttrib:0,i.maxAttrib),u=0;u<=s;u++){var l=i.attribs[u],c=r?r.attribs[u]:null;if(r&&l.enabled===c.enabled||(l.enabled?n.enableVertexAttribArray.call(t,u):n.disableVertexAttribArray.call(t,u)),l.enabled){var f=!1;r&&l.buffer===c.buffer||(a!==l.buffer&&(n.bindBuffer.call(t,34962,l.buffer),a=l.buffer),f=!0),(f||l.cached!==c.cached)&&n.vertexAttribPointer.call(t,u,l.size,l.type,l.normalized,l.stride,l.offset)}}this.currentArrayBuffer!==a&&n.bindBuffer.call(t,34962,this.currentArrayBuffer)}}else o(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")}},function(e,t,n){e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var a=function(e){return n[Object.prototype.toString.call(e)]||"object"},s=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==a(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},u=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==a(e[t])?e[t].toLowerCase():null},l=Math.PI,c={clip_rgb:t,limit:e,type:a,unpack:s,last:u,PI:l,TWOPI:2*l,PITHIRD:l/3,DEG2RAD:l/180,RAD2DEG:180/l},f={format:{},autodetect:[]},h=c.last,d=c.clip_rgb,p=c.type,g=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===p(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=h(e),i=!1;if(!r){i=!0,f.sorted||(f.autodetect=f.autodetect.sort((function(e,t){return t.p-e.p})),f.sorted=!0);for(var o=0,a=f.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,e))break}}if(!f.format[r])throw new Error("unknown format: "+e);var u=f.format[r].apply(null,i?e:e.slice(0,-1));n._rgb=d(u),3===n._rgb.length&&n._rgb.push(1)};g.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var m=g,v=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(e.Color,[null].concat(t)))};v.Color=m,v.version="2.1.1";var y=v,b=c.unpack,_=Math.max,w=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=b(e,"rgb"),r=n[0],i=n[1],o=n[2],a=1-_(r/=255,_(i/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-i-a)*s,(1-o-a)*s,a]},x=c.unpack,O=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=x(e,"cmyk"))[0],r=e[1],i=e[2],o=e[3],a=e.length>4?e[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},k=c.unpack,S=c.type;m.prototype.cmyk=function(){return w(this._rgb)},y.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["cmyk"])))},f.format.cmyk=O,f.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=k(e,"cmyk"),"array"===S(e)&&4===e.length)return"cmyk"}});var E=c.unpack,C=c.last,A=function(e){return Math.round(100*e)/100},P=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=E(e,"hsla"),r=C(e)||"lsa";return n[0]=A(n[0]||0),n[1]=A(100*n[1])+"%",n[2]=A(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},j=c.unpack,T=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=j(e,"rgba"))[0],r=e[1],i=e[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),u=Math.max(n,r,i),l=(u+s)/2;return u===s?(o=0,a=Number.NaN):o=l<.5?(u-s)/(u+s):(u-s)/(2-u-s),n==u?a=(r-i)/(u-s):r==u?a=2+(i-n)/(u-s):i==u&&(a=4+(n-r)/(u-s)),(a*=60)<0&&(a+=360),e.length>3&&void 0!==e[3]?[a,o,l,e[3]]:[a,o,l]},M=c.unpack,R=c.last,L=Math.round,I=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=M(e,"rgba"),r=R(e)||"rgb";return"hsl"==r.substr(0,3)?P(T(n),r):(n[0]=L(n[0]),n[1]=L(n[1]),n[2]=L(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},D=c.unpack,z=Math.round,F=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,i,o,a=(t=D(t,"hsl"))[0],s=t[1],u=t[2];if(0===s)r=i=o=255*u;else{var l=[0,0,0],c=[0,0,0],f=u<.5?u*(1+s):u+s-u*s,h=2*u-f,d=a/360;l[0]=d+1/3,l[1]=d,l[2]=d-1/3;for(var p=0;p<3;p++)l[p]<0&&(l[p]+=1),l[p]>1&&(l[p]-=1),6*l[p]<1?c[p]=h+6*(f-h)*l[p]:2*l[p]<1?c[p]=f:3*l[p]<2?c[p]=h+(f-h)*(2/3-l[p])*6:c[p]=h;r=(e=[z(255*c[0]),z(255*c[1]),z(255*c[2])])[0],i=e[1],o=e[2]}return t.length>3?[r,i,o,t[3]]:[r,i,o,1]},N=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,B=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,V=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,$=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,U=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,W=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,H=Math.round,G=function(e){var t;if(e=e.toLowerCase().trim(),f.format.named)try{return f.format.named(e)}catch(g){}if(t=e.match(N)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(B)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(V)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=H(2.55*a[s]);return a[3]=1,a}if(t=e.match($)){for(var u=t.slice(1,5),l=0;l<3;l++)u[l]=H(2.55*u[l]);return u[3]=+u[3],u}if(t=e.match(U)){var c=t.slice(1,4);c[1]*=.01,c[2]*=.01;var h=F(c);return h[3]=1,h}if(t=e.match(W)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var p=F(d);return p[3]=+t[4],p}};G.test=function(e){return N.test(e)||B.test(e)||V.test(e)||$.test(e)||U.test(e)||W.test(e)};var q=G,X=c.type;m.prototype.css=function(e){return I(this._rgb,e)},y.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["css"])))},f.format.css=q,f.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===X(e)&&q.test(e))return"css"}});var Z=c.unpack;f.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Z(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},y.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["gl"])))},m.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var K=c.unpack,Y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=K(e,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),u=Math.max(i,o,a),l=u-s,c=100*l/255,f=s/(255-l)*100;return 0===l?n=Number.NaN:(i===u&&(n=(o-a)/l),o===u&&(n=2+(a-i)/l),a===u&&(n=4+(i-o)/l),(n*=60)<0&&(n+=360)),[n,c,f]},J=c.unpack,Q=Math.floor,ee=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var u,l,c,f=(a=J(a,"hcg"))[0],h=a[1],d=a[2];d*=255;var p=255*h;if(0===h)u=l=c=d;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var g=Q(f/=60),m=f-g,v=d*(1-h),y=v+p*(1-m),b=v+p*m,_=v+p;switch(g){case 0:u=(e=[_,b,v])[0],l=e[1],c=e[2];break;case 1:u=(t=[y,_,v])[0],l=t[1],c=t[2];break;case 2:u=(n=[v,_,b])[0],l=n[1],c=n[2];break;case 3:u=(r=[v,y,_])[0],l=r[1],c=r[2];break;case 4:u=(i=[b,v,_])[0],l=i[1],c=i[2];break;case 5:u=(o=[_,v,y])[0],l=o[1],c=o[2]}}return[u,l,c,a.length>3?a[3]:1]},te=c.unpack,ne=c.type;m.prototype.hcg=function(){return Y(this._rgb)},y.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["hcg"])))},f.format.hcg=ee,f.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=te(e,"hcg"),"array"===ne(e)&&3===e.length)return"hcg"}});var re=c.unpack,ie=c.last,oe=Math.round,ae=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=re(e,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=ie(e)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var u="000000"+((r=oe(r))<<16|(i=oe(i))<<8|(o=oe(o))).toString(16);u=u.substr(u.length-6);var l="0"+oe(255*a).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return"#"+u+l;case"argb":return"#"+l+u;default:return"#"+u}},se=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ue=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,le=function(e){if(e.match(se)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(ue)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},ce=c.type;m.prototype.hex=function(e){return ae(this._rgb,e)},y.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["hex"])))},f.format.hex=le,f.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===ce(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var fe=c.unpack,he=c.TWOPI,de=Math.min,pe=Math.sqrt,ge=Math.acos,me=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=fe(e,"rgb"),i=r[0],o=r[1],a=r[2],s=de(i/=255,o/=255,a/=255),u=(i+o+a)/3,l=u>0?1-s/u:0;return 0===l?n=NaN:(n=(i-o+(i-a))/2,n/=pe((i-o)*(i-o)+(i-a)*(o-a)),n=ge(n),a>o&&(n=he-n),n/=he),[360*n,l,u]},ve=c.unpack,ye=c.limit,be=c.TWOPI,_e=c.PITHIRD,we=Math.cos,xe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=ve(e,"hsi"))[0],a=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*we(be*o)/we(_e-be*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*we(be*(o-=1/3))/we(_e-be*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*we(be*(o-=2/3))/we(_e-be*o))/3)),[255*(n=ye(s*n*3)),255*(r=ye(s*r*3)),255*(i=ye(s*i*3)),e.length>3?e[3]:1]},Oe=c.unpack,ke=c.type;m.prototype.hsi=function(){return me(this._rgb)},y.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["hsi"])))},f.format.hsi=xe,f.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Oe(e,"hsi"),"array"===ke(e)&&3===e.length)return"hsi"}});var Se=c.unpack,Ee=c.type;m.prototype.hsl=function(){return T(this._rgb)},y.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["hsl"])))},f.format.hsl=F,f.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Se(e,"hsl"),"array"===Ee(e)&&3===e.length)return"hsl"}});var Ce=c.unpack,Ae=Math.min,Pe=Math.max,je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=Ce(e,"rgb"))[0],a=e[1],s=e[2],u=Ae(o,a,s),l=Pe(o,a,s),c=l-u;return i=l/255,0===l?(n=Number.NaN,r=0):(r=c/l,o===l&&(n=(a-s)/c),a===l&&(n=2+(s-o)/c),s===l&&(n=4+(o-a)/c),(n*=60)<0&&(n+=360)),[n,r,i]},Te=c.unpack,Me=Math.floor,Re=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var u,l,c,f=(a=Te(a,"hsv"))[0],h=a[1],d=a[2];if(d*=255,0===h)u=l=c=d;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var p=Me(f/=60),g=f-p,m=d*(1-h),v=d*(1-h*g),y=d*(1-h*(1-g));switch(p){case 0:u=(e=[d,y,m])[0],l=e[1],c=e[2];break;case 1:u=(t=[v,d,m])[0],l=t[1],c=t[2];break;case 2:u=(n=[m,d,y])[0],l=n[1],c=n[2];break;case 3:u=(r=[m,v,d])[0],l=r[1],c=r[2];break;case 4:u=(i=[y,m,d])[0],l=i[1],c=i[2];break;case 5:u=(o=[d,m,v])[0],l=o[1],c=o[2]}}return[u,l,c,a.length>3?a[3]:1]},Le=c.unpack,Ie=c.type;m.prototype.hsv=function(){return je(this._rgb)},y.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["hsv"])))},f.format.hsv=Re,f.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Le(e,"hsv"),"array"===Ie(e)&&3===e.length)return"hsv"}});var De={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ze=c.unpack,Fe=Math.pow,Ne=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ze(e,"rgb"),r=n[0],i=n[1],o=n[2],a=$e(r,i,o),s=a[0],u=a[1],l=116*u-16;return[l<0?0:l,500*(s-u),200*(u-a[2])]},Be=function(e){return(e/=255)<=.04045?e/12.92:Fe((e+.055)/1.055,2.4)},Ve=function(e){return e>De.t3?Fe(e,1/3):e/De.t2+De.t0},$e=function(e,t,n){return e=Be(e),t=Be(t),n=Be(n),[Ve((.4124564*e+.3575761*t+.1804375*n)/De.Xn),Ve((.2126729*e+.7151522*t+.072175*n)/De.Yn),Ve((.0193339*e+.119192*t+.9503041*n)/De.Zn)]},Ue=Ne,We=c.unpack,He=Math.pow,Ge=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=We(e,"lab"))[0],a=e[1],s=e[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=De.Yn*Xe(r),n=De.Xn*Xe(n),i=De.Zn*Xe(i),[qe(3.2404542*n-1.5371385*r-.4985314*i),qe(-.969266*n+1.8760108*r+.041556*i),qe(.0556434*n-.2040259*r+1.0572252*i),e.length>3?e[3]:1]},qe=function(e){return 255*(e<=.00304?12.92*e:1.055*He(e,1/2.4)-.055)},Xe=function(e){return e>De.t1?e*e*e:De.t2*(e-De.t0)},Ze=Ge,Ke=c.unpack,Ye=c.type;m.prototype.lab=function(){return Ue(this._rgb)},y.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["lab"])))},f.format.lab=Ze,f.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ke(e,"lab"),"array"===Ye(e)&&3===e.length)return"lab"}});var Je=c.unpack,Qe=c.RAD2DEG,et=Math.sqrt,tt=Math.atan2,nt=Math.round,rt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Je(e,"lab"),r=n[0],i=n[1],o=n[2],a=et(i*i+o*o),s=(tt(o,i)*Qe+360)%360;return 0===nt(1e4*a)&&(s=Number.NaN),[r,a,s]},it=c.unpack,ot=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=it(e,"rgb"),r=n[0],i=n[1],o=n[2],a=Ue(r,i,o),s=a[0],u=a[1],l=a[2];return rt(s,u,l)},at=c.unpack,st=c.DEG2RAD,ut=Math.sin,lt=Math.cos,ct=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=at(e,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,lt(o*=st)*i,ut(o)*i]},ft=c.unpack,ht=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=ft(e,"lch"))[0],r=e[1],i=e[2],o=ct(n,r,i),a=o[0],s=o[1],u=o[2],l=Ze(a,s,u);return[l[0],l[1],l[2],e.length>3?e[3]:1]},dt=c.unpack,pt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=dt(e,"hcl").reverse();return ht.apply(void 0,n)},gt=c.unpack,mt=c.type;m.prototype.lch=function(){return ot(this._rgb)},m.prototype.hcl=function(){return ot(this._rgb).reverse()},y.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["lch"])))},y.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["hcl"])))},f.format.lch=ht,f.format.hcl=pt,["lch","hcl"].forEach((function(e){return f.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=gt(t,e),"array"===mt(t)&&3===t.length)return e}})}));var vt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},yt=c.type;m.prototype.name=function(){for(var e=ae(this._rgb,"rgb"),t=0,n=Object.keys(vt);t<n.length;t+=1){var r=n[t];if(vt[r]===e)return r.toLowerCase()}return e},f.format.named=function(e){if(e=e.toLowerCase(),vt[e])return le(vt[e]);throw new Error("unknown color name: "+e)},f.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===yt(e)&&vt[e.toLowerCase()])return"named"}});var bt=c.unpack,_t=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=bt(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},wt=c.type,xt=function(e){if("number"==wt(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Ot=c.type;m.prototype.num=function(){return _t(this._rgb)},y.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["num"])))},f.format.num=xt,f.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Ot(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var kt=c.unpack,St=c.type,Et=Math.round;m.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Et)},m.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:Et(t):t}))},y.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["rgb"])))},f.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=kt(e,"rgba");return void 0===n[3]&&(n[3]=1),n},f.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=kt(e,"rgba"),"array"===St(e)&&(3===e.length||4===e.length&&"number"==St(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var Ct=Math.log,At=function(e){var t,n,r,i=e/100;return i<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Ct(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*Ct(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*Ct(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Ct(n),r=255),[t,n,r,1]},Pt=c.unpack,jt=Math.round,Tt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=Pt(e,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,u=.4;s-a>u;){var l=At(n=.5*(s+a));l[2]/l[0]>=o/i?s=n:a=n}return jt(n)};m.prototype.temp=m.prototype.kelvin=m.prototype.temperature=function(){return Tt(this._rgb)},y.temp=y.kelvin=y.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m,[null].concat(e,["temp"])))},f.format.temp=f.format.kelvin=f.format.temperature=At;var Mt=c.type;m.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Mt(e)?t?(this._rgb[3]=e,this):new m([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},m.prototype.clipped=function(){return this._rgb._clipped||!1},m.prototype.darken=function(e){void 0===e&&(e=1);var t=this,n=t.lab();return n[0]-=De.Kn*e,new m(n,"lab").alpha(t.alpha(),!0)},m.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},m.prototype.darker=m.prototype.darken,m.prototype.brighter=m.prototype.brighten,m.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],i=this[n]();if(r){var o=n.indexOf(r);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var Rt=c.type,Lt=Math.pow,It=1e-7,Dt=20;m.prototype.luminance=function(e){if(void 0!==e&&"number"===Rt(e)){if(0===e)return new m([0,0,0,this._rgb[3]],"rgb");if(1===e)return new m([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n="rgb",r=Dt,i=function t(i,o){var a=i.interpolate(o,.5,n),s=a.luminance();return Math.abs(e-s)<It||!r--?a:s>e?t(i,a):t(a,o)},o=(t>e?i(new m([0,0,0]),this):i(this,new m([255,255,255]))).rgb();return new m(o.concat([this._rgb[3]]))}return zt.apply(void 0,this._rgb.slice(0,3))};var zt=function(e,t,n){return.2126*(e=Ft(e))+.7152*(t=Ft(t))+.0722*(n=Ft(n))},Ft=function(e){return(e/=255)<=.03928?e/12.92:Lt((e+.055)/1.055,2.4)},Nt={},Bt=c.type,Vt=function(e,t,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(Nt[o]||r.length||(o=Object.keys(Nt)[0]),!Nt[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Bt(e)&&(e=new m(e)),"object"!==Bt(t)&&(t=new m(t)),Nt[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};m.prototype.mix=m.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Vt.apply(void 0,[this,e,t].concat(n))},m.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new m([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},m.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,n=t.lch();return n[1]+=De.Kn*e,n[1]<0&&(n[1]=0),new m(n,"lch").alpha(t.alpha(),!0)},m.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var $t=c.type;m.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o);if(s>-1){if("string"==$t(t))switch(t.charAt(0)){case"+":case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else{if("number"!==$t(t))throw new Error("unsupported value for Color.set");a[s]=t}var u=new m(a,i);return n?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+o+" in mode "+i)}return a};var Ut=function(e,t,n){var r=e._rgb,i=t._rgb;return new m(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};Nt.rgb=Ut;var Wt=Math.sqrt,Ht=Math.pow,Gt=function(e,t,n){var r=e._rgb,i=r[0],o=r[1],a=r[2],s=t._rgb,u=s[0],l=s[1],c=s[2];return new m(Wt(Ht(i,2)*(1-n)+Ht(u,2)*n),Wt(Ht(o,2)*(1-n)+Ht(l,2)*n),Wt(Ht(a,2)*(1-n)+Ht(c,2)*n),"rgb")};Nt.lrgb=Gt;var qt=function(e,t,n){var r=e.lab(),i=t.lab();return new m(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};Nt.lab=qt;var Xt=function(e,t,n,r){var i,o,a,s,u,l,c,f,h,d,p,g;return"hsl"===r?(a=e.hsl(),s=t.hsl()):"hsv"===r?(a=e.hsv(),s=t.hsv()):"hcg"===r?(a=e.hcg(),s=t.hcg()):"hsi"===r?(a=e.hsi(),s=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",a=e.hcl(),s=t.hcl()),"h"===r.substr(0,1)&&(u=(i=a)[0],c=i[1],h=i[2],l=(o=s)[0],f=o[1],d=o[2]),isNaN(u)||isNaN(l)?isNaN(u)?isNaN(l)?g=Number.NaN:(g=l,1!=h&&0!=h||"hsv"==r||(p=f)):(g=u,1!=d&&0!=d||"hsv"==r||(p=c)):g=u+n*(l>u&&l-u>180?l-(u+360):l<u&&u-l>180?l+360-u:l-u),void 0===p&&(p=c+n*(f-c)),new m([g,p,h+n*(d-h)],r)},Zt=function(e,t,n){return Xt(e,t,n,"lch")};Nt.lch=Zt,Nt.hcl=Zt;var Kt=function(e,t,n){var r=e.num(),i=t.num();return new m(r+n*(i-r),"num")};Nt.num=Kt;var Yt=function(e,t,n){return Xt(e,t,n,"hcg")};Nt.hcg=Yt;var Jt=function(e,t,n){return Xt(e,t,n,"hsi")};Nt.hsi=Jt;var Qt=function(e,t,n){return Xt(e,t,n,"hsl")};Nt.hsl=Qt;var en=function(e,t,n){return Xt(e,t,n,"hsv")};Nt.hsv=en;var tn=c.clip_rgb,nn=Math.pow,rn=Math.sqrt,on=Math.PI,an=Math.cos,sn=Math.sin,un=Math.atan2,ln=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=i})),e=e.map((function(e){return new m(e)})),"lrgb"===t)return cn(e,n);for(var o=e.shift(),a=o.get(t),s=[],u=0,l=0,c=0;c<a.length;c++)if(a[c]=(a[c]||0)*n[0],s.push(isNaN(a[c])?0:n[0]),"h"===t.charAt(c)&&!isNaN(a[c])){var f=a[c]/180*on;u+=an(f)*n[0],l+=sn(f)*n[0]}var h=o.alpha()*n[0];e.forEach((function(e,r){var i=e.get(t);h+=e.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===t.charAt(o)){var c=i[o]/180*on;u+=an(c)*n[r+1],l+=sn(c)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var d=0;d<a.length;d++)if("h"===t.charAt(d)){for(var p=un(l/s[d],u/s[d])/on*180;p<0;)p+=360;for(;p>=360;)p-=360;a[d]=p}else a[d]=a[d]/s[d];return h/=r,new m(a,t).alpha(h>.99999?1:h,!0)},cn=function(e,t){for(var n=e.length,r=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],a=t[i]/n,s=o._rgb;r[0]+=nn(s[0],2)*a,r[1]+=nn(s[1],2)*a,r[2]+=nn(s[2],2)*a,r[3]+=s[3]*a}return r[0]=rn(r[0]),r[1]=rn(r[1]),r[2]=rn(r[2]),r[3]>.9999999&&(r[3]=1),new m(tn(r))},fn=c.type,hn=Math.pow,dn=function(e){var t="rgb",n=y("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,u=[],l=!1,c=0,f=1,h=!1,d={},p=!0,g=1,m=function(e){if((e=e||["#fff","#000"])&&"string"===fn(e)&&y.brewer&&y.brewer[e.toLowerCase()]&&(e=y.brewer[e.toLowerCase()]),"array"===fn(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=y(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return x(),u=e},v=function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0},b=function(e){return e},_=function(e){return e},w=function(e,r){var i,l;if(null==r&&(r=!1),isNaN(e)||null===e)return n;l=r?e:s&&s.length>2?v(e)/(s.length-2):f!==c?(e-c)/(f-c):1,l=_(l),r||(l=b(l)),1!==g&&(l=hn(l,g)),l=a[0]+l*(1-a[0]-a[1]),l=Math.min(1,Math.max(0,l));var h=Math.floor(1e4*l);if(p&&d[h])i=d[h];else{if("array"===fn(u))for(var m=0;m<o.length;m++){var w=o[m];if(l<=w){i=u[m];break}if(l>=w&&m===o.length-1){i=u[m];break}if(l>w&&l<o[m+1]){l=(l-w)/(o[m+1]-w),i=y.interpolate(u[m],u[m+1],l,t);break}}else"function"===fn(u)&&(i=u(l));p&&(d[h]=i)}return i},x=function(){return d={}};m(e);var O=function(e){var t=y(w(e));return l&&t[l]?t[l]():t};return O.classes=function(e){if(null!=e){if("array"===fn(e))s=e,i=[e[0],e[e.length-1]];else{var t=y.analyze(i);s=0===e?[t.min,t.max]:y.limits(t,"e",e)}return O}return s},O.domain=function(e){if(!arguments.length)return i;c=e[0],f=e[e.length-1],o=[];var t=u.length;if(e.length===t&&c!==f)for(var n=0,r=Array.from(e);n<r.length;n+=1){var a=r[n];o.push((a-c)/(f-c))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var l=e.map((function(t,n){return n/(e.length-1)})),h=e.map((function(e){return(e-c)/(f-c)}));h.every((function(e,t){return l[t]===e}))||(_=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=h[t+1];)t++;var n=(e-h[t])/(h[t+1]-h[t]);return l[t]+n*(l[t+1]-l[t])})}}return i=[c,f],O},O.mode=function(e){return arguments.length?(t=e,x(),O):t},O.range=function(e,t){return m(e,t),O},O.out=function(e){return l=e,O},O.spread=function(e){return arguments.length?(r=e,O):r},O.correctLightness=function(e){return null==e&&(e=!0),h=e,x(),b=h?function(e){for(var t=w(0,!0).lab()[0],n=w(1,!0).lab()[0],r=t>n,i=w(e,!0).lab()[0],o=t+(n-t)*e,a=i-o,s=0,u=1,l=20;Math.abs(a)>.01&&l-- >0;)r&&(a*=-1),a<0?(s=e,e+=.5*(u-e)):(u=e,e+=.5*(s-e)),i=w(e,!0).lab()[0],a=i-o;return e}:function(e){return e},O},O.padding=function(e){return null!=e?("number"===fn(e)&&(e=[e,e]),a=e,O):a},O.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===t)r=[O(.5)];else if(t>1){var o=i[0],a=i[1]-o;r=pn(0,t,!1).map((function(e){return O(o+e/(t-1)*a)}))}else{e=[];var l=[];if(s&&s.length>2)for(var c=1,f=s.length,h=1<=f;h?c<f:c>f;h?c++:c--)l.push(.5*(s[c-1]+s[c]));else l=i;r=l.map((function(e){return O(e)}))}return y[n]&&(r=r.map((function(e){return e[n]()}))),r},O.cache=function(e){return null!=e?(p=e,O):p},O.gamma=function(e){return null!=e?(g=e,O):g},O.nodata=function(e){return null!=e?(n=y(e),O):n},O};function pn(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,a=e;i?a<o:a>o;i?a++:a--)r.push(a);return r}var gn=function e(t){var n,r,i,o,a,s,u;if(2===(t=t.map((function(e){return new m(e)}))).length)n=t.map((function(e){return e.lab()})),a=n[0],s=n[1],o=function(e){var t=[0,1,2].map((function(t){return a[t]+e*(s[t]-a[t])}));return new m(t,"lab")};else if(3===t.length)r=t.map((function(e){return e.lab()})),a=r[0],s=r[1],u=r[2],o=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*a[t]+2*(1-e)*e*s[t]+e*e*u[t]}));return new m(t,"lab")};else if(4===t.length){var l;i=t.map((function(e){return e.lab()})),a=i[0],s=i[1],u=i[2],l=i[3],o=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*a[t]+3*(1-e)*(1-e)*e*s[t]+3*(1-e)*e*e*u[t]+e*e*e*l[t]}));return new m(t,"lab")}}else if(5===t.length){var c=e(t.slice(0,3)),f=e(t.slice(2,5));o=function(e){return e<.5?c(2*e):f(2*(e-.5))}}return o},mn=function(e){var t=gn(e);return t.scale=function(){return dn(t)},t},vn=function e(t,n,r){if(!e[r])throw new Error("unknown blend mode "+r);return e[r](t,n)},yn=function(e){return function(t,n){var r=y(n).rgb(),i=y(t).rgb();return y.rgb(e(r,i))}},bn=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}},_n=function(e){return e},wn=function(e,t){return e*t/255},xn=function(e,t){return e>t?t:e},On=function(e,t){return e>t?e:t},kn=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},Sn=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},En=function(e,t){return 255*(1-(1-t/255)/(e/255))},Cn=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};vn.normal=yn(bn(_n)),vn.multiply=yn(bn(wn)),vn.screen=yn(bn(kn)),vn.overlay=yn(bn(Sn)),vn.darken=yn(bn(xn)),vn.lighten=yn(bn(On)),vn.dodge=yn(bn(Cn)),vn.burn=yn(bn(En));for(var An=vn,Pn=c.type,jn=c.clip_rgb,Tn=c.TWOPI,Mn=Math.pow,Rn=Math.sin,Ln=Math.cos,In=function(e,t,n,r,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===Pn(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var u=Tn*((e+120)/360+t*s),l=Mn(i[0]+o*s,r),c=(0!==a?n[0]+s*a:n)*l*(1-l)/2,f=Ln(u),h=Rn(u);return y(jn([255*(l+c*(-.14861*f+1.78277*h)),255*(l+c*(-.29227*f-.90649*h)),255*(l+c*(1.97294*f)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===Pn(n=e)?0===(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(e){return null==e?i:("array"===Pn(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),s)},s.scale=function(){return y.scale(s)},s.hue(n),s},Dn="0123456789abcdef",zn=Math.floor,Fn=Math.random,Nn=function(){for(var e="#",t=0;t<6;t++)e+=Dn.charAt(zn(16*Fn()));return new m(e,"hex")},Bn=Math.log,Vn=Math.pow,$n=Math.floor,Un=Math.abs,Wn=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===a(e)&&(e=e[t]),void 0===e||null===e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return Hn(n,e,t)},n},Hn=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==a(e)&&(e=Wn(e));var r=e.min,i=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,i];var s=[];if("c"===t.substr(0,1)&&(s.push(r),s.push(i)),"e"===t.substr(0,1)){s.push(r);for(var u=1;u<n;u++)s.push(r+u/n*(i-r));s.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Bn(r),c=Math.LOG10E*Bn(i);s.push(r);for(var f=1;f<n;f++)s.push(Vn(10,l+f/n*(c-l)));s.push(i)}else if("q"===t.substr(0,1)){s.push(r);for(var h=1;h<n;h++){var d=(o.length-1)*h/n,p=$n(d);if(p===d)s.push(o[p]);else{var g=d-p;s.push(o[p]*(1-g)+o[p+1]*g)}}s.push(i)}else if("k"===t.substr(0,1)){var m,v=o.length,y=new Array(v),b=new Array(n),_=!0,w=0,x=null;(x=[]).push(r);for(var O=1;O<n;O++)x.push(r+O/n*(i-r));for(x.push(i);_;){for(var k=0;k<n;k++)b[k]=0;for(var S=0;S<v;S++)for(var E=o[S],C=Number.MAX_VALUE,A=void 0,P=0;P<n;P++){var j=Un(x[P]-E);j<C&&(C=j,A=P),b[A]++,y[S]=A}for(var T=new Array(n),M=0;M<n;M++)T[M]=null;for(var R=0;R<v;R++)null===T[m=y[R]]?T[m]=o[R]:T[m]+=o[R];for(var L=0;L<n;L++)T[L]*=1/b[L];_=!1;for(var I=0;I<n;I++)if(T[I]!==x[I]){_=!0;break}x=T,++w>200&&(_=!1)}for(var D={},z=0;z<n;z++)D[z]=[];for(var F=0;F<v;F++)D[m=y[F]].push(o[F]);for(var N=[],B=0;B<n;B++)N.push(D[B][0]),N.push(D[B][D[B].length-1]);N=N.sort((function(e,t){return e-t})),s.push(N[0]);for(var V=1;V<N.length;V+=2){var $=N[V];isNaN($)||-1!==s.indexOf($)||s.push($)}}return s},Gn={analyze:Wn,limits:Hn},qn=function(e,t){e=new m(e),t=new m(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Xn=Math.sqrt,Zn=Math.atan2,Kn=Math.abs,Yn=Math.cos,Jn=Math.PI,Qn=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1),e=new m(e),t=new m(t);for(var i=Array.from(e.lab()),o=i[0],a=i[1],s=i[2],u=Array.from(t.lab()),l=u[0],c=u[1],f=u[2],h=Xn(a*a+s*s),d=Xn(c*c+f*f),p=o<16?.511:.040975*o/(1+.01765*o),g=.0638*h/(1+.0131*h)+.638,v=h<1e-6?0:180*Zn(s,a)/Jn;v<0;)v+=360;for(;v>=360;)v-=360;var y=v>=164&&v<=345?.56+Kn(.2*Yn(Jn*(v+168)/180)):.36+Kn(.4*Yn(Jn*(v+35)/180)),b=h*h*h*h,_=Xn(b/(b+1900)),w=g*(_*y+1-_),x=h-d,O=a-c,k=s-f,S=(o-l)/(n*p),E=x/(r*g);return Xn(S*S+E*E+(O*O+k*k-x*x)/(w*w))},er=function(e,t,n){void 0===n&&(n="lab"),e=new m(e),t=new m(t);var r=e.get(n),i=t.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},tr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(m,[null].concat(e))),!0}catch(n){return!1}},nr={cool:function(){return dn([y.hsl(180,1,.9),y.hsl(250,.7,.4)])},hot:function(){return dn(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}},rr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ir=0,or=Object.keys(rr);ir<or.length;ir+=1){var ar=or[ir];rr[ar.toLowerCase()]=rr[ar]}var sr=rr;return y.average=ln,y.bezier=mn,y.blend=An,y.cubehelix=In,y.mix=y.interpolate=Vt,y.random=Nn,y.scale=dn,y.analyze=Gn.analyze,y.contrast=qn,y.deltaE=Qn,y.distance=er,y.limits=Gn.limits,y.valid=tr,y.scales=nr,y.colors=vt,y.brewer=sr,y}()},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var r=n(46),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(205)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,u=void 0===s?24:s,l=e.style,c=void 0===l?{}:l,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:u},c)},f),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,u=void 0===s?24:s,l=e.style,c=void 0===l?{}:l,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:u},c)},f),a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,n){var r=n(277),i=n(505),o=n(509),a=n(511),s=n(512),u=n(514),l=Date.prototype.getTime;function c(e,t,n){var d=n||{};return!!(d.strict?o(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?d.strict?o(e,t):e==t:function(e,t,n){var o,d;if(typeof e!==typeof t)return!1;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var p=a(e),g=a(t);if(p!==g)return!1;if(p||g)return e.source===t.source&&s(e)===s(t);if(u(e)&&u(t))return l.call(e)===l.call(t);var m=h(e),v=h(t);if(m!==v)return!1;if(m||v){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}if(typeof e!==typeof t)return!1;try{var y=r(e),b=r(t)}catch(_){return!1}if(y.length!==b.length)return!1;for(y.sort(),b.sort(),o=y.length-1;o>=0;o--)if(y[o]!=b[o])return!1;for(o=y.length-1;o>=0;o--)if(!c(e[d=y[o]],t[d],n))return!1;return!0}(e,t,d))}function f(e){return null===e||void 0===e}function h(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(286)),i=s(n(516)),o=s(n(519)),a=s(n(287));function s(e){return e&&e.__esModule?e:{default:e}}n(520),t.default={Modal:r.default,ModalContainer:i.default,ModalLink:o.default,ModalRoute:a.default},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,i,o=n(10),a=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},s=Object(o.c)(r||(r=a(["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v5.0.1 | 20191019\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"],["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v5.0.1 | 20191019\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"])));Object(o.b)(i||(i=a(["",""],["",""])),s);t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return ho}));var r=n(0),i=n.n(r),o=n(16),a=n.n(o),s=function(e,t,n,r,i){var o=i.clientWidth,a=i.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(i.getBoundingClientRect().left+window.pageXOffset),c=u-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=c<0?0:c>a?1:Math.round(100*c/a)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}else{var h=void 0;if(r!==(h=l<0?0:l>o?1:Math.round(100*l/o)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}return null},u={},l=function(e,t,n,r){var i=e+"-"+t+"-"+n+(r?"-server":"");if(u[i])return u[i];var o=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n,r);return u[i]=o,o},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){var t=e.white,n=e.grey,o=e.size,s=e.renderers,u=e.borderRadius,f=e.boxShadow,h=e.children,d=a()({default:{grid:{borderRadius:u,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+l(t,n,o,s.canvas)+") center left"}}});return Object(r.isValidElement)(h)?i.a.cloneElement(h,c({},h.props,{style:c({},h.props.style,d.grid)})):i.a.createElement("div",{style:d.grid})};f.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var h=f,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=function(e){function t(){var e,n,r;g(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=s(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},m(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=a()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:d({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.a.createElement("div",{style:n.alpha},i.a.createElement("div",{style:n.checkboard},i.a.createElement(h,{renderers:this.props.renderers})),i.a.createElement("div",{style:n.gradient}),i.a.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement("div",{style:n.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement("div",{style:n.slider}))))}}]),t}(r.PureComponent||r.Component),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=[38,40],_=1,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,b.indexOf(t)>-1)){var i=n.getArrowOffset(),o=38===e.keyCode?r+i:r-i;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+_++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=a()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return i.a.createElement("div",{style:t.wrap},i.a.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?i.a.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(r.PureComponent||r.Component),x=function(e,t,n,r){var i=r.clientWidth,o=r.clientHeight,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var c=void 0;if(l<0)c=359;else if(l>o)c=0;else{c=360*(-100*l/o+100)/100}if(n.h!==c)return{h:c,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>i)f=359;else{f=360*(100*u/i)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var E=function(e){function t(){var e,n,r;k(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=x(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},S(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),O(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=a()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return i.a.createElement("div",{style:r.hue},i.a.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),i.a.createElement("div",{style:r.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement("div",{style:r.slider}))))}}]),t}(r.PureComponent||r.Component),C=n(1),A=n.n(C);var P=function(){this.__data__=[],this.size=0};var j=function(e,t){return e===t||e!==e&&t!==t};var T=function(e,t){for(var n=e.length;n--;)if(j(e[n][0],t))return n;return-1},M=Array.prototype.splice;var R=function(e){var t=this.__data__,n=T(t,e);return!(n<0)&&(n==t.length-1?t.pop():M.call(t,n,1),--this.size,!0)};var L=function(e){var t=this.__data__,n=T(t,e);return n<0?void 0:t[n][1]};var I=function(e){return T(this.__data__,e)>-1};var D=function(e,t){var n=this.__data__,r=T(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}z.prototype.clear=P,z.prototype.delete=R,z.prototype.get=L,z.prototype.has=I,z.prototype.set=D;var F=z;var N=function(){this.__data__=new F,this.size=0};var B=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var V=function(e){return this.__data__.get(e)};var $=function(e){return this.__data__.has(e)},U=n(46),W=U.a.Symbol,H=Object.prototype,G=H.hasOwnProperty,q=H.toString,X=W?W.toStringTag:void 0;var Z=function(e){var t=G.call(e,X),n=e[X];try{e[X]=void 0;var r=!0}catch(o){}var i=q.call(e);return r&&(t?e[X]=n:delete e[X]),i},K=Object.prototype.toString;var Y=function(e){return K.call(e)},J=W?W.toStringTag:void 0;var Q=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?Z(e):Y(e)};var ee=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var te=function(e){if(!ee(e))return!1;var t=Q(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ne=U.a["__core-js_shared__"],re=function(){var e=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ie=function(e){return!!re&&re in e},oe=Function.prototype.toString;var ae=function(e){if(null!=e){try{return oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""},se=/^\[object .+?Constructor\]$/,ue=Function.prototype,le=Object.prototype,ce=ue.toString,fe=le.hasOwnProperty,he=RegExp("^"+ce.call(fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var de=function(e){return!(!ee(e)||ie(e))&&(te(e)?he:se).test(ae(e))};var pe=function(e,t){return null==e?void 0:e[t]};var ge=function(e,t){var n=pe(e,t);return de(n)?n:void 0},me=ge(U.a,"Map"),ve=ge(Object,"create");var ye=function(){this.__data__=ve?ve(null):{},this.size=0};var be=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e=Object.prototype.hasOwnProperty;var we=function(e){var t=this.__data__;if(ve){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return _e.call(t,e)?t[e]:void 0},xe=Object.prototype.hasOwnProperty;var Oe=function(e){var t=this.__data__;return ve?void 0!==t[e]:xe.call(t,e)};var ke=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ve&&void 0===t?"__lodash_hash_undefined__":t,this};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=ye,Se.prototype.delete=be,Se.prototype.get=we,Se.prototype.has=Oe,Se.prototype.set=ke;var Ee=Se;var Ce=function(){this.size=0,this.__data__={hash:new Ee,map:new(me||F),string:new Ee}};var Ae=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Pe=function(e,t){var n=e.__data__;return Ae(t)?n["string"==typeof t?"string":"hash"]:n.map};var je=function(e){var t=Pe(this,e).delete(e);return this.size-=t?1:0,t};var Te=function(e){return Pe(this,e).get(e)};var Me=function(e){return Pe(this,e).has(e)};var Re=function(e,t){var n=Pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Le.prototype.clear=Ce,Le.prototype.delete=je,Le.prototype.get=Te,Le.prototype.has=Me,Le.prototype.set=Re;var Ie=Le;var De=function(e,t){var n=this.__data__;if(n instanceof F){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ie(r)}return n.set(e,t),this.size=n.size,this};function ze(e){var t=this.__data__=new F(e);this.size=t.size}ze.prototype.clear=N,ze.prototype.delete=B,ze.prototype.get=V,ze.prototype.has=$,ze.prototype.set=De;var Fe=ze,Ne=function(){try{var e=ge(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Be=function(e,t,n){"__proto__"==t&&Ne?Ne(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Ve=function(e,t,n){(void 0!==n&&!j(e[t],n)||void 0===n&&!(t in e))&&Be(e,t,n)};var $e=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}(),Ue=n(306),We=U.a.Uint8Array;var He=function(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t};var Ge=function(e,t){var n=t?He(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var qe=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Xe=Object.create,Ze=function(){function e(){}return function(t){if(!ee(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Ke=function(e,t){return function(n){return e(t(n))}},Ye=Ke(Object.getPrototypeOf,Object),Je=Object.prototype;var Qe=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Je)};var et=function(e){return"function"!=typeof e.constructor||Qe(e)?{}:Ze(Ye(e))};var tt=function(e){return null!=e&&"object"==typeof e};var nt=function(e){return tt(e)&&"[object Arguments]"==Q(e)},rt=Object.prototype,it=rt.hasOwnProperty,ot=rt.propertyIsEnumerable,at=nt(function(){return arguments}())?nt:function(e){return tt(e)&&it.call(e,"callee")&&!ot.call(e,"callee")},st=Array.isArray;var ut=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var lt=function(e){return null!=e&&ut(e.length)&&!te(e)};var ct=function(e){return tt(e)&&lt(e)},ft=n(112),ht=Function.prototype,dt=Object.prototype,pt=ht.toString,gt=dt.hasOwnProperty,mt=pt.call(Object);var vt=function(e){if(!tt(e)||"[object Object]"!=Q(e))return!1;var t=Ye(e);if(null===t)return!0;var n=gt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&pt.call(n)==mt},yt={};yt["[object Float32Array]"]=yt["[object Float64Array]"]=yt["[object Int8Array]"]=yt["[object Int16Array]"]=yt["[object Int32Array]"]=yt["[object Uint8Array]"]=yt["[object Uint8ClampedArray]"]=yt["[object Uint16Array]"]=yt["[object Uint32Array]"]=!0,yt["[object Arguments]"]=yt["[object Array]"]=yt["[object ArrayBuffer]"]=yt["[object Boolean]"]=yt["[object DataView]"]=yt["[object Date]"]=yt["[object Error]"]=yt["[object Function]"]=yt["[object Map]"]=yt["[object Number]"]=yt["[object Object]"]=yt["[object RegExp]"]=yt["[object Set]"]=yt["[object String]"]=yt["[object WeakMap]"]=!1;var bt=function(e){return tt(e)&&ut(e.length)&&!!yt[Q(e)]};var _t=function(e){return function(t){return e(t)}},wt=n(222),xt=wt.a&&wt.a.isTypedArray,Ot=xt?_t(xt):bt;var kt=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]},St=Object.prototype.hasOwnProperty;var Et=function(e,t,n){var r=e[t];St.call(e,t)&&j(r,n)&&(void 0!==n||t in e)||Be(e,t,n)};var Ct=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Be(n,s,u):Et(n,s,u)}return n};var At=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Pt=/^(?:0|[1-9]\d*)$/;var jt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Pt.test(e))&&e>-1&&e%1==0&&e<t},Tt=Object.prototype.hasOwnProperty;var Mt=function(e,t){var n=st(e),r=!n&&at(e),i=!n&&!r&&Object(ft.a)(e),o=!n&&!r&&!i&&Ot(e),a=n||r||i||o,s=a?At(e.length,String):[],u=s.length;for(var l in e)!t&&!Tt.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||jt(l,u))||s.push(l);return s};var Rt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Lt=Object.prototype.hasOwnProperty;var It=function(e){if(!ee(e))return Rt(e);var t=Qe(e),n=[];for(var r in e)("constructor"!=r||!t&&Lt.call(e,r))&&n.push(r);return n};var Dt=function(e){return lt(e)?Mt(e,!0):It(e)};var zt=function(e){return Ct(e,Dt(e))};var Ft=function(e,t,n,r,i,o,a){var s=kt(e,n),u=kt(t,n),l=a.get(u);if(l)Ve(e,n,l);else{var c=o?o(s,u,n+"",e,t,a):void 0,f=void 0===c;if(f){var h=st(u),d=!h&&Object(ft.a)(u),p=!h&&!d&&Ot(u);c=u,h||d||p?st(s)?c=s:ct(s)?c=qe(s):d?(f=!1,c=Object(Ue.a)(u,!0)):p?(f=!1,c=Ge(u,!0)):c=[]:vt(u)||at(u)?(c=s,at(s)?c=zt(s):ee(s)&&!te(s)||(c=et(u))):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),Ve(e,n,c)}};var Nt=function e(t,n,r,i,o){t!==n&&$e(n,(function(a,s){if(o||(o=new Fe),ee(a))Ft(t,n,s,r,e,i,o);else{var u=i?i(kt(t,s),a,s+"",t,n,o):void 0;void 0===u&&(u=a),Ve(t,s,u)}}),Dt)};var Bt=function(e){return e};var Vt=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},$t=Math.max;var Ut=function(e,t,n){return t=$t(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=$t(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Vt(e,this,s)}};var Wt=function(e){return function(){return e}},Ht=Ne?function(e,t){return Ne(e,"toString",{configurable:!0,enumerable:!1,value:Wt(t),writable:!0})}:Bt,Gt=Date.now;var qt=function(e){var t=0,n=0;return function(){var r=Gt(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Ht);var Xt=function(e,t){return qt(Ut(e,t,Bt),e+"")};var Zt=function(e,t,n){if(!ee(n))return!1;var r=typeof t;return!!("number"==r?lt(n)&&jt(t,n.length):"string"==r&&t in n)&&j(n[t],e)};var Kt=function(e){return Xt((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Zt(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}((function(e,t,n){Nt(e,t,n)})),Yt=function(e){var t=e.zDepth,n=e.radius,r=e.background,o=e.children,s=e.styles,u=void 0===s?{}:s,l=a()(Kt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===t});return i.a.createElement("div",{style:l.wrap},i.a.createElement("div",{style:l.bg}),i.a.createElement("div",{style:l.content},o))};Yt.propTypes={background:A.a.string,zDepth:A.a.oneOf([0,1,2,3,4,5]),radius:A.a.number,styles:A.a.object},Yt.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Jt=Yt,Qt=function(){return U.a.Date.now()},en=/\s/;var tn=function(e){for(var t=e.length;t--&&en.test(e.charAt(t)););return t},nn=/^\s+/;var rn=function(e){return e?e.slice(0,tn(e)+1).replace(nn,""):e};var on=function(e){return"symbol"==typeof e||tt(e)&&"[object Symbol]"==Q(e)},an=/^[-+]0x[0-9a-f]+$/i,sn=/^0b[01]+$/i,un=/^0o[0-7]+$/i,ln=parseInt;var cn=function(e){if("number"==typeof e)return e;if(on(e))return NaN;if(ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=rn(e);var n=sn.test(e);return n||un.test(e)?ln(e.slice(2),n?2:8):an.test(e)?NaN:+e},fn=Math.max,hn=Math.min;var dn=function(e,t,n){var r,i,o,a,s,u,l=0,c=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,o=i;return r=i=void 0,l=t,a=e.apply(o,n)}function p(e){return l=e,s=setTimeout(m,t),c?d(e):a}function g(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=o}function m(){var e=Qt();if(g(e))return v(e);s=setTimeout(m,function(e){var n=t-(e-u);return f?hn(n,o-(e-l)):n}(e))}function v(e){return s=void 0,h&&r?d(e):(r=i=void 0,a)}function y(){var e=Qt(),n=g(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return p(u);if(f)return clearTimeout(s),s=setTimeout(m,t),d(u)}return void 0===s&&(s=setTimeout(m,t)),a}return t=cn(t)||0,ee(n)&&(c=!!n.leading,o=(f="maxWait"in n)?fn(cn(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},y.flush=function(){return void 0===s?a:v(Qt())},y};var pn=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ee(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dn(e,t,{leading:r,maxWait:t,trailing:i})},gn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var mn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,o=r.height,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,u=a-(n.getBoundingClientRect().left+window.pageXOffset),l=s-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>i&&(u=i),l<0?l=0:l>o&&(l=o);var c=u/i,f=1-l/o;return{h:t.h,s:c,v:f,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=pn((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),gn(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,s=t.pointer,u=t.circle,l=a()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:s,circle:u}},{custom:!!this.props.style});return i.a.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),i.a.createElement("div",{style:l.white,className:"saturation-white"},i.a.createElement("div",{style:l.black,className:"saturation-black"}),i.a.createElement("div",{style:l.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement("div",{style:l.circle}))))}}]),t}(r.PureComponent||r.Component);var vn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},yn=Ke(Object.keys,Object),bn=Object.prototype.hasOwnProperty;var _n=function(e){if(!Qe(e))return yn(e);var t=[];for(var n in Object(e))bn.call(e,n)&&"constructor"!=n&&t.push(n);return t};var wn=function(e){return lt(e)?Mt(e):_n(e)};var xn=function(e,t){return function(n,r){if(null==n)return n;if(!lt(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&$e(e,t,wn)}));var On=function(e){return"function"==typeof e?e:Bt};var kn=function(e,t){return(st(e)?vn:xn)(e,On(t))},Sn=n(145),En=n.n(Sn),Cn=function(e){var t=0,n=0;return kn(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},An=function(e,t){var n=e.hex?En()(e.hex):En()(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},Pn=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&En()(e).isValid()},jn=function(e){if(!e)return"#fff";var t=An(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},Tn=function(e,t){var n=e.replace("\xb0","");return En()(t+" ("+n+")")._ok},Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ln=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(Cn(e)){var r=An(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(Cn(e)){var r=An(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=Mn({},An(e.color,0)),t.debounce=dn((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),Rn(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.a.createElement(e,Mn({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Mn({},An(e.color,t.oldHue))}}]),n}(r.PureComponent||r.Component);return t.propTypes=Mn({},e.propTypes),t.defaultProps=Mn({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Nn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;zn(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Fn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},Fn(n,t)}return Nn(r,n),Dn(r,[{key:"render",value:function(){return i.a.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.a.createElement(e,In({},this.props,this.state)))}}]),r}(i.a.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,o=void 0===r?function(){}:r,s=e.onHover,u=e.title,l=void 0===u?t:u,c=e.children,f=e.focus,d=e.focusStyle,p=void 0===d?{}:d,g="transparent"===t,m=a()({default:{swatch:Bn({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?p:{})}}),v={};return s&&(v.onMouseOver=function(e){return s(t,e)}),i.a.createElement("div",Bn({style:m.swatch,onClick:function(e){return o(t,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},v),c,g&&i.a.createElement(h,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))})),$n=function(e){var t=e.direction,n=a()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.a.createElement("div",{style:n.picker})},Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wn=function(e){var t=e.rgb,n=e.hsl,r=e.width,o=e.height,s=e.onChange,u=e.direction,l=e.style,c=e.renderers,f=e.pointer,h=e.className,d=void 0===h?"":h,p=a()({default:{picker:{position:"relative",width:r,height:o},alpha:{radius:"2px",style:l}}});return i.a.createElement("div",{style:p.picker,className:"alpha-picker "+d},i.a.createElement(v,Un({},p.alpha,{rgb:t,hsl:n,pointer:f,renderers:c,onChange:s,direction:u})))};Wn.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:$n};Ln(Wn);var Hn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Gn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var qn=function(e){return this.__data__.has(e)};function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ie;++t<n;)this.add(e[t])}Xn.prototype.add=Xn.prototype.push=Gn,Xn.prototype.has=qn;var Zn=Xn;var Kn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Yn=function(e,t){return e.has(t)};var Jn=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var f=-1,h=!0,d=2&n?new Zn:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(r)var m=a?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!Kn(t,(function(e,t){if(!Yn(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};var Qn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var er=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},tr=W?W.prototype:void 0,nr=tr?tr.valueOf:void 0;var rr=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return j(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Qn;case"[object Set]":var u=1&r;if(s||(s=er),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=Jn(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(nr)return nr.call(e)==nr.call(t)}return!1};var ir=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var or=function(e,t,n){var r=t(e);return st(e)?r:ir(r,n(e))};var ar=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var sr=function(){return[]},ur=Object.prototype.propertyIsEnumerable,lr=Object.getOwnPropertySymbols,cr=lr?function(e){return null==e?[]:(e=Object(e),ar(lr(e),(function(t){return ur.call(e,t)})))}:sr;var fr=function(e){return or(e,wn,cr)},hr=Object.prototype.hasOwnProperty;var dr=function(e,t,n,r,i,o){var a=1&n,s=fr(e),u=s.length;if(u!=fr(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:hr.call(t,c)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++l<u;){var g=e[c=s[l]],m=t[c];if(r)var v=a?r(m,g,c,t,e,o):r(g,m,c,e,t,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d},pr=ge(U.a,"DataView"),gr=ge(U.a,"Promise"),mr=ge(U.a,"Set"),vr=ge(U.a,"WeakMap"),yr="[object Map]",br="[object Promise]",_r="[object Set]",wr="[object WeakMap]",xr="[object DataView]",Or=ae(pr),kr=ae(me),Sr=ae(gr),Er=ae(mr),Cr=ae(vr),Ar=Q;(pr&&Ar(new pr(new ArrayBuffer(1)))!=xr||me&&Ar(new me)!=yr||gr&&Ar(gr.resolve())!=br||mr&&Ar(new mr)!=_r||vr&&Ar(new vr)!=wr)&&(Ar=function(e){var t=Q(e),n="[object Object]"==t?e.constructor:void 0,r=n?ae(n):"";if(r)switch(r){case Or:return xr;case kr:return yr;case Sr:return br;case Er:return _r;case Cr:return wr}return t});var Pr=Ar,jr="[object Arguments]",Tr="[object Array]",Mr="[object Object]",Rr=Object.prototype.hasOwnProperty;var Lr=function(e,t,n,r,i,o){var a=st(e),s=st(t),u=a?Tr:Pr(e),l=s?Tr:Pr(t),c=(u=u==jr?Mr:u)==Mr,f=(l=l==jr?Mr:l)==Mr,h=u==l;if(h&&Object(ft.a)(e)){if(!Object(ft.a)(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Fe),a||Ot(e)?Jn(e,t,n,r,i,o):rr(e,t,u,n,r,i,o);if(!(1&n)){var d=c&&Rr.call(e,"__wrapped__"),p=f&&Rr.call(t,"__wrapped__");if(d||p){var g=d?e.value():e,m=p?t.value():t;return o||(o=new Fe),i(g,m,n,r,o)}}return!!h&&(o||(o=new Fe),dr(e,t,n,r,i,o))};var Ir=function e(t,n,r,i,o){return t===n||(null==t||null==n||!tt(t)&&!tt(n)?t!==t&&n!==n:Lr(t,n,r,i,e,o))};var Dr=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new Fe;if(r)var h=r(l,c,u,e,t,f);if(!(void 0===h?Ir(c,l,3,r,f):h))return!1}}return!0};var zr=function(e){return e===e&&!ee(e)};var Fr=function(e){for(var t=wn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,zr(i)]}return t};var Nr=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Br=function(e){var t=Fr(e);return 1==t.length&&t[0][2]?Nr(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}},Vr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$r=/^\w*$/;var Ur=function(e,t){if(st(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!on(e))||($r.test(e)||!Vr.test(e)||null!=t&&e in Object(t))};function Wr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Wr.Cache||Ie),n}Wr.Cache=Ie;var Hr=Wr;var Gr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qr=/\\(\\)?/g,Xr=function(e){var t=Hr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Gr,(function(e,n,r,i){t.push(r?i.replace(qr,"$1"):n||e)})),t})),Zr=W?W.prototype:void 0,Kr=Zr?Zr.toString:void 0;var Yr=function e(t){if("string"==typeof t)return t;if(st(t))return Hn(t,e)+"";if(on(t))return Kr?Kr.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Jr=function(e){return null==e?"":Yr(e)};var Qr=function(e,t){return st(e)?e:Ur(e,t)?[e]:Xr(Jr(e))};var ei=function(e){if("string"==typeof e||on(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var ti=function(e,t){for(var n=0,r=(t=Qr(t,e)).length;null!=e&&n<r;)e=e[ei(t[n++])];return n&&n==r?e:void 0};var ni=function(e,t,n){var r=null==e?void 0:ti(e,t);return void 0===r?n:r};var ri=function(e,t){return null!=e&&t in Object(e)};var ii=function(e,t,n){for(var r=-1,i=(t=Qr(t,e)).length,o=!1;++r<i;){var a=ei(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ut(i)&&jt(a,i)&&(st(e)||at(e))};var oi=function(e,t){return null!=e&&ii(e,t,ri)};var ai=function(e,t){return Ur(e)&&zr(t)?Nr(ei(e),t):function(n){var r=ni(n,e);return void 0===r&&r===t?oi(n,e):Ir(t,r,3)}};var si=function(e){return function(t){return null==t?void 0:t[e]}};var ui=function(e){return function(t){return ti(t,e)}};var li=function(e){return Ur(e)?si(ei(e)):ui(e)};var ci=function(e){return"function"==typeof e?e:null==e?Bt:"object"==typeof e?st(e)?ai(e[0],e[1]):Br(e):li(e)};var fi=function(e,t){var n=-1,r=lt(e)?Array(e.length):[];return xn(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};var hi=function(e,t){return(st(e)?Hn:fi)(e,ci(t,3))},di=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,o=a()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return i.a.createElement("div",{style:o.swatches},hi(t,(function(e){return i.a.createElement(Vn,{key:e,color:e,style:o.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),i.a.createElement("div",{style:o.clear}))},pi=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,s=e.width,u=e.triangle,l=e.styles,c=void 0===l?{}:l,f=e.className,d=void 0===f?"":f,p="transparent"===r,g=function(e,n){Pn(e)&&t({hex:e,source:"hex"},n)},m=a()(Kt({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:jn(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":"hide"===u});return i.a.createElement("div",{style:m.card,className:"block-picker "+d},i.a.createElement("div",{style:m.triangle}),i.a.createElement("div",{style:m.head},p&&i.a.createElement(h,{borderRadius:"6px 6px 0 0"}),i.a.createElement("div",{style:m.label},r)),i.a.createElement("div",{style:m.body},i.a.createElement(di,{colors:o,onClick:g,onSwatchHover:n}),i.a.createElement(w,{style:{input:m.input},value:r,onChange:g})))};pi.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),colors:A.a.arrayOf(A.a.string),triangle:A.a.oneOf(["top","hide"]),styles:A.a.object},pi.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ln(pi);var gi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},mi={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},vi={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},yi={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},bi={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},_i={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},wi={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},xi={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Oi={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},ki={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Si={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Ei={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Ci={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Ai={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Pi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ji={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ti={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Mi={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},Ri=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,o=e.hover,s=e.active,u=e.circleSize,l=e.circleSpacing,c=a()({default:{swatch:{width:u,height:u,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(u/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:s});return i.a.createElement("div",{style:c.swatch},i.a.createElement(Vn,{style:c.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};Ri.defaultProps={circleSize:28,circleSpacing:14};var Li=Object(o.handleHover)(Ri),Ii=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,o=e.colors,s=e.hex,u=e.circleSize,l=e.styles,c=void 0===l?{}:l,f=e.circleSpacing,h=e.className,d=void 0===h?"":h,p=a()(Kt({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},c)),g=function(e,t){return n({hex:e,source:"hex"},t)};return i.a.createElement("div",{style:p.card,className:"circle-picker "+d},hi(o,(function(e){return i.a.createElement(Li,{key:e,color:e,onClick:g,onSwatchHover:r,active:s===e.toLowerCase(),circleSize:u,circleSpacing:f})})))};Ii.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),circleSize:A.a.number,circleSpacing:A.a.number,styles:A.a.object},Ii.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[gi[500],mi[500],vi[500],yi[500],bi[500],_i[500],wi[500],xi[500],Oi[500],ki[500],Si[500],Ei[500],Ci[500],Ai[500],Pi[500],ji[500],Ti[500],Mi[500]],styles:{}};Ln(Ii);var Di=function(e){return void 0===e},zi=n(307),Fi=n.n(zi),Ni=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?Pn(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(Di(e.s)?n.props.hsl.s:e.s),l:Number(Di(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ni(t,[{key:"render",value:function(){var e=this,t=a()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=i.a.createElement("div",{style:t.fields,className:"flexbox-fix"},i.a.createElement("div",{style:t.field},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=i.a.createElement("div",{style:t.fields,className:"flexbox-fix"},i.a.createElement("div",{style:t.field},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.a.createElement("div",{style:t.field},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.a.createElement("div",{style:t.field},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.a.createElement("div",{style:t.alpha},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=i.a.createElement("div",{style:t.fields,className:"flexbox-fix"},i.a.createElement("div",{style:t.field},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.a.createElement("div",{style:t.field},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.a.createElement("div",{style:t.field},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.a.createElement("div",{style:t.alpha},i.a.createElement(w,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.a.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,i.a.createElement("div",{style:t.toggle},i.a.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.a.createElement(Fi.a,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(i.a.Component);Bi.defaultProps={view:"hex"};var Vi=Bi,$i=function(){var e=a()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.a.createElement("div",{style:e.picker})},Ui=function(){var e=a()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return i.a.createElement("div",{style:e.picker})},Wi=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,o=e.rgb,s=e.hsl,u=e.hsv,l=e.hex,c=e.renderers,f=e.styles,d=void 0===f?{}:f,p=e.className,g=void 0===p?"":p,m=e.defaultView,y=a()(Kt({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:r});return i.a.createElement("div",{style:y.picker,className:"chrome-picker "+g},i.a.createElement("div",{style:y.saturation},i.a.createElement(mn,{style:y.Saturation,hsl:s,hsv:u,pointer:Ui,onChange:n})),i.a.createElement("div",{style:y.body},i.a.createElement("div",{style:y.controls,className:"flexbox-fix"},i.a.createElement("div",{style:y.color},i.a.createElement("div",{style:y.swatch},i.a.createElement("div",{style:y.active}),i.a.createElement(h,{renderers:c}))),i.a.createElement("div",{style:y.toggles},i.a.createElement("div",{style:y.hue},i.a.createElement(E,{style:y.Hue,hsl:s,pointer:$i,onChange:n})),i.a.createElement("div",{style:y.alpha},i.a.createElement(v,{style:y.Alpha,rgb:o,hsl:s,pointer:$i,renderers:c,onChange:n})))),i.a.createElement(Vi,{rgb:o,hsl:s,hex:l,view:m,onChange:n,disableAlpha:r})))};Wi.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),disableAlpha:A.a.bool,styles:A.a.object,defaultView:A.a.oneOf(["hex","rgb","hsl"])},Wi.defaultProps={width:225,disableAlpha:!1,styles:{}};Ln(Wi);var Hi=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=e.active,u=a()({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:jn(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.a.createElement(Vn,{style:u.color,color:t,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},i.a.createElement("div",{style:u.dot}))},Gi=function(e){var t=e.hex,n=e.rgb,r=e.onChange,o=a()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return i.a.createElement("div",{style:o.fields,className:"flexbox-fix"},i.a.createElement("div",{style:o.active}),i.a.createElement(w,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:s}),i.a.createElement(w,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),i.a.createElement(w,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),i.a.createElement(w,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}))},qi=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,o=e.hex,s=e.rgb,u=e.styles,l=void 0===u?{}:u,c=e.className,f=void 0===c?"":c,h=a()(Kt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(e,n){e.hex?Pn(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return i.a.createElement(Jt,{style:h.Compact,styles:l},i.a.createElement("div",{style:h.compact,className:"compact-picker "+f},i.a.createElement("div",null,hi(r,(function(e){return i.a.createElement(Hi,{key:e,color:e,active:e.toLowerCase()===o,onClick:d,onSwatchHover:n})})),i.a.createElement("div",{style:h.clear})),i.a.createElement(Gi,{hex:o,rgb:s,onChange:d})))};qi.propTypes={colors:A.a.arrayOf(A.a.string),styles:A.a.object},qi.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Ln(qi);var Xi=Object(o.handleHover)((function(e){var t=e.hover,n=e.color,r=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=a()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:t});return i.a.createElement("div",{style:u.swatch},i.a.createElement(Vn,{color:n,onClick:r,onHover:o,focusStyle:s}))})),Zi=function(e){var t=e.width,n=e.colors,r=e.onChange,o=e.onSwatchHover,s=e.triangle,u=e.styles,l=void 0===u?{}:u,c=e.className,f=void 0===c?"":c,h=a()(Kt({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s,"bottom-left-triangle":"bottom-left"===s,"bottom-right-triangle":"bottom-right"===s}),d=function(e,t){return r({hex:e,source:"hex"},t)};return i.a.createElement("div",{style:h.card,className:"github-picker "+f},i.a.createElement("div",{style:h.triangleShadow}),i.a.createElement("div",{style:h.triangle}),hi(n,(function(e){return i.a.createElement(Xi,{color:e,key:e,onClick:d,onSwatchHover:o})})))};Zi.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),colors:A.a.arrayOf(A.a.string),triangle:A.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:A.a.object},Zi.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ln(Zi);var Ki=function(e){var t=e.direction,n=a()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.a.createElement("div",{style:n.picker})},Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ji=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.hsl,s=e.direction,u=e.pointer,l=e.styles,c=void 0===l?{}:l,f=e.className,h=void 0===f?"":f,d=a()(Kt({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},c));return i.a.createElement("div",{style:d.picker,className:"hue-picker "+h},i.a.createElement(E,Yi({},d.hue,{hsl:o,pointer:u,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:s})))};Ji.propTypes={styles:A.a.object},Ji.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Ki,styles:{}};Ln(Ji),Ln((function(e){var t=e.onChange,n=e.hex,r=e.rgb,o=e.styles,s=void 0===o?{}:o,u=e.className,l=void 0===u?"":u,c=a()(Kt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),f=function(e,n){e.hex?Pn(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return i.a.createElement(Jt,{styles:s},i.a.createElement("div",{style:c.material,className:"material-picker "+l},i.a.createElement(w,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:f}),i.a.createElement("div",{style:c.split,className:"flexbox-fix"},i.a.createElement("div",{style:c.third},i.a.createElement(w,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:r.r,onChange:f})),i.a.createElement("div",{style:c.third},i.a.createElement(w,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:r.g,onChange:f})),i.a.createElement("div",{style:c.third},i.a.createElement(w,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:r.b,onChange:f})))))}));var Qi=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,o=e.hex,s=a()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(e,i){e["#"]?Pn(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return i.a.createElement("div",{style:s.fields},i.a.createElement(w,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(r.h),onChange:u}),i.a.createElement(w,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:u}),i.a.createElement(w,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:u}),i.a.createElement("div",{style:s.divider}),i.a.createElement(w,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u}),i.a.createElement(w,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u}),i.a.createElement(w,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u}),i.a.createElement("div",{style:s.divider}),i.a.createElement(w,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:u}),i.a.createElement("div",{style:s.fieldSymbols},i.a.createElement("div",{style:s.symbol},"\xb0"),i.a.createElement("div",{style:s.symbol},"%"),i.a.createElement("div",{style:s.symbol},"%")))},eo=function(e){var t=e.hsl,n=a()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return i.a.createElement("div",{style:n.picker})},to=function(){var e=a()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return i.a.createElement("div",{style:e.pointer},i.a.createElement("div",{style:e.left},i.a.createElement("div",{style:e.leftInside})),i.a.createElement("div",{style:e.right},i.a.createElement("div",{style:e.rightInside})))},no=function(e){var t=e.onClick,n=e.label,r=e.children,o=e.active,s=a()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return i.a.createElement("div",{style:s.button,onClick:t},n||r)},ro=function(e){var t=e.rgb,n=e.currentColor,r=a()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return i.a.createElement("div",null,i.a.createElement("div",{style:r.label},"new"),i.a.createElement("div",{style:r.swatches},i.a.createElement("div",{style:r.new}),i.a.createElement("div",{style:r.current})),i.a.createElement("div",{style:r.label},"current"))},io=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var oo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),io(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?"":r,s=a()(Kt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return i.a.createElement("div",{style:s.picker,className:"photoshop-picker "+o},i.a.createElement("div",{style:s.head},this.props.header),i.a.createElement("div",{style:s.body,className:"flexbox-fix"},i.a.createElement("div",{style:s.saturation},i.a.createElement(mn,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:eo,onChange:this.props.onChange})),i.a.createElement("div",{style:s.hue},i.a.createElement(E,{direction:"vertical",hsl:this.props.hsl,pointer:to,onChange:this.props.onChange})),i.a.createElement("div",{style:s.controls},i.a.createElement("div",{style:s.top,className:"flexbox-fix"},i.a.createElement("div",{style:s.previews},i.a.createElement(ro,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.a.createElement("div",{style:s.actions},i.a.createElement(no,{label:"OK",onClick:this.props.onAccept,active:!0}),i.a.createElement(no,{label:"Cancel",onClick:this.props.onCancel}),i.a.createElement(Qi,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.a.Component);oo.propTypes={header:A.a.string,styles:A.a.object},oo.defaultProps={header:"Color Picker",styles:{}};Ln(oo);var ao=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,s=e.disableAlpha,u=a()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(e,i){e.hex?Pn(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return i.a.createElement("div",{style:u.fields,className:"flexbox-fix"},i.a.createElement("div",{style:u.double},i.a.createElement(w,{style:{input:u.input,label:u.label},label:"hex",value:o.replace("#",""),onChange:l})),i.a.createElement("div",{style:u.single},i.a.createElement(w,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),i.a.createElement("div",{style:u.single},i.a.createElement(w,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),i.a.createElement("div",{style:u.single},i.a.createElement(w,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),i.a.createElement("div",{style:u.alpha},i.a.createElement(w,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*n.a),onChange:l,dragLabel:"true",dragMax:"100"})))},so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=a()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){r({hex:e,source:"hex"},t)};return i.a.createElement("div",{style:s.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return i.a.createElement("div",{key:n,style:s.swatchWrap},i.a.createElement(Vn,so({},t,{style:s.swatch,onClick:u,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};uo.propTypes={colors:A.a.arrayOf(A.a.oneOfType([A.a.string,A.a.shape({color:A.a.string,title:A.a.string})])).isRequired};var lo=uo,co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo=function(e){var t=e.width,n=e.rgb,r=e.hex,o=e.hsv,s=e.hsl,u=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,f=e.presetColors,d=e.renderers,p=e.styles,g=void 0===p?{}:p,m=e.className,y=void 0===m?"":m,b=a()(Kt({default:co({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},g),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},g),{disableAlpha:c});return i.a.createElement("div",{style:b.picker,className:"sketch-picker "+y},i.a.createElement("div",{style:b.saturation},i.a.createElement(mn,{style:b.Saturation,hsl:s,hsv:o,onChange:u})),i.a.createElement("div",{style:b.controls,className:"flexbox-fix"},i.a.createElement("div",{style:b.sliders},i.a.createElement("div",{style:b.hue},i.a.createElement(E,{style:b.Hue,hsl:s,onChange:u})),i.a.createElement("div",{style:b.alpha},i.a.createElement(v,{style:b.Alpha,rgb:n,hsl:s,renderers:d,onChange:u}))),i.a.createElement("div",{style:b.color},i.a.createElement(h,null),i.a.createElement("div",{style:b.activeColor}))),i.a.createElement(ao,{rgb:n,hsl:s,hex:r,onChange:u,disableAlpha:c}),i.a.createElement(lo,{colors:f,onClick:u,onSwatchHover:l}))};fo.propTypes={disableAlpha:A.a.bool,width:A.a.oneOfType([A.a.string,A.a.number]),styles:A.a.object},fo.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var ho=Ln(fo),po=function(e){var t=e.hsl,n=e.offset,r=e.onClick,o=void 0===r?function(){}:r,s=e.active,u=e.first,l=e.last,c=a()({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:u,last:l});return i.a.createElement("div",{style:c.swatch,onClick:function(e){return o({h:t.h,s:.5,l:n,source:"hsl"},e)}})},go=function(e){var t=e.onClick,n=e.hsl,r=a()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return i.a.createElement("div",{style:r.swatches},i.a.createElement("div",{style:r.swatch},i.a.createElement(po,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<o&&Math.abs(n.s-.5)<o,onClick:t,first:!0})),i.a.createElement("div",{style:r.swatch},i.a.createElement(po,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<o&&Math.abs(n.s-.5)<o,onClick:t})),i.a.createElement("div",{style:r.swatch},i.a.createElement(po,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<o&&Math.abs(n.s-.5)<o,onClick:t})),i.a.createElement("div",{style:r.swatch},i.a.createElement(po,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<o&&Math.abs(n.s-.5)<o,onClick:t})),i.a.createElement("div",{style:r.swatch},i.a.createElement(po,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<o&&Math.abs(n.s-.5)<o,onClick:t,last:!0})),i.a.createElement("div",{style:r.clear}))},mo=function(){var e=a()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.a.createElement("div",{style:e.picker})},vo=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,o=e.styles,s=void 0===o?{}:o,u=e.className,l=void 0===u?"":u,c=a()(Kt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return i.a.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},i.a.createElement("div",{style:c.hue},i.a.createElement(E,{style:c.Hue,hsl:t,pointer:r,onChange:n})),i.a.createElement("div",{style:c.swatches},i.a.createElement(go,{hsl:t,onClick:n})))};vo.propTypes={styles:A.a.object},vo.defaultProps={pointer:mo,styles:{}};Ln(vo);var yo=n(308),bo=n.n(yo),_o=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=e.first,u=e.last,l=e.active,c=a()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:jn(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:u,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.a.createElement(Vn,{color:t,style:c.color,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},i.a.createElement("div",{style:c.check},i.a.createElement(bo.a,null)))},wo=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,o=e.active,s=a()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return i.a.createElement("div",{style:s.group},hi(r,(function(e,a){return i.a.createElement(_o,{key:e,color:e,active:e.toLowerCase()===o,first:0===a,last:a===r.length-1,onClick:t,onSwatchHover:n})})))},xo=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.onSwatchHover,s=e.colors,u=e.hex,l=e.styles,c=void 0===l?{}:l,f=e.className,h=void 0===f?"":f,d=a()(Kt({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(e,t){return r({hex:e,source:"hex"},t)};return i.a.createElement("div",{style:d.picker,className:"swatches-picker "+h},i.a.createElement(Jt,null,i.a.createElement("div",{style:d.overflow},i.a.createElement("div",{style:d.body},hi(s,(function(e){return i.a.createElement(wo,{key:e.toString(),group:e,active:u,onClick:p,onSwatchHover:o})})),i.a.createElement("div",{style:d.clear})))))};xo.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),height:A.a.oneOfType([A.a.string,A.a.number]),colors:A.a.arrayOf(A.a.arrayOf(A.a.string)),styles:A.a.object},xo.defaultProps={width:320,height:240,colors:[[gi[900],gi[700],gi[500],gi[300],gi[100]],[mi[900],mi[700],mi[500],mi[300],mi[100]],[vi[900],vi[700],vi[500],vi[300],vi[100]],[yi[900],yi[700],yi[500],yi[300],yi[100]],[bi[900],bi[700],bi[500],bi[300],bi[100]],[_i[900],_i[700],_i[500],_i[300],_i[100]],[wi[900],wi[700],wi[500],wi[300],wi[100]],[xi[900],xi[700],xi[500],xi[300],xi[100]],[Oi[900],Oi[700],Oi[500],Oi[300],Oi[100]],["#194D33",ki[700],ki[500],ki[300],ki[100]],[Si[900],Si[700],Si[500],Si[300],Si[100]],[Ei[900],Ei[700],Ei[500],Ei[300],Ei[100]],[Ci[900],Ci[700],Ci[500],Ci[300],Ci[100]],[Ai[900],Ai[700],Ai[500],Ai[300],Ai[100]],[Pi[900],Pi[700],Pi[500],Pi[300],Pi[100]],[ji[900],ji[700],ji[500],ji[300],ji[100]],[Ti[900],Ti[700],Ti[500],Ti[300],Ti[100]],[Mi[900],Mi[700],Mi[500],Mi[300],Mi[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Ln(xo);var Oo=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,s=e.width,u=e.triangle,l=e.styles,c=void 0===l?{}:l,f=e.className,h=void 0===f?"":f,d=a()(Kt({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":"hide"===u,"top-left-triangle":"top-left"===u,"top-right-triangle":"top-right"===u}),p=function(e,n){Pn(e)&&t({hex:e,source:"hex"},n)};return i.a.createElement("div",{style:d.card,className:"twitter-picker "+h},i.a.createElement("div",{style:d.triangleShadow}),i.a.createElement("div",{style:d.triangle}),i.a.createElement("div",{style:d.body},hi(o,(function(e,t){return i.a.createElement(Vn,{key:t,color:e,hex:e,style:d.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),i.a.createElement("div",{style:d.hash},"#"),i.a.createElement(w,{label:null,style:{input:d.input},value:r.replace("#",""),onChange:p}),i.a.createElement("div",{style:d.clear})))};Oo.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),triangle:A.a.oneOf(["hide","top-left","top-right"]),colors:A.a.arrayOf(A.a.string),styles:A.a.object},Oo.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Ln(Oo);var ko=function(e){var t=a()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return i.a.createElement("div",{style:t.picker})};ko.propTypes={hsl:A.a.shape({h:A.a.number,s:A.a.number,l:A.a.number,a:A.a.number})},ko.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var So=ko,Eo=function(e){var t=a()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return i.a.createElement("div",{style:t.picker})};Eo.propTypes={hsl:A.a.shape({h:A.a.number,s:A.a.number,l:A.a.number,a:A.a.number})},Eo.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Co=Eo,Ao=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,s=e.hsv,u=function(e,n){if(e.hex)Pn(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");Tn(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var i=e.hsv.split(",");Tn(e.hsv,"hsv")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("\xb0",""),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsv"},n))}else if(e.hsl){var o=e.hsl.split(",");Tn(e.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("\xb0",""),1==h[1]?h[1]=.01:1==h[2]&&(h[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},l=a()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=n.r+", "+n.g+", "+n.b,f=Math.round(r.h)+"\xb0, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",h=Math.round(s.h)+"\xb0, "+Math.round(100*s.s)+"%, "+Math.round(100*s.v)+"%";return i.a.createElement("div",{style:l.wrap,className:"flexbox-fix"},i.a.createElement("div",{style:l.fields},i.a.createElement("div",{style:l.double},i.a.createElement(w,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:u})),i.a.createElement("div",{style:l.column},i.a.createElement("div",{style:l.single},i.a.createElement(w,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:u})),i.a.createElement("div",{style:l.single},i.a.createElement(w,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:u})),i.a.createElement("div",{style:l.single},i.a.createElement(w,{style:{input:l.input2,label:l.label2},label:"hsl",value:f,onChange:u})))))},Po=function(e){var t=e.width,n=e.onChange,r=e.rgb,o=e.hsl,s=e.hsv,u=e.hex,l=e.header,c=e.styles,f=void 0===c?{}:c,h=e.className,d=void 0===h?"":h,p=a()(Kt({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return i.a.createElement("div",{style:p.picker,className:"google-picker "+d},i.a.createElement("div",{style:p.head},l),i.a.createElement("div",{style:p.swatch}),i.a.createElement("div",{style:p.saturation},i.a.createElement(mn,{hsl:o,hsv:s,pointer:So,onChange:n})),i.a.createElement("div",{style:p.body},i.a.createElement("div",{style:p.controls,className:"flexbox-fix"},i.a.createElement("div",{style:p.hue},i.a.createElement(E,{style:p.Hue,hsl:o,radius:"4px",pointer:Co,onChange:n}))),i.a.createElement(Ao,{rgb:r,hsl:o,hex:u,hsv:s,onChange:n})))};Po.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),styles:A.a.object,header:A.a.string},Po.defaultProps={width:652,styles:{},header:"Color picker"};Ln(Po)},function(e,t,n){"use strict";n.d(t,"a",(function(){return ee}));var r=n(2),i=n(5),o=n(4),a=n(9),s=n(315),u=n(147),l=n(33),c=n(221),f=n(557),h=n(69),d=n(49),p=n(27),g=n(26),m=n(13),v=n(15),y=n(6),b=n(52),_=null;function w(e,t){var n;return new e((n=e.BYTES_PER_ELEMENT*t,(!_||_.byteLength<n)&&(_=new ArrayBuffer(n)),_),0,t)}var x=n(67),O=n(167),k=n(168);function S(e){if(!e&&!Object(O.a)())return"Node";if(Object(k.a)(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},n=e||t.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";var r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i?"IE":x.b.chrome?"Chrome":x.b.safari?"Safari":x.b.mozInnerScreenX?"Firefox":"Unknown"}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var C="elements must be GL.ELEMENT_ARRAY_BUFFER",A=function(e){Object(m.a)(n,e);var t=E(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,n);var a=o.id||o.program&&o.program.id;return(r=t.call(this,e,Object.assign({},o,{id:a}))).buffer=null,r.bufferValue=null,r.isDefaultArray=o.isDefaultArray||!1,r.gl2=e,r.initialize(o),Object.seal(Object(p.a)(r)),r}return Object(o.a)(n,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t.constantAttributeZero||(Object(a.i)(e)||"Chrome"===S())}},{key:"getDefaultArray",value:function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new n(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(e){return n.MAX_ATTRIBUTES=n.MAX_ATTRIBUTES||e.getParameter(34921),n.MAX_ATTRIBUTES}},{key:"setConstant",value:function(e,t,r){switch(r.constructor){case Float32Array:n._setConstantFloatArray(e,t,r);break;case Int32Array:n._setConstantIntArray(e,t,r);break;case Uint32Array:n._setConstantUintArray(e,t,r);break;default:Object(l.a)(!1)}}}]),Object(o.a)(n,[{key:"delete",value:function(){return Object(g.a)(Object(y.a)(n.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete(),this}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}},{key:"setProps",value:function(e){return this}},{key:"setElementBuffer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(l.a)(!t||34963===t.target,C),this.bind((function(){e.gl.bindBuffer(34963,t?t.handle:null)})),this}},{key:"setBuffer",value:function(e,t,n){if(34963===t.target)return this.setElementBuffer(t,n);var r=n.size,i=n.type,o=n.stride,s=n.offset,u=n.normalized,c=n.integer,f=n.divisor,h=this.gl,d=this.gl2;return e=Number(e),this.bind((function(){h.bindBuffer(34962,t.handle),c?(Object(l.a)(Object(a.i)(h)),d.vertexAttribIPointer(e,r,i,o,s)):h.vertexAttribPointer(e,r,i,u,o,s),h.enableVertexAttribArray(e),d.vertexAttribDivisor(e,f||0)})),this}},{key:"enable",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!r&&0===e&&!n.isSupported(this.gl,{constantAttributeZero:!0});return i||(e=Number(e),this.bind((function(){return r?t.gl.enableVertexAttribArray(e):t.gl.disableVertexAttribArray(e)}))),this}},{key:"getConstantBuffer",value:function(e,t){var n=this._normalizeConstantArrayValue(t),r=n.byteLength*e,i=n.length*e,o=!this.buffer;if(this.buffer=this.buffer||new d.a(this.gl,r),o=(o=o||this.buffer.reallocate(r))||!this._compareConstantArrayValues(n,this.bufferValue)){var a=w(t.constructor,i);!function(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u)}({target:a,source:n,start:0,count:i}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(e){return Array.isArray(e)?new Float32Array(e):e}},{key:"_compareConstantArrayValues",value:function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}},{key:"_createHandle",value:function(){return this.gl.createVertexArray()}},{key:"_deleteHandle",value:function(e){return this.gl2.deleteVertexArray(e),[this.elements]}},{key:"_bindHandle",value:function(e){this.gl2.bindVertexArray(e)}},{key:"_getParameter",value:function(e,t){var n=this,r=t.location;return Object(l.a)(Number.isFinite(r)),this.bind((function(){switch(e){case 34373:return n.gl.getVertexAttribOffset(r,e);default:return n.gl.getVertexAttrib(r,e)}}))}},{key:"MAX_ATTRIBUTES",get:function(){return n.getMaxAttributes(this.gl)}}],[{key:"_setConstantFloatArray",value:function(e,t,n){switch(n.length){case 1:e.vertexAttrib1fv(t,n);break;case 2:e.vertexAttrib2fv(t,n);break;case 3:e.vertexAttrib3fv(t,n);break;case 4:e.vertexAttrib4fv(t,n);break;default:Object(l.a)(!1)}}},{key:"_setConstantIntArray",value:function(e,t,n){switch(Object(l.a)(Object(a.i)(e)),n.length){case 1:e.vertexAttribI1iv(t,n);break;case 2:e.vertexAttribI2iv(t,n);break;case 3:e.vertexAttribI3iv(t,n);break;case 4:e.vertexAttribI4iv(t,n);break;default:Object(l.a)(!1)}}},{key:"_setConstantUintArray",value:function(e,t,n){switch(Object(l.a)(Object(a.i)(e)),n.length){case 1:e.vertexAttribI1uiv(t,n);break;case 2:e.vertexAttribI2uiv(t,n);break;case 3:e.vertexAttribI3uiv(t,n);break;case 4:e.vertexAttribI4uiv(t,n);break;default:Object(l.a)(!1)}}}]),n}(b.a),P=n(527),j=/^(.+)__LOCATION_([0-9]+)$/,T=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],M=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e);var r=n.id||n.program&&n.program.id;this.id=r,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new A(t),Object(P.a)(this,"VertexArray","v6.0",T),this.initialize(n),Object.seal(this)}return Object(o.a)(e,[{key:"delete",value:function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var e=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(e){var t=this;return Object.assign(this.attributes,e),this.vertexArrayObject.bind((function(){for(var n in e){var r=e[n];t._setAttribute(n,r)}t.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}},{key:"setBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,n);var r=this._resolveLocationAndAccessor(e,t,t.accessor,n),i=r.location,o=r.accessor;return i>=0&&(this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,t,o)),this}},{key:"setConstant",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},n)),i=r.location,o=r.accessor;return i>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.vertexArrayObject.setElementBuffer(null),e.buffer=e.buffer||new d.a(e.gl,{accessor:{size:4}});for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++)e.values[t]instanceof d.a&&(e.gl.disableVertexAttribArray(t),e.gl.bindBuffer(34962,e.buffer.handle),e.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.setElementBuffer(e.elements);for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++){var n=e.values[t];n instanceof d.a&&e.setBuffer(t,n)}})),this}},{key:"bindForDraw",value:function(e,t,n){var r,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(e,t),r=n()})),r}},{key:"_resolveLocationAndAccessor",value:function(e,t,n,r){var i=this,o={location:-1,accessor:null},s=this._getAttributeIndex(e),u=s.location,c=s.name;if(!Number.isFinite(u)||u<0)return this.unused[e]=t,a.j.once(3,(function(){return"unused value ".concat(e," in ").concat(i.id)}))(),o;var f=this._getAttributeInfo(c||u);if(!f)return o;var d=this.accessors[u]||{},p=h.a.resolve(f.accessor,d,n,r),g=p.size,m=p.type;return Object(l.a)(Number.isFinite(g)&&Number.isFinite(m)),{location:u,accessor:p}}},{key:"_getAttributeInfo",value:function(e){return this.configuration&&this.configuration.getAttributeInfo(e)}},{key:"_getAttributeIndex",value:function(e){var t=Number(e);if(Number.isFinite(t))return{location:t};var n=j.exec(e),r=n?n[1]:e,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}},{key:"_setAttribute",value:function(e,t){if(t instanceof d.a)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof d.a){var n=t[0],r=t[1];this.setBuffer(e,n,r)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){var i=t;this.setConstant(e,i)}else{if(!(t.buffer instanceof d.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var o=t;this.setBuffer(e,o.buffer,o)}}},{key:"_setConstantAttributes",value:function(e,t){var n=Math.max(0|e,0|t),r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}},{key:"_setConstantAttributeZero",value:function(e,t){if(A.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,e);else{var n=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(e,t){A.setConstant(this.gl,e,t)}},{key:"_updateDrawParams",value:function(){for(var e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}},{key:"_updateDrawParamsForLocation",value:function(e,t){var n=this.values[t],r=this.accessors[t];if(n){var i=r.divisor>0;if(e.isInstanced=e.isInstanced||i,n instanceof d.a){var o=n;if(i){var a=o.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,a)}else{var s=o.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,s)}}}}},{key:"setElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.j.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}]),e}(),R=n(552),L=n(104),I=n(94);function D(e,t){for(var n=t.maxElts,r=void 0===n?16:n,i=t.size,o=void 0===i?1:i,a="[",s=0;s<e.length&&s<r;++s)s>0&&(a+=",".concat(s%o===0?" ":"")),a+=z(e[s],t);var u=e.length>r?"...":"]";return"".concat(a).concat(u)}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1e-16,r=t.isInteger,i=void 0!==r&&r;if(Array.isArray(e)||ArrayBuffer.isView(e))return D(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<n)return i?"0":"0.";if(i)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var o=e.toPrecision(2),a=o.indexOf(".0");return a===o.length-2?o.slice(0,-1):o}function F(e,t,n,i){var o,a,s=e.gl;if(!t)return a={},Object(r.a)(a,i,"null"),Object(r.a)(a,"Format ","N/A"),a;var u,l,c,f="NOT PROVIDED",h=1,p=0,g=0;if(n&&(f=n.type,h=n.size,u=-1!==(f=String(f).replace("Array","")).indexOf("nt")),t instanceof d.a){var m,v,y=t,b=y.getDebugData(),_=b.data;if(l=b.changed?"*":"",c=_,p=(g=y.byteLength)/_.BYTES_PER_ELEMENT/h,n){var w=n.divisor>0;v="".concat(w?"I ":"P "," ").concat(p," (x").concat(h,"=").concat(g," bytes ").concat(Object(L.a)(s,f),")")}else u=!0,v="".concat(g," bytes");return m={},Object(r.a)(m,i,"".concat(l).concat(z(c,{size:h,isInteger:u}))),Object(r.a)(m,"Format ",v),m}return c=t,h=t.length,u=-1!==(f=String(t.constructor.name).replace("Array","")).indexOf("nt"),o={},Object(r.a)(o,i,"".concat(z(c,{size:h,isInteger:u})," (constant)")),Object(r.a)(o,"Format ","".concat(h,"x").concat(f," (constant)")),o}function N(e,t){var n=t.type,r=t.size,i=Object(I.b)(n,r);return i?"".concat(e," (").concat(i.name,")"):e}function B(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e){var t=e.header,n=void 0===t?"Uniforms":t,i=e.program,o=e.uniforms,a=e.undefinedOnly,s=void 0!==a&&a;Object(l.a)(i);var u,c=".*Matrix",f=i._uniformSetters,h={},d=Object.keys(f).sort(),p=0,g=B(d);try{for(g.s();!(u=g.n()).done;){var m=u.value;m.match(".*_.*")||m.match(c)||U({table:h,header:n,uniforms:o,uniformName:m,undefinedOnly:s})&&p++}}catch(C){g.e(C)}finally{g.f()}var v,y=B(d);try{for(y.s();!(v=y.n()).done;){var b=v.value;b.match(c)&&U({table:h,header:n,uniforms:o,uniformName:b,undefinedOnly:s})&&p++}}catch(C){y.e(C)}finally{y.f()}var _,w=B(d);try{for(w.s();!(_=w.n()).done;){var x=_.value;h[x]||U({table:h,header:n,uniforms:o,uniformName:x,undefinedOnly:s})&&p++}}catch(C){w.e(C)}finally{w.f()}var O=0,k={};if(!s)for(var S in o){var E=o[S];h[S]||(O++,k[S]=Object(r.a)({Type:"NOT USED: ".concat(E)},n,z(E)))}return{table:h,count:p,unusedTable:k,unusedCount:O}}function U(e){var t,n=e.table,i=e.header,o=e.uniforms,a=e.uniformName,s=e.undefinedOnly,u=o[a],l=function(e){return void 0!==e&&null!==e}(u);return(!s||!l)&&(n[a]=(t={},Object(r.a)(t,i,l?z(u):"N/A"),Object(r.a)(t,"Uniform Type",l?u:"NOT PROVIDED"),t),!0)}function W(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=e.accessor,n=t.type,r=t.size,i=Object(I.b)(n,r);return i?"".concat(i.name," ").concat(e.name):e.name}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function K(e,t){var n=(t||{}).attributeMap,r=void 0===n?Z:n;return r&&r[e]||e}function Y(e,t){var n;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}Object(l.a)(Number.isFinite(t.size),"attribute ".concat(e," needs size"))}var J=function(){},Q={},ee=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e);var r=n.id,o=void 0===r?Object(u.c)("model"):r;Object(l.a)(Object(a.h)(t)),this.id=o,this.gl=t,this.id=n.id||Object(u.c)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(n)}return Object(o.a)(e,[{key:"initialize",value:function(e){this.props={},this.programManager=e.programManager||s.a.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var t=e.program,n=void 0===t?null:t,r=e.vs,i=e.fs,o=e.modules,a=e.defines,u=e.inject,c=e.varyings,f=e.bufferMode,h=e.transpileToGLSL100;this.programProps={program:n,vs:r,fs:i,modules:o,defines:a,inject:u,varyings:c,bufferMode:f,transpileToGLSL100:h},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},Object(l.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(e){this._setModelProps(e)}},{key:"delete",value:function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(e){var t=e.program,n=e.vs,r=e.fs,i=e.modules,o=e.defines,a=e.inject,s=e.varyings,u=e.bufferMode,l=e.transpileToGLSL100;this.programProps={program:t,vs:n,fs:r,modules:i,defines:o,inject:a,varyings:s,bufferMode:u,transpileToGLSL100:l},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(e){return this.drawMode=e,this}},{key:"setVertexCount",value:function(e){return Object(l.a)(Number.isFinite(e)),this.vertexCount=e,this}},{key:"setInstanceCount",value:function(e){return Object(l.a)(Number.isFinite(e)),this.instanceCount=e,this}},{key:"setGeometry",value:function(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,n){var r={},i=t.indices;for(var o in t.attributes){var a=t.attributes[o],s=K(o,n);if("indices"===o)i=a;else if(a.constant)r[s]=a.value;else{var u=a.value,c=X({},a);delete c.value,r[s]=[new d.a(e,u),c],Y(o,c)}}if(i){var f=i.value||i;Object(l.a)(f instanceof Uint16Array||f instanceof Uint32Array,'attribute array for "indices" must be of integer type');var h={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new d.a(e,{data:f,target:34963}),h]}return r}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.a)(e))return this;var t={};for(var n in e){var r=e[n];t[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,e),this}},{key:"getModuleUniforms",value:function(e){this._checkProgram();var t=this.programManager.getUniforms(this.program);return t?t(e):{}}},{key:"updateModuleSettings",value:function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)}},{key:"clear",value:function(e){return Object(c.a)(this.program.gl,e),this}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var t,n=e.moduleSettings,r=void 0===n?null:n,i=e.framebuffer,o=e.uniforms,s=void 0===o?{}:o,u=e.attributes,l=void 0===u?{}:u,c=e.transformFeedback,f=void 0===c?this.transformFeedback:c,h=e.parameters,d=void 0===h?{}:h,p=e.vertexArray,g=void 0===p?this.vertexArray:p;this.setAttributes(l),this.updateModuleSettings(r),this.setUniforms(s),a.j.priority>=2&&(t=this._logDrawCallStart(2));var m=this.vertexArray.getDrawParams(),v=this.props,y=v.isIndexed,b=void 0===y?m.isIndexed:y,_=v.indexType,w=void 0===_?m.indexType:_,x=v.indexOffset,O=void 0===x?m.indexOffset:x,k=v.vertexArrayInstanced,S=void 0===k?m.isInstanced:k;S&&!this.isInstanced&&a.j.warn("Found instanced attributes on non-instanced model",this.id)();var E=this.isInstanced,C=this.instanceCount,A=this.props,P=A.onBeforeRender,j=void 0===P?J:P,T=A.onAfterRender,M=void 0===T?J:T;j(),this.program.setUniforms(this.uniforms);var R=this.program.draw(Object.assign(Q,e,{logPriority:t,uniforms:null,framebuffer:i,parameters:d,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:g,transformFeedback:f,isIndexed:b,indexType:w,isInstanced:E,instanceCount:C,offset:b?O:0}));return M(),a.j.priority>=2&&this._logDrawCallEnd(t,g,i),R}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discard,n=void 0===t||t,i=e.feedbackBuffers,o=e.unbindModels,a=void 0===o?[]:o,s=e.parameters;i&&this._setFeedbackBuffers(i),n&&(s=Object.assign({},s,Object(r.a)({},35977,n))),a.forEach((function(e){return e.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},e,{parameters:s}))}finally{a.forEach((function(e){return e.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.j.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}},{key:"_setModelProps",value:function(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}},{key:"_checkProgram",value:function(){if(this._programDirty||this.programManager.stateHash!==this._programManagerState){var e=this.programProps.program;if(e)this._managedProgram=!1;else{var t=this.programProps,n=t.vs,r=t.fs,i=t.modules,o=t.inject,a=t.defines,s=t.varyings,u=t.bufferMode,c=t.transpileToGLSL100;e=this.programManager.get({vs:n,fs:r,modules:i,inject:o,defines:a,varyings:s,bufferMode:u,transpileToGLSL100:c}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}Object(l.a)(e instanceof f.a,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new M(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var e in this.geometryBuffers){var t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof d.a&&t.delete()}}},{key:"_setAnimationProps",value:function(e){this.animated&&Object(l.a)(e,"Model.draw(): animated uniforms but no animationProps")}},{key:"_setFeedbackBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.a)(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new R.a(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}},{key:"_logDrawCallStart",value:function(e){var t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),a.j.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:a.j.level<=2})(),e}},{key:"_logDrawCallEnd",value:function(e,t,n,i){if(void 0!==e){var o=function(e){var t=e.vertexArray,n=e.header,r=void 0===n?"Attributes":n;if(!t.configuration)return{};var i={};t.elements&&(i.ELEMENT_ARRAY_BUFFER=F(t,t.elements,null,r));var o=t.values;for(var a in o){var s=t._getAttributeInfo(a);if(s){var u="".concat(a,": ").concat(s.name),l=t.accessors[s.location];l&&(u="".concat(a,": ").concat(N(s.name,l))),i[u]=F(t,o[a],l,r)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),s=$({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),u=s.table,l=s.unusedTable,c=s.unusedCount,f=$({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0}),h=f.table;f.count>0&&a.j.log("MISSING UNIFORMS",Object.keys(h))(),c>0&&a.j.log("UNUSED UNIFORMS",Object.keys(l))();var d=function(e){var t,n={},i="Accessors for ".concat(e.id),o=W(e.attributeInfos);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a){var s=G(a);n["in ".concat(s)]=Object(r.a)({},i,JSON.stringify(a.accessor))}}}catch(h){o.e(h)}finally{o.f()}var u,l=W(e.varyingInfos);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c){var f=G(c);n["out ".concat(f)]=Object(r.a)({},i,JSON.stringify(c.accessor))}}}catch(h){l.e(h)}finally{l.f()}return n}(this.vertexArray.configuration);a.j.table(e,o)(),a.j.table(e,u)(),a.j.table(e+1,d)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),a.j.groupEnd(2,">>> DRAWING MODEL ".concat(this.id))()}}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var r=n(5),i=n(4),o=n(8),a=n(2),s=n(88),u=n(181),l=n(19),c={number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},array:{validate:function(e,t){return Array.isArray(e)||ArrayBuffer.isView(e)}}};function f(e){var t=h(e);return"object"===t?e?"type"in e?Object.assign({},e,c[e.type]):"value"in e?(t=h(e.value),Object.assign({type:t},e,c[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},c[t])}function h(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":Object(l.a)(e)}var d=function(){function e(t){var n=t.name,i=t.vs,o=t.fs,a=t.dependencies,s=void 0===a?[]:a,l=t.uniforms,c=t.getUniforms,h=t.deprecations,d=void 0===h?[]:h,p=t.defines,g=void 0===p?{}:p,m=t.inject,v=void 0===m?{}:m,y=t.vertexShader,b=t.fragmentShader;Object(r.a)(this,e),Object(u.a)("string"===typeof n),this.name=n,this.vs=i||y,this.fs=o||b,this.getModuleUniforms=c,this.dependencies=s,this.deprecations=this._parseDeprecationDefinitions(d),this.defines=g,this.injections=function(e){var t={vs:{},fs:{}};for(var n in e){var r=e[n];"string"===typeof r&&(r={order:0,injection:r}),t[n.slice(0,2)][n]=r}return t}(v),l&&(this.uniforms=function(e){var t={};for(var n in e){var r=f(e[n]);t[n]=r}return t}(l))}return Object(i.a)(e,[{key:"getModuleSource",value:function(e){var t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:Object(u.a)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(e,t){this.deprecations.forEach((function(n){n.regex.test(e)&&(n.deprecated?t.deprecated(n.old,n.new)():t.removed(n.old,n.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(e){return e.forEach((function(e){switch(e.type){case"function":e.regex=new RegExp("\\b".concat(e.old,"\\("));break;default:e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))}})),e}},{key:"_defaultGetUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=this.uniforms;for(var r in n){var i=n[r];r in e&&!i.private?(i.validate&&Object(u.a)(i.validate(e[r],i),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=i.value}return t}}]),e}();function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return v(b(e))}function v(e){var t={},n={};return y({modules:e,level:0,moduleMap:t,moduleDepth:n}),Object.keys(n).sort((function(e,t){return n[t]-n[e]})).map((function(e){return t[e]}))}function y(e){var t=e.modules,n=e.level,r=e.moduleMap,i=e.moduleDepth;if(n>=5)throw new Error("Possible loop in shader dependency graph");var o,a=p(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;r[s.name]=s,(void 0===i[s.name]||i[s.name]<n)&&(i[s.name]=n)}}catch(f){a.e(f)}finally{a.f()}var u,l=p(t);try{for(l.s();!(u=l.n()).done;){var c=u.value;c.dependencies&&y({modules:c.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}}catch(f){l.e(f)}finally{l.f()}}function b(e,t){return e.map((function(e){return e instanceof d||(Object(u.a)("string"!==typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),Object(u.a)(e.name,"shader module has no name"),(e=new d(e)).dependencies=b(e.dependencies)),e}))}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!==typeof window&&window.navigator||{},n=e.userAgent||t.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}var w={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},x={};Object.keys(w).forEach((function(e){x[e]=e}));var O={};function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=w[t];if(Object(u.a)(r,t),!_(n))return!0;if(t in O)return O[t];var i=r[0],o=n.behavior||"enable",a="#extension GL_".concat(i," : ").concat(o,"\nvoid main(void) {}"),s=e.createShader(35633);e.shaderSource(s,a),e.compileShader(s);var l=e.getShaderParameter(s,35713);return e.deleteShader(s),O[t]=l,l}function S(e,t){var n=w[t];Object(u.a)(n,t);var r=function(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}(e)&&n[1]||n[0],i="string"===typeof r?Boolean(e.getExtension(r)):r;return Object(u.a)(!1===i||!0===i),i}function E(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return S(e,t)}))}var C=n(182);function A(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j,T=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],M=[].concat(T,[[/^[ \t]*attribute[ \t]+(.+;)/gm,"in $1"],[/^[ \t]*varying[ \t]+(.+;)/gm,"out $1"]]),R=[].concat(T,[[/^[ \t]*varying[ \t]+(.+;)/gm,"in $1"]]),L=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],I=[].concat(L,[[/^[ \t]*in[ \t]+(.+;)/gm,"attribute $1"],[/^[ \t]*out[ \t]+(.+;)/gm,"varying $1"]]),D=[].concat(L,[[/^[ \t]*in[ \t]+/gm,"varying "]]),z=/^[ \t]*out[ \t]+vec4[ \t]+(\w+)[ \t]*;\s+/m;function F(e,t,n){switch(t){case 300:return N(e,n?M:R);case 100:return n?N(e,I):function(e){var t=(e=N(e,D)).match(z);if(t){var n=t[1];e=e.replace(z,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),"gl_FragColor")}return e}(e);default:throw new Error("unknown GLSL version ".concat(t))}}function N(e,t){var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=Object(o.a)(n.value,2),a=i[0],s=i[1];e=e.replace(a,s)}}catch(u){r.e(u)}finally{r.f()}return e}function B(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $="\n\n".concat(C.a,"\n\n"),U=(j={},Object(a.a)(j,s.b,"vertex"),Object(a.a)(j,s.a,"fragment"),j);function W(e,t){var n=t.vs,r=t.fs,i=m(t.modules||[]);return{gl:e,vs:H(e,Object.assign({},t,{source:n,type:s.b,modules:i})),fs:H(e,Object.assign({},t,{source:r,type:s.a,modules:i})),getUniforms:G(i)}}function H(e,t){var n=t.id,r=t.source,i=t.type,a=t.modules,l=t.defines,c=void 0===l?{}:l,f=t.hookFunctions,h=void 0===f?[]:f,d=t.inject,p=void 0===d?{}:d,g=t.transpileToGLSL100,m=void 0!==g&&g,v=t.prologue,y=void 0===v||v,b=t.log;Object(u.a)("string"===typeof r,"shader source must be a string");var _=i===s.b,w=r.split("\n"),O=100,S="",A=r;0===w[0].indexOf("#version ")?(O=300,S=w[0],A=w.slice(1).join("\n")):S="#version ".concat(O);var P={};a.forEach((function(e){Object.assign(P,e.getDefines())})),Object.assign(P,c);var j=y?"".concat(S,"\n").concat(function(e){var t=e.id,n=e.source,r=e.type;return t&&"string"===typeof t&&-1===n.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(t,"_").concat(U[r],"\n\n"):""}({id:n,source:r,type:i}),"\n").concat(function(e){var t=e.type;return"\n#define SHADER_TYPE_".concat(U[t].toUpperCase(),"\n")}({type:i}),"\n").concat(function(e){switch(function(e){var t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||7936),r=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||7937);return{gpuVendor:function(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(n,r),vendor:n,renderer:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(e),"\n").concat(function(e,t,n){var r="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return E(e,x.GLSL_FRAG_DEPTH)&&(r+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),E(e,x.GLSL_DERIVATIVES)&&k(e,x.GLSL_DERIVATIVES)&&(r+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),E(e,x.GLSL_FRAG_DATA)&&k(e,x.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),E(e,x.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),r}(e),"\n").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(var r in e){0===t&&(n+="\n// APPLICATION DEFINES\n"),t++;var i=e[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(e[r],"\n"))}0===t&&(n+="\n");return n}(P),"\n").concat(_?"":"precision highp float;\n\n","\n"):"".concat(S,"\n"),T=function(e){var t={vs:{},fs:{}};return e.forEach((function(e){var n;"string"!==typeof e?e=(n=e).hook:n={};var r=(e=e.trim()).split(":"),i=Object(o.a)(r,2),a=i[0],s=i[1],u=e.replace(/\(.+/,"");t[a][u]=Object.assign(n,{signature:s})})),t}(h),M={},R={},L={};for(var I in p){var D="string"===typeof p[I]?{injection:p[I],order:0}:p[I],z=I.match(/^(v|f)s:(#)?([\w-]+)$/);if(z){var N=z[2],V=z[3];N?"decl"===V?R[I]=[D]:L[I]=[D]:M[I]=[D]}else L[I]=[D]}var W,H=B(a);try{for(H.s();!(W=H.n()).done;){var G=W.value;b&&G.checkDeprecations(A,b),j+=G.getModuleSource(i,O);var q=G.injections[i];for(var X in q){var Z=X.match(/^(v|f)s:#([\w-]+)$/);if(Z){var K="decl"===Z[2]?R:L;K[X]=K[X]||[],K[X].push(q[X])}else M[X]=M[X]||[],M[X].push(q[X])}}}catch(Y){H.e(Y)}finally{H.f()}return j+=$,j=Object(C.c)(j,i,R),j+=function(e,t){var n="";for(var r in e){var i=e[r];if(n+="void ".concat(i.signature," {\n"),i.header&&(n+="  ".concat(i.header)),t[r]){var o=t[r];o.sort((function(e,t){return e.order-t.order}));var a,s=B(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;n+="  ".concat(u.injection,"\n")}}catch(Y){s.e(Y)}finally{s.f()}}i.footer&&(n+="  ".concat(i.footer)),n+="}\n"}return n}(T[i],M),j+=A,j=F(j=Object(C.c)(j,i,L),m?100:O,_)}function G(e){return function(t){var n,r={},i=B(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.getUniforms(t,r);Object.assign(r,o)}}catch(a){i.e(a)}finally{i.f()}return r}}var q=n(557);function X(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=function(){function e(t){Object(r.a)(this,e),this.gl=t,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return Object(i.a)(e,null,[{key:"getDefaultProgramManager",value:function(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new e(t),t.luma.defaultProgramManager}}]),Object(i.a)(e,[{key:"addDefaultModule",value:function(e){this._defaultModules.find((function(t){return t.name===e.name}))||this._defaultModules.push(e),this.stateHash++}},{key:"removeDefaultModule",value:function(e){var t="string"===typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((function(e){return e.name!==t})),this.stateHash++}},{key:"addShaderHook",value:function(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}},{key:"get",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.vs,i=void 0===r?"":r,o=n.fs,a=void 0===o?"":o,s=n.defines,u=void 0===s?{}:s,l=n.inject,c=void 0===l?{}:l,f=n.varyings,h=void 0===f?[]:f,d=n.bufferMode,p=void 0===d?35981:d,g=n.transpileToGLSL100,m=void 0!==g&&g,v=this._getModuleList(n.modules),y=this._getHash(i),b=this._getHash(a),_=v.map((function(e){return t._getHash(e.name)})).sort(),w=h.map((function(e){return t._getHash(e)})),x=Object.keys(u).sort(),O=Object.keys(c).sort(),k=[],S=[],E=X(x);try{for(E.s();!(e=E.n()).done;){var C=e.value;k.push(this._getHash(C)),k.push(this._getHash(u[C]))}}catch(R){E.e(R)}finally{E.f()}var A,P=X(O);try{for(P.s();!(A=P.n()).done;){var j=A.value;S.push(this._getHash(j)),S.push(this._getHash(c[j]))}}catch(R){P.e(R)}finally{P.f()}var T="".concat(y,"/").concat(b,"D").concat(k.join("/"),"M").concat(_.join("/"),"I").concat(S.join("/"),"V").concat(w.join("/"),"H").concat(this.stateHash,"B").concat(p).concat(m?"T":"");if(!this._programCache[T]){var M=W(this.gl,{vs:i,fs:a,modules:v,inject:c,defines:u,hookFunctions:this._hookFunctions,transpileToGLSL100:m});this._programCache[T]=new q.a(this.gl,{hash:T,vs:M.vs,fs:M.fs,varyings:h,bufferMode:p}),this._getUniforms[T]=M.getUniforms||function(e){},this._useCounts[T]=0}return this._useCounts[T]++,this._programCache[T]}},{key:"getUniforms",value:function(e){return this._getUniforms[e.hash]||null}},{key:"release",value:function(e){var t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}},{key:"_getHash",value:function(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}},{key:"_getModuleList",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Array(this._defaultModules.length+e.length),n={},r=0,i=0,o=this._defaultModules.length;i<o;++i){var a=this._defaultModules[i],s=a.name;t[r++]=a,n[s]=!0}for(var u=0,l=e.length;u<l;++u){var c=e[u],f=c.name;n[f]||(t[r++]=c,n[f]=!0)}return t.length=r,t}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return E}));var r=n(2),i=n(126),o=n(12),a=n.n(o),s=n(20),u=n(5),l=n(4),c=n(27),f=n(13),h=n(15),d=n(6),p=n(9),g=n(62);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var i=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var v=[34069,34070,34071,34072,34073,34074],y=function(e){Object(f.a)(n,e);var t=m(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,n),Object(p.b)(e),(r=t.call(this,e,Object.assign({},i,{target:34067}))).initialize(i),Object.seal(Object(c.a)(r)),r}return Object(l.a)(n,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.mipmaps,r=void 0===n||n,i=t.parameters,o=void 0===i?{}:i;return this.opts=t,this.setCubeMapImageData(t).then((function(){e.loaded=!0,r&&e.generateMipmap(t),e.setParameters(o)})),this}},{key:"subImage",value:function(e){var t=e.face,n=e.data,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:n,x:i,y:a,mipmapLevel:u})}},{key:"setCubeMapImageData",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o,s,u,l,c,f,h,d,g,m,y=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.width,r=t.height,i=t.pixels,o=t.data,s=t.border,u=void 0===s?0:s,l=t.format,c=void 0===l?6408:l,f=t.type,h=void 0===f?5121:f,d=this.gl,g=i||o,e.next=5,Promise.all(v.map((function(e){var t=g[e];return Promise.all(Array.isArray(t)?t:[t])})));case 5:m=e.sent,this.bind(),v.forEach((function(e,t){m[t].length>1&&!1!==y.opts.mipmaps&&p.j.warn("".concat(y.id," has mipmap and multiple LODs."))(),m[t].forEach((function(t,i){n&&r?d.texImage2D(e,i,c,n,r,u,c,h,t):d.texImage2D(e,i,c,c,h,t)}))})),this.unbind();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setImageDataForFace",value:function(e){var t=this,n=e.face,r=e.width,i=e.height,o=e.pixels,a=e.data,s=e.border,u=void 0===s?0:s,l=e.format,c=void 0===l?6408:l,f=e.type,h=void 0===f?5121:f,d=this.gl,p=o||a;return this.bind(),p instanceof Promise?p.then((function(r){return t.setImageDataForFace(Object.assign({},e,{face:n,data:r,pixels:r}))})):this.width||this.height?d.texImage2D(n,0,c,r,i,u,c,h,p):d.texImage2D(n,0,c,c,h,p),this}}]),n}(g.a);y.FACES=v;var b=n(96),_=n(49);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var i=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var x=function(e){Object(f.a)(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,n),Object(p.a)(e),i=Object.assign({depth:1},i,{target:32879,unpackFlipY:!1}),(r=t.call(this,e,i)).initialize(i),Object.seal(Object(c.a)(r)),r}return Object(l.a)(n,null,[{key:"isSupported",value:function(e){return Object(p.i)(e)}}]),Object(l.a)(n,[{key:"setImageData",value:function(e){var t=this,n=e.level,r=void 0===n?0:n,i=e.dataFormat,o=void 0===i?6408:i,a=e.width,s=e.height,u=e.depth,l=void 0===u?1:u,c=e.border,f=void 0===c?0:c,h=e.format,d=e.type,g=void 0===d?5121:d,m=e.offset,v=void 0===m?0:m,y=e.data,w=e.parameters,x=void 0===w?{}:w;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(p.n)(this.gl,x,(function(){ArrayBuffer.isView(y)&&t.gl.texImage3D(t.target,r,o,a,s,l,f,h,g,y),y instanceof _.a&&(t.gl.bindBuffer(35052,y.handle),t.gl.texImage3D(t.target,r,o,a,s,l,f,h,g,v))})),y&&y.byteLength)this._trackAllocatedMemory(y.byteLength,"Texture");else{var O=b.a[this.dataFormat]||4,k=b.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*O*k,"Texture")}return this.loaded=!0,this}}]),n}(g.a),O=n(84),k=n(33);function S(e,t){Object(k.a)(e instanceof i.a||e instanceof y||e instanceof x);var n=e.constructor,r=e.gl,o=e.width,a=e.height,s=e.format,u=e.type,l=e.dataFormat,c=e.border,f=e.mipmaps;return new n(r,Object.assign({width:o,height:a,format:s,type:u,dataFormat:l,border:c,mipmaps:f},t))}function E(e,t){var n=e.gl,i=e.width,o=e.height,a=e.id;return new O.a(n,Object.assign({},t,{id:"framebuffer-for-".concat(a),width:i,height:o,attachments:Object(r.a)({},36064,e)}))}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},,,,,,,,,,,function(e,t,n){"use strict";var r=n(187),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+E(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+E(s=e[l],l);u+=C(s,t,n,c,a)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,c=r+E(s,l++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var j={current:null};function T(){var e=j.current;if(null===e)throw Error(d(321));return e}var M={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(0),i=n(187),o=n(330);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},g={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(g,e)||!d.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,O=60106,k=60107,S=60108,E=60114,C=60109,A=60110,P=60112,j=60113,T=60120,M=60115,R=60116,L=60121,I=60128,D=60129,z=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var N=Symbol.for;x=N("react.element"),O=N("react.portal"),k=N("react.fragment"),S=N("react.strict_mode"),E=N("react.profiler"),C=N("react.provider"),A=N("react.context"),P=N("react.forward_ref"),j=N("react.suspense"),T=N("react.suspense_list"),M=N("react.memo"),R=N("react.lazy"),L=N("react.block"),N("react.scope"),I=N("react.opaque.id"),D=N("react.debug_trace_mode"),z=N("react.offscreen"),F=N("react.legacy_hidden")}var B,V="function"===typeof Symbol&&Symbol.iterator;function $(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function U(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function G(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case O:return"Portal";case E:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return q(e.type);case L:return q(e._render);case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function le(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,me,ve=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Oe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Pe=null;function je(e){if(e=ei(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ni(t),Ce(e.stateNode,e.type,t))}}function Te(e){Ae?Pe?Pe.push(e):Pe=[e]:Ae=e}function Me(){if(Ae){var e=Ae,t=Pe;if(Pe=Ae=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Re(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Ie(){}var De=Re,ze=!1,Fe=!1;function Ne(){null===Ae&&null===Pe||(Ie(),Me())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(f)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch(me){Ve=!1}function Ue(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var We=!1,He=null,Ge=!1,qe=null,Xe={onError:function(e){We=!0,He=e}};function Ze(e,t,n,r,i,o,a,s,u){We=!1,He=null,Ue.apply(Xe,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ke(e)!==e)throw Error(a(188))}function Qe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,lt=null,ct=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=Qr(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function xt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)vt(n),null===n.blockedOn&&ht.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},St={},Et={};function Ct(e){if(St[e])return St[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var At=Ct("animationend"),Pt=Ct("animationiteration"),jt=Ct("animationstart"),Tt=Ct("transitionend"),Mt=new Map,Rt=new Map,Lt=["abort","abort",At,"animationEnd",Pt,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Mt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Dt=8;function zt(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Dt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Dt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=zt(u),i=Dt):0!==(s&=o)&&(r=zt(s),i=Dt)}else 0!==(o=n&~a)?(r=zt(o),i=Dt):0!==s&&(r=zt(s),i=Dt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(zt(t),i<=Dt)return t;Dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Bt(10,t):e;case 10:return 0===(e=Vt(192&~t))?Bt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function $t(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ut(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Gt|0)|0},Ht=Math.log,Gt=Math.LN2;var qt=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority,Zt=!0;function Kt(e,t,n,r){ze||Ie();var i=Jt,o=ze;ze=!0;try{Le(i,e,t,n,r)}finally{(ze=o)||Ne()}}function Yt(e,t,n,r){Xt(qt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Zt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,mt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Mr(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Ee(r);if(null!==(i=Qr(i))){var o=Ke(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),gn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=un(mn),yn=un(i({},mn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=un(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=un(i({},hn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var An=un(i({},pn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Pn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=un(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Ln=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var Dn=f&&"TextEvent"in window&&!In,zn=f&&(!Ln||In&&8<In&&11>=In),Fn=String.fromCharCode(32),Nn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Xn(e){Er(e,0)}function Zn(e){if(Y(ti(e)))return e}function Kn(e,t){if("change"===e)return t}var Yn=!1;if(f){var Jn;if(f){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(qn)){var t=[];if(Hn(t,qn,e,Ee(e)),e=Xn,ze)e(t);else{ze=!0;try{Re(e,t)}finally{ze=!1,Ne()}}}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(qn)}function or(e,t){if("click"===e)return Zn(t)}function ar(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Lr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Lt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<wr.length;xr++)Rt.set(wr[xr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ze.apply(this,arguments),We){if(!We)throw Error(a(198));var c=He;We=!1,He=null,Ge||(Ge=!0,qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,l),o=u}}}if(Ge)throw e=qe,Ge=!1,qe=null,e}function Cr(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){kr.has(t)||jr(t,!1,e,null),jr(t,!0,e,null)})))}function jr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ri(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Tr(o,e,i,t),a.add(s))}function Tr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Qr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{De(e,t,n)}finally{Fe=!1,Ne()}}((function(){var r=o,i=Ee(n),a=[];e:{var s=Mt.get(e);if(void 0!==s){var u=dn,l=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=jn;break;case At:case Pt:case jt:u=_n;break;case Tt:u=Tn;break;case"scroll":u=gn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==h&&(null!=(g=Be(p,h))&&c.push(Rr(p,g,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!Qr(l)&&!l[Yr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Qr(l):null)&&(l!==(f=Ke(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=vn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,g="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ti(u),d=null==l?s:ti(l),(s=new c(g,p+"leave",u,n,i)).target=f,s.relatedTarget=d,g=null,Qr(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,g=c),f=g,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Ir(d))p++;for(d=0,g=h;g;g=Ir(g))d++;for(;0<p-d;)c=Ir(c),p--;for(;0<d-p;)h=Ir(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Ir(c),h=Ir(h)}c=null}else c=null;null!==u&&Dr(a,s,u,c,!1),null!==l&&null!==f&&Dr(a,f,l,c,!0)}if("select"===(u=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Kn;else if(Wn(s))if(Yn)m=ar;else{m=ir;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ti(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $n?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&($n||"onCompositionStart"!==b?"onCompositionEnd"===b&&$n&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,$n=!0)),0<(v=Lr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Nn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Ln&&Bn(e,t)?(e=rn(),nn=tn=en=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Er(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=Be(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Be(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=Be(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function zr(){}var Fr=null,Nr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,Ur="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0;var Xr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Xr,Kr="__reactProps$"+Xr,Yr="__reactContainer$"+Xr,Jr="__reactEvents$"+Xr;function Qr(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Zr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Zr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ni(e){return e[Kr]||null}function ri(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ii=[],oi=-1;function ai(e){return{current:e}}function si(e){0>oi||(e.current=ii[oi],ii[oi]=null,oi--)}function ui(e,t){oi++,ii[oi]=e.current,e.current=t}var li={},ci=ai(li),fi=ai(!1),hi=li;function di(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){si(fi),si(ci)}function mi(e,t,n){if(ci.current!==li)throw Error(a(168));ui(ci,t),ui(fi,n)}function vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,q(t)||"Unknown",o));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,hi=ci.current,ui(ci,e),ui(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,si(fi),si(ci),ui(ci,e)):si(fi),ui(fi,n)}var _i=null,wi=null,xi=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ei=o.unstable_requestPaint,Ci=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,ji=o.unstable_UserBlockingPriority,Ti=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Li={},Ii=void 0!==Ei?Ei:function(){},Di=null,zi=null,Fi=!1,Ni=Ci(),Bi=1e4>Ni?Ci:function(){return Ci()-Ni};function Vi(){switch(Ai()){case Pi:return 99;case ji:return 98;case Ti:return 97;case Mi:return 96;case Ri:return 95;default:throw Error(a(332))}}function $i(e){switch(e){case 99:return Pi;case 98:return ji;case 97:return Ti;case 96:return Mi;case 95:return Ri;default:throw Error(a(332))}}function Ui(e,t){return e=$i(e),xi(e,t)}function Wi(e,t,n){return e=$i(e),Oi(e,t,n)}function Hi(){if(null!==zi){var e=zi;zi=null,ki(e)}Gi()}function Gi(){if(!Fi&&null!==Di){Fi=!0;var e=0;try{var t=Di;Ui(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Di=null}catch(n){throw null!==Di&&(Di=Di.slice(e+1)),Oi(Pi,Hi),n}finally{Fi=!1}}}var qi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ai(null),Ki=null,Yi=null,Ji=null;function Qi(){Ji=Yi=Ki=null}function eo(e){var t=Zi.current;si(Zi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function no(e,t){Ki=e,Ji=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(La=!0),e.firstContext=null)}function ro(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Ki)throw Error(a(308));Yi=t,Ki.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=l)}}if(null!==a){for(h=o.baseState,s=0,f=c=l=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(u=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=g.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:io=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=d,l=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Fs|=s,e.lanes=s,e.memoizedState=h}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),o=so(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),fu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),o=so(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),fu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),i=so(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),uo(e,i),fu(e,r,n)}};function mo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function vo(e,t,n){var r=!1,i=li,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=pi(t)?hi:ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=pi(t)?hi:ci.current,i.context=di(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(po(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Oo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case O:return(t=Xu(t,e.mode,n)).return=e,t}if(_o(t)||$(t))return(t=Hu(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===k?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case O:return n.key===i?c(e,t,n,r):null}if(_o(n)||$(n))return null!==i?null:f(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case O:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||$(r))return f(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function g(i,a,s,u){for(var l=null,c=null,f=a,g=a=0,m=null;null!==f&&g<s.length;g++){f.index>g?(m=f,f=null):m=f.sibling;var v=d(i,f,s[g],u);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v,f=m}if(g===s.length)return n(i,f),l;if(null===f){for(;g<s.length;g++)null!==(f=h(i,s[g],u))&&(a=o(f,a,g),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);g<s.length;g++)null!==(m=p(f,i,g,s[g],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=$(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,g=s,m=s=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=d(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,g=v}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return c}for(g=r(i,g);!y.done;m++,y=u.next())null!==(y=p(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===k&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case x:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===k){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=wo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===k?((r=Hu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Wu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case O:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=qu(o,e.mode,u)).return=e,e=r),s(e);if(_o(o))return g(e,r,o,u);if($(o))return m(e,r,o,u);if(c&&xo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,q(e.type)||"Component"))}return n(e,r)}}var ko=Oo(!0),So=Oo(!1),Eo={},Co=ai(Eo),Ao=ai(Eo),Po=ai(Eo);function jo(e){if(e===Eo)throw Error(a(174));return e}function To(e,t){switch(ui(Po,t),ui(Ao,e),ui(Co,Eo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Co),ui(Co,t)}function Mo(){si(Co),si(Ao),si(Po)}function Ro(e){jo(Po.current);var t=jo(Co.current),n=pe(t,e.type);t!==n&&(ui(Ao,e),ui(Co,n))}function Lo(e){Ao.current===e&&(si(Co),si(Ao))}var Io=ai(0);function Do(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=null,Fo=null,No=!1;function Bo(e,t){var n=Vu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function $o(e){if(No){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=Hr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,No=!1,void(zo=e);Bo(zo,n)}zo=e,Fo=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,No=!1,zo=e}}function Uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zo=e}function Wo(e){if(e!==zo)return!1;if(!No)return Uo(e),No=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Fo;t;)Bo(e,t),t=Hr(t.nextSibling);if(Uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=zo?Hr(e.stateNode.nextSibling):null;return!0}function Ho(){Fo=zo=null,No=!1}var Go=[];function qo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Xo=w.ReactCurrentDispatcher,Zo=w.ReactCurrentBatchConfig,Ko=0,Yo=null,Jo=null,Qo=null,ea=!1,ta=!1;function na(){throw Error(a(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,i,o){if(Ko=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?ja:Ta,e=n(r,i),ta){o=0;do{if(ta=!1,!(25>o))throw Error(a(301));o+=1,Qo=Jo=null,t.updateQueue=null,Xo.current=Ma,e=n(r,i)}while(ta)}if(Xo.current=Pa,t=null!==Jo&&null!==Jo.next,Ko=0,Qo=Jo=Yo=null,ea=!1,t)throw Error(a(300));return e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qo?Yo.memoizedState=Qo=e:Qo=Qo.next=e,Qo}function aa(){if(null===Jo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Jo.next;var t=null===Qo?Yo.memoizedState:Qo.next;if(null!==t)Qo=t,Jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Jo=e).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Qo?Yo.memoizedState=Qo=e:Qo=Qo.next=e}return Qo}function sa(e,t){return"function"===typeof t?t(e):t}function ua(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Ko&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Yo.lanes|=c,Fs|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,sr(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function la(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ko&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(a(350))}function fa(e,t,n,r){var i=js;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Xo.current,l=u.useState((function(){return ca(i,t,n)})),c=l[1],f=l[0];l=Qo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,g=h.source;h=h.subscribe;var m=Yo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!sr(s,e)){e=n(t._source),sr(f,e)||(c(e),e=cu(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Wt(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=cu(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),sr(p,n)&&sr(g,t)&&sr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:f}).dispatch=c=Aa.bind(null,Yo,e),l.queue=e,l.baseQueue=null,f=ca(i,t,n),l.memoizedState=l.baseState=f),f}function ha(e,t,n){return fa(aa(),e,t,n)}function da(e){var t=oa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e}).dispatch=Aa.bind(null,Yo,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},oa().memoizedState=e}function ma(){return aa().memoizedState}function va(e,t,n,r){var i=oa();Yo.flags|=e,i.memoizedState=pa(1|t,n,void 0,void 0===r?null:r)}function ya(e,t,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void pa(t,n,o,r)}Yo.flags|=e,i.memoizedState=pa(1|t,n,o,r)}function ba(e,t){return va(516,4,e,t)}function _a(e,t){return ya(516,4,e,t)}function wa(e,t){return ya(4,2,e,t)}function xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,2,xa.bind(null,t,e),n)}function ka(){}function Sa(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=Vi();Ui(98>n?98:n,(function(){e(!0)})),Ui(97<n?97:n,(function(){var n=Zo.transition;Zo.transition=1;try{e(!1),t()}finally{Zo.transition=n}}))}function Aa(e,t,n){var r=lu(),i=cu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Yo||null!==a&&a===Yo)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,sr(u,s))return}catch(l){}fu(e,i,r)}}var Pa={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},ja={readContext:ro,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,va(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var n=oa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,Yo,e),[r.memoizedState,e]},useRef:ga,useState:da,useDebugValue:ka,useDeferredValue:function(e){var t=da(e),n=t[0],r=t[1];return ba((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return ga(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fa(r,e,t,n)},useOpaqueIdentifier:function(){if(No){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(a(355))})),n=da(t)[1];return 0===(2&Yo.mode)&&(Yo.flags|=516,pa(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return da(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},Ta={readContext:ro,useCallback:Sa,useContext:ro,useEffect:_a,useImperativeHandle:Oa,useLayoutEffect:wa,useMemo:Ea,useReducer:ua,useRef:ma,useState:function(){return ua(sa)},useDebugValue:ka,useDeferredValue:function(e){var t=ua(sa),n=t[0],r=t[1];return _a((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ua(sa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Ma={readContext:ro,useCallback:Sa,useContext:ro,useEffect:_a,useImperativeHandle:Oa,useLayoutEffect:wa,useMemo:Ea,useReducer:la,useRef:ma,useState:function(){return la(sa)},useDebugValue:ka,useDeferredValue:function(e){var t=la(sa),n=t[0],r=t[1];return _a((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=la(sa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return la(sa)[0]},unstable_isNewReconciler:!1},Ra=w.ReactCurrentOwner,La=!1;function Ia(e,t,n,r){t.child=null===e?So(t,null,n,r):ko(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=ia(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ia(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function za(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||$u(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Uu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0===(o&i))return t.lanes=e.lanes,ns(e,t,o);0!==(16384&e.flags)&&(La=!0)}return Va(e,t,n,r,o)}function Na(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(t,e),null;t.memoizedState={baseLanes:0},bu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bu(t,r);return Ia(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=pi(n)?hi:ci.current;return o=di(t,o),no(t,i),n=ia(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ia(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function $a(e,t,n,r,i){if(pi(n)){var o=!0;yi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ro(l):l=di(t,l=pi(n)?hi:ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&yo(t,a,r,l),io=!1;var h=t.memoizedState;a.state=h,co(t,r,a,i),u=t.memoizedState,s!==r||h!==u||fi.current||io?("function"===typeof c&&(po(t,n,c,r),u=t.memoizedState),(s=io||mo(t,n,s,r,h,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ao(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Xi(t.type,s),a.props=l,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=di(t,u=pi(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&yo(t,a,r,u),io=!1,h=t.memoizedState,a.state=h,co(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||fi.current||io?("function"===typeof d&&(po(t,n,d,r),p=t.memoizedState),(l=io||mo(t,n,l,r,h,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ua(e,t,n,r,o,i)}function Ua(e,t,n,r,i,o){Ba(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&bi(t,n,!1),ns(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Ia(e,t,s,o),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),To(e,t.containerInfo)}var Ha,Ga,qa,Xa={dehydrated:null,retryLane:0};function Za(e,t,n){var r,i=t.pendingProps,o=Io.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Io,1&o),null===e?(void 0!==i.fallback&&$o(t),e=i.children,o=i.fallback,a?(e=Ka(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ka(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=Gu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Ja(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=Ya(e,t,i.children,n),t.memoizedState=null,n))}function Ka(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Gu(t,i,0,null),n=Hu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ya(e,t,n,r){var i=e.child;return e=i.sibling,n=Uu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ja(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Uu(a,s),null!==e?r=Uu(e,r):(r=Hu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Qa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),to(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ia(e,t,r.children,n),0!==(2&(r=Io.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n);else if(19===e.tag)Qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Io,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Do(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Do(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!No)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&gi(),null;case 3:return Mo(),si(fi),si(ci),qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=jo(Po.current);if(n=t.type,null!==e&&null!=t.stateNode)Ga(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=jo(Co.current),Wo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[Kr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)Cr(Or[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var l in ke(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Cr("scroll",r));switch(n){case"input":K(r),re(r,s,!0);break;case"textarea":K(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=zr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Zr]=t,e[Kr]=r,Ha(e,t),t.stateNode=e,l=Se(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)Cr(Or[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=Q(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}ke(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ve(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Cr("scroll",e):null!=f&&_(e,s,f,l))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=zr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=jo(Po.current),jo(Co.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return si(Io),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Io.current)?0===Is&&(Is=3):(0!==Is&&3!==Is||(Is=4),null===js||0===(134217727&Fs)&&0===(134217727&Ns)||gu(js,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return eo(t),null;case 17:return pi(t.type)&&gi(),null;case 19:if(si(Io),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==Is||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Do(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Io,1&Io.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Us&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Do(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!No)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Us&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Io.current,ui(Io,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:pi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),si(fi),si(ci),qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return si(Io),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Io),null;case 4:return Mo(),null;case 10:return eo(e),null;case 23:case 24:return _u(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ha=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,jo(Co.current);var a,s=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=zr)}for(f in ke(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Cr("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===I?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Xs=r),ss(0,t)},n}function cs(e,t,n){(n=so(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fs="function"===typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zu(e,n)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(n,e),Ru(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ms(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(_i,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Lu(t,n);else{r=t;try{i()}catch(o){zu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){zu(t,o)}break;case 5:hs(t);break;case 4:xs(e,t)}}function vs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):ws(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(ms(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ms(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Os(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Kr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?ye(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&($s=Bi(),gs(t.child,!0)),void ks(t);case 19:return void ks(t);case 17:return;case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Es=Math.ceil,Cs=w.ReactCurrentDispatcher,As=w.ReactCurrentOwner,Ps=0,js=null,Ts=null,Ms=0,Rs=0,Ls=ai(0),Is=0,Ds=null,zs=0,Fs=0,Ns=0,Bs=0,Vs=null,$s=0,Us=1/0;function Ws(){Us=Bi()+500}var Hs,Gs=null,qs=!1,Xs=null,Zs=null,Ks=!1,Ys=null,Js=90,Qs=[],eu=[],tu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function lu(){return 0!==(48&Ps)?Bi():-1!==iu?iu:iu=Bi()}function cu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===ou&&(ou=zs),0!==qi.transition){0!==au&&(au=null!==Vs?Vs.pendingLanes:0),e=ou;var t=4186112&~au;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&Ps)&&98===e?e=Bt(12,ou):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ou),e}function fu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(e=hu(e,t)))return null;Ut(e,t,n),e===js&&(Ns|=t,4===Is&&gu(e,Ms));var r=Vi();1===t?0!==(8&Ps)&&0===(48&Ps)?mu(e):(du(e,n),0===Ps&&(Ws(),Hi())):(0===(4&Ps)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),du(e,n)),Vs=e}function hu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function du(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,zt(l);var f=Dt;o[u]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ft(e,e===js?Ms:0),t=Dt,0===r)null!==n&&(n!==Li&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&ki(n)}15===t?(n=mu.bind(null,e),null===Di?(Di=[n],zi=Oi(Pi,Gi)):Di.push(n),n=Li):14===t?n=Wi(99,mu.bind(null,e)):n=Wi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),pu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,au=ou=0,0!==(48&Ps))throw Error(a(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=Ft(e,e===js?Ms:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var o=Ou();for(js===e&&Ms===r||(Ws(),wu(e,r));;)try{Eu();break}catch(u){xu(e,u)}if(Qi(),Cs.current=o,Ps=i,null!==Ts?r=0:(js=null,Ms=0,r=Is),0!==(zs&Ns))wu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Nt(e))&&(r=ku(e,n))),1===r)throw t=Ds,wu(e,0),gu(e,n),du(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=$s+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Es(n/1960))-n)){e.timeoutHandle=$r(Pu.bind(null,e),n);break}Pu(e);break;case 5:Pu(e);break;default:throw Error(a(329))}}return du(e,Bi()),e.callbackNode===t?pu.bind(null,e):null}function gu(e,t){for(t&=~Bs,t&=~Ns,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function mu(e){if(0!==(48&Ps))throw Error(a(327));if(Mu(),e===js&&0!==(e.expiredLanes&Ms)){var t=Ms,n=ku(e,t);0!==(zs&Ns)&&(n=ku(e,t=Ft(e,t)))}else n=ku(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Nt(e))&&(n=ku(e,t))),1===n)throw n=Ds,wu(e,0),gu(e,t),du(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),du(e,Bi()),null}function vu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Ws(),Hi())}}function yu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Ws(),Hi())}}function bu(e,t){ui(Ls,Rs),Rs|=t,zs|=t}function _u(){Rs=Ls.current,si(Ls)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ur(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Mo(),si(fi),si(ci),qo();break;case 5:Lo(r);break;case 4:Mo();break;case 13:case 19:si(Io);break;case 10:eo(r);break;case 23:case 24:_u()}n=n.return}js=e,Ts=Uu(e.current,null),Ms=Rs=zs=t,Is=0,Ds=null,Bs=Ns=Fs=0}function xu(e,t){for(;;){var n=Ts;try{if(Qi(),Xo.current=Pa,ea){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ea=!1}if(Ko=0,Qo=Jo=Yo=null,ta=!1,As.current=null,null===n||null===n.return){Is=1,Ds=t,Ts=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Io.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var g=h.memoizedProps;d=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var v=new Set;v.add(l),h.updateQueue=v}else m.add(l);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=so(-1,1);y.tag=2,uo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var _=Fu.bind(null,o,l,s);l.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Is&&(Is=2),u=as(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,lo(h,ls(0,o,t));break e;case 1:o=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Zs||!Zs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,lo(h,cs(h,o,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(O){t=O,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function Ou(){var e=Cs.current;return Cs.current=Pa,null===e?Pa:e}function ku(e,t){var n=Ps;Ps|=16;var r=Ou();for(js===e&&Ms===t||wu(e,t);;)try{Su();break}catch(i){xu(e,i)}if(Qi(),Ps=n,Cs.current=r,null!==Ts)throw Error(a(261));return js=null,Ms=0,Is}function Su(){for(;null!==Ts;)Cu(Ts)}function Eu(){for(;null!==Ts&&!Si();)Cu(Ts)}function Cu(e){var t=Hs(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Au(e):Ts=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Rs)))return void(Ts=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Rs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ts=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Is&&(Is=5)}function Pu(e){var t=Vi();return Ui(99,ju.bind(null,e,t)),null}function ju(e,t){do{Mu()}while(null!==Ys);if(0!==(48&Ps))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Wt(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==tu&&0===(24&r)&&tu.has(e)&&tu.delete(e),e===js&&(Ts=js=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,As.current=null,Fr=Zt,pr(s=dr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(E){u=null;break e}var f=0,h=-1,d=-1,p=0,g=0,m=s,v=null;t:for(;;){for(var y;m!==u||0!==o&&3!==m.nodeType||(h=f+o),m!==l||0!==c&&3!==m.nodeType||(d=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===s)break t;if(v===u&&++p===o&&(h=f),v===l&&++g===c&&(d=f),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Nr={focusedElem:s,selectionRange:u},Zt=!1,su=null,uu=!1,Gs=r;do{try{Tu()}catch(E){if(null===Gs)throw Error(a(330));zu(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);su=null,Gs=r;do{try{for(s=e;null!==Gs;){var b=Gs.flags;if(16&b&&ye(Gs.stateNode,""),128&b){var _=Gs.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(Gs),Gs.flags&=-3;break;case 6:bs(Gs),Gs.flags&=-3,Os(Gs.alternate,Gs);break;case 1024:Gs.flags&=-1025;break;case 1028:Gs.flags&=-1025,Os(Gs.alternate,Gs);break;case 4:Os(Gs.alternate,Gs);break;case 8:xs(s,u=Gs);var x=u.alternate;vs(u),null!==x&&vs(x)}Gs=Gs.nextEffect}}catch(E){if(null===Gs)throw Error(a(330));zu(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);if(w=Nr,_=dr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=fr(b,x),o=fr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Zt=!!Fr,Nr=Fr=null,e.current=n,Gs=r;do{try{for(b=e;null!==Gs;){var O=Gs.flags;if(36&O&&ps(b,Gs.alternate,Gs),128&O){_=void 0;var k=Gs.ref;if(null!==k){var S=Gs.stateNode;switch(Gs.tag){case 5:_=S;break;default:_=S}"function"===typeof k?k(_):k.current=_}}Gs=Gs.nextEffect}}catch(E){if(null===Gs)throw Error(a(330));zu(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Ii(),Ps=i}else e.current=n;if(Ks)Ks=!1,Ys=e,Js=t;else for(Gs=r;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,8&Gs.flags&&((O=Gs).sibling=null,O.stateNode=null),Gs=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(E){}if(du(e,Bi()),qs)throw qs=!1,e=Xs,Xs=null,e;return 0!==(8&Ps)||Hi(),null}function Tu(){for(;null!==Gs;){var e=Gs.alternate;uu||null===su||(0!==(8&Gs.flags)?et(Gs,su)&&(uu=!0):13===Gs.tag&&Ss(e,Gs)&&et(Gs,su)&&(uu=!0));var t=Gs.flags;0!==(256&t)&&ds(e,Gs),0===(512&t)||Ks||(Ks=!0,Wi(97,(function(){return Mu(),null}))),Gs=Gs.nextEffect}}function Mu(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Ui(e,Iu)}return!1}function Ru(e,t){Qs.push(t,e),Ks||(Ks=!0,Wi(97,(function(){return Mu(),null})))}function Lu(e,t){eu.push(t,e),Ks||(Ks=!0,Wi(97,(function(){return Mu(),null})))}function Iu(){if(null===Ys)return!1;var e=Ys;if(Ys=null,0!==(48&Ps))throw Error(a(331));var t=Ps;Ps|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));zu(o,l)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));zu(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Hi(),!0}function Du(e,t,n){uo(e,t=ls(0,t=as(n,t),1)),t=lu(),null!==(e=hu(e,1))&&(Ut(e,1,t),du(e,t))}function zu(e,t){if(3===e.tag)Du(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Du(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=cs(n,e=as(t,e),1);if(uo(n,i),i=lu(),null!==(n=hu(n,1)))Ut(n,1,i),du(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,js===e&&(Ms&n)===n&&(4===Is||3===Is&&(62914560&Ms)===Ms&&500>Bi()-$s?wu(e,0):Bs|=n),du(e,t)}function Nu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===ou&&(ou=zs),0===(t=Vt(62914560&~ou))&&(t=4194304))),n=lu(),null!==(e=hu(e,t))&&(Ut(e,t,n),du(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vu(e,t,n,r){return new Bu(e,t,n,r)}function $u(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=Vu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)$u(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Hu(n.children,i,o,t);case D:s=8,i|=16;break;case S:s=8,i|=1;break;case E:return(e=Vu(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=o,e;case j:return(e=Vu(13,n,t,i)).type=j,e.elementType=j,e.lanes=o,e;case T:return(e=Vu(19,n,t,i)).elementType=T,e.lanes=o,e;case z:return Gu(n,i,o,t);case F:return(e=Vu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case P:s=11;break e;case M:s=14;break e;case R:s=16,r=null;break e;case L:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Vu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hu(e,t,n,r){return(e=Vu(7,e,r,t)).lanes=n,e}function Gu(e,t,n,r){return(e=Vu(23,e,r,t)).elementType=z,e.lanes=n,e}function qu(e,t,n){return(e=Vu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Vu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=$t(0),this.expirationTimes=$t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.mutableSourceEagerHydrationData=null}function Ku(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Yu(e,t,n,r){var i=t.current,o=lu(),s=cu(i);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(pi(l)){n=vi(n,l,u);break e}}n=u}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),fu(i,s,o),s}function Ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=Vu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oo(t),e[Yr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ju(a);s.call(e)}}Yu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Ju(a);u.call(e)}}yu((function(){Yu(t,a,e,i)}))}return Ju(a)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(a(200));return Ku(e,t,null,n)}Hs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)La=!0;else{if(0===(n&r)){switch(La=!1,t.tag){case 3:Wa(t),Ho();break;case 5:Ro(t);break;case 1:pi(t.type)&&yi(t);break;case 4:To(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Za(e,t,n):(ui(Io,1&Io.current),null!==(t=ns(e,t,n))?t.sibling:null);ui(Io,1&Io.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Io,Io.current),r)break;return null;case 23:case 24:return t.lanes=0,Na(e,t,n)}return ns(e,t,n)}La=0!==(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,ci.current),no(t,n),i=ia(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,bo(t,r,e,n),t=Ua(null,t,r,!0,o,n)}else t.tag=0,Ia(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return $u(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===M)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=$a(null,t,i,e,n);break e;case 11:t=Da(null,t,i,e,n);break e;case 14:t=za(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,$a(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Wa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ho(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Hr(t.stateNode.containerInfo.firstChild),zo=t,o=No=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ia(e,t,r,n),Ho();t=t.child}return t;case 5:return Ro(t),null===e&&$o(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),Ba(e,t),Ia(e,t,s,n),t.child;case 6:return null===e&&$o(t),null;case 13:return Za(e,t,n);case 4:return To(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(ui(Zi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=sr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){t=ns(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=so(-1,n&-n)).tag=2,uo(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),to(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ia(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),za(e,t,i,o=Xi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,yi(t)):e=!1,no(t,n),vo(t,r,i),bo(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Na(e,t,n)}throw Error(a(156,t.tag))},tl.prototype.render=function(e){Yu(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Yu(null,e,null,(function(){t[Yr]=null}))},tt=function(e){13===e.tag&&(fu(e,4,lu()),el(e,4))},nt=function(e){13===e.tag&&(fu(e,67108864,lu()),el(e,67108864))},rt=function(e){if(13===e.tag){var t=lu(),n=cu(e);fu(e,n,t),el(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=vu,Le=function(e,t,n,r,i){var o=Ps;Ps|=4;try{return Ui(98,e.bind(null,t,n,r,i))}finally{0===(Ps=o)&&(Ws(),Hi())}},Ie=function(){0===(49&Ps)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,du(e,Bi())}))}Hi()}(),Mu())},De=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Ws(),Hi())}};var ol={Events:[ei,ti,ni,Te,Me,Mu,{current:!1}]},al={findFiberByHostInstance:Qr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{_i=ul.inject(sl),wi=ul}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ui(99,e.bind(null,t))}finally{Ps=n,Hi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(a(40));return!!e._reactRootContainer&&(yu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=vu,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(331)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,f=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,y=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+b;try{v(!0,e)?x.postMessage(null):(m=!1,v=null)}catch(n){throw x.postMessage(null),n}}else m=!1},r=function(e){v=e,m||(m=!0,x.postMessage(null))},i=function(e,n){y=d((function(){e(t.unstable_now())}),n)},o=function(){p(y),y=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>E(a,n))void 0!==u&&0>E(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],P=1,j=null,T=3,M=!1,R=!1,L=!1;function I(e){for(var t=k(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,O(C,t)}t=k(A)}}function D(e){if(L=!1,I(e),!R)if(null!==k(C))R=!0,r(z);else{var t=k(A);null!==t&&i(D,t.startTime-e)}}function z(e,n){R=!1,L&&(L=!1,o()),M=!0;var r=T;try{for(I(n),j=k(C);null!==j&&(!(j.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=j.callback;if("function"===typeof a){j.callback=null,T=j.priorityLevel;var s=a(j.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?j.callback=s:j===k(C)&&S(C),I(n)}else S(C);j=k(C)}if(null!==j)var u=!0;else{var l=k(A);null!==l&&i(D,l.startTime-n),u=!1}return u}finally{j=null,T=r,M=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||M||(R=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return k(C)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:P++,callback:n,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,O(A,e),null===k(C)&&e===k(A)&&(L?o():L=!0,i(D,a-s))):(e.sortIndex=u,O(C,e),R||M||(R=!0,r(z))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},,function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case m:case l:return e;default:return t}}case o:return t}}}function O(e){return x(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||x(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===y)},t.typeOf=x},function(e,t,n){"use strict";var r=n(61),i=n(228),o=n(335),a=n(234);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(231));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(235),u.CancelToken=n(348),u.isCancel=n(230),u.all=function(e){return Promise.all(e)},u.spread=n(349),u.isAxiosError=n(350),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(61),i=n(229),o=n(336),a=n(337),s=n(234);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(61);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(61),i=n(338),o=n(230),a=n(231);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(61);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(61);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(233);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(61);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(344),i=n(345);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(61),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(61);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(235);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,n){"use strict";n(187);var r=n(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},function(e,t,n){"use strict";var r=n(353);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){var r=n(21);!function(e,t){"use strict";function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var u={init:"init"},l=function(e){var t=e.value;return void 0===t?"":t},c=function(){return t.createElement(t.Fragment,null,"\xa0")},f={Cell:l,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,r=t.className;return e=o({},e,{},a(t,["style","className"])),n&&(e.style=e.style?o({},e.style||{},{},n||{}):n),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var d=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,r){return function e(t,n,r){return"function"==typeof n?e({},n(t,r)):Array.isArray(n)?h.apply(void 0,[t].concat(n)):h(t,n)}(e,r,o({},t,{userProps:n}))}),{})}},p=function(e,t,n,r){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},g=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function m(e,t,n,r){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function v(e,t){return"function"==typeof e?e(t):e}function y(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var b="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function _(e,n){var r=t.useRef(!1);b((function(){r.current&&e(),r.current=!0}),n)}function w(e,t,n){return void 0===n&&(n={}),function(r,i){void 0===i&&(i={});var a="string"==typeof r?t[r]:r;if(void 0===a)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return x(a,o({},e,{column:t},n,{},i))}}function x(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?t.createElement(e,n):e;var r}function O(e,t,n){return void 0===n&&(n=0),e.map((function(e){return S(e=o({},e,{parent:t,depth:n})),e.columns&&(e.columns=O(e.columns,e,n+1)),e}))}function k(e){return T(e,"columns")}function S(e){var t=e.id,n=e.accessor,r=e.Header;if("string"==typeof n){t=t||n;var i=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var r,i="function"==typeof t?t:JSON.stringify(t),o=A.get(i)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(z,".").replace(F,"").split(".")}(t);return A.set(i,e),e}();try{r=o.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==r?r:n}(e,i)}}if(!t&&"string"==typeof r&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function E(e,t){if(!t)throw new Error;return Object.assign(e,o({Header:c,Footer:c},f,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function C(e,t,n){void 0===n&&(n=function(){return{}});for(var r=[],i=e,a=0,s=function(){return a++},u=function(){var e={headers:[]},a=[],u=i.some((function(e){return e.parent}));i.forEach((function(r){var i,l=[].concat(a).reverse()[0];u&&(i=r.parent?o({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+s(),headers:[r]},n(r)):E(o({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+s(),placeholderOf:r,headers:[r]},n(r)),t),l&&l.originalId===i.originalId?l.headers.push(r):a.push(i)),e.headers.push(r)})),r.push(e),i=a};i.length;)u();return r.reverse()}var A=new Map;function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(void 0!==t[r])return t[r]}function j(e){if("function"==typeof e)return e}function T(e,t){var n=[];return function e(r){r.forEach((function(r){r[t]?e(r[t]):n.push(r)}))}(e),n}function M(e,t){var n=t.manualExpandedKey,r=t.expanded,i=t.expandSubRows,o=void 0===i||i,a=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[n]||r[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&a.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,o)}))}(e)})),a}function R(e,t,n){return j(e)||t[e]||n[e]||n.text}function L(e,t,n){return e?e(t,n):void 0===t}function I(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var D=null,z=/\[/g,F=/\]/g,N=function(e){return o({role:"table"},e)},B=function(e){return o({role:"rowgroup"},e)},V=function(e,t){var n=t.column;return o({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},$=function(e,t){var n=t.column;return o({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},U=function(e,t){return o({key:"headerGroup_"+t.index,role:"row"},e)},W=function(e,t){return o({key:"footerGroup_"+t.index},e)},H=function(e,t){return o({key:"row_"+t.row.id,role:"row"},e)},G=function(e,t){var n=t.cell;return o({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function q(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[N],getTableBodyProps:[B],getHeaderGroupProps:[U],getFooterGroupProps:[W],getHeaderProps:[V],getFooterProps:[$],getRowProps:[H],getCellProps:[G],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var X=function(e){e.getToggleHiddenProps=[Z],e.getToggleHideAllColumnsProps=[K],e.stateReducers.push(Y),e.useInstanceBeforeDimensions.push(J),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(Q)};X.pluginName="useColumnVisibility";var Z=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},K=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function Y(e,t,n,r){if(t.type===u.init)return o({hiddenColumns:[]},e);if(t.type===u.resetHiddenColumns)return o({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===u.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return o({},e,{hiddenColumns:i})}return t.type===u.setHiddenColumns?o({},e,{hiddenColumns:v(t.value,e.hiddenColumns)}):t.type===u.toggleHideAllColumns?o({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?r.allColumns.map((function(e){return e.id})):[]}):void 0}function J(e){var n=e.headers,r=e.state.hiddenColumns;t.useRef(!1).current;var i=0;n.forEach((function(e){return i+=function e(t,n){t.isVisible=n&&!r.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return i+=e(n,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function Q(e){var n=e.columns,r=e.flatHeaders,i=e.dispatch,o=e.allColumns,a=e.getHooks,s=e.state.hiddenColumns,l=e.autoResetHiddenColumns,c=void 0===l||l,f=y(e),h=o.length===s.length,p=t.useCallback((function(e,t){return i({type:u.toggleHideColumn,columnId:e,value:t})}),[i]),g=t.useCallback((function(e){return i({type:u.setHiddenColumns,value:e})}),[i]),m=t.useCallback((function(e){return i({type:u.toggleHideAllColumns,value:e})}),[i]),v=d(a().getToggleHideAllColumnsProps,{instance:f()});r.forEach((function(e){e.toggleHidden=function(t){i({type:u.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=d(a().getToggleHiddenProps,{instance:f(),column:e})}));var b=y(c);_((function(){b()&&i({type:u.resetHiddenColumns})}),[i,n]),Object.assign(e,{allColumnsHidden:h,toggleHideColumn:p,setHiddenColumns:g,toggleHideAllColumns:m,getToggleHideAllColumnsProps:v})}var ee={},te={},ne=function(e,t,n){return e},re=function(e,t){return e.subRows||[]},ie=function(e,t,n){return""+(n?[n.id,t].join("."):t)},oe=function(e){return e};function ae(e){var t=e.initialState,n=void 0===t?ee:t,r=e.defaultColumn,i=void 0===r?te:r,s=e.getSubRows,u=void 0===s?re:s,l=e.getRowId,c=void 0===l?ie:l,f=e.stateReducer,h=void 0===f?ne:f,d=e.useControlledState,p=void 0===d?oe:d;return o({},a(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:i,getSubRows:u,getRowId:c,stateReducer:h,useControlledState:p})}function se(e,t){void 0===t&&(t=0);var n=0,r=0,i=0,o=0;return e.forEach((function(e){var a=e.headers;if(e.totalLeft=t,a&&a.length){var s=se(a,t),u=s[0],l=s[1],c=s[2],f=s[3];e.totalMinWidth=u,e.totalWidth=l,e.totalMaxWidth=c,e.totalFlexWidth=f}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,r+=e.totalWidth,i+=e.totalMaxWidth,o+=e.totalFlexWidth)})),[n,r,i,o]}function ue(e){var t=e.data,n=e.rows,r=e.flatRows,i=e.rowsById,o=e.column,a=e.getRowId,s=e.getSubRows,u=e.accessValueHooks,l=e.getInstance;t.forEach((function(e,c){return function e(n,c,f,h,d){void 0===f&&(f=0);var g=n,m=a(n,c,h),v=i[m];if(v)v.subRows&&v.originalSubRows.forEach((function(t,n){return e(t,n,f+1,v)}));else if((v={id:m,original:g,index:c,depth:f,cells:[{}]}).cells.map=I,v.cells.filter=I,v.cells.forEach=I,v.cells[0].getCellProps=I,v.values={},d.push(v),r.push(v),i[m]=v,v.originalSubRows=s(n,c),v.originalSubRows){var y=[];v.originalSubRows.forEach((function(t,n){return e(t,n,f+1,v,y)})),v.subRows=y}o.accessor&&(v.values[o.id]=o.accessor(n,c,v,d,t)),v.values[o.id]=p(u,v.values[o.id],{row:v,column:o,instance:l()})}(e,c,0,void 0,n)}))}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var le=function(e){e.getToggleAllRowsExpandedProps=[ce],e.getToggleRowExpandedProps=[fe],e.stateReducers.push(he),e.useInstance.push(de),e.prepareRow.push(pe)};le.pluginName="useExpanded";var ce=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},fe=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function he(e,t,n,r){if(t.type===u.init)return o({expanded:{}},e);if(t.type===u.resetExpanded)return o({},e,{expanded:r.initialState.expanded||{}});if(t.type===u.toggleAllRowsExpanded){var i=t.value,l=r.isAllRowsExpanded,c=r.rowsById;if(void 0!==i?i:!l){var f={};return Object.keys(c).forEach((function(e){f[e]=!0})),o({},e,{expanded:f})}return o({},e,{expanded:{}})}if(t.type===u.toggleRowExpanded){var h,d=t.id,p=t.value,g=e.expanded[d],m=void 0!==p?p:!g;if(!g&&m)return o({},e,{expanded:o({},e.expanded,(h={},h[d]=!0,h))});if(g&&!m){var v=e.expanded;return v[d],o({},e,{expanded:a(v,[d].map(s))})}return e}}function de(e){var n=e.data,r=e.rows,i=e.rowsById,o=e.manualExpandedKey,a=void 0===o?"expanded":o,s=e.paginateExpandedRows,l=void 0===s||s,c=e.expandSubRows,f=void 0===c||c,h=e.autoResetExpanded,p=void 0===h||h,g=e.getHooks,v=e.plugins,b=e.state.expanded,w=e.dispatch;m(v,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var x=y(p),O=Boolean(Object.keys(i).length&&Object.keys(b).length);O&&Object.keys(i).some((function(e){return!b[e]}))&&(O=!1),_((function(){x()&&w({type:u.resetExpanded})}),[w,n]);var k=t.useCallback((function(e,t){w({type:u.toggleRowExpanded,id:e,value:t})}),[w]),S=t.useCallback((function(e){return w({type:u.toggleAllRowsExpanded,value:e})}),[w]),E=t.useMemo((function(){return l?M(r,{manualExpandedKey:a,expanded:b,expandSubRows:f}):r}),[l,r,a,b,f]),C=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(b)}),[b]),A=y(e),P=d(g().getToggleAllRowsExpandedProps,{instance:A()});Object.assign(e,{preExpandedRows:r,expandedRows:E,rows:E,expandedDepth:C,isAllRowsExpanded:O,toggleRowExpanded:k,toggleAllRowsExpanded:S,getToggleAllRowsExpandedProps:P})}function pe(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(t){return r.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=d(n().getToggleRowExpandedProps,{instance:r,row:e})}var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};ge.autoRemove=function(e){return!e};var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};me.autoRemove=function(e){return!e};var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r)===String(n)}))}))};ve.autoRemove=function(e){return!e};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};ye.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.every((function(e){return r.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var _e=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.some((function(e){return r.includes(e)}))}))}))};_e.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.includes(r)}))}))};we.autoRemove=function(e){return!e||!e.length};var xe=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};xe.autoRemove=function(e){return void 0===e};var Oe=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};Oe.autoRemove=function(e){return null==e};var ke=function(e,t,n){var r=n||[],i=r[0],o=r[1];if((i="number"==typeof i?i:-1/0)>(o="number"==typeof o?o:1/0)){var a=i;i=o,o=a}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=i&&n<=o}))}))};ke.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Se=Object.freeze({__proto__:null,text:ge,exactText:me,exactTextCase:ve,includes:ye,includesAll:be,includesSome:_e,includesValue:we,exact:xe,equals:Oe,between:ke});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var Ee=function(e){e.stateReducers.push(Ce),e.useInstance.push(Ae)};function Ce(e,t,n,r){if(t.type===u.init)return o({filters:[]},e);if(t.type===u.resetFilters)return o({},e,{filters:r.initialState.filters||[]});if(t.type===u.setFilter){var i=t.columnId,a=t.filterValue,s=r.allColumns,l=r.filterTypes,c=s.find((function(e){return e.id===i}));if(!c)throw new Error("React-Table: Could not find a column with id: "+i);var f=R(c.filter,l||{},Se),h=e.filters.find((function(e){return e.id===i})),d=v(a,h&&h.value);return L(f.autoRemove,d,c)?o({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):o({},e,h?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:d}:e}))}:{filters:[].concat(e.filters,[{id:i,value:d}])})}if(t.type===u.setAllFilters){var p=t.filters,g=r.allColumns,m=r.filterTypes;return o({},e,{filters:v(p,e.filters).filter((function(e){var t=g.find((function(t){return t.id===e.id}));return!L(R(t.filter,m||{},Se).autoRemove,e.value,t)}))})}}function Ae(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.filterTypes,l=e.manualFilters,c=e.defaultCanFilter,f=void 0!==c&&c,h=e.disableFilters,d=e.state.filters,p=e.dispatch,g=e.autoResetFilters,m=void 0===g||g,v=t.useCallback((function(e,t){p({type:u.setFilter,columnId:e,filterValue:t})}),[p]),b=t.useCallback((function(e){p({type:u.setAllFilters,filters:e})}),[p]);a.forEach((function(e){var t=e.id,n=e.accessor,r=e.defaultCanFilter,i=e.disableFilters;e.canFilter=n?P(!0!==i&&void 0,!0!==h&&void 0,!0):P(r,f,!1),e.setFilter=function(t){return v(e.id,t)};var o=d.find((function(e){return e.id===t}));e.filterValue=o&&o.value}));var w=t.useMemo((function(){if(l||!d.length)return[r,i,o];var e=[],t={};return[function n(r,i){void 0===i&&(i=0);var o=r;return(o=d.reduce((function(e,t){var n=t.id,r=t.value,o=a.find((function(e){return e.id===n}));if(!o)return e;0===i&&(o.preFilteredRows=e);var u=R(o.filter,s||{},Se);return u?(o.filteredRows=u(e,[n],r),o.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+o.id+"."),e)}),r)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,i+1):r.subRows)})),o}(r),e,t]}),[l,d,r,i,o,a,s]),x=w[0],O=w[1],k=w[2];t.useMemo((function(){a.filter((function(e){return!d.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=x,e.filteredRows=x}))}),[x,d,a]);var S=y(m);_((function(){S()&&p({type:u.resetFilters})}),[p,l?null:n]),Object.assign(e,{preFilteredRows:r,preFilteredFlatRows:i,preFilteredRowsById:o,filteredRows:x,filteredFlatRows:O,filteredRowsById:k,rows:x,flatRows:O,rowsById:k,setFilter:v,setAllFilters:b})}Ee.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var Pe=function(e){e.stateReducers.push(je),e.useInstance.push(Te)};function je(e,t,n,r){if(t.type===u.resetGlobalFilter)return o({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===u.setGlobalFilter){var i=t.filterValue,s=r.userFilterTypes,l=R(r.globalFilter,s||{},Se),c=v(i,e.globalFilter);return L(l.autoRemove,c)?(e.globalFilter,a(e,["globalFilter"])):o({},e,{globalFilter:c})}}function Te(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.filterTypes,l=e.globalFilter,c=e.manualGlobalFilter,f=e.state.globalFilter,h=e.dispatch,d=e.autoResetGlobalFilter,p=void 0===d||d,g=e.disableGlobalFilter,m=t.useCallback((function(e){h({type:u.setGlobalFilter,filterValue:e})}),[h]),v=t.useMemo((function(){if(c||void 0===f)return[r,i,o];var e=[],t={},n=R(l,s||{},Se);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;a.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=P(!0!==t&&void 0,!0!==g&&void 0,!0)}));var u=a.filter((function(e){return!0===e.canFilter}));return[function r(i){return(i=n(i,u.map((function(e){return e.id})),f)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),i}(r),e,t]}),[c,f,l,s,a,r,i,o,g]),b=v[0],w=v[1],x=v[2],O=y(p);_((function(){O()&&h({type:u.resetGlobalFilter})}),[h,c?null:n]),Object.assign(e,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:o,globalFilteredRows:b,globalFilteredFlatRows:w,globalFilteredRowsById:x,rows:b,flatRows:w,rowsById:x,setGlobalFilter:m,disableGlobalFilter:g})}function Me(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Pe.pluginName="useGlobalFilter";var Re=Object.freeze({__proto__:null,sum:Me,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Me(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Le=[],Ie={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var De=function(e){e.getGroupByToggleProps=[ze],e.stateReducers.push(Fe),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(Ne),e.useInstance.push(Ve),e.prepareRow.push($e)};De.pluginName="useGroupBy";var ze=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Fe(e,t,n,r){if(t.type===u.init)return o({groupBy:[]},e);if(t.type===u.resetGroupBy)return o({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===u.setGroupBy)return o({},e,{groupBy:t.value});if(t.type===u.toggleGroupBy){var i=t.columnId,a=t.value,s=void 0!==a?a:!e.groupBy.includes(i);return o({},e,s?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function Ne(e,t){var n=t.instance.state.groupBy,r=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(r,i)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var Be={};function Ve(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.flatHeaders,l=e.groupByFn,c=void 0===l?Ue:l,f=e.manualGroupBy,h=e.aggregations,p=void 0===h?Be:h,g=e.plugins,v=e.state.groupBy,b=e.dispatch,w=e.autoResetGroupBy,x=void 0===w||w,O=e.disableGroupBy,k=e.defaultCanGroupBy,S=e.getHooks;m(g,["useColumnOrder","useFilters"],"useGroupBy");var E=y(e);a.forEach((function(t){var n=t.accessor,r=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=n?P(t.canGroupBy,!0!==i&&void 0,!0!==O&&void 0,!0):P(t.canGroupBy,r,k,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var C=t.useCallback((function(e,t){b({type:u.toggleGroupBy,columnId:e,value:t})}),[b]),A=t.useCallback((function(e){b({type:u.setGroupBy,value:e})}),[b]);s.forEach((function(e){e.getGroupByToggleProps=d(S().getGroupByToggleProps,{instance:E(),header:e})}));var j=t.useMemo((function(){if(f||!v.length)return[r,i,o,Le,Ie,i,o];var e=v.filter((function(e){return a.find((function(t){return t.id===e}))})),t=[],n={},s=[],u={},l=[],h={},d=function r(i,o,f){if(void 0===o&&(o=0),o===e.length)return i;var d=e[o],g=c(i,d);return Object.entries(g).map((function(i,c){var g=i[0],m=i[1],v=d+":"+g,y=r(m,o+1,v=f?f+">"+v:v),b=o?T(m,"leafRows"):m,_=function(t,n,r){var i={};return a.forEach((function(o){if(e.includes(o.id))i[o.id]=n[0]?n[0].values[o.id]:null;else{var a="function"==typeof o.aggregate?o.aggregate:p[o.aggregate]||Re[o.aggregate];if(a){var s=n.map((function(e){return e.values[o.id]})),u=t.map((function(e){var t=e.values[o.id];if(!r&&o.aggregateValue){var n="function"==typeof o.aggregateValue?o.aggregateValue:p[o.aggregateValue]||Re[o.aggregateValue];if(!n)throw console.info({column:o}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,o)}return t}));i[o.id]=a(u,s)}else{if(o.aggregate)throw console.info({column:o}),new Error("React Table: Invalid column.aggregate option for column listed above");i[o.id]=null}}})),i}(b,m,o),w={id:v,isGrouped:!0,groupByID:d,groupByVal:g,values:_,subRows:y,leafRows:b,depth:o,index:c};return y.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(s.push(e),u[e.id]=e):(l.push(e),h[e.id]=e)})),w}))}(r);return d.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(s.push(e),u[e.id]=e):(l.push(e),h[e.id]=e)})),[d,t,n,s,u,l,h]}),[f,v,r,i,o,a,p,c]),M=j[0],R=j[1],L=j[2],I=j[3],D=j[4],z=j[5],F=j[6],N=y(x);_((function(){N()&&b({type:u.resetGroupBy})}),[b,f?null:n]),Object.assign(e,{preGroupedRows:r,preGroupedFlatRow:i,preGroupedRowsById:o,groupedRows:M,groupedFlatRows:R,groupedRowsById:L,onlyGroupedFlatRows:I,onlyGroupedRowsById:D,nonGroupedFlatRows:z,nonGroupedRowsById:F,rows:M,flatRows:R,rowsById:L,toggleGroupBy:C,setGroupBy:A})}function $e(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function Ue(e,t){return e.reduce((function(e,n,r){var i=""+n.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(n),e}),{})}var We=/([0-9]+)/gm;function He(e,t){return e===t?0:e>t?1:-1}function Ge(e,t){return e.values[t]}function qe(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Xe=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Ge(e,n),i=Ge(t,n);for(r=qe(r),i=qe(i),r=r.split(We).filter(Boolean),i=i.split(We).filter(Boolean);r.length&&i.length;){var o=r.shift(),a=i.shift(),s=parseInt(o,10),u=parseInt(a,10),l=[s,u].sort();if(isNaN(l[0])){if(o>a)return 1;if(a>o)return-1}else{if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>u)return 1;if(u>s)return-1}}return r.length-i.length},datetime:function(e,t,n){var r=Ge(e,n),i=Ge(t,n);return He(r=r.getTime(),i=i.getTime())},basic:function(e,t,n){return He(Ge(e,n),Ge(t,n))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",f.sortType="alphanumeric",f.sortDescFirst=!1;var Ze=function(e){e.getSortByToggleProps=[Ke],e.stateReducers.push(Ye),e.useInstance.push(Je)};Ze.pluginName="useSortBy";var Ke=function(e,t){var n=t.instance,r=t.column,i=n.isMultiSortEvent,o=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:r.canSort?function(e){e.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&o(e))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function Ye(e,t,n,r){if(t.type===u.init)return o({sortBy:[]},e);if(t.type===u.resetSortBy)return o({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===u.clearSortBy)return o({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===u.setSortBy)return o({},e,{sortBy:t.sortBy});if(t.type===u.toggleSortBy){var i,a=t.columnId,s=t.desc,l=t.multi,c=r.allColumns,f=r.disableMultiSort,h=r.disableSortRemove,d=r.disableMultiRemove,p=r.maxMultiSortColCount,g=void 0===p?Number.MAX_SAFE_INTEGER:p,m=e.sortBy,v=c.find((function(e){return e.id===a})).sortDescFirst,y=m.find((function(e){return e.id===a})),b=m.findIndex((function(e){return e.id===a})),_=null!=s,w=[];return"toggle"!==(i=!f&&l?y?"toggle":"add":b!==m.length-1||1!==m.length?"replace":y?"toggle":"replace")||h||_||l&&d||!(y&&y.desc&&!v||!y.desc&&v)||(i="remove"),"replace"===i?w=[{id:a,desc:_?s:v}]:"add"===i?(w=[].concat(m,[{id:a,desc:_?s:v}])).splice(0,w.length-g):"toggle"===i?w=m.map((function(e){return e.id===a?o({},e,{desc:_?s:!y.desc}):e})):"remove"===i&&(w=m.filter((function(e){return e.id!==a}))),o({},e,{sortBy:w})}}function Je(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.allColumns,a=e.orderByFn,s=void 0===a?Qe:a,l=e.sortTypes,c=e.manualSortBy,f=e.defaultCanSort,h=e.disableSortBy,p=e.flatHeaders,g=e.state.sortBy,v=e.dispatch,b=e.plugins,w=e.getHooks,x=e.autoResetSortBy,O=void 0===x||x;m(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var k=t.useCallback((function(e){v({type:u.setSortBy,sortBy:e})}),[v]),S=t.useCallback((function(e,t,n){v({type:u.toggleSortBy,columnId:e,desc:t,multi:n})}),[v]),E=y(e);p.forEach((function(e){var t=e.accessor,n=e.canSort,r=e.disableSortBy,i=e.id,o=t?P(!0!==r&&void 0,!0!==h&&void 0,!0):P(f,n,!1);e.canSort=o,e.canSort&&(e.toggleSortBy=function(t,n){return S(e.id,t,n)},e.clearSortBy=function(){v({type:u.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=d(w().getSortByToggleProps,{instance:E(),column:e});var a=g.find((function(e){return e.id===i}));e.isSorted=!!a,e.sortedIndex=g.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?a.desc:void 0}));var C=t.useMemo((function(){if(c||!g.length)return[r,i];var e=[],t=g.filter((function(e){return o.find((function(t){return t.id===e.id}))}));return[function n(r){var i=s(r,t.map((function(e){var t=o.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,r=j(n)||(l||{})[n]||Xe[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return r(t,n,e.id,e.desc)}})),t.map((function(e){var t=o.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),i}(r),e]}),[c,g,r,i,o,s,l]),A=C[0],T=C[1],M=y(O);_((function(){M()&&v({type:u.resetSortBy})}),[c?null:n]),Object.assign(e,{preSortedRows:r,preSortedFlatRows:i,sortedRows:A,sortedFlatRows:T,rows:A,flatRows:T,setSortBy:k,toggleSortBy:S})}function Qe(e,t,n){return[].concat(e).sort((function(e,r){for(var i=0;i<t.length;i+=1){var o=t[i],a=!1===n[i]||"desc"===n[i],s=o(e,r);if(0!==s)return a?-s:s}return n[0]?e.index-r.index:r.index-e.index}))}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(nt)};function tt(e,t,n,r){if(t.type===u.init)return o({pageSize:10,pageIndex:0},e);if(t.type===u.resetPage)return o({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===u.gotoPage){var i=r.pageCount,a=r.page,s=v(t.pageIndex,e.pageIndex),l=!1;return s>e.pageIndex?l=-1===i?a.length>=e.pageSize:s<i:s<e.pageIndex&&(l=s>-1),l?o({},e,{pageIndex:s}):e}if(t.type===u.setPageSize){var c=t.pageSize,f=e.pageSize*e.pageIndex;return o({},e,{pageIndex:Math.floor(f/c),pageSize:c})}}function nt(e){var n=e.rows,r=e.autoResetPage,i=void 0===r||r,o=e.manualExpandedKey,a=void 0===o?"expanded":o,s=e.plugins,l=e.pageCount,c=e.paginateExpandedRows,f=void 0===c||c,h=e.expandSubRows,d=void 0===h||h,p=e.state,g=p.pageSize,v=p.pageIndex,b=p.expanded,w=p.globalFilter,x=p.filters,O=p.groupBy,k=p.sortBy,S=e.dispatch,E=e.data,C=e.manualPagination;m(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var A=y(i);_((function(){A()&&S({type:u.resetPage})}),[S,C?null:E,w,x,O,k]);var P=C?l:Math.ceil(n.length/g),j=t.useMemo((function(){return P>0?[].concat(new Array(P)).fill(null).map((function(e,t){return t})):[]}),[P]),T=t.useMemo((function(){var e;if(C)e=n;else{var t=g*v,r=t+g;e=n.slice(t,r)}return f?e:M(e,{manualExpandedKey:a,expanded:b,expandSubRows:d})}),[d,b,a,C,v,g,f,n]),R=v>0,L=-1===P?T.length>=g:v<P-1,I=t.useCallback((function(e){S({type:u.gotoPage,pageIndex:e})}),[S]),D=t.useCallback((function(){return I((function(e){return e-1}))}),[I]),z=t.useCallback((function(){return I((function(e){return e+1}))}),[I]),F=t.useCallback((function(e){S({type:u.setPageSize,pageSize:e})}),[S]);Object.assign(e,{pageOptions:j,pageCount:P,page:T,canPreviousPage:R,canNextPage:L,gotoPage:I,previousPage:D,nextPage:z,setPageSize:F})}et.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var rt=function(e){e.getPivotToggleProps=[ot],e.stateReducers.push(at),e.useInstanceAfterData.push(st),e.allColumns.push(ut),e.accessValue.push(lt),e.materializedColumns.push(ct),e.materializedColumnsDeps.push(ft),e.visibleColumns.push(ht),e.visibleColumnsDeps.push(dt),e.useInstance.push(pt),e.prepareRow.push(gt)};rt.pluginName="usePivotColumns";var it=[],ot=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function at(e,t,n,r){if(t.type===u.init)return o({pivotColumns:it},e);if(t.type===u.resetPivot)return o({},e,{pivotColumns:r.initialState.pivotColumns||it});if(t.type===u.togglePivot){var i=t.columnId,a=t.value,s=void 0!==a?a:!e.pivotColumns.includes(i);return o({},e,s?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function st(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function ut(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function lt(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function ct(e,t){var n=t.instance,r=n.allColumns,i=n.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var a=i.pivotColumns.map((function(e){return r.find((function(t){return t.id===e}))})).filter(Boolean),s=r.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),u=k(function e(t,n,r){void 0===t&&(t=0),void 0===r&&(r=[]);var i=a[t];return i?Array.from(i.uniqueValues).sort().map((function(a){var s=o({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+a:a,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+i.id+"."+a:i.id+"."+a,pivotValue:a});return s.columns=e(t+1,s,[].concat(r,[function(e){return e.values[i.id]===a}])),s})):s.map((function(e){return o({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,i){if(r.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,u)}function ft(e,t){var n=t.instance.state,r=n.pivotColumns,i=n.groupBy;return[].concat(e,[r,i])}function ht(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function dt(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function pt(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,i=e.getHooks,o=e.plugins,a=e.dispatch,s=e.autoResetPivot,l=void 0===s||s,c=e.manaulPivot,f=e.disablePivot,h=e.defaultCanPivot;m(o,["useGroupBy"],"usePivotColumns");var p=y(e);n.forEach((function(t){var n=t.accessor,r=t.defaultPivot,i=t.disablePivot;t.canPivot=n?P(t.canPivot,!0!==i&&void 0,!0!==f&&void 0,!0):P(t.canPivot,r,h,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),r.forEach((function(e){e.getPivotToggleProps=d(i().getPivotToggleProps,{instance:p(),header:e})}));var g=y(l);_((function(){g()&&a({type:u.resetPivot})}),[a,c?null:t]),Object.assign(e,{togglePivot:function(e,t){a({type:u.togglePivot,columnId:e,value:t})}})}function gt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var mt=function(e){e.getToggleRowSelectedProps=[vt],e.getToggleAllRowsSelectedProps=[yt],e.getToggleAllPageRowsSelectedProps=[bt],e.stateReducers.push(_t),e.useInstance.push(wt),e.prepareRow.push(xt)};mt.pluginName="useRowSelect";var vt=function(e,t){var n=t.instance,r=t.row,i=n.manualRowSelectedKey,o=void 0===i?"isSelected":i;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[o])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},yt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},bt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function _t(e,t,n,r){if(t.type===u.init)return o({selectedRowIds:{}},e);if(t.type===u.resetSelectedRows)return o({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===u.toggleAllRowsSelected){var i=t.value,a=r.isAllRowsSelected,s=r.rowsById,l=r.nonGroupedRowsById,c=void 0===l?s:l,f=void 0!==i?i:!a,h=Object.assign({},e.selectedRowIds);return f?Object.keys(c).forEach((function(e){h[e]=!0})):Object.keys(c).forEach((function(e){delete h[e]})),o({},e,{selectedRowIds:h})}if(t.type===u.toggleRowSelected){var d=t.id,p=t.value,g=r.rowsById,m=r.selectSubRows,v=void 0===m||m,y=r.getSubRows,b=e.selectedRowIds[d],_=void 0!==p?p:!b;if(b===_)return e;var w=o({},e.selectedRowIds);return function e(t){var n=g[t];if(n.isGrouped||(_?w[t]=!0:delete w[t]),v&&y(n))return y(n).forEach((function(t){return e(t.id)}))}(d),o({},e,{selectedRowIds:w})}if(t.type===u.toggleAllPageRowsSelected){var x=t.value,O=r.page,k=r.rowsById,S=r.selectSubRows,E=void 0===S||S,C=r.isAllPageRowsSelected,A=r.getSubRows,P=void 0!==x?x:!C,j=o({},e.selectedRowIds);return O.forEach((function(e){return function e(t){var n=k[t];if(n.isGrouped||(P?j[t]=!0:delete j[t]),E&&A(n))return A(n).forEach((function(t){return e(t.id)}))}(e.id)})),o({},e,{selectedRowIds:j})}return e}function wt(e){var n=e.data,r=e.rows,i=e.getHooks,o=e.plugins,a=e.rowsById,s=e.nonGroupedRowsById,l=void 0===s?a:s,c=e.autoResetSelectedRows,f=void 0===c||c,h=e.state.selectedRowIds,p=e.selectSubRows,g=void 0===p||p,v=e.dispatch,b=e.page,w=e.getSubRows;m(o,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var x=t.useMemo((function(){var e=[];return r.forEach((function(t){var n=g?function e(t,n,r){if(n[t.id])return!0;var i=r(t);if(i&&i.length){var o=!0,a=!1;return i.forEach((function(t){a&&!o||(e(t,n,r)?a=!0:o=!1)})),!!o||!!a&&null}return!1}(t,h,w):!!h[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[r,g,h,w]),O=Boolean(Object.keys(l).length&&Object.keys(h).length),k=O;O&&Object.keys(l).some((function(e){return!h[e]}))&&(O=!1),O||b&&b.length&&b.some((function(e){var t=e.id;return!h[t]}))&&(k=!1);var S=y(f);_((function(){S()&&v({type:u.resetSelectedRows})}),[v,n]);var E=t.useCallback((function(e){return v({type:u.toggleAllRowsSelected,value:e})}),[v]),C=t.useCallback((function(e){return v({type:u.toggleAllPageRowsSelected,value:e})}),[v]),A=t.useCallback((function(e,t){return v({type:u.toggleRowSelected,id:e,value:t})}),[v]),P=y(e),j=d(i().getToggleAllRowsSelectedProps,{instance:P()}),T=d(i().getToggleAllPageRowsSelectedProps,{instance:P()});Object.assign(e,{selectedFlatRows:x,isAllRowsSelected:O,isAllPageRowsSelected:k,toggleRowSelected:A,toggleAllRowsSelected:E,getToggleAllRowsSelectedProps:j,getToggleAllPageRowsSelectedProps:T,toggleAllPageRowsSelected:C})}function xt(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=d(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var Ot=function(e){return{}},kt=function(e){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var St=function(e){e.stateReducers.push(Et),e.useInstance.push(Ct),e.prepareRow.push(At)};function Et(e,t,n,r){var i=r.initialRowStateAccessor,a=void 0===i?Ot:i,s=r.initialCellStateAccessor,l=void 0===s?kt:s,c=r.rowsById;if(t.type===u.init)return o({rowState:{}},e);if(t.type===u.resetRowState)return o({},e,{rowState:r.initialState.rowState||{}});if(t.type===u.setRowState){var f,h=t.rowId,d=t.value,p=void 0!==e.rowState[h]?e.rowState[h]:a(c[h]);return o({},e,{rowState:o({},e.rowState,(f={},f[h]=v(d,p),f))})}if(t.type===u.setCellState){var g,m,y,b,_,w=t.rowId,x=t.columnId,O=t.value,k=void 0!==e.rowState[w]?e.rowState[w]:a(c[w]),S=void 0!==(null==k||null==(g=k.cellState)?void 0:g[x])?k.cellState[x]:l(null==(m=c[w])||null==(y=m.cells)?void 0:y.find((function(e){return e.column.id===x})));return o({},e,{rowState:o({},e.rowState,(_={},_[w]=o({},k,{cellState:o({},k.cellState||{},(b={},b[x]=v(O,S),b))}),_))})}}function Ct(e){var n=e.autoResetRowState,r=void 0===n||n,i=e.data,o=e.dispatch,a=t.useCallback((function(e,t){return o({type:u.setRowState,rowId:e,value:t})}),[o]),s=t.useCallback((function(e,t,n){return o({type:u.setCellState,rowId:e,columnId:t,value:n})}),[o]),l=y(r);_((function(){l()&&o({type:u.resetRowState})}),[i]),Object.assign(e,{setRowState:a,setCellState:s})}function At(e,t){var n=t.instance,r=n.initialRowStateAccessor,i=void 0===r?Ot:r,o=n.initialCellStateAccessor,a=void 0===o?kt:o,s=n.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:i(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:a(t),t.setState=function(r){return n.setCellState(e.id,t.column.id,r)}})))}St.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var Pt=function(e){e.stateReducers.push(jt),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(Tt),e.useInstance.push(Mt)};function jt(e,t,n,r){return t.type===u.init?o({columnOrder:[]},e):t.type===u.resetColumnOrder?o({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===u.setColumnOrder?o({},e,{columnOrder:v(t.columnOrder,e.columnOrder)}):void 0}function Tt(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),i=[].concat(e),o=[],a=function(){var e=r.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&o.push(i.splice(t,1)[0])};i.length&&r.length;)a();return[].concat(o,i)}function Mt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:u.setColumnOrder,columnOrder:e})}),[n])}Pt.pluginName="useColumnOrder",f.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var Rt=function(e){e.getResizerProps=[Lt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(It),e.useInstance.push(zt),e.useInstanceBeforeDimensions.push(Dt)},Lt=function(e,t){var n=t.instance,r=t.header,i=n.dispatch,o=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var r=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),o=n?Math.round(e.touches[0].clientX):e.clientX,a=function(e){i({type:u.columnResizing,clientX:e})},s=function(){return i({type:u.columnDoneResizing})},l={mouse:{moveEvent:"mousemove",moveHandler:function(e){return a(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",l.mouse.moveHandler),document.removeEventListener("mouseup",l.mouse.upHandler),s()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),a(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(l.touch.moveEvent,l.touch.moveHandler),document.removeEventListener(l.touch.upEvent,l.touch.moveHandler),s()}}},c=n?l.touch:l.mouse,f=!!function(){if("boolean"==typeof D)return D;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return D=e}()&&{passive:!1};document.addEventListener(c.moveEvent,c.moveHandler,f),document.addEventListener(c.upEvent,c.upHandler,f),i({type:u.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:r,clientX:o})};return[e,{onMouseDown:function(e){return e.persist()||o(e,r)},onTouchStart:function(e){return e.persist()||o(e,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function It(e,t){if(t.type===u.init)return o({columnResizing:{columnWidths:{}}},e);if(t.type===u.resetResize)return o({},e,{columnResizing:{columnWidths:{}}});if(t.type===u.columnStartResizing){var n=t.clientX,r=t.columnId,i=t.columnWidth,a=t.headerIdWidths;return o({},e,{columnResizing:o({},e.columnResizing,{startX:n,headerIdWidths:a,columnWidth:i,isResizingColumn:r})})}if(t.type===u.columnResizing){var s=t.clientX,l=e.columnResizing,c=l.startX,f=l.columnWidth,h=l.headerIdWidths,d=(s-c)/f,p={};return(void 0===h?[]:h).forEach((function(e){var t=e[0],n=e[1];p[t]=Math.max(n+n*d,0)})),o({},e,{columnResizing:o({},e.columnResizing,{columnWidths:o({},e.columnResizing.columnWidths,{},p)})})}return t.type===u.columnDoneResizing?o({},e,{columnResizing:o({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Rt.pluginName="useResizeColumns";var Dt=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,i=e.state.columnResizing,o=y(e);t.forEach((function(e){var t=P(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=d(r().getResizerProps,{instance:o(),header:e}))}))};function zt(e){var n=e.plugins,r=e.dispatch,i=e.autoResetResize,o=void 0===i||i,a=e.columns;m(n,["useAbsoluteLayout"],"useResizeColumns");var s=y(o);_((function(){s()&&r({type:u.resetResize})}),[a]);var l=t.useCallback((function(){return r({type:u.resetResize})}),[r]);Object.assign(e,{resetResizing:l})}var Ft={position:"absolute",top:0},Nt=function(e){e.getTableBodyProps.push(Bt),e.getRowProps.push(Bt),e.getHeaderGroupProps.push(Bt),e.getFooterGroupProps.push(Bt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:o({},Ft,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:o({},Ft,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:o({},Ft,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Nt.pluginName="useAbsoluteLayout";var Bt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Vt={display:"inline-block",boxSizing:"border-box"},$t=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Ut=function(e){e.getRowProps.push($t),e.getHeaderGroupProps.push($t),e.getFooterGroupProps.push($t),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:o({},Vt,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:o({},Vt,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:o({},Vt,{width:n.totalWidth+"px"})}]}))};function Wt(e){e.getTableProps.push(Ht),e.getRowProps.push(Gt),e.getHeaderGroupProps.push(Gt),e.getFooterGroupProps.push(Gt),e.getHeaderProps.push(qt),e.getCellProps.push(Xt),e.getFooterProps.push(Zt)}Ut.pluginName="useBlockLayout",Wt.pluginName="useFlexLayout";var Ht=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Gt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},qt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Xt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Zt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Kt(e){e.stateReducers.push(Qt),e.getTableProps.push(Yt),e.getHeaderProps.push(Jt)}Kt.pluginName="useGridLayout";var Yt=function(e,t){return[e,{style:{display:"grid",gridTemplateColumns:t.instance.state.gridLayout.columnWidths.map((function(e){return e})).join(" ")}}]},Jt=function(e,t){return[e,{id:"header-cell-"+t.column.id,style:{position:"sticky"}}]};function Qt(e,t,n,r){if("init"===t.type)return o({gridLayout:{columnWidths:r.columns.map((function(){return"auto"}))}},e);if("columnStartResizing"===t.type){var i=t.columnId,a=r.visibleColumns.findIndex((function(e){return e.id===i})),s=function(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}(i);return void 0!==s?o({},e,{gridLayout:o({},e.gridLayout,{columnId:i,columnIndex:a,startingWidth:s})}):e}if("columnResizing"===t.type){var u=e.gridLayout,l=u.columnIndex,c=u.startingWidth,f=u.columnWidths,h=c-(e.columnResizing.startX-t.clientX),d=[].concat(f);return d[l]=h+"px",o({},e,{gridLayout:o({},e.gridLayout,{columnWidths:d})})}}e._UNSTABLE_usePivotColumns=rt,e.actions=u,e.defaultColumn=f,e.defaultGroupByFn=Ue,e.defaultOrderByFn=Qe,e.defaultRenderer=l,e.emptyRenderer=c,e.ensurePluginOrder=m,e.flexRender=x,e.functionalUpdate=v,e.loopHooks=g,e.makePropGetter=d,e.makeRenderer=w,e.reduceHooks=p,e.safeUseLayoutEffect=b,e.useAbsoluteLayout=Nt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var o=t.useRef({}),a=y(e),s=y(n);return t.useCallback(function(){var e=i(r.mark((function e(){var t,n,u,l=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length,n=new Array(t),u=0;u<t;u++)n[u]=l[u];return o.current.promise||(o.current.promise=new Promise((function(e,t){o.current.resolve=e,o.current.reject=t}))),o.current.timeout&&clearTimeout(o.current.timeout),o.current.timeout=setTimeout(i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete o.current.timeout,e.prev=1,e.t0=o.current,e.next=5,a().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),o.current.reject(e.t2);case 12:return e.prev=12,delete o.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),s()),e.abrupt("return",o.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[a,s])},e.useBlockLayout=Ut,e.useColumnOrder=Pt,e.useExpanded=le,e.useFilters=Ee,e.useFlexLayout=Wt,e.useGetLatest=y,e.useGlobalFilter=Pe,e.useGridLayout=Kt,e.useGroupBy=De,e.useMountedLayoutEffect=_,e.usePagination=et,e.useResizeColumns=Rt,e.useRowSelect=mt,e.useRowState=St,e.useSortBy=Ze,e.useTable=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=ae(e),r=[X].concat(r);var a=y(t.useRef({}).current);Object.assign(a(),o({},e,{plugins:r,hooks:q()})),r.filter(Boolean).forEach((function(e){e(a().hooks)}));var s=y(a().hooks);a().getHooks=s,delete a().hooks,Object.assign(a(),p(s().useOptions,ae(e)));var l=a(),c=l.data,f=l.columns,h=l.initialState,m=l.defaultColumn,v=l.getSubRows,b=l.getRowId,_=l.stateReducer,x=l.useControlledState,A=y(_),P=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(s().stateReducers,Array.isArray(A())?A():[A()]).reduce((function(n,r){return r(n,t,e,a())||n}),e)}),[s,A,a]),j=t.useReducer(P,void 0,(function(){return P(h,{type:u.init})})),T=j[0],M=j[1],R=p([].concat(s().useControlledState,[x]),T,{instance:a()});Object.assign(a(),{state:R,dispatch:M});var L=t.useMemo((function(){return O(p(s().columns,f,{instance:a()}))}),[s,a,f].concat(p(s().columnsDeps,[],{instance:a()})));a().columns=L;var I=t.useMemo((function(){return p(s().allColumns,k(L),{instance:a()}).map(S)}),[L,s,a].concat(p(s().allColumnsDeps,[],{instance:a()})));a().allColumns=I;var D=t.useMemo((function(){for(var e=[],t=[],n={},r=[].concat(I);r.length;){var i=r.shift();ue({data:c,rows:e,flatRows:t,rowsById:n,column:i,getRowId:b,getSubRows:v,accessValueHooks:s().accessValue,getInstance:a})}return[e,t,n]}),[I,c,b,v,s,a]),z=D[0],F=D[1],N=D[2];Object.assign(a(),{rows:z,initialRows:[].concat(z),flatRows:F,rowsById:N}),g(s().useInstanceAfterData,a());var B=t.useMemo((function(){return p(s().visibleColumns,I,{instance:a()}).map((function(e){return E(e,m)}))}),[s,I,a,m].concat(p(s().visibleColumnsDeps,[],{instance:a()})));I=t.useMemo((function(){var e=[].concat(B);return I.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[I,B]),a().allColumns=I;var V=t.useMemo((function(){return p(s().headerGroups,C(B,m),a())}),[s,B,m,a].concat(p(s().headerGroupsDeps,[],{instance:a()})));a().headerGroups=V;var $=t.useMemo((function(){return V.length?V[0].headers:[]}),[V]);a().headers=$,a().flatHeaders=V.reduce((function(e,t){return[].concat(e,t.headers)}),[]),g(s().useInstanceBeforeDimensions,a());var U=B.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");B=t.useMemo((function(){return B.filter((function(e){return e.isVisible}))}),[B,U]),a().visibleColumns=B;var W=se($),H=W[0],G=W[1],Z=W[2];return a().totalColumnsMinWidth=H,a().totalColumnsWidth=G,a().totalColumnsMaxWidth=Z,g(s().useInstance,a()),[].concat(a().flatHeaders,a().allColumns).forEach((function(e){e.render=w(a(),e),e.getHeaderProps=d(s().getHeaderProps,{instance:a(),column:e}),e.getFooterProps=d(s().getFooterProps,{instance:a(),column:e})})),a().headerGroups=t.useMemo((function(){return V.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=d(s().getHeaderGroupProps,{instance:a(),headerGroup:e,index:t}),e.getFooterGroupProps=d(s().getFooterGroupProps,{instance:a(),headerGroup:e,index:t}),!0)}))}),[V,a,s]),a().footerGroups=[].concat(a().headerGroups).reverse(),a().prepareRow=t.useCallback((function(e){e.getRowProps=d(s().getRowProps,{instance:a(),row:e}),e.allCells=I.map((function(t){var n=e.values[t.id],r={column:t,row:e,value:n};return r.getCellProps=d(s().getCellProps,{instance:a(),cell:r}),r.render=w(a(),t,{row:e,cell:r,value:n}),r})),e.cells=B.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),g(s().prepareRow,e,{instance:a()})}),[s,a,I,B]),a().getTableProps=d(s().getTableProps,{instance:a()}),a().getTableBodyProps=d(s().getTableBodyProps,{instance:a()}),g(s().useFinalInstance,a()),a()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(152),a=n(1),s=n(0),u=n(238),l=n(239),c=l.getAceInstance(),f=function(e){function t(t){var n=e.call(this,t)||this;return l.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=l.debounce,n}return r(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.onValidate,o=t.mode,a=t.focus,s=t.theme,u=t.fontSize,f=t.value,h=t.defaultValue,d=t.showGutter,p=t.wrapEnabled,g=t.showPrintMargin,m=t.scrollMargin,v=void 0===m?[0,0,0,0]:m,y=t.keyboardHandler,b=t.onLoad,_=t.commands,w=t.annotations,x=t.markers,O=t.placeholder;this.editor=c.edit(this.refEditor),r&&r(c);for(var k=Object.keys(this.props.editorProps),S=0;S<k.length;S++)this.editor[k[S]]=this.props.editorProps[k[S]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"===typeof o?"ace/mode/"+o:o),s&&""!==s&&this.editor.setTheme("ace/theme/"+s),this.editor.setFontSize("number"===typeof u?u+"px":u),this.editor.getSession().setValue(h||(f||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(d),this.editor.getSession().setUseWrapMode(p),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),O&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),i&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(w||[]),x&&x.length>0&&this.handleMarkers(x);var E=this.editor.$options;l.editorOptions.forEach((function(t){E.hasOwnProperty(t)?e.editor.setOption(t,e.props[t]):e.props[t]&&console.warn("ReactAce: editor option "+t+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")})),this.handleOptions(this.props),Array.isArray(_)&&_.forEach((function(t){"string"===typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),y&&this.editor.setKeyboardHandler("ace/keyboard/"+y),n&&(this.refEditor.className+=" "+n),b&&b(this.editor),this.editor.resize(),a&&this.editor.focus()},t.prototype.componentDidUpdate=function(e){for(var t=e,n=this.props,r=0;r<l.editorOptions.length;r++){var i=l.editorOptions[r];n[i]!==t[i]&&this.editor.setOption(i,n[i])}if(n.className!==t.className){var o=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+n.className+" "+o.join(" ")}if(this.editor&&null!=n.value&&this.editor.getValue()!==n.value){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}n.placeholder!==t.placeholder&&this.updatePlaceholder(),n.mode!==t.mode&&this.editor.getSession().setMode("string"===typeof n.mode?"ace/mode/"+n.mode:n.mode),n.theme!==t.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==t.keyboardHandler&&(n.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+n.keyboardHandler):this.editor.setKeyboardHandler(null)),n.fontSize!==t.fontSize&&this.editor.setFontSize("number"===typeof n.fontSize?n.fontSize+"px":n.fontSize),n.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),u(n.setOptions,t.setOptions)||this.handleOptions(n),u(n.annotations,t.annotations)||this.editor.getSession().setAnnotations(n.annotations||[]),!u(n.markers,t.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),u(n.scrollMargin,t.scrollMargin)||this.handleScrollMargins(n.scrollMargin),e.height===this.props.height&&e.width===this.props.width||this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(e){void 0===e&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},t.prototype.onCopy=function(e){var t=e.text;this.props.onCopy&&this.props.onCopy(t)},t.prototype.onPaste=function(e){var t=e.text;this.props.onPaste&&this.props.onPaste(t)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])},t.prototype.handleMarkers=function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);for(var r in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(r)&&"ace_active-line"!==n[r].clazz&&"ace_selected-word"!==n[r].clazz&&this.editor.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.startRow,r=e.startCol,i=e.endRow,a=e.endCol,s=e.className,u=e.type,l=e.inFront,c=void 0!==l&&l,f=new o.Range(n,r,i,a);t.editor.getSession().addMarker(f,s,u,c)}))},t.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,n=!e.session.getValue().length,r=e.renderer.placeholderNode;!n&&r?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):n&&!r?((r=e.renderer.placeholderNode=document.createElement("div")).textContent=t||"",r.className="ace_comment ace_placeholder",r.style.padding="0 9px",r.style.position="absolute",r.style.zIndex="3",e.renderer.scroller.appendChild(r)):n&&r&&(r.textContent=t)},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,r=e.height,o=e.style,a=i({width:n,height:r},o);return s.createElement("div",{ref:this.updateRef,id:t,style:a})},t.propTypes={mode:a.oneOfType([a.string,a.object]),focus:a.bool,theme:a.string,name:a.string,className:a.string,height:a.string,width:a.string,fontSize:a.oneOfType([a.number,a.string]),showGutter:a.bool,onChange:a.func,onCopy:a.func,onPaste:a.func,onFocus:a.func,onInput:a.func,onBlur:a.func,onScroll:a.func,value:a.string,defaultValue:a.string,onLoad:a.func,onSelectionChange:a.func,onCursorChange:a.func,onBeforeLoad:a.func,onValidate:a.func,minLines:a.number,maxLines:a.number,readOnly:a.bool,highlightActiveLine:a.bool,tabSize:a.number,showPrintMargin:a.bool,cursorStart:a.number,debounceChangePeriod:a.number,editorProps:a.object,setOptions:a.object,style:a.object,scrollMargin:a.array,annotations:a.array,markers:a.array,keyboardHandler:a.string,wrapEnabled:a.bool,enableSnippets:a.bool,enableBasicAutocompletion:a.oneOfType([a.bool,a.array]),enableLiveAutocompletion:a.oneOfType([a.bool,a.array]),navigateToFileEnd:a.bool,commands:a.array,placeholder:a.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(s.Component);t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),a=n(240),s=n(360),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.onChange=n.onChange.bind(n),n.diff=n.diff.bind(n),n}return r(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},t.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},t.prototype.diff=function(){var e=new s,t=this.state.value[0],n=this.state.value[1];if(0===t.length&&0===n.length)return[];var r=e.diff_main(t,n);e.diff_cleanupSemantic(r);var i=this.generateDiffedLines(r);return this.setCodeMarkers(i)},t.prototype.generateDiffedLines=function(e){var t=0,n=-1,r=1,i={left:[],right:[]},o={left:1,right:1};return e.forEach((function(e){var a=e[0],s=e[1],u=s.split("\n").length-1;if(0!==s.length){var l=s[0],c=s[s.length-1],f=0;switch(a){case t:o.left+=u,o.right+=u;break;case n:"\n"===l&&(o.left++,u--),0===(f=u)&&i.right.push({startLine:o.right,endLine:o.right}),"\n"===c&&(f-=1),i.left.push({startLine:o.left,endLine:o.left+f}),o.left+=u;break;case r:"\n"===l&&(o.right++,u--),0===(f=u)&&i.left.push({startLine:o.left,endLine:o.left}),"\n"===c&&(f-=1),i.right.push({startLine:o.right,endLine:o.right+f}),o.right+=u;break;default:throw new Error("Diff type was not defined.")}}})),i},t.prototype.setCodeMarkers=function(e){void 0===e&&(e={left:[],right:[]});for(var t=[],n={left:[],right:[]},r=0;r<e.left.length;r++){var i={startRow:e.left[r].startLine-1,endRow:e.left[r].endLine,type:"text",className:"codeMarker"};n.left.push(i)}for(r=0;r<e.right.length;r++){i={startRow:e.right[r].startLine-1,endRow:e.right[r].endLine,type:"text",className:"codeMarker"};n.right.push(i)}return t[0]=n.left,t[1]=n.right,t},t.prototype.render=function(){var e=this.diff();return o.createElement(a.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},t.propTypes={cursorStart:i.number,editorProps:i.object,enableBasicAutocompletion:i.bool,enableLiveAutocompletion:i.bool,focus:i.bool,fontSize:i.number,height:i.string,highlightActiveLine:i.bool,maxLines:i.number,minLines:i.number,mode:i.string,name:i.string,className:i.string,onLoad:i.func,onPaste:i.func,onScroll:i.func,onChange:i.func,orientation:i.string,readOnly:i.bool,scrollMargin:i.array,setOptions:i.object,showGutter:i.bool,showPrintMargin:i.bool,splits:i.number,style:i.object,tabSize:i.number,theme:i.string,value:i.array,width:i.string,wrapEnabled:i.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(o.Component);t.default=u},function(e,t,n){(function(e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=(e("./lib/lang"),e("./lib/event_emitter").EventEmitter),o=e("./editor").Editor,a=e("./virtual_renderer").VirtualRenderer,s=e("./edit_session").EditSession,u=function(e,t,n){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=t,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",function(e){this.$cEditor=e}.bind(this))};(function(){r.implement(this,i),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var t=new o(new a(e,this.$theme));return t.on("focus",function(){this._emit("focus",t)}.bind(this)),this.$editors.push(t),t.setFontSize(this.$fontSize),t},this.setSplits=function(e){var t;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)t=this.$editors[this.$splits],this.$container.appendChild(t.container),t.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)t=this.$editors[this.$splits-1],this.$container.removeChild(t.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach((function(t){t.setTheme(e)}))},this.setKeyboardHandler=function(e){this.$editors.forEach((function(t){t.setKeyboardHandler(e)}))},this.forEach=function(e,t){this.$editors.forEach(e,t)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach((function(t){t.setFontSize(e)}))},this.$cloneSession=function(e){var t=new s(e.getDocument(),e.getMode()),n=e.getUndoManager();return t.setUndoManager(n),t.setTabSize(e.getTabSize()),t.setUseSoftTabs(e.getUseSoftTabs()),t.setOverwrite(e.getOverwrite()),t.setBreakpoints(e.getBreakpoints()),t.setUseWrapMode(e.getUseWrapMode()),t.setUseWorker(e.getUseWorker()),t.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),t.$foldData=e.$cloneFoldData(),t},this.setSession=function(e,t){var n;return n=null==t?this.$cEditor:this.$editors[t],this.$editors.some((function(t){return t.session===e}))&&(e=this.$cloneSession(e)),n.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e,t=this.$container.clientWidth,n=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var r=t/this.$splits,i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=r+"px",e.container.style.top="0px",e.container.style.left=i*r+"px",e.container.style.height=n+"px",e.resize();else{var o=n/this.$splits;for(i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=t+"px",e.container.style.top=i*o+"px",e.container.style.left="0px",e.container.style.height=o+"px",e.resize()}}}).call(u.prototype),t.Split=u})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(e,t,n){"use strict";n.exports=e("../split")})),ace.require(["ace/ext/split"],(function(t){e&&(e.exports=t)}))}).call(this,n(118)(e))},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r="[object Function]",i="[object GeneratorFunction]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,c=/^\[object .+?Constructor\]$/,f="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,d=f||h||Function("return this")();var p=Array.prototype,g=Function.prototype,m=Object.prototype,v=d["__core-js_shared__"],y=function(){var e=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),b=g.toString,_=m.hasOwnProperty,w=m.toString,x=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=d.Symbol,k=p.splice,S=D(d,"Map"),E=D(Object,"create"),C=O?O.prototype:void 0,A=C?C.toString:void 0;function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function R(e,t){for(var n,r=0,i=(t=function(e,t){if(B(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||$(e))return!0;return a.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:B(n=t)?n:z(n)).length;null!=e&&r<i;)e=e[F(t[r++])];return r&&r==i?e:void 0}function L(e){return!(!V(e)||(t=e,y&&y in t))&&(function(e){var t=V(e)?w.call(e):"";return t==r||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?x:c).test(function(e){if(null!=e){try{return b.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function I(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function D(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return L(n)?n:void 0}P.prototype.clear=function(){this.__data__=E?E(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(E){var r=t[e];return r===n?void 0:r}return _.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return E?void 0!==t[e]:_.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=E&&void 0===t?n:t,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(e){var t=this.__data__,n=M(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),!0)},j.prototype.get=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]},j.prototype.has=function(e){return M(this.__data__,e)>-1},j.prototype.set=function(e,t){var n=this.__data__,r=M(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},T.prototype.clear=function(){this.__data__={hash:new P,map:new(S||j),string:new P}},T.prototype.delete=function(e){return I(this,e).delete(e)},T.prototype.get=function(e){return I(this,e).get(e)},T.prototype.has=function(e){return I(this,e).has(e)},T.prototype.set=function(e,t){return I(this,e).set(e,t),this};var z=N((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if($(e))return A?A.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(u,(function(e,t,r,i){n.push(r?i.replace(l,"$1"):t||e)})),n}));function F(e){if("string"==typeof e||$(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function N(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(N.Cache||T),n}N.Cache=T;var B=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==w.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:R(e,t);return void 0===r?n:r}}).call(this,n(40))},function(e,t){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},r=-1;n.Diff=function(e,t){return[e,t]},n.prototype.diff_main=function(e,t,r,i){"undefined"==typeof i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[new n.Diff(0,e)]:[];"undefined"==typeof r&&(r=!0);var a=r,s=this.diff_commonPrefix(e,t),u=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.diff_commonSuffix(e,t);var l=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var c=this.diff_compute_(e,t,a,o);return u&&c.unshift(new n.Diff(0,u)),l&&c.push(new n.Diff(0,l)),this.diff_cleanupMerge(c),c},n.prototype.diff_compute_=function(e,t,i,o){var a;if(!e)return[new n.Diff(1,t)];if(!t)return[new n.Diff(r,e)];var s=e.length>t.length?e:t,u=e.length>t.length?t:e,l=s.indexOf(u);if(-1!=l)return a=[new n.Diff(1,s.substring(0,l)),new n.Diff(0,u),new n.Diff(1,s.substring(l+u.length))],e.length>t.length&&(a[0][0]=a[2][0]=r),a;if(1==u.length)return[new n.Diff(r,e),new n.Diff(1,t)];var c=this.diff_halfMatch_(e,t);if(c){var f=c[0],h=c[1],d=c[2],p=c[3],g=c[4],m=this.diff_main(f,d,i,o),v=this.diff_main(h,p,i,o);return m.concat([new n.Diff(0,g)],v)}return i&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,o):this.diff_bisect_(e,t,o)},n.prototype.diff_lineMode_=function(e,t,i){var o=this.diff_linesToChars_(e,t);e=o.chars1,t=o.chars2;var a=o.lineArray,s=this.diff_main(e,t,!1,i);this.diff_charsToLines_(s,a),this.diff_cleanupSemantic(s),s.push(new n.Diff(0,""));for(var u=0,l=0,c=0,f="",h="";u<s.length;){switch(s[u][0]){case 1:c++,h+=s[u][1];break;case r:l++,f+=s[u][1];break;case 0:if(l>=1&&c>=1){s.splice(u-l-c,l+c),u=u-l-c;for(var d=this.diff_main(f,h,!1,i),p=d.length-1;p>=0;p--)s.splice(u,0,d[p]);u+=d.length}c=0,l=0,f="",h=""}u++}return s.pop(),s},n.prototype.diff_bisect_=function(e,t,i){for(var o=e.length,a=t.length,s=Math.ceil((o+a)/2),u=s,l=2*s,c=new Array(l),f=new Array(l),h=0;h<l;h++)c[h]=-1,f[h]=-1;c[u+1]=0,f[u+1]=0;for(var d=o-a,p=d%2!=0,g=0,m=0,v=0,y=0,b=0;b<s&&!((new Date).getTime()>i);b++){for(var _=-b+g;_<=b-m;_+=2){for(var w=u+_,x=(C=_==-b||_!=b&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-_;C<o&&x<a&&e.charAt(C)==t.charAt(x);)C++,x++;if(c[w]=C,C>o)m+=2;else if(x>a)g+=2;else if(p){if((S=u+d-_)>=0&&S<l&&-1!=f[S])if(C>=(k=o-f[S]))return this.diff_bisectSplit_(e,t,C,x,i)}}for(var O=-b+v;O<=b-y;O+=2){for(var k,S=u+O,E=(k=O==-b||O!=b&&f[S-1]<f[S+1]?f[S+1]:f[S-1]+1)-O;k<o&&E<a&&e.charAt(o-k-1)==t.charAt(a-E-1);)k++,E++;if(f[S]=k,k>o)y+=2;else if(E>a)v+=2;else if(!p){if((w=u+d-O)>=0&&w<l&&-1!=c[w]){var C;x=u+(C=c[w])-w;if(C>=(k=o-k))return this.diff_bisectSplit_(e,t,C,x,i)}}}}return[new n.Diff(r,e),new n.Diff(1,t)]},n.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),u=t.substring(r),l=this.diff_main(o,a,!1,i),c=this.diff_main(s,u,!1,i);return l.concat(c)},n.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,a=-1,s=n.length;a<e.length-1;){-1==(a=e.indexOf("\n",i))&&(a=e.length-1);var u=e.substring(i,a+1);(r.hasOwnProperty?r.hasOwnProperty(u):void 0!==r[u])?t+=String.fromCharCode(r[u]):(s==o&&(u=e.substring(i),a=e.length),t+=String.fromCharCode(s),r[u]=s,n[s++]=u),i=a+1}return t}n[0]="";var o=4e4,a=i(e);return o=65535,{chars1:a,chars2:i(t),lineArray:n}},n.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,a=1;;){var s=e.substring(i-a),u=t.indexOf(s);if(-1==u)return o;a+=u,0!=u&&e.substring(i-a)!=t.substring(0,a)||(o=a,a++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,a,s,u=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!=(l=t.indexOf(u,l+1));){var f=i.diff_commonPrefix(e.substring(n),t.substring(l)),h=i.diff_commonSuffix(e.substring(0,n),t.substring(0,l));c.length<h+f&&(c=t.substring(l-h,l)+t.substring(l,l+f),r=e.substring(0,n-h),o=e.substring(n+f),a=t.substring(0,l-h),s=t.substring(l+f))}return 2*c.length>=e.length?[r,o,a,s,c]:null}var a,s,u,l,c,f=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));return f||h?(a=h?f&&f[4].length>h[4].length?f:h:f,e.length>t.length?(s=a[0],u=a[1],l=a[2],c=a[3]):(l=a[0],c=a[1],s=a[2],u=a[3]),[s,u,l,c,a[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,i=[],o=0,a=null,s=0,u=0,l=0,c=0,f=0;s<e.length;)0==e[s][0]?(i[o++]=s,u=c,l=f,c=0,f=0,a=e[s][1]):(1==e[s][0]?c+=e[s][1].length:f+=e[s][1].length,a&&a.length<=Math.max(u,l)&&a.length<=Math.max(c,f)&&(e.splice(i[o-1],0,new n.Diff(r,a)),e[i[o-1]+1][0]=1,o--,s=--o>0?i[o-1]:-1,u=0,l=0,c=0,f=0,a=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]==r&&1==e[s][0]){var h=e[s-1][1],d=e[s][1],p=this.diff_commonOverlap_(h,d),g=this.diff_commonOverlap_(d,h);p>=g?(p>=h.length/2||p>=d.length/2)&&(e.splice(s,0,new n.Diff(0,d.substring(0,p))),e[s-1][1]=h.substring(0,h.length-p),e[s+1][1]=d.substring(p),s++):(g>=h.length/2||g>=d.length/2)&&(e.splice(s,0,new n.Diff(0,h.substring(0,g))),e[s-1][0]=1,e[s-1][1]=d.substring(0,d.length-g),e[s+1][0]=r,e[s+1][1]=h.substring(g),s++),s++}s++}},n.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),i=t.charAt(0),o=r.match(n.nonAlphaNumericRegex_),a=i.match(n.nonAlphaNumericRegex_),s=o&&r.match(n.whitespaceRegex_),u=a&&i.match(n.whitespaceRegex_),l=s&&r.match(n.linebreakRegex_),c=u&&i.match(n.linebreakRegex_),f=l&&e.match(n.blanklineEndRegex_),h=c&&t.match(n.blanklineStartRegex_);return f||h?5:l||c?4:o&&!s&&u?3:s||u?2:o||a?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],o=e[r][1],a=e[r+1][1],s=this.diff_commonSuffix(i,o);if(s){var u=o.substring(o.length-s);i=i.substring(0,i.length-s),o=u+o.substring(0,o.length-s),a=u+a}for(var l=i,c=o,f=a,h=t(i,o)+t(o,a);o.charAt(0)===a.charAt(0);){i+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);var d=t(i,o)+t(o,a);d>=h&&(h=d,l=i,c=o,f=a)}e[r-1][1]!=l&&(l?e[r-1][1]=l:(e.splice(r-1,1),r--),e[r][1]=c,f?e[r+1][1]=f:(e.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,i=[],o=0,a=null,s=0,u=!1,l=!1,c=!1,f=!1;s<e.length;)0==e[s][0]?(e[s][1].length<this.Diff_EditCost&&(c||f)?(i[o++]=s,u=c,l=f,a=e[s][1]):(o=0,a=null),c=f=!1):(e[s][0]==r?f=!0:c=!0,a&&(u&&l&&c&&f||a.length<this.Diff_EditCost/2&&u+l+c+f==3)&&(e.splice(i[o-1],0,new n.Diff(r,a)),e[i[o-1]+1][0]=1,o--,a=null,u&&l?(c=f=!0,o=0):(s=--o>0?i[o-1]:-1,c=f=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push(new n.Diff(0,""));for(var t,i=0,o=0,a=0,s="",u="";i<e.length;)switch(e[i][0]){case 1:a++,u+=e[i][1],i++;break;case r:o++,s+=e[i][1],i++;break;case 0:o+a>1?(0!==o&&0!==a&&(0!==(t=this.diff_commonPrefix(u,s))&&(i-o-a>0&&0==e[i-o-a-1][0]?e[i-o-a-1][1]+=u.substring(0,t):(e.splice(0,0,new n.Diff(0,u.substring(0,t))),i++),u=u.substring(t),s=s.substring(t)),0!==(t=this.diff_commonSuffix(u,s))&&(e[i][1]=u.substring(u.length-t)+e[i][1],u=u.substring(0,u.length-t),s=s.substring(0,s.length-t))),i-=o+a,e.splice(i,o+a),s.length&&(e.splice(i,0,new n.Diff(r,s)),i++),u.length&&(e.splice(i,0,new n.Diff(1,u)),i++),i++):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,a=0,o=0,s="",u=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),l=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),l=!0)),i++;l&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var n,i=0,o=0,a=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(i+=e[n][1].length),e[n][0]!==r&&(o+=e[n][1].length),!(i>t));n++)a=i,s=o;return e.length!=n&&e[n][0]===r?s:s+(t-a)},n.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,o=/>/g,a=/\n/g,s=0;s<e.length;s++){var u=e[s][0],l=e[s][1].replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(a,"&para;<br>");switch(u){case 1:t[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case r:t[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[s]="<span>"+l+"</span>"}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==r&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++){var a=e[o][0],s=e[o][1];switch(a){case 1:n+=s.length;break;case r:i+=s.length;break;case 0:t+=Math.max(n,i),n=0,i=0}}return t+=Math.max(n,i)},n.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case r:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var i=[],o=0,a=0,s=t.split(/\t/g),u=0;u<s.length;u++){var l=s[u].substring(1);switch(s[u].charAt(0)){case"+":try{i[o++]=new n.Diff(1,decodeURI(l))}catch(h){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var f=e.substring(a,a+=c);"="==s[u].charAt(0)?i[o++]=new n.Diff(0,f):i[o++]=new n.Diff(r,f);break;default:if(s[u])throw new Error("Invalid diff operation in diff_fromDelta: "+s[u])}}if(a!=e.length)throw new Error("Delta length ("+a+") does not equal source text length ("+e.length+").");return i},n.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},n.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this;function o(e,r){var o=e/t.length,a=Math.abs(n-r);return i.Match_Distance?o+a/i.Match_Distance:a?1:o}var a=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(a=Math.min(o(0,s),a),-1!=(s=e.lastIndexOf(t,n+t.length))&&(a=Math.min(o(0,s),a)));var u,l,c=1<<t.length-1;s=-1;for(var f,h=t.length+e.length,d=0;d<t.length;d++){for(u=0,l=h;u<l;)o(d,n+l)<=a?u=l:h=l,l=Math.floor((h-u)/2+u);h=l;var p=Math.max(1,n-l+1),g=Math.min(n+l,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<d)-1;for(var v=g;v>=p;v--){var y=r[e.charAt(v-1)];if(m[v]=0===d?(m[v+1]<<1|1)&y:(m[v+1]<<1|1)&y|(f[v+1]|f[v])<<1|1|f[v+1],m[v]&c){var b=o(d,v-1);if(b<=a){if(a=b,!((s=v-1)>n))break;p=Math.max(1,2*n-s)}}}if(o(d+1,n)>a)break;f=m}return s},n.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},n.prototype.patch_addContext_=function(e,t){if(0!=t.length){if(null===e.start2)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=t.substring(e.start2-i,e.start2);o&&e.diffs.unshift(new n.Diff(0,o));var a=t.substring(e.start2+e.length1,e.start2+e.length1+i);a&&e.diffs.push(new n.Diff(0,a)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+a.length,e.length2+=o.length+a.length}},n.prototype.patch_make=function(e,t,i){var o,a;if("string"==typeof e&&"string"==typeof t&&"undefined"==typeof i)o=e,(a=this.diff_main(o,t,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&"object"==typeof e&&"undefined"==typeof t&&"undefined"==typeof i)a=e,o=this.diff_text1(a);else if("string"==typeof e&&t&&"object"==typeof t&&"undefined"==typeof i)o=e,a=t;else{if("string"!=typeof e||"string"!=typeof t||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");o=e,a=i}if(0===a.length)return[];for(var s=[],u=new n.patch_obj,l=0,c=0,f=0,h=o,d=o,p=0;p<a.length;p++){var g=a[p][0],m=a[p][1];switch(l||0===g||(u.start1=c,u.start2=f),g){case 1:u.diffs[l++]=a[p],u.length2+=m.length,d=d.substring(0,f)+m+d.substring(f);break;case r:u.length1+=m.length,u.diffs[l++]=a[p],d=d.substring(0,f)+d.substring(f+m.length);break;case 0:m.length<=2*this.Patch_Margin&&l&&a.length!=p+1?(u.diffs[l++]=a[p],u.length1+=m.length,u.length2+=m.length):m.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(u,h),s.push(u),u=new n.patch_obj,l=0,h=d,c=f)}1!==g&&(c+=m.length),g!==r&&(f+=m.length)}return l&&(this.patch_addContext_(u,h),s.push(u)),s},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r],o=new n.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=new n.Diff(i.diffs[a][0],i.diffs[a][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[r]=o}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,o=[],a=0;a<e.length;a++){var s,u,l=e[a].start2+i,c=this.diff_text1(e[a].diffs),f=-1;if(c.length>this.Match_MaxBits?-1!=(s=this.match_main(t,c.substring(0,this.Match_MaxBits),l))&&(-1==(f=this.match_main(t,c.substring(c.length-this.Match_MaxBits),l+c.length-this.Match_MaxBits))||s>=f)&&(s=-1):s=this.match_main(t,c,l),-1==s)o[a]=!1,i-=e[a].length2-e[a].length1;else if(o[a]=!0,i=s-l,c==(u=-1==f?t.substring(s,s+c.length):t.substring(s,f+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[a].diffs)+t.substring(s+c.length);else{var h=this.diff_main(c,u,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(h)/c.length>this.Patch_DeleteThreshold)o[a]=!1;else{this.diff_cleanupSemanticLossless(h);for(var d,p=0,g=0;g<e[a].diffs.length;g++){var m=e[a].diffs[g];0!==m[0]&&(d=this.diff_xIndex(h,p)),1===m[0]?t=t.substring(0,s+d)+m[1]+t.substring(s+d):m[0]===r&&(t=t.substring(0,s+d)+t.substring(s+this.diff_xIndex(h,p+m[1].length))),m[0]!==r&&(p+=m[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),o]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",i=1;i<=t;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var o=e[0],a=o.diffs;if(0==a.length||0!=a[0][0])a.unshift(new n.Diff(0,r)),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>a[0][1].length){var s=t-a[0][1].length;a[0][1]=r.substring(a[0][1].length)+a[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}if(0==(a=(o=e[e.length-1]).diffs).length||0!=a[a.length-1][0])a.push(new n.Diff(0,r)),o.length1+=t,o.length2+=t;else if(t>a[a.length-1][1].length){s=t-a[a.length-1][1].length;a[a.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s}return r},n.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=t)){var o=e[i];e.splice(i--,1);for(var a=o.start1,s=o.start2,u="";0!==o.diffs.length;){var l=new n.patch_obj,c=!0;for(l.start1=a-u.length,l.start2=s-u.length,""!==u&&(l.length1=l.length2=u.length,l.diffs.push(new n.Diff(0,u)));0!==o.diffs.length&&l.length1<t-this.Patch_Margin;){var f=o.diffs[0][0],h=o.diffs[0][1];1===f?(l.length2+=h.length,s+=h.length,l.diffs.push(o.diffs.shift()),c=!1):f===r&&1==l.diffs.length&&0==l.diffs[0][0]&&h.length>2*t?(l.length1+=h.length,a+=h.length,c=!1,l.diffs.push(new n.Diff(f,h)),o.diffs.shift()):(h=h.substring(0,t-l.length1-this.Patch_Margin),l.length1+=h.length,a+=h.length,0===f?(l.length2+=h.length,s+=h.length):c=!1,l.diffs.push(new n.Diff(f,h)),h==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(h.length))}u=(u=this.diff_text2(l.diffs)).substring(u.length-this.Patch_Margin);var d=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==d&&(l.length1+=d.length,l.length2+=d.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push(new n.Diff(0,d))),c||e.splice(++i,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var i=e.split("\n"),o=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<i.length;){var s=i[o].match(a);if(!s)throw new Error("Invalid patch string: "+i[o]);var u=new n.patch_obj;for(t.push(u),u.start1=parseInt(s[1],10),""===s[2]?(u.start1--,u.length1=1):"0"==s[2]?u.length1=0:(u.start1--,u.length1=parseInt(s[2],10)),u.start2=parseInt(s[3],10),""===s[4]?(u.start2--,u.length2=1):"0"==s[4]?u.length2=0:(u.start2--,u.length2=parseInt(s[4],10)),o++;o<i.length;){var l=i[o].charAt(0);try{var c=decodeURI(i[o].substring(1))}catch(f){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==l)u.diffs.push(new n.Diff(r,c));else if("+"==l)u.diffs.push(new n.Diff(1,c));else if(" "==l)u.diffs.push(new n.Diff(0,c));else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+c)}o++}}return t},(n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case r:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=n,e.exports.diff_match_patch=n,e.exports.DIFF_DELETE=r,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t){ace.define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"support.function":"avg|count|first|last|max|min|sum|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl",keyword:"select|insert|update|delete|from|where|and|or|group|by|order|limit|offset|having|as|case|when|else|end|type|left|right|join|on|outer|desc|asc|union|create|table|primary|key|if|foreign|not|references|default|null|inner|cross|natural|database|drop|grant","constant.language":"true|false","storage.type":"int|numeric|decimal|date|varchar|char|bigint|float|double|bit|binary|text|set|timestamp|money|real|number|integer"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};r.inherits(o,i),t.SqlHighlightRules=o})),ace.define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text").Mode,o=e("./sql_highlight_rules").SqlHighlightRules,a=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};r.inherits(a,i),function(){this.lineCommentStart="--",this.$id="ace/mode/sql"}.call(a.prototype),t.Mode=a}))},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=p,a/=256,l-=8);e[n+d-p]|=128*g}},,function(e,t,n){"use strict";var r=n(131),i=n(365);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return o.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return o.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return o.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return o.document}}),Object.defineProperty(t,"process",{enumerable:!0,get:function(){return o.process}}),Object.defineProperty(t,"console",{enumerable:!0,get:function(){return o.console}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"isBrowserMainThread",{enumerable:!0,get:function(){return a.isBrowserMainThread}}),Object.defineProperty(t,"getBrowser",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return s.isMobile}}),Object.defineProperty(t,"isElectron",{enumerable:!0,get:function(){return u.default}});var o=n(247),a=i(n(248)),s=i(n(366)),u=r(n(188))},function(e,t,n){var r=n(107).default;function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(131);Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=function(){return"undefined"!==typeof i.window.orientation},t.default=function(e){if(!e&&!(0,o.default)())return"Node";if((0,a.default)(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},n=e||t.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";var r=-1!==n.indexOf("MSIE "),s=-1!==n.indexOf("Trident/");if(r||s)return"IE";if(i.window.chrome)return"Chrome";if(i.window.safari)return"Safari";if(i.window.mozInnerScreenX)return"Firefox";return"Unknown"};var i=n(247),o=r(n(248)),a=r(n(188))},function(e,t,n){var r=n(368);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(0));i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){function t(){for(var t,n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return a(o(t=e.call.apply(e,[this].concat(i))||this),"container",r.default.createRef()),a(o(t),"handleClick",(function(e){var n=t.container.current,r=e.target,i=t.props.onClickOutside;(n&&n===r||n&&!n.contains(r))&&i(e)})),t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener("click",this.handleClick,!0)},n.componentWillUnmount=function(){document.removeEventListener("click",this.handleClick,!0)},n.render=function(){var e=this.props,t=e.className,n=e.children;return r.default.createElement("div",{className:t,ref:this.container},n)},t}(r.default.Component);t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(74)),i=l(n(0)),o=l(n(371)),a=l(n(372)),s=n(72),u=n(119);function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)("div",{target:"e1gn6jc30",label:"ContentComponent"})({name:"1vw3e5y",styles:"display:flex;flex:1;flex-wrap:wrap;"}),f=function(e){var t=e.props,n=e.state,r=e.methods;return i.default.createElement(c,{className:s.LIB_NAME+"-content "+(t.multi?s.LIB_NAME+"-type-multi":s.LIB_NAME+"-type-single"),onClick:function(e){e.stopPropagation(),r.dropDown("open")}},t.contentRenderer?t.contentRenderer({props:t,state:n,methods:r}):i.default.createElement(i.default.Fragment,null,t.multi?n.values&&n.values.map((function(e){return i.default.createElement(o.default,{key:""+(0,u.getByPath)(e,t.valueField)+(0,u.getByPath)(e,t.labelField),item:e,state:n,props:t,methods:r})})):n.values&&0<n.values.length&&i.default.createElement("span",null,(0,u.getByPath)(n.values[0],t.labelField)),i.default.createElement(a.default,{props:t,methods:r,state:n})))};t.default=f},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(74)),i=s(n(0)),o=n(119),a=n(72);function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.default)("span",{target:"e1l4eby50",label:"OptionComponent"})("padding:0 5px;border-radius:2px;line-height:21px;margin:3px 0 3px 5px;background:",(function(e){return e.color}),";color:#fff;display:flex;flex-direction:",(function(e){return"rtl"===e.direction?"row-reverse":"row"}),";.",a.LIB_NAME,"-option-remove{cursor:pointer;width:22px;height:22px;display:inline-block;text-align:center;margin:0 -5px 0 0px;border-radius:0 3px 3px 0;:hover{color:tomato;}}:hover,:hover > span{opacity:0.9;}"),l=function(e){var t=e.item,n=e.props,r=e.state,s=e.methods;return t&&n.optionRenderer?n.optionRenderer({item:t,props:n,state:r,methods:s}):i.default.createElement(u,{role:"listitem",disabled:n.disabled,direction:n.direction,className:a.LIB_NAME+"-option",color:n.color},i.default.createElement("span",{className:a.LIB_NAME+"-option-label"},(0,o.getByPath)(t,n.labelField)),i.default.createElement("span",{className:a.LIB_NAME+"-option-remove",onClick:function(e){return s.removeItem(e,t,n.closeOnSelect)}},"\xd7"))};t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(74))&&r.__esModule?r:{default:r},o=l(n(0)),a=n(119),s=(l(n(1)),n(72));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t){var n=e.addPlaceholder,r=e.searchable,i=e.placeholder,o=t.values&&0===t.values.length,a=t.values&&0<t.values.length;return a&&n&&r?n:o?i:""},d=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return f(c(t=e.call.apply(e,[this].concat(r))||this),"input",o.default.createRef()),f(c(t),"onBlur",(function(e){return e.stopPropagation(),t.props.state.dropdown?t.input.current.focus():t.input.current.blur()})),f(c(t),"handleKeyPress",(function(e){var n=t.props,r=n.props,i=n.state,o=n.methods;return r.create&&"Enter"===e.key&&!(0,a.valueExistInSelected)(i.search,[].concat(i.values,r.options),t.props)&&i.search&&null===i.cursor&&o.createNew(i.search)})),t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){(this.props.state.dropdown||e.state.dropdown!==this.props.state.dropdown&&this.props.state.dropdown||this.props.props.autoFocus)&&this.input.current.focus(),e.state.dropdown===this.props.state.dropdown||this.props.state.dropdown||this.input.current.blur()},n.render=function(){var e=this.props,t=e.props,n=e.state,r=e.methods;return t.inputRenderer?t.inputRenderer({props:t,state:n,methods:r,inputRef:this.input}):o.default.createElement(p,{ref:this.input,tabIndex:"-1",onFocus:function(e){return e.stopPropagation()},className:s.LIB_NAME+"-input",size:r.getInputSize(),value:n.search,readOnly:!t.searchable,onClick:function(){return r.dropDown("open")},onKeyPress:this.handleKeyPress,onChange:r.setSearch,onBlur:this.onBlur,placeholder:h(t,n),disabled:t.disabled})},t}(o.Component),p=(0,i.default)("input",{target:"e11wid6y0",label:"InputComponent"})("line-height:inherit;border:none;margin-left:5px;background:transparent;padding:0;width:calc(",(function(e){return e.size+"ch"})," + 5px);font-size:smaller;",(function(e){return e.readOnly&&"cursor: pointer;"}),":focus{outline:none;}"),g=d;t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(74)),i=l(n(0)),o=n(72),a=l(n(374)),s=l(n(375)),u=n(119);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.getSelectRef().getBoundingClientRect(),r=n.bottom+parseInt(e.dropdownHeight,10)+parseInt(e.dropdownGap,10);return"auto"===e.dropdownPosition?r>(0,u.isomorphicWindow)().innerHeight&&r>n.top?"top":"bottom":e.dropdownPosition},f=(0,r.default)("div",{target:"e1qjn9k90",label:"DropDown"})("position:absolute;",(function(e){var t=e.selectBounds,n=e.dropdownGap;return"top"===e.dropdownPosition?"bottom: "+(t.height+2+n)+"px":"top: "+(t.height+2+n)+"px"}),";",(function(e){var t=e.selectBounds,n=e.dropdownGap,r=e.dropdownPosition;return e.portal?"\n      position: fixed;\n      "+("bottom"===r?"top: "+(t.bottom+n)+"px;":"bottom: "+((0,u.isomorphicWindow)().innerHeight-t.top+n)+"px;")+"\n      left: "+(t.left-1)+"px;":"left: -1px;"}),";border:1px solid #ccc;width:",(function(e){return e.selectBounds.width}),"px;padding:0;display:flex;flex-direction:column;background:#fff;border-radius:2px;box-shadow:0 0 10px 0 ",(function(){return(0,u.hexToRGBA)("#000000",.2)}),";max-height:",(function(e){return e.dropdownHeight}),";overflow:auto;z-index:9;:focus{outline:none;}}"),h=(0,r.default)("div",{target:"e1qjn9k91",label:"AddNew"})("color:",(function(e){return e.color}),";padding:5px 10px;:hover{background:",(function(e){var t=e.color;return t&&(0,u.hexToRGBA)(t,.1)}),";outline:none;cursor:pointer;}"),d=function(e){var t=e.props,n=e.state,r=e.methods;return i.default.createElement(f,{tabIndex:"-1","aria-expanded":"true",role:"list",dropdownPosition:c(t,r),selectBounds:n.selectBounds,portal:t.portal,dropdownGap:t.dropdownGap,dropdownHeight:t.dropdownHeight,className:o.LIB_NAME+"-dropdown "+o.LIB_NAME+"-dropdown-position-"+c(t,r)},t.dropdownRenderer?t.dropdownRenderer({props:t,state:n,methods:r}):i.default.createElement(i.default.Fragment,null,t.create&&n.search&&!(0,u.valueExistInSelected)(n.search,[].concat(n.values,t.options),t)&&i.default.createElement(h,{role:"button",className:o.LIB_NAME+"-dropdown-add-new",color:t.color,onClick:function(){return r.createNew(n.search)}},t.createNewLabel.replace("{search}",'"'+n.search+'"')),0===n.searchResults.length?i.default.createElement(a.default,{className:o.LIB_NAME+"-no-data",state:n,props:t,methods:r}):n.searchResults.map((function(e,o){return i.default.createElement(s.default,{key:e[t.valueField],item:e,itemIndex:o,state:n,props:t,methods:r})}))))};t.default=d},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(74)),i=a(n(0)),o=n(72);function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("div",{target:"e1l5ho1t0",label:"NoDataComponent"})("padding:10px;text-align:center;color:",(function(e){return e.color}),";"),u=function(e){var t=e.props,n=e.state,r=e.methods;return t.noDataRenderer?t.noDataRenderer({props:t,state:n,methods:r}):i.default.createElement(s,{className:o.LIB_NAME+"-no-data",color:t.color},t.noDataLabel)};t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(74))&&r.__esModule?r:{default:r},o=l(n(0)),a=n(119),s=(l(n(1)),n(72));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return f(c(t=e.call.apply(e,[this].concat(r))||this),"item",o.default.createRef()),t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.componentDidUpdate=function(){this.props.state.cursor===this.props.itemIndex&&this.item.current&&this.item.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},n.render=function(){var e=this.props,t=e.props,n=e.state,r=e.methods,i=e.item,u=e.itemIndex;return t.itemRenderer?t.itemRenderer({item:i,itemIndex:u,props:t,state:n,methods:r}):!t.keepSelectedInList&&r.isSelected(i)?null:o.default.createElement(d,{role:"option",ref:this.item,"aria-selected":r.isSelected(i),"aria-disabled":i.disabled,"aria-label":(0,a.getByPath)(i,t.labelField),disabled:i.disabled,key:""+(0,a.getByPath)(i,t.valueField)+(0,a.getByPath)(i,t.labelField),tabIndex:"-1",className:s.LIB_NAME+"-item "+(r.isSelected(i)?s.LIB_NAME+"-item-selected":"")+" "+(n.cursor===u?s.LIB_NAME+"-item-active":"")+" "+(i.disabled?s.LIB_NAME+"-item-disabled":""),onClick:i.disabled?void 0:function(){return r.addItem(i)},onKeyPress:i.disabled?void 0:function(){return r.addItem(i)},color:t.color},(0,a.getByPath)(i,t.labelField)," ",i.disabled&&o.default.createElement("ins",null,t.disabledLabel))},t}(o.Component),d=(0,i.default)("span",{target:"evc32pp0",label:"ItemComponent"})("padding:5px 10px;cursor:pointer;border-bottom:1px solid #fff;&.",s.LIB_NAME,"-item-active{border-bottom:1px solid #fff;",(function(e){var t=e.disabled,n=e.color;return!t&&n&&"background: "+(0,a.hexToRGBA)(n,.1)+";"}),"}:hover,:focus{background:",(function(e){var t=e.color;return t&&(0,a.hexToRGBA)(t,.1)}),";outline:none;}&.",s.LIB_NAME,"-item-selected{",(function(e){var t=e.disabled,n=e.color;return t?"\n    background: #f2f2f2;\n    color: #ccc;\n    ":"\n    background: "+n+";\n    color: #fff;\n    border-bottom: 1px solid #fff;\n    "}),"}",(function(e){return e.disabled?"\n    background: #f2f2f2;\n    color: #ccc;\n\n    ins {\n      text-decoration: none;\n      border:1px solid #ccc;\n      border-radius: 2px;\n      padding: 0px 3px;\n      font-size: x-small;\n      text-transform: uppercase;\n    }\n    ":""}),""),p=h;t.default=p},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(74)),i=a(n(0)),o=n(72);function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("div",{target:"e1l5cpc30",label:"LoadingComponent"})("@keyframes dual-ring-spin{0%{transform:rotate(0deg);}100%{transform:rotate(180deg);}}padding:0 5px;display:block;width:auto;height:auto;:after{content:' ';display:block;width:16px;height:16px;border-radius:50%;border-width:1px;border-style:solid;border-color:",(function(e){return e.color})," transparent;animation:dual-ring-spin 0.7s ease-in-out infinite;margin:0 0 0 -10px;}"),u=function(e){var t=e.props;return t.loadingRenderer?t.loadingRenderer({props:t}):i.default.createElement(s,{className:o.LIB_NAME+"-loading",color:t.color})};t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(74)),i=a(n(0)),o=n(72);function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("div",{target:"e11qlq5e0",label:"ClearComponent"})({name:"992gsg",styles:"line-height:25px;margin:0 10px;cursor:pointer;:focus{outline:none;}:hover{color:tomato;}"}),u=function(e){var t=e.props,n=e.state,r=e.methods;return t.clearRenderer?t.clearRenderer({props:t,state:n,methods:r}):i.default.createElement(s,{className:o.LIB_NAME+"-clear",tabIndex:"-1",onClick:function(){return r.clearAll()},onKeyPress:function(){return r.clearAll()}},"\xd7")};t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(74)),i=a(n(0)),o=n(72);function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("div",{target:"e19h5j1v0",label:"SeparatorComponent"})({name:"gjy0ue",styles:"border-left:1px solid #ccc;width:1px;height:25px;display:block;"}),u=function(e){var t=e.props,n=e.state,r=e.methods;return t.separatorRenderer?t.separatorRenderer({props:t,state:n,methods:r}):i.default.createElement(s,{className:o.LIB_NAME+"-separator"})};t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(74)),i=a(n(0)),o=n(72);function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("div",{target:"e1vudypg0",label:"DropdownHandleComponent"})("text-align:center;",(function(e){var t=e.dropdownOpen,n=e.rotate;return t?"\n      pointer-events: all;\n      "+(n?"transform: rotate(0deg);margin: 0px 0 -3px 5px;":"")+"\n      ":"\n      pointer-events: none;\n      "+(n?"margin: 0 0 0 5px;transform: rotate(180deg);":"")+"\n      "}),";cursor:pointer;svg{width:16px;height:16px;}:hover{path{stroke:",(function(e){return e.color}),";}}:focus{outline:none;path{stroke:",(function(e){return e.color}),";}}"),u=function(e){var t=e.props,n=e.state,r=e.methods;return i.default.createElement(s,{tabIndex:"-1",onClick:function(e){return r.dropDown(n.dropdown?"close":"open",e)},dropdownOpen:n.dropdown,onKeyPress:function(e){return r.dropDown("toggle",e)},onKeyDown:function(e){return r.dropDown("toggle",e)},className:o.LIB_NAME+"-dropdown-handle",rotate:t.dropdownHandleRenderer?0:1,color:t.color},t.dropdownHandleRenderer?t.dropdownHandleRenderer({props:t,state:n,methods:r}):i.default.createElement("svg",{fill:"currentColor",viewBox:"0 0 40 40"},i.default.createElement("path",{d:"M31 26.4q0 .3-.2.5l-1.1 1.2q-.3.2-.6.2t-.5-.2l-8.7-8.8-8.8 8.8q-.2.2-.5.2t-.5-.2l-1.2-1.2q-.2-.2-.2-.5t.2-.5l10.4-10.4q.3-.2.6-.2t.5.2l10.4 10.4q.2.2.2.5z"})))};t.default=u},function(e,t,n){var r,i;void 0===(i="function"===typeof(r={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(382),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(40))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(e){delete o[e]}function c(e){if(a)setTimeout(c,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{l(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(40),n(54))},function(e,t,n){var r=n(384),i=n(385),o=n(386),a=n(387);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(250);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(250);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(389);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(392)),i=s(n(189)),o=s(n(404)),a=s(n(405));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=u},function(e,t,n){var r=n(105),i=n(73),o=n(91);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(132),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(396)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(105),i=n(91);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(105),i=n(191),o=n(91),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(194),i=n(402),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(257)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(259);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(105),i=n(195),o=n(91),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},function(e,t,n){var r=n(260),i=n(406),o=n(464),a=n(73);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){var r=n(407),i=n(451),o=n(259),a=n(73),s=n(461);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(408),i=n(450),o=n(270);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(196),i=n(262);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var c=(l=n[a])[0],f=e[c],h=l[1];if(u&&l[2]){if(void 0===f&&!(c in e))return!1}else{var d=new r;if(o)var p=o(f,h,c,e,t,d);if(!(void 0===p?i(h,f,3,o,d):p))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(155),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(155);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(155);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(155);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(154);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(154),i=n(198),o=n(199);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(258),i=n(420),o=n(120),a=n(261),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r=n(421),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(79)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(424),i=n(154),o=n(198);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(425),i=n(426),o=n(427),a=n(428),s=n(429);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(156);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(156),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(156),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(156);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(157);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(157);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(157);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(157);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(196),i=n(263),o=n(441),a=n(444),s=n(158),u=n(73),l=n(190),c=n(256),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=u(e),b=u(t),_=y?h:s(e),w=b?h:s(t),x=(_=_==f?d:_)==d,O=(w=w==f?d:w)==d,k=_==w;if(k&&l(e)){if(!l(t))return!1;y=!0,x=!1}if(k&&!x)return v||(v=new r),y||c(e)?i(e,t,n,g,m,v):o(e,t,_,n,g,m,v);if(!(1&n)){var S=x&&p.call(e,"__wrapped__"),E=O&&p.call(t,"__wrapped__");if(S||E){var C=S?e.value():e,A=E?t.value():t;return v||(v=new r),m(C,A,n,g,v)}}return!!k&&(v||(v=new r),a(e,t,n,g,m,v))}},function(e,t,n){var r=n(199),i=n(437),o=n(438);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(132),i=n(264),o=n(197),a=n(263),s=n(442),u=n(443),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;r|=2,h.set(e,t);var m=a(d(e),d(t),r,l,f,h);return h.delete(e),m;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(265),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var f=c;f--;){var h=l[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=u;++f<c;){var v=e[h=l[f]],y=t[h];if(o)var b=u?o(y,v,h,t,e,s):o(v,y,h,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(106)(n(79),"DataView");e.exports=r},function(e,t,n){var r=n(106)(n(79),"Promise");e.exports=r},function(e,t,n){var r=n(106)(n(79),"Set");e.exports=r},function(e,t,n){var r=n(106)(n(79),"WeakMap");e.exports=r},function(e,t,n){var r=n(269),i=n(133);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(262),i=n(452),o=n(458),a=n(201),s=n(269),u=n(270),l=n(159);e.exports=function(e,t){return a(e)&&s(t)?u(l(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(271);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(454),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(455);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(199);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(457);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(132),i=n(260),o=n(73),a=n(202),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},function(e,t,n){var r=n(459),i=n(460);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(272),i=n(254),o=n(73),a=n(255),s=n(191),u=n(159);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,f=!1;++l<c;){var h=u(t[l]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++l!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(h,c)&&(o(e)||i(e))}},function(e,t,n){var r=n(462),i=n(463),o=n(201),a=n(159);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(271);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(465),i=n(153);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){var r=n(252),i=n(466)(r);e.exports=i},function(e,t,n){var r=n(153);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(189)),i=a(n(468)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},function(e,t,n){var r=n(469);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(196),i=n(470),o=n(273),a=n(472),s=n(473),u=n(476),l=n(477),c=n(478),f=n(479),h=n(265),d=n(480),p=n(158),g=n(481),m=n(482),v=n(487),y=n(73),b=n(190),_=n(489),w=n(120),x=n(491),O=n(133),k=n(203),S="[object Arguments]",E="[object Function]",C="[object Object]",A={};A[S]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[C]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[E]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,P,j,T,M){var R,L=1&n,I=2&n,D=4&n;if(P&&(R=T?P(t,j,T,M):P(t)),void 0!==R)return R;if(!w(t))return t;var z=y(t);if(z){if(R=g(t),!L)return l(t,R)}else{var F=p(t),N=F==E||"[object GeneratorFunction]"==F;if(b(t))return u(t,L);if(F==C||F==S||N&&!T){if(R=I||N?{}:v(t),!L)return I?f(t,s(R,t)):c(t,a(R,t))}else{if(!A[F])return T?t:{};R=m(t,F,L)}}M||(M=new r);var B=M.get(t);if(B)return B;M.set(t,R),x(t)?t.forEach((function(r){R.add(e(r,n,P,r,t,M))})):_(t)&&t.forEach((function(r,i){R.set(i,e(r,n,P,i,t,M))}));var V=z?void 0:(D?I?d:h:I?k:O)(t);return i(V||t,(function(r,i){V&&(r=t[i=r]),o(R,i,e(r,n,P,i,t,M))})),R}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(106),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){var r=n(160),i=n(133);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(160),i=n(203);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(120),i=n(194),o=n(475),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(79),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(118)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(160),i=n(200);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(160),i=n(275);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(266),i=n(275),o=n(203);e.exports=function(e){return r(e,o,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(204),i=n(483),o=n(484),a=n(485),s=n(486);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Set]":return new u;case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(204);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(132),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(204);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(488),i=n(195),o=n(194);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(120),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(490),i=n(192),o=n(193),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(158),i=n(91);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(492),i=n(192),o=n(193),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(158),i=n(91);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n(189),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},u=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l;s(this,r);for(var c=arguments.length,f=Array(c),h=0;h<c;h++)f[h]=arguments[h];return o=l=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return a.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},a.default.createElement(e,i({},l.props,l.state)))},u(l,o)}return l(r,n),r}(a.default.Component)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l;s(this,r);for(var c=arguments.length,f=Array(c),h=0;h<c;h++)f[h]=arguments[h];return o=l=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return a.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},a.default.createElement(e,i({},l.props,l.state)))},u(l,o)}return l(r,n),r}(a.default.Component)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(206)),s=o(n(161)),u=o(n(207)),l=o(n(208)),c=o(n(209)),f=o(n(210)),h=o(n(0)),d=o(n(1)),p=1e3/60,g=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=i.state,o=n.currentStyle,a=n.currentVelocity,s=n.lastIdealStyle,u=n.lastIdealVelocity;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=e[l];"number"===typeof c&&(t||(t=!0,o=r({},o),a=r({},a),s=r({},s),u=r({},u)),o[l]=c,a[l]=0,s[l]=c,u[l]=0)}t&&i.setState({currentStyle:o,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:u})},this.startAnimationIfNecessary=function(){i.animationID=c.default((function(e){var t=i.props.style;if(f.default(i.state.currentStyle,t,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var n=e||l.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*p&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/p)*p)/p,a=Math.floor(i.accumulatedTime/p),s={},c={},h={},d={};for(var g in t)if(Object.prototype.hasOwnProperty.call(t,g)){var m=t[g];if("number"===typeof m)h[g]=m,d[g]=0,s[g]=m,c[g]=0;else{for(var v=i.state.lastIdealStyle[g],y=i.state.lastIdealVelocity[g],b=0;b<a;b++){var _=u.default(p/1e3,v,y,m.val,m.stiffness,m.damping,m.precision);v=_[0],y=_[1]}var w=u.default(p/1e3,v,y,m.val,m.stiffness,m.damping,m.precision),x=w[0],O=w[1];h[g]=v+(x-v)*o,d[g]=y+(O-y)*o,s[g]=v,c[g]=y}}i.animationID=null,i.accumulatedTime-=a*p,i.setState({currentStyle:h,currentVelocity:d,lastIdealStyle:s,lastIdealVelocity:c}),i.unreadPropStyle=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:d.default.objectOf(d.default.number),style:d.default.objectOf(d.default.oneOfType([d.default.number,d.default.object])).isRequired,children:d.default.func.isRequired,onRest:d.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||s.default(n),i=a.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&h.default.Children.only(e)},t}(h.default.Component);t.default=g,e.exports=t.default},function(e,t,n){(function(t){(function(){var n,r,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(54))},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(206)),s=o(n(161)),u=o(n(207)),l=o(n(208)),c=o(n(209)),f=o(n(210)),h=o(n(0)),d=o(n(1)),p=1e3/60;var g=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i.state,n=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,s=t.lastIdealVelocities,u=!1,l=0;l<e.length;l++){var c=e[l],f=!1;for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)){var d=c[h];"number"===typeof d&&(f||(f=!0,u=!0,n[l]=r({},n[l]),o[l]=r({},o[l]),a[l]=r({},a[l]),s[l]=r({},s[l])),n[l][h]=d,o[l][h]=0,a[l][h]=d,s[l][h]=0)}}u&&i.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){i.animationID=c.default((function(e){var t=i.props.styles(i.state.lastIdealStyles);if(function(e,t,n){for(var r=0;r<e.length;r++)if(!f.default(e[r],t[r],n[r]))return!1;return!0}(i.state.currentStyles,t,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var n=e||l.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*p&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/p)*p)/p,a=Math.floor(i.accumulatedTime/p),s=[],c=[],h=[],d=[],g=0;g<t.length;g++){var m=t[g],v={},y={},b={},_={};for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)){var x=m[w];if("number"===typeof x)v[w]=x,y[w]=0,b[w]=x,_[w]=0;else{for(var O=i.state.lastIdealStyles[g][w],k=i.state.lastIdealVelocities[g][w],S=0;S<a;S++){var E=u.default(p/1e3,O,k,x.val,x.stiffness,x.damping,x.precision);O=E[0],k=E[1]}var C=u.default(p/1e3,O,k,x.val,x.stiffness,x.damping,x.precision),A=C[0],P=C[1];v[w]=O+(A-O)*o,y[w]=k+(P-k)*o,b[w]=O,_[w]=k}}h[g]=v,d[g]=y,s[g]=b,c[g]=_}i.animationID=null,i.accumulatedTime-=a*p,i.setState({currentStyles:h,currentVelocities:d,lastIdealStyles:s,lastIdealVelocities:c}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:d.default.arrayOf(d.default.objectOf(d.default.number)),styles:d.default.func.isRequired,children:d.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(s.default),i=r.map((function(e){return a.default(e)}));return{currentStyles:r,currentVelocities:i,lastIdealStyles:r,lastIdealVelocities:i}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&h.default.Children.only(e)},t}(h.default.Component);t.default=g,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(206)),s=o(n(161)),u=o(n(207)),l=o(n(501)),c=o(n(208)),f=o(n(209)),h=o(n(210)),d=o(n(0)),p=o(n(1)),g=1e3/60;function m(e,t,n){var r=t;return null==r?e.map((function(e,t){return{key:e.key,data:e.data,style:n[t]}})):e.map((function(e,t){for(var i=0;i<r.length;i++)if(r[i].key===e.key)return{key:r[i].key,data:r[i].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}}))}function v(e,t,n,r,i,o,s,u,c){for(var f=l.default(r,i,(function(e,r){var i=t(r);return null==i||h.default(o[e],i,s[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:i}})),d=[],p=[],g=[],m=[],v=0;v<f.length;v++){for(var y=f[v],b=null,_=0;_<r.length;_++)if(r[_].key===y.key){b=_;break}if(null==b){var w=e(y);d[v]=w,g[v]=w;var x=a.default(y.style);p[v]=x,m[v]=x}else d[v]=o[b],g[v]=u[b],p[v]=s[b],m[v]=c[b]}return[f,d,p,g,m]}var y=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=v(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,e,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),n=t[0],o=t[1],a=t[2],s=t[3],u=t[4],l=0;l<e.length;l++){var c=e[l].style,f=!1;for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)){var d=c[h];"number"===typeof d&&(f||(f=!0,o[l]=r({},o[l]),a[l]=r({},a[l]),s[l]=r({},s[l]),u[l]=r({},u[l]),n[l]={key:n[l].key,data:n[l].data,style:r({},n[l].style)}),o[l][h]=d,a[l][h]=0,s[l][h]=d,u[l][h]=0,n[l].style[h]=d)}}i.setState({currentStyles:o,currentVelocities:a,mergedPropsStyles:n,lastIdealStyles:s,lastIdealVelocities:u})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=f.default((function(e){if(!i.unmounting){var t=i.props.styles,n="function"===typeof t?t(m(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):t;if(function(e,t,n,r){if(r.length!==t.length)return!1;for(var i=0;i<r.length;i++)if(r[i].key!==t[i].key)return!1;for(i=0;i<r.length;i++)if(!h.default(e[i],t[i].style,n[i]))return!1;return!0}(i.state.currentStyles,n,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var r=e||c.default(),o=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+o,i.accumulatedTime>10*g&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/g)*g)/g,s=Math.floor(i.accumulatedTime/g),l=v(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,n,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),f=l[0],d=l[1],p=l[2],y=l[3],b=l[4],_=0;_<f.length;_++){var w=f[_].style,x={},O={},k={},S={};for(var E in w)if(Object.prototype.hasOwnProperty.call(w,E)){var C=w[E];if("number"===typeof C)x[E]=C,O[E]=0,k[E]=C,S[E]=0;else{for(var A=y[_][E],P=b[_][E],j=0;j<s;j++){var T=u.default(g/1e3,A,P,C.val,C.stiffness,C.damping,C.precision);A=T[0],P=T[1]}var M=u.default(g/1e3,A,P,C.val,C.stiffness,C.damping,C.precision),R=M[0],L=M[1];x[E]=A+(R-A)*a,O[E]=P+(L-P)*a,k[E]=A,S[E]=P}}y[_]=k,b[_]=S,d[_]=x,p[_]=O}i.animationID=null,i.accumulatedTime-=s*g,i.setState({currentStyles:d,currentVelocities:p,lastIdealStyles:y,lastIdealVelocities:b,mergedPropsStyles:f}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.shape({key:p.default.string.isRequired,data:p.default.any,style:p.default.objectOf(p.default.number).isRequired})),styles:p.default.oneOfType([p.default.func,p.default.arrayOf(p.default.shape({key:p.default.string.isRequired,data:p.default.any,style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired}))]).isRequired,children:p.default.func.isRequired,willEnter:p.default.func,willLeave:p.default.func,didLeave:p.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return s.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,i=e.willLeave,o=e.didLeave,u="function"===typeof n?n(t):n,l=void 0;l=null==t?u:t.map((function(e){for(var t=0;t<u.length;t++)if(u[t].key===e.key)return u[t];return e}));var c=null==t?u.map((function(e){return s.default(e.style)})):t.map((function(e){return s.default(e.style)})),f=null==t?u.map((function(e){return a.default(e.style)})):t.map((function(e){return a.default(e.style)})),h=v(r,i,o,l,u,c,f,c,f),d=h[0];return{currentStyles:h[1],currentVelocities:h[2],lastIdealStyles:h[3],lastIdealVelocities:h[4],mergedPropsStyles:d}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"===typeof t?t(m(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=m(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&d.default.Children.only(t)},t}(d.default.Component);t.default=y,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r={},i=0;i<e.length;i++)r[e[i].key]=i;var o={};for(i=0;i<t.length;i++)o[t[i].key]=i;var a=[];for(i=0;i<t.length;i++)a[i]=t[i];for(i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(o,e[i].key)){var s=n(i,e[i]);null!=s&&a.push(s)}return a.sort((function(e,n){var i=o[e.key],a=o[n.key],s=r[e.key],u=r[n.key];if(null!=i&&null!=a)return o[e.key]-o[n.key];if(null!=s&&null!=u)return r[e.key]-r[n.key];if(null!=i){for(var l=0;l<t.length;l++){var c=t[l].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(i<o[c]&&u>r[c])return-1;if(i>o[c]&&u<r[c])return 1}}return 1}for(l=0;l<t.length;l++){c=t[l].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(a<o[c]&&s>r[c])return 1;if(a>o[c]&&s<r[c])return-1}}return-1}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return r({},s,t,{val:e})};var i,o=n(276),a=(i=o)&&i.__esModule?i:{default:i},s=r({},a.default.noWobble,{precision:.01});e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(278),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),h=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=l&&n;if(s&&e.length>0&&!i.call(e,0))for(var g=0;g<e.length;++g)h.push(String(g));if(r&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var v in e)p&&"prototype"===v||!i.call(e,v)||h.push(String(v));if(u)for(var y=function(e){if("undefined"===typeof window||!d)return f(e);try{return f(e)}catch(t){return!1}}(e),b=0;b<c.length;++b)y&&"constructor"===c[b]||!i.call(e,c[b])||h.push(c[b]);return h}}e.exports=r},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,i=n(279)("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";e.exports=function(e){var t=this;if("function"!==typeof t||o.call(t)!==a)throw new TypeError(r+t);for(var n,s=i.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(i.call(arguments)))},l=Math.max(0,t.length-s.length),c=[],f=0;f<l;f++)c.push("$"+f);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var h=function(){};h.prototype=t.prototype,n.prototype=new h,h.prototype=null}return n}},function(e,t,n){"use strict";var r=n(211);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(134),i=n(212),o=n(282),a=n(283),s=n(510),u=i(a(),Object);r(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},function(e,t,n){"use strict";var r=n(283),i=n(134);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,n){"use strict";var r,i,o,a,s=n(279),u=n(281)()&&"symbol"===typeof Symbol.toStringTag;if(u){r=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={};var l=function(){throw o};a={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var c=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!==typeof e)return!1;var t=f(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{i(e,a)}catch(n){return n===o}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===c(e)}},function(e,t,n){"use strict";var r=n(134),i=n(212),o=n(284),a=n(285),s=n(513),u=i(o);r(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},function(e,t,n){"use strict";var r=n(134).supportsDescriptors,i=n(285),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=u(l),n=o(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"object"===typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),o=n(213),a=s(n(517));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={scrollX:0,scrollY:0,setIds:[]},r.onSetIds=function(e){var t=r.props,n=t.onFirstModalMounted,i=t.onLastModalUnmounted,o=t.autoRestoreScrollPosition,a={setIds:e},s=!!r.state.setIds.length,u=!!e.length,l=u&&!s,c=!u&&s,f="undefined"!==typeof window&&"function"===typeof window.scroll,h=o&&f;l?(h&&(a.scrollX=window.scrollX,a.scrollY=window.scrollY),r.afterRender=n):c&&(r.afterRender=function(){h&&window.scroll(r.state.scrollX,r.state.scrollY),i&&i()}),r.setState(a)},l(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){(0,o.setModalSetIdsHandler)(this.onSetIds),(0,o.setDefaultOutDelay)(this.props.outDelay||0)}},{key:"componentWillUnmount",value:function(){(0,o.clearModalSetIdsHandler)()}},{key:"componentWillReceiveProps",value:function(e){e.outDelay!==this.props.outDelay&&(0,o.setDefaultOutDelay)(e.outDelay||0)}},{key:"render",value:function(){var e=this.props,t=e.backdropClassName,n=e.backdropInClassName,r=e.backdropOutClassName,o=e.containerClassName,s=e.bodyModalOpenClassName,u=e.modalClassName,l=e.modalInClassName,c=e.modalOutClassName,f=e.wrapperClassName,h=e.outDelay,d=this.state.setIds;return"undefined"!==typeof document&&(0===d.length?document.body&&s&&document.body.classList.remove(s):document.body&&s&&document.body.classList.add(s)),"undefined"!==typeof window&&"undefined"!==typeof window.requestAnimationFrame&&this.afterRender&&(window.requestAnimationFrame(this.afterRender),this.afterRender=null),i.default.createElement("div",null,d.map((function(e){return i.default.createElement(a.default,{key:e,setId:e,outDelay:h,wrapperClassName:f,backdropClassName:t,backdropInClassName:n,backdropOutClassName:r,containerClassName:o,modalClassName:u,modalInClassName:l,modalOutClassName:c})})))}}]),t}(i.default.Component);c.defaultProps={autoRestoreScrollPosition:!0,modalClassName:"react-router-modal__modal",modalInClassName:"react-router-modal__modal--in",modalOutClassName:"react-router-modal__modal--out",backdropClassName:"react-router-modal__backdrop",backdropInClassName:"react-router-modal__backdrop--in",backdropOutClassName:"react-router-modal__backdrop--out",containerClassName:"react-router-modal__container",wrapperClassName:"react-router-modal__wrapper",bodyModalOpenClassName:"react-router-modal__modal-open"},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(0)),a=l(n(518)),s=l(n(214)),u=n(213);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,n,r;c(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={modals:[]},r.onModals=function(e){r.setState({modals:e})},f(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){(0,u.setModalSetHandler)(this.props.setId,this.onModals)}},{key:"componentWillUnmount",value:function(){(0,u.clearModalSetHandler)(this.props.setId)}},{key:"render",value:function(){var e=this,t=this.props,n=t.backdropClassName,i=t.backdropInClassName,u=t.backdropOutClassName,l=t.containerClassName,c=t.modalClassName,f=t.modalInClassName,h=t.modalOutClassName,d=t.wrapperClassName,p=this.state.modals;return 0===p.length?null:o.default.createElement("div",{className:l},p.map((function(t){return o.default.createElement(a.default,r({key:t.id,children:t.info.children,backdropClassName:t.info.backdropClassName||n,outDelay:"undefined"===typeof t.info.outDelay?e.props.outDelay:t.info.outDelay,backdropInClassName:t.info.backdropInClassName||i,backdropOutClassName:t.info.backdropOutClassName||u,containerClassName:l,modalClassName:t.info.className||c,modalInClassName:t.info.inClassName||f,modalOutClassName:t.info.outClassName||h,onBackdropClick:t.info.onBackdropClick,wrapperClassName:d,component:t.info.component,props:t.info.props||{},isOut:!!t.info.out,context:{setId:t.id}},(0,s.default)(t.info)))})))}}]),t}(o.default.Component);t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(0)),a=s(n(214));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={rendered:!1},r.done=!1,l(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getChildContext",value:function(){return this.props.context}},{key:"componentDidMount",value:function(){var e=this;requestAnimationFrame((function(){requestAnimationFrame((function(){e.done||e.rendered||e.setState({rendered:!0})}))}))}},{key:"componentWillUnmount",value:function(){this.done=!0}},{key:"getClassName",value:function(e,t,n){var r=[e||""];return this.state.rendered&&!this.props.isOut&&r.push(t||""),this.props.isOut&&r.push(n||""),r.filter((function(e){return!!e})).join(" ")||""}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.component,i=e.props,s=e.onBackdropClick,u=e.backdropClassName,l=e.backdropInClassName,c=e.backdropOutClassName,f=e.modalClassName,h=e.modalInClassName,d=e.modalOutClassName,p=e.wrapperClassName,g=this.getClassName(u,l,c),m=this.getClassName(f,h,d),v=n,y=(0,a.default)(this.props);return o.default.createElement("div",{className:p},o.default.createElement("div",{className:g,onClick:s}),o.default.createElement("div",r({className:m,role:"dialog","aria-modal":!0},y),!v&&t,v&&o.default.createElement(v,r({},i,{context:this.props.context}))))}}]),t}(o.default.Component);c.childContextTypes={setId:function(){}},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(0)),o=n(58),a=u(n(287)),s=u(n(214));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.withRouter)((function(e){var t=e.exact,n=e.path,u=e.children,l=e.component,c=e.linkClassName,f=e.match,h=e.parentPath,d=e.modalClassName;return i.default.createElement(o.Link,{to:n,className:c},u,i.default.createElement(a.default,r({exact:t,path:n,props:e.props,component:l,className:d,parentPath:h||f.url},(0,s.default)(e))))})),e.exports=t.default},function(e,t,n){"use strict";"undefined"!==typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=function(e){return setTimeout(e,0)}))},function(e,t,n){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};r.inherits(o,i),t.JsonHighlightRules=o})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,o=e.findMatchingBracket({row:t,column:i});if(!o||o.row==t)return 0;var a=this.$getIndent(e.getLine(o.row));e.replace(new r(t,0,t,i-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,o=e("./fold_mode").FoldMode,a=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(a,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(i=o.match(this.foldingStartMarker)){var a=i.index;if(i[1])return this.openingBracketBlock(e,i[1],n,a);var s=e.getCommentFoldRange(n,a+i[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t&&(i=o.match(this.foldingStopMarker))){a=i.index+i[0].length;return i[1]?this.closingBracketBlock(e,i[1],n,a):e.getCommentFoldRange(n,a,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),r=n.search(/\S/),o=t,a=n.length,s=t+=1,u=e.getLength();++t<u;){var l=(n=e.getLine(t)).search(/\S/);if(-1!==l){if(r>l)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=o)break;if(c.isMultiLine())t=c.end.row;else if(r==l)break}s=t}}return new i(o,a,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),o=e.getLength(),a=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,u=1;++n<o;){t=e.getLine(n);var l=s.exec(t);if(l&&(l[1]?u--:u++,!u))break}if(n>a)return new i(a,r,n,t.length)}}.call(a.prototype)})),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(e,t,r){"use strict";var i=e("../lib/oop"),o=e("./text").Mode,a=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,u=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,c=e("../worker/worker_client").WorkerClient,f=function(){this.HighlightRules=a,this.$outdent=new s,this.$behaviour=new u,this.foldingRules=new l};i.inherits(f,o),function(){this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);"start"==e&&(t.match(/^.*[\{\(\[]\s*$/)&&(r+=n));return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new c(["ace"],n(522),"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/json"}.call(f.prototype),t.Mode=f}))},function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9);function i(e,t,n,i){var o="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),a=Object.getPrototypeOf(e);i.forEach((function(e){a.methodName||(a[e]=function(){throw r.j.removed("Calling removed method ".concat(t,".").concat(e,": "),o)(),new Error(e)})}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(220),i=n(9),o=n(33);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return l(e,t)}function l(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return f(e,t)}))}function c(e){for(var t in e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},r.b)void 0===e.luma.caps[t]&&(e.luma.caps[t]=f(e,t));return e.luma.caps}function f(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){var n,s=r.b[t];Object(o.a)(s,t);var u=Object(i.i)(e)&&s[1]||s[0];if("function"===typeof u)n=u(e);else if(Array.isArray(u)){n=!0;var l,c=a(u);try{for(c.s();!(l=c.n()).done;){var f=l.value;n=n&&Boolean(e.getExtension(f))}}catch(h){c.e(h)}finally{c.f()}}else"string"===typeof u?n=Boolean(e.getExtension(u)):"boolean"===typeof u?n=u:Object(o.a)(!1);return n}(e,t)),e.luma.caps[t]||i.j.log(2,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(19),i=n(18),o=n(2),a=n(5),s=n(4),u=n(167),l="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source",c=Object(u.a)();function f(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(r){return null}}var h=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";Object(a.a)(this,e),this.storage=f(r),this.id=t,this.config={},Object.assign(this.config,n),this._loadConfiguration()}return Object(s.a)(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:"updateConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));var o=e.width*n,a=e.height*n,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}var p={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function g(e){return"string"===typeof e?p[e.toUpperCase()]||p.WHITE:e}function m(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],r=Object.getPrototypeOf(e),i=Object.getOwnPropertyNames(r),o=m(i);try{var a=function(){var r=t.value;"function"===typeof e[r]&&(n.find((function(e){return r===e}))||(e[r]=e[r].bind(e)))};for(o.s();!(t=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}function b(e,t){if(!e)throw new Error(t||"Assertion failed")}var _=n(67);function w(){var e;if(c&&_.b.performance)e=_.b.performance.now();else if(_.a.hrtime){var t=_.a.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}var x={debug:c&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},O={enabled:!0,level:0};function k(){}var S={},E={once:!0};function C(e){for(var t in e)for(var n in e[t])return n||"untitled";return"empty"}var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;Object(a.a)(this,e),this.id=n,this.VERSION=l,this._startTs=w(),this._deltaTs=w(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new h("__probe-".concat(this.id,"__"),O),this.userData={},this.timeStamp("".concat(this.id," started")),y(this),Object.seal(this)}return Object(s.a)(e,[{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((w()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((w()-this._deltaTs).toPrecision(10))}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.updateConfiguration({level:e}),this}},{key:"assert",value:function(e,t){b(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,x.warn,arguments,E)}},{key:"error",value:function(e){return this._getLogFunction(0,e,x.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,x.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,x.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){return this._getLogFunction(e,t,x.debug||x.info,arguments,E)}},{key:"table",value:function(e,t,n){return t?this._getLogFunction(e,t,console.table||k,n&&[n],{tag:C(t)}):k}},{key:"image",value:function(e){var t=e.logLevel,r=e.priority,o=e.image,a=e.message,s=void 0===a?"":a,u=e.scale,l=void 0===u?1:u;return this._shouldLog(t||r)?c?function(e){var t=e.image,n=e.message,r=void 0===n?"":n,o=e.scale,a=void 0===o?1:o;if("string"===typeof t){var s=new Image;return s.onload=function(){var e,t=d(s,r,a);(e=console).log.apply(e,Object(i.a)(t))},s.src=t,k}var u=t.nodeName||"";if("img"===u.toLowerCase()){var l;return(l=console).log.apply(l,Object(i.a)(d(t,r,a))),k}if("canvas"===u.toLowerCase()){var c=new Image;return c.onload=function(){var e;return(e=console).log.apply(e,Object(i.a)(d(c,r,a)))},c.src=t.toDataURL(),k}return k}({image:o,message:s,scale:l}):function(e){var t=e.image,r=(e.message,e.scale),i=void 0===r?1:r,o=null;try{o=n(363)}catch(a){}if(o)return function(){return o(t,{fit:"box",width:"".concat(Math.round(80*i),"%")}).then((function(e){return console.log(e)}))};return k}({image:o,message:s,scale:l}):k}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.updateConfiguration(Object(o.a)({},e,t))}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||k)}},{key:"group",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},r=n=j({logLevel:e,message:t,opts:n}),i=r.collapsed;return n.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(n)}},{key:"groupCollapsed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||k)}},{key:"withGroup",value:function(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=P(e)}},{key:"_getLogFunction",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(this._shouldLog(e)){var a;o=j({logLevel:e,message:t,args:r,opts:o}),b(n=n||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=w();var s=o.tag||o.message;if(o.once){if(S[s])return k;S[s]=w()}return t=T(this.id,o.message,o),(a=n).bind.apply(a,[console,t].concat(Object(i.a)(o.args)))}return k}},{key:"level",set:function(e){this.setLevel(e)},get:function(){return this.getLevel()}},{key:"priority",set:function(e){this.level=e},get:function(){return this.level}}]),e}();function P(e){if(!e)return 0;var t;switch(Object(r.a)(e)){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return b(Number.isFinite(t)&&t>=0),t}function j(e){var t=e.logLevel,n=e.message;e.logLevel=P(t);for(var i=e.args?Array.from(e.args):[];i.length&&i.shift()!==n;);switch(e.args=i,Object(r.a)(t)){case"string":case"function":void 0!==n&&i.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"===typeof e.message&&(e.message=e.message());var o=Object(r.a)(e.message);return b("string"===o||"object"===o),Object.assign(e,e.opts)}function T(e,t,n){if("string"===typeof t){var r=n.time?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}((s=n.total)<10?"".concat(s.toFixed(2),"ms"):s<100?"".concat(s.toFixed(1),"ms"):s<1e3?"".concat(s.toFixed(0),"ms"):"".concat((s/1e3).toFixed(2),"s")):"";t=n.time?"".concat(e,": ").concat(r,"  ").concat(t):"".concat(e,": ").concat(t),i=t,o=n.color,a=n.background,c||"string"!==typeof i||(o&&(o=g(o),i="\x1b[".concat(o,"m").concat(i,"\x1b[39m")),a&&(o=g(a),i="\x1b[".concat(a+10,"m").concat(i,"\x1b[49m"))),t=i}var i,o,a,s;return t}A.VERSION=l},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var i=n(19),o={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document},a=o.global||o.self||o.window,s="object"!==("undefined"===typeof r?"undefined":Object(i.a)(r))||"[object process]"!==String(r)||r.browser,u="undefined"!==typeof r&&r.version&&r.version.match(/v([0-9]*)/),l=u&&parseFloat(u[1])||0}).call(this,n(40),n(54))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(5),i=n(27),o=n(4),a=n(13),s=n(15),u=n(6),l=n(9),c=n(52),f=n(49),h=n(147);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var p=function(e){Object(a.a)(n,e);var t=d(n);function n(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,n),Object(l.a)(e),(o=t.call(this,e,a)).initialize(a),o.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(Object(i.a)(o)),o}return Object(o.a)(n,null,[{key:"isSupported",value:function(e){return Object(l.i)(e)}}]),Object(o.a)(n,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(h.a)(this.buffers)||this.bind((function(){return e._unbindBuffers()})),this.setProps(t),this}},{key:"setProps",value:function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}},{key:"setBuffers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var n in t)e.setBuffer(n,t[n])})),this}},{key:"setBuffer",value:function(e,t){var n=this,r=this._getVaryingIndex(e),i=this._getBufferParams(t),o=i.buffer,a=i.byteSize,s=i.byteOffset;return r<0?(this.unused[e]=o,l.j.warn((function(){return"".concat(n.id," unused varying buffer ").concat(e)}))(),this):(this.buffers[r]=t,this.bindOnUse||this._bindBuffer(r,o,s,a),this)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(e){var t,n,r;return e instanceof f.a===!1?(r=e.buffer,n=e.byteSize,t=e.byteOffset):r=e,void 0===t&&void 0===n||(t=t||0,n=n||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:n}}},{key:"_getVaryingInfo",value:function(e){return this.configuration&&this.configuration.getVaryingInfo(e)}},{key:"_getVaryingIndex",value:function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),n=t.buffer,r=t.byteSize,i=t.byteOffset;this._bindBuffer(e,n,i,r)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)}},{key:"_bindBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=t&&t.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,e,i,n,r):this.gl.bindBufferBase(35982,e,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(e){this.gl.bindTransformFeedback(36386,this.handle)}}]),n}(c.a)},function(e,t,n){"use strict";var r=n(7),i=n(28),o=n(0),a=n.n(o);n(1);function s(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=s(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var u=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=s(e))&&(r&&(r+=" "),r+=t);return r},l=n(8);var c=o.createContext();var f=c;var h=n(82),d=n.n(h),p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g="object"===("undefined"===typeof window?"undefined":p(window))&&"object"===("undefined"===typeof document?"undefined":p(document))&&9===document.nodeType,m=(n(92),n(4)),v=n(51),y=n(27),b=n(63),_={}.constructor;function w(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(w);if(e.constructor!==_)return e;var t={};for(var n in e)t[n]=w(e[n]);return t}function x(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=w(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var O=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},k=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=O(e[r]," ");else n=O(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function S(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function E(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var l in u){var c=u[l];null!=c&&(r&&(r+="\n"),r+=""+S(l+": "+k(c)+";",o))}}else for(var f in a){var h=a[f];null!=h&&(r&&(r+="\n"),r+=""+S(f+": "+k(h)+";",o))}for(var d in t){var p=t[d];null!=p&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+S(d+": "+k(p)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),S(e+" {"+r,--o)+S("}",o)):r}var C=/([[\].#*$><+~=|^:(),"'`\s])/g,A="undefined"!==typeof CSS&&CSS.escape,P=function(e){return A?A(e):e.replace(C,"\\$1")},j=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),T=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,s=r.sheet,u=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=u(Object(y.a)(Object(y.a)(i)),s),i.selectorText="."+P(i.id)),i}Object(v.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=k(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return E(this.selectorText,this.style,n)},Object(m.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(j),M={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new T(e,t,n)}},R={indent:1,children:!0},L=/@([\w-]+)/,I=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var i=e.match(L);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ie(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=R),null==e.indent&&(e.indent=R.indent),null==e.children&&(e.children=R.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),D=/@media|@supports\s+/,z={onCreateRule:function(e,t,n){return D.test(e)?new I(e,t,n):null}},F={indent:1,children:!0},N=/@keyframes\s+([\w-]+)/,B=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(N);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:P(s(this,a)),this.rules=new ie(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=F),null==e.indent&&(e.indent=F.indent),null==e.children&&(e.children=F.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),V=/@keyframes\s+/,$=/\$([\w-]+)/g,U=function(e,t){return"string"===typeof e?e.replace($,(function(e,n){return n in t?t[n]:e})):e},W=function(e,t,n){var r=e[t],i=U(r,n);i!==r&&(e[t]=i)},H={onCreateRule:function(e,t,n){return"string"===typeof e&&V.test(e)?new B(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&W(e,"animation-name",n.keyframes),"animation"in e&&W(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return U(e,r.keyframes);default:return e}}},G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(v.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return E(this.key,this.style,n)},t}(j),q={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new G(e,t,n):null}},X=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=E(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return E(this.at,this.style,e)},e}(),Z=/@font-face/,K={onCreateRule:function(e,t,n){return Z.test(e)?new X(e,t,n):null}},Y=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return E(this.key,this.style,e)},e}(),J={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Y(e,t,n):null}},Q=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ee={"@charset":!0,"@import":!0,"@namespace":!0},te=[M,z,H,q,K,J,{onCreateRule:function(e,t,n){return e in ee?new Q(e,t,n):null}}],ne={process:!0},re={force:!0,process:!0},ie=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,l=i.generateId,c=i.scoped,f=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:l,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+P(this.classes[h]));var d=x(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof T?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof B&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof T?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof B&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ne);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,u=s.style;if(o.onUpdate(n,t,a,r),r.process&&u&&u!==s.style){for(var l in o.onProcessStyle(s.style,s,a),s.style){var c=s.style[l];c!==u[l]&&s.prop(l,c,re)}for(var f in u){var h=s.style[f],d=u[f];null==h&&h!==d&&s.prop(f,null,re)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),oe=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ie(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ae=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),se=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(b.a)(t,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(m.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),ue="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),le="2f1acc6c3a606b082e5eef5e54414ffb";null==ue[le]&&(ue[le]=0);var ce=ue[le]++,fe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ce+i+t:o+n.key+"-"+ce+(i?"-"+i:"")+"-"+t}},he=function(e){var t;return function(){return t||(t=e()),t}},de=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},pe=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=k(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ge=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},me=function(e,t){return e.selectorText=t,e.selectorText===t},ve=he((function(){return document.querySelector("head")}));function ye(e){var t=se.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ve(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var be=he((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),_e=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},we=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},xe=function(){function e(e){this.getPropertyValue=de,this.setProperty=pe,this.removeProperty=ge,this.setSelector=me,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&se.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=be();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ye(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ve().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=we(n,t);if(!1===(i=_e(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=we(n,t),u=_e(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof oe&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Oe=0,ke=function(){function e(e){this.id=Oe++,this.version="10.6.0",this.plugins=new ae,this.options={id:{minify:!1},createGenerateId:fe,Renderer:g?xe:null,plugins:[]},this.generateId=fe({minify:!1});for(var t=0;t<te.length;t++)this.plugins.use(te[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===se.index?0:se.index+1);var i=new oe(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),se.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=x(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function Se(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=Se(r);o&&(t||(t={}),t[n]=o)}}return t}var Ee="object"===typeof CSS&&null!=CSS&&"number"in CSS,Ce=function(e){return new ke(e)};Ce();function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var Pe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};var je=a.a.createContext(null);function Te(){return a.a.useContext(je)}var Me="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Re=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Le=Date.now(),Ie="fnValues"+Le,De="fnStyle"+ ++Le,ze=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=x(e,{},n);return r[De]=t,r},onProcessStyle:function(e,t){if(Ie in t||De in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ie]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[De];o&&(i.style=o(e)||{});var a=i[Ie];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},Fe="@global",Ne="@global ",Be=function(){function e(e,t,n){for(var i in this.type="global",this.at=Fe,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ie(Object(r.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Ve=function(){function e(e,t,n){this.type="global",this.at=Fe,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var i=e.substr(Ne.length);this.rule=n.jss.createRule(i,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),$e=/\s*,\s*/g;function Ue(e,t){for(var n=e.split($e),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var We=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Fe)return new Be(e,t,n);if("@"===e[0]&&e.substr(0,Ne.length)===Ne)return new Ve(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,o=i?i[Fe]:null;if(o){for(var a in o)t.addRule(a,o[a],Object(r.a)({},n,{selector:Ue(a,e.selector)}));delete i[Fe]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var o in i)if("@"===o[0]&&o.substr(0,Fe.length)===Fe){var a=Ue(o.substr(Fe.length),e.selector);t.addRule(a,i[o],Object(r.a)({},n,{selector:a})),delete i[o]}}(e,t))}}},He=/\s*,\s*/g,Ge=/&/g,qe=/\$([\w-]+)/g;var Xe=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(He),r=e.split(He),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Ge,a):a+" "+u}return i}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=Object(r.a)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,a){if("style"!==o.type)return i;var s,u,l=o,c=l.options.parent;for(var f in i){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(s=n(l,c,s),h){var p=t(f,l.selector);u||(u=e(c,a)),p=p.replace(qe,u),c.addRule(p,i[f],Object(r.a)({},s,{selector:p}))}else d&&c.addRule(f,{},s).addRule(l.key,i[f],{selector:l.selector});delete i[f]}}return i}}},Ze=/[A-Z]/g,Ke=/^ms-/,Ye={};function Je(e){return"-"+e.toLowerCase()}var Qe=function(e){if(Ye.hasOwnProperty(e))return Ye[e];var t=e.replace(Ze,Je);return Ye[e]=Ke.test(t)?"-"+t:t};function et(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Qe(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(et):t.fallbacks=et(e.fallbacks)),t}var tt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=et(e[t]);return e}return et(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Qe(t);return t===r?e:(n.prop(r,e),null)}}},nt=Ee&&CSS?CSS.px:"px",rt=Ee&&CSS?CSS.ms:"ms",it=Ee&&CSS?CSS.percent:"%";function ot(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var at=ot({"animation-delay":rt,"animation-duration":rt,"background-position":nt,"background-position-x":nt,"background-position-y":nt,"background-size":nt,border:nt,"border-bottom":nt,"border-bottom-left-radius":nt,"border-bottom-right-radius":nt,"border-bottom-width":nt,"border-left":nt,"border-left-width":nt,"border-radius":nt,"border-right":nt,"border-right-width":nt,"border-top":nt,"border-top-left-radius":nt,"border-top-right-radius":nt,"border-top-width":nt,"border-width":nt,"border-block":nt,"border-block-end":nt,"border-block-end-width":nt,"border-block-start":nt,"border-block-start-width":nt,"border-block-width":nt,"border-inline":nt,"border-inline-end":nt,"border-inline-end-width":nt,"border-inline-start":nt,"border-inline-start-width":nt,"border-inline-width":nt,"border-start-start-radius":nt,"border-start-end-radius":nt,"border-end-start-radius":nt,"border-end-end-radius":nt,margin:nt,"margin-bottom":nt,"margin-left":nt,"margin-right":nt,"margin-top":nt,"margin-block":nt,"margin-block-end":nt,"margin-block-start":nt,"margin-inline":nt,"margin-inline-end":nt,"margin-inline-start":nt,padding:nt,"padding-bottom":nt,"padding-left":nt,"padding-right":nt,"padding-top":nt,"padding-block":nt,"padding-block-end":nt,"padding-block-start":nt,"padding-inline":nt,"padding-inline-end":nt,"padding-inline-start":nt,"mask-position-x":nt,"mask-position-y":nt,"mask-size":nt,height:nt,width:nt,"min-height":nt,"max-height":nt,"min-width":nt,"max-width":nt,bottom:nt,left:nt,top:nt,right:nt,inset:nt,"inset-block":nt,"inset-block-end":nt,"inset-block-start":nt,"inset-inline":nt,"inset-inline-end":nt,"inset-inline-start":nt,"box-shadow":nt,"text-shadow":nt,"column-gap":nt,"column-rule":nt,"column-rule-width":nt,"column-width":nt,"font-size":nt,"font-size-delta":nt,"letter-spacing":nt,"text-decoration-thickness":nt,"text-indent":nt,"text-stroke":nt,"text-stroke-width":nt,"word-spacing":nt,motion:nt,"motion-offset":nt,outline:nt,"outline-offset":nt,"outline-width":nt,perspective:nt,"perspective-origin-x":it,"perspective-origin-y":it,"transform-origin":it,"transform-origin-x":it,"transform-origin-y":it,"transform-origin-z":it,"transition-delay":rt,"transition-duration":rt,"vertical-align":nt,"flex-basis":nt,"shape-margin":nt,size:nt,gap:nt,grid:nt,"grid-gap":nt,"row-gap":nt,"grid-row-gap":nt,"grid-column-gap":nt,"grid-template-rows":nt,"grid-template-columns":nt,"grid-auto-rows":nt,"grid-auto-columns":nt,"box-shadow-x":nt,"box-shadow-y":nt,"box-shadow-blur":nt,"box-shadow-spread":nt,"font-line-height":nt,"text-shadow-x":nt,"text-shadow-y":nt,"text-shadow-blur":nt});function st(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=st(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=st(i,t[i],n);else for(var o in t)t[o]=st(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||at[e];return!a||0===t&&a===nt?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var ut=function(e){void 0===e&&(e={});var t=ot(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=st(r,e[r],t);return e},onChangeValue:function(e,n){return st(n,e,t)}}},lt=n(18),ct="",ft="",ht="",dt="",pt=g&&"ontouchstart"in document.documentElement;if(g){var gt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},mt=document.createElement("p").style;for(var vt in gt)if(vt+"Transform"in mt){ct=vt,ft=gt[vt];break}"Webkit"===ct&&"msHyphens"in mt&&(ct="ms",ft=gt.ms,dt="edge"),"Webkit"===ct&&"-apple-trailing-word"in mt&&(ht="apple")}var yt=ct,bt=ft,_t=ht,wt=dt,xt=pt;var Ot={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===yt?"-webkit-"+e:bt+e)}},kt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===yt?bt+"print-"+e:e)}},St=/[-\s]+(.)?/g;function Et(e,t){return t?t.toUpperCase():""}function Ct(e){return e.replace(St,Et)}function At(e){return Ct("-"+e)}var Pt,jt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===yt){var n="mask-image";if(Ct(n)in t)return e;if(yt+At(n)in t)return bt+e}return e}},Tt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==_t||xt?e:bt+e)}},Mt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:bt+e)}},Rt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:bt+e)}},Lt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===yt||"ms"===yt&&"edge"!==wt?bt+e:e)}},It={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===yt||"ms"===yt||"apple"===_t?bt+e:e)}},Dt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===yt?"WebkitColumn"+At(e)in t&&bt+"column-"+e:"Moz"===yt&&("page"+At(e)in t&&"page-"+e))}},zt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===yt)return e;var n=e.replace("-inline","");return yt+At(n)in t&&bt+n}},Ft={supportedProperty:function(e,t){return Ct(e)in t&&e}},Nt={supportedProperty:function(e,t){var n=At(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:yt+n in t?bt+e:"Webkit"!==yt&&"Webkit"+n in t&&"-webkit-"+e}},Bt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===yt?""+bt+e:e)}},Vt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===yt?bt+"scroll-chaining":e)}},$t={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ut={supportedProperty:function(e,t){var n=$t[e];return!!n&&(yt+At(n)in t&&bt+n)}},Wt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ht=Object.keys(Wt),Gt=function(e){return bt+e},qt=[Ot,kt,jt,Tt,Mt,Rt,Lt,It,Dt,zt,Ft,Nt,Bt,Vt,Ut,{supportedProperty:function(e,t,n){var r=n.multiple;if(Ht.indexOf(e)>-1){var i=Wt[e];if(!Array.isArray(i))return yt+At(i)in t&&bt+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(yt+At(i[0])in t))return!1;return i.map(Gt)}return!1}}],Xt=qt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Zt=qt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(lt.a)(t.noPrefill)),e}),[]),Kt={};if(g){Pt=document.createElement("p");var Yt=window.getComputedStyle(document.documentElement,"");for(var Jt in Yt)isNaN(Jt)||(Kt[Yt[Jt]]=Yt[Jt]);Zt.forEach((function(e){return delete Kt[e]}))}function Qt(e,t){if(void 0===t&&(t={}),!Pt)return e;if(null!=Kt[e])return Kt[e];"transition"!==e&&"transform"!==e||(t[e]=e in Pt.style);for(var n=0;n<Xt.length&&(Kt[e]=Xt[n](e,Pt.style,t),!Kt[e]);n++);try{Pt.style[e]=""}catch(r){return!1}return Kt[e]}var en,tn={},nn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},rn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function on(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Qt(t):", "+Qt(n);return r||(t||n)}function an(e,t){var n=t;if(!en||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=tn[r])return tn[r];try{en.style[e]=n}catch(i){return tn[r]=!1,!1}if(nn[e])n=n.replace(rn,on);else if(""===en.style[e]&&("-ms-flex"===(n=bt+n)&&(en.style[e]="-ms-flexbox"),en.style[e]=n,""===en.style[e]))return tn[r]=!1,!1;return en.style[e]="",tn[r]=n,tn[r]}g&&(en=document.createElement("p"));var sn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Qt(n);o&&o!==n&&(i=!0);var a=!1,s=an(o,k(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===yt?n:"@"+bt+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return an(t,k(e))||e}}};var un=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function ln(){return{plugins:[ze(),We(),Xe(),tt(),ut(),"undefined"===typeof window?null:sn(),un()]}}var cn=Ce(ln()),fn={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),u=0,l=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Re.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Me]&&""===a?"".concat(o,"-").concat(l()):o}return"".concat(s).concat(i).concat(l())}}(),jss:cn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},hn=a.a.createContext(fn);var dn=-1e9;function pn(){return dn+=1}var gn=n(19);function mn(e){return e&&"object"===Object(gn.a)(e)&&e.constructor===Object}function vn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return mn(e)&&mn(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(mn(t[r])&&r in e?i[r]=vn(e[r],t[r],n):i[r]=t[r])})),i}function yn(e){var t="function"===typeof e;return{create:function(n,i){var o;try{o=t?e(n):e}catch(u){throw u}if(!i||!n.overrides||!n.overrides[i])return o;var a=n.overrides[i],s=Object(r.a)({},o);return Object.keys(a).forEach((function(e){s[e]=vn(s[e],a[e])})),s},options:{}}}var bn={};function _n(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ae({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function wn(e,t){var n=e.state,i=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var u=Pe.get(o.sheetsManager,a,i);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Pe.set(o.sheetsManager,a,i,u));var l=Object(r.a)({},a.options,o,{theme:i,flip:"boolean"===typeof o.flip?o.flip:"rtl"===i.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var c=o.sheetsRegistry;if(0===u.refs){var f;o.sheetsCache&&(f=Pe.get(o.sheetsCache,a,i));var h=a.create(i,s);f||((f=o.jss.createStyleSheet(h,Object(r.a)({link:!1},l))).attach(),o.sheetsCache&&Pe.set(o.sheetsCache,a,i,f)),c&&c.add(f),u.staticSheet=f,u.dynamicStyles=Se(h)}if(u.dynamicStyles){var d=o.jss.createStyleSheet(u.dynamicStyles,Object(r.a)({link:!0},l));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Ae({baseClasses:u.staticSheet.classes,newClasses:d.classes}),c&&c.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function xn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function On(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Pe.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Pe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function kn(e,t){var n,r=a.a.useRef([]),i=a.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[i])}function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,u=t.defaultTheme,l=void 0===u?bn:u,c=Object(i.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=yn(e),h=n||o||"makeStyles";f.options={index:pn(),name:n,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Te()||l,i=Object(r.a)({},a.a.useContext(hn),c),o=a.a.useRef(),u=a.a.useRef();kn((function(){var r={name:n,state:{},stylesCreator:f,stylesOptions:i,theme:t};return wn(r,e),u.current=!1,o.current=r,function(){On(r)}}),[t,f]),a.a.useEffect((function(){u.current&&xn(o.current,e),u.current=!0}));var h=_n(o.current,e.classes,s);return h};return d}function En(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}var Cn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,u=void 0!==s&&s,l=t.name,c=Object(i.a)(t,["defaultTheme","withTheme","name"]);var f=l,h=Sn(e,Object(r.a)({defaultTheme:o,Component:n,name:l||n.displayName,classNamePrefix:f},c)),p=a.a.forwardRef((function(e,t){e.classes;var s,c=e.innerRef,f=Object(i.a)(e,["classes","innerRef"]),d=h(Object(r.a)({},n.defaultProps,e)),p=f;return("string"===typeof l||u)&&(s=Te()||o,l&&(p=En({theme:s,name:l,props:f})),u&&!p.theme&&(p.theme=s)),a.a.createElement(n,Object(r.a)({ref:c||t,classes:d},p))}));return d()(p,n),p}},An=n(2),Pn=["xs","sm","md","lg","xl"];function jn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,a=void 0===o?"px":o,s=e.step,u=void 0===s?5:s,l=Object(i.a)(e,["values","unit","step"]);function c(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function f(e,t){var r=Pn.indexOf(t);return r===Pn.length-1?c(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Pn[r+1]]?n[Pn[r+1]]:t)-u/100).concat(a,")")}return Object(r.a)({keys:Pn,values:n,up:c,down:function(e){var t=Pn.indexOf(e)+1,r=n[Pn[t]];return t===Pn.length?c("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(a,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},l)}function Tn(e,t,n){var i;return Object(r.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(An.a)({},e.up("sm"),Object(r.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(An.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(An.a)(i,e.up("sm"),{minHeight:64}),i)},n)}function Mn(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Rn={black:"#000",white:"#fff"},Ln={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},In={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Dn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},zn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Fn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Nn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Bn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function $n(e){if(e.type)return e;if("#"===e.charAt(0))return $n(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Mn(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Un(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Wn(e){var t="hsl"===(e=$n(e)).type?$n(function(e){var t=(e=$n(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Un({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Hn(e,t){return e=$n(e),t=Vn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Un(e)}function Gn(e,t){if(e=$n(e),t=Vn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Un(e)}function qn(e,t){if(e=$n(e),t=Vn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Un(e)}var Xn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rn.white,default:Ln[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Zn={text:{primary:Rn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Ln[800],default:"#303030"},action:{active:Rn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Kn(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=qn(e.main,i):"dark"===t&&(e.dark=Gn(e.main,o)))}function Yn(e){var t=e.primary,n=void 0===t?{light:In[300],main:In[500],dark:In[700]}:t,o=e.secondary,a=void 0===o?{light:Dn.A200,main:Dn.A400,dark:Dn.A700}:o,s=e.error,u=void 0===s?{light:zn[300],main:zn[500],dark:zn[700]}:s,l=e.warning,c=void 0===l?{light:Fn[300],main:Fn[500],dark:Fn[700]}:l,f=e.info,h=void 0===f?{light:Nn[300],main:Nn[500],dark:Nn[700]}:f,d=e.success,p=void 0===d?{light:Bn[300],main:Bn[500],dark:Bn[700]}:d,g=e.type,m=void 0===g?"light":g,v=e.contrastThreshold,y=void 0===v?3:v,b=e.tonalOffset,_=void 0===b?.2:b,w=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){return function(e,t){var n=Wn(e),r=Wn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Zn.text.primary)>=y?Zn.text.primary:Xn.text.primary}var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(r.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Mn(4,t));if("string"!==typeof e.main)throw new Error(Mn(5,JSON.stringify(e.main)));return Kn(e,"light",n,_),Kn(e,"dark",i,_),e.contrastText||(e.contrastText=x(e.main)),e},k={dark:Zn,light:Xn};return vn(Object(r.a)({common:Rn,type:m,primary:O(n),secondary:O(a,"A400","A200","A700"),error:O(u),warning:O(c),info:O(h),success:O(p),grey:Ln,contrastThreshold:y,getContrastText:x,augmentColor:O,tonalOffset:_},k[m]),w)}function Jn(e){return Math.round(1e5*e)/1e5}var Qn={textTransform:"uppercase"},er='"Roboto", "Helvetica", "Arial", sans-serif';function tr(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,a=void 0===o?er:o,s=n.fontSize,u=void 0===s?14:s,l=n.fontWeightLight,c=void 0===l?300:l,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,g=n.fontWeightBold,m=void 0===g?700:g,v=n.htmlFontSize,y=void 0===v?16:v,b=n.allVariants,_=n.pxToRem,w=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=u/14,O=_||function(e){return"".concat(e/y*x,"rem")},k=function(e,t,n,i,o){return Object(r.a)({fontFamily:a,fontWeight:e,fontSize:O(t),lineHeight:n},a===er?{letterSpacing:"".concat(Jn(i/t),"em")}:{},o,b)},S={h1:k(c,96,1.167,-1.5),h2:k(c,60,1.2,-.5),h3:k(h,48,1.167,0),h4:k(h,34,1.235,.25),h5:k(h,24,1.334,0),h6:k(p,20,1.6,.15),subtitle1:k(h,16,1.75,.15),subtitle2:k(p,14,1.57,.1),body1:k(h,16,1.5,.15),body2:k(h,14,1.43,.15),button:k(p,14,1.75,.4,Qn),caption:k(h,12,1.66,.4),overline:k(h,12,2.66,1,Qn)};return vn(Object(r.a)({htmlFontSize:y,pxToRem:O,round:Jn,fontFamily:a,fontSize:u,fontWeightLight:c,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},S),w,{clone:!1})}function nr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var rr=["none",nr(0,2,1,-1,0,1,1,0,0,1,3,0),nr(0,3,1,-2,0,2,2,0,0,1,5,0),nr(0,3,3,-2,0,3,4,0,0,1,8,0),nr(0,2,4,-1,0,4,5,0,0,1,10,0),nr(0,3,5,-1,0,5,8,0,0,1,14,0),nr(0,3,5,-1,0,6,10,0,0,1,18,0),nr(0,4,5,-2,0,7,10,1,0,2,16,1),nr(0,5,5,-3,0,8,10,1,0,3,14,2),nr(0,5,6,-3,0,9,12,1,0,3,16,2),nr(0,6,6,-3,0,10,14,1,0,4,18,3),nr(0,6,7,-4,0,11,15,1,0,4,20,3),nr(0,7,8,-4,0,12,17,2,0,5,22,4),nr(0,7,8,-4,0,13,19,2,0,5,24,4),nr(0,7,9,-4,0,14,21,2,0,5,26,4),nr(0,8,9,-5,0,15,22,2,0,6,28,5),nr(0,8,10,-5,0,16,24,2,0,6,30,5),nr(0,8,11,-5,0,17,26,2,0,6,32,5),nr(0,9,11,-5,0,18,28,2,0,7,34,6),nr(0,9,12,-6,0,19,29,2,0,7,36,6),nr(0,10,13,-6,0,20,31,3,0,8,38,7),nr(0,10,13,-6,0,21,33,3,0,8,40,7),nr(0,10,14,-6,0,22,35,3,0,8,42,7),nr(0,11,14,-7,0,23,36,3,0,9,44,8),nr(0,11,15,-7,0,24,38,3,0,9,46,8)],ir={borderRadius:4};var or=function(e,t){return t?vn(e,t,{clone:!1}):e},ar={xs:0,sm:600,md:960,lg:1280,xl:1920},sr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ar[e],"px)")}};var ur={m:"margin",p:"padding"},lr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},fr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!cr[e])return[e];e=cr[e]}var t=e.split(""),n=Object(l.a)(t,2),r=n[0],i=n[1],o=ur[r],a=lr[i]||"";return Array.isArray(a)?a.map((function(e){return o+e})):[o+a]})),hr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function dr(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function pr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function gr(e){var t=dr(e.theme);return Object.keys(e).map((function(n){if(-1===hr.indexOf(n))return null;var r=pr(fr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||sr;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===Object(gn.a)(t)){var i=e.theme.breakpoints||sr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(or,{})}gr.propTypes={},gr.filterProps=hr;function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=dr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var vr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},yr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function br(e){return"".concat(Math.round(e),"ms")}var _r={easing:vr,duration:yr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?yr.standard:n,o=t.easing,a=void 0===o?vr.easeInOut:o,s=t.delay,u=void 0===s?0:s;Object(i.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:br(r)," ").concat(a," ").concat("string"===typeof u?u:br(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},wr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var xr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,a=e.palette,s=void 0===a?{}:a,u=e.spacing,l=e.typography,c=void 0===l?{}:l,f=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),h=Yn(s),d=jn(n),p=mr(u),g=vn({breakpoints:d,direction:"ltr",mixins:Tn(d,p,o),overrides:{},palette:h,props:{},shadows:rr,typography:tr(h,c),spacing:p,shape:ir,transitions:_r,zIndex:wr},f),m=arguments.length,v=new Array(m>1?m-1:0),y=1;y<m;y++)v[y-1]=arguments[y];return g=v.reduce((function(e,t){return vn(e,t)}),g)}();var Or=function(e,t){return Cn(e,Object(r.a)({defaultTheme:xr},t))},kr=n(80);function Sr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Er(e,t){return o.useMemo((function(){return null==e&&null==t?null:function(n){Sr(e,n),Sr(t,n)}}),[e,t])}var Cr="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;function Ar(e){var t=o.useRef(e);return Cr((function(){t.current=e})),o.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var Pr=!0,jr=!1,Tr=null,Mr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Rr(e){e.metaKey||e.altKey||e.ctrlKey||(Pr=!0)}function Lr(){Pr=!1}function Ir(){"hidden"===this.visibilityState&&jr&&(Pr=!0)}function Dr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Pr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Mr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function zr(){jr=!0,window.clearTimeout(Tr),Tr=window.setTimeout((function(){jr=!1}),100)}function Fr(){return{isFocusVisible:Dr,onBlurVisible:zr,ref:o.useCallback((function(e){var t,n=kr.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",Rr,!0),t.addEventListener("mousedown",Lr,!0),t.addEventListener("pointerdown",Lr,!0),t.addEventListener("touchstart",Lr,!0),t.addEventListener("visibilitychange",Ir,!0))}),[])}}var Nr=a.a.createContext(null);function Br(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function Vr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function $r(e,t,n){var r=Br(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];s[i[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if(Object(o.isValidElement)(s)){var u=a in t,l=a in r,c=t[a],f=Object(o.isValidElement)(c)&&!c.props.in;!l||u&&!f?l||!u||f?l&&u&&Object(o.isValidElement)(c)&&(i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:Vr(s,"exit",e),enter:Vr(s,"enter",e)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Vr(s,"exit",e),enter:Vr(s,"enter",e)})}})),i}var Ur=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Wr=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(y.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(v.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,Br(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Vr(e,"appear",n),enter:Vr(e,"enter",n),exit:Vr(e,"exit",n)})}))):$r(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=Br(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(b.a)(e,["component","childFactory"]),i=this.state.contextValue,o=Ur(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.a.createElement(Nr.Provider,{value:i},o):a.a.createElement(Nr.Provider,{value:i},a.a.createElement(t,r,o))},t}(a.a.Component);Wr.propTypes={},Wr.defaultProps={component:"div",childFactory:function(e){return e}};var Hr=Wr,Gr="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var qr=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,a=e.rippleY,s=e.rippleSize,l=e.in,c=e.onExited,f=void 0===c?function(){}:c,h=e.timeout,d=o.useState(!1),p=d[0],g=d[1],m=u(t.ripple,t.rippleVisible,r&&t.ripplePulsate),v={width:s,height:s,top:-s/2+a,left:-s/2+i},y=u(t.child,p&&t.childLeaving,r&&t.childPulsate),b=Ar(f);return Gr((function(){if(!l){g(!0);var e=setTimeout(b,h);return function(){clearTimeout(e)}}}),[b,l,h]),o.createElement("span",{className:m,style:v},o.createElement("span",{className:y}))},Xr=o.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,s=e.classes,l=e.className,c=Object(i.a)(e,["center","classes","className"]),f=o.useState([]),h=f[0],d=f[1],p=o.useRef(0),g=o.useRef(null);o.useEffect((function(){g.current&&(g.current(),g.current=null)}),[h]);var m=o.useRef(!1),v=o.useRef(null),y=o.useRef(null),b=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var _=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat(Object(lt.a)(e),[o.createElement(qr,{key:p.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),p.current+=1,g.current=a}),[s]),w=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,l=void 0!==u&&u;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var c,f,h,d=l?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),f=Math.round(p.height/2);else{var g=e.touches?e.touches[0]:e,w=g.clientX,x=g.clientY;c=Math.round(w-p.left),f=Math.round(x-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var O=2*Math.max(Math.abs((d?d.clientWidth:0)-c),c)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(O,2)+Math.pow(k,2))}e.touches?null===y.current&&(y.current=function(){_({pulsate:i,rippleX:c,rippleY:f,rippleSize:h,cb:n})},v.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):_({pulsate:i,rippleX:c,rippleY:f,rippleSize:h,cb:n})}}),[a,_]),x=o.useCallback((function(){w({},{pulsate:!0})}),[w]),O=o.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(v.current=setTimeout((function(){O(e,t)})));y.current=null,d((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:x,start:w,stop:O}}),[x,w,O]),o.createElement("span",Object(r.a)({className:u(s.root,l),ref:b},c),o.createElement(Hr,{component:null,exit:!0},h))})),Zr=Or((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(Xr)),Kr=o.forwardRef((function(e,t){var n=e.action,a=e.buttonRef,s=e.centerRipple,l=void 0!==s&&s,c=e.children,f=e.classes,h=e.className,d=e.component,p=void 0===d?"button":d,g=e.disabled,m=void 0!==g&&g,v=e.disableRipple,y=void 0!==v&&v,b=e.disableTouchRipple,_=void 0!==b&&b,w=e.focusRipple,x=void 0!==w&&w,O=e.focusVisibleClassName,k=e.onBlur,S=e.onClick,E=e.onFocus,C=e.onFocusVisible,A=e.onKeyDown,P=e.onKeyUp,j=e.onMouseDown,T=e.onMouseLeave,M=e.onMouseUp,R=e.onTouchEnd,L=e.onTouchMove,I=e.onTouchStart,D=e.onDragLeave,z=e.tabIndex,F=void 0===z?0:z,N=e.TouchRippleProps,B=e.type,V=void 0===B?"button":B,$=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),U=o.useRef(null);var W=o.useRef(null),H=o.useState(!1),G=H[0],q=H[1];m&&G&&q(!1);var X=Fr(),Z=X.isFocusVisible,K=X.onBlurVisible,Y=X.ref;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return Ar((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){q(!0),U.current.focus()}}}),[]),o.useEffect((function(){G&&x&&!y&&W.current.pulsate()}),[y,x,G]);var Q=J("start",j),ee=J("stop",D),te=J("stop",M),ne=J("stop",(function(e){G&&e.preventDefault(),T&&T(e)})),re=J("start",I),ie=J("stop",R),oe=J("stop",L),ae=J("stop",(function(e){G&&(K(e),q(!1)),k&&k(e)}),!1),se=Ar((function(e){U.current||(U.current=e.currentTarget),Z(e)&&(q(!0),C&&C(e)),E&&E(e)})),ue=function(){var e=kr.findDOMNode(U.current);return p&&"button"!==p&&!("A"===e.tagName&&e.href)},le=o.useRef(!1),ce=Ar((function(e){x&&!le.current&&G&&W.current&&" "===e.key&&(le.current=!0,e.persist(),W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&ue()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&ue()&&"Enter"===e.key&&!m&&(e.preventDefault(),S&&S(e))})),fe=Ar((function(e){x&&" "===e.key&&W.current&&G&&!e.defaultPrevented&&(le.current=!1,e.persist(),W.current.stop(e,(function(){W.current.pulsate(e)}))),P&&P(e),S&&e.target===e.currentTarget&&ue()&&" "===e.key&&!e.defaultPrevented&&S(e)})),he=p;"button"===he&&$.href&&(he="a");var de={};"button"===he?(de.type=V,de.disabled=m):("a"===he&&$.href||(de.role="button"),de["aria-disabled"]=m);var pe=Er(a,t),ge=Er(Y,U),me=Er(pe,ge),ve=o.useState(!1),ye=ve[0],be=ve[1];o.useEffect((function(){be(!0)}),[]);var _e=ye&&!y&&!m;return o.createElement(he,Object(r.a)({className:u(f.root,h,G&&[f.focusVisible,O],m&&f.disabled),onBlur:ae,onClick:S,onFocus:se,onKeyDown:ce,onKeyUp:fe,onMouseDown:Q,onMouseLeave:ne,onMouseUp:te,onDragLeave:ee,onTouchEnd:ie,onTouchMove:oe,onTouchStart:re,ref:me,tabIndex:m?-1:F},de,$),c,_e?o.createElement(Zr,Object(r.a)({ref:W,center:l},N)):null)})),Yr=Or({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Kr);function Jr(e){if("string"!==typeof e)throw new Error(Mn(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Qr=o.forwardRef((function(e,t){var n=e.edge,a=void 0!==n&&n,s=e.children,l=e.classes,c=e.className,f=e.color,h=void 0===f?"default":f,d=e.disabled,p=void 0!==d&&d,g=e.disableFocusRipple,m=void 0!==g&&g,v=e.size,y=void 0===v?"medium":v,b=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(Yr,Object(r.a)({className:u(l.root,c,"default"!==h&&l["color".concat(Jr(h))],p&&l.disabled,"small"===y&&l["size".concat(Jr(y))],{start:l.edgeStart,end:l.edgeEnd}[a]),centerRipple:!0,focusRipple:!m,disabled:p,ref:t},b),o.createElement("span",{className:l.label},s))})),ei=Or((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Hn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Hn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Hn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(Qr),ti=o.forwardRef((function(e,t){var n=e.autoFocus,a=e.checked,s=e.checkedIcon,c=e.classes,h=e.className,d=e.defaultChecked,p=e.disabled,g=e.icon,m=e.id,v=e.inputProps,y=e.inputRef,b=e.name,_=e.onBlur,w=e.onChange,x=e.onFocus,O=e.readOnly,k=e.required,S=e.tabIndex,E=e.type,C=e.value,A=Object(i.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),P=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,o.useRef(void 0!==t).current),i=o.useState(n),a=i[0],s=i[1];return[r?t:a,o.useCallback((function(e){r||s(e)}),[])]}({controlled:a,default:Boolean(d),name:"SwitchBase",state:"checked"}),j=Object(l.a)(P,2),T=j[0],M=j[1],R=o.useContext(f),L=p;R&&"undefined"===typeof L&&(L=R.disabled);var I="checkbox"===E||"radio"===E;return o.createElement(ei,Object(r.a)({component:"span",className:u(c.root,h,T&&c.checked,L&&c.disabled),disabled:L,tabIndex:null,role:void 0,onFocus:function(e){x&&x(e),R&&R.onFocus&&R.onFocus(e)},onBlur:function(e){_&&_(e),R&&R.onBlur&&R.onBlur(e)},ref:t},A),o.createElement("input",Object(r.a)({autoFocus:n,checked:a,defaultChecked:d,className:c.input,disabled:L,id:I&&m,name:b,onChange:function(e){var t=e.target.checked;M(t),w&&w(e,t)},readOnly:O,ref:y,required:k,tabIndex:S,type:E,value:C},v)),T?s:g)})),ni=Or({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(ti),ri=o.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.className,l=e.color,c=void 0===l?"inherit":l,f=e.component,h=void 0===f?"svg":f,d=e.fontSize,p=void 0===d?"default":d,g=e.htmlColor,m=e.titleAccess,v=e.viewBox,y=void 0===v?"0 0 24 24":v,b=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(h,Object(r.a)({className:u(a.root,s,"inherit"!==c&&a["color".concat(Jr(c))],"default"!==p&&a["fontSize".concat(Jr(p))]),focusable:"false",viewBox:y,color:g,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},b),n,m?o.createElement("title",null,m):null)}));ri.muiName="SvgIcon";var ii=Or((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(ri);function oi(e,t){var n=function(t,n){return a.a.createElement(ii,Object(r.a)({ref:n},t),e)};return n.muiName=ii.muiName,a.a.memo(a.a.forwardRef(n))}var ai=oi(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),si=oi(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),ui=oi(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"})),li=o.createElement(si,null),ci=o.createElement(ai,null),fi=o.createElement(ui,null),hi=o.forwardRef((function(e,t){var n=e.checkedIcon,a=void 0===n?li:n,s=e.classes,l=e.color,c=void 0===l?"secondary":l,f=e.icon,h=void 0===f?ci:f,d=e.indeterminate,p=void 0!==d&&d,g=e.indeterminateIcon,m=void 0===g?fi:g,v=e.inputProps,y=e.size,b=void 0===y?"medium":y,_=Object(i.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),w=p?m:h,x=p?m:a;return o.createElement(ni,Object(r.a)({type:"checkbox",classes:{root:u(s.root,s["color".concat(Jr(c))],p&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:c,inputProps:Object(r.a)({"data-indeterminate":p},v),icon:o.cloneElement(w,{fontSize:void 0===w.props.fontSize&&"small"===b?b:w.props.fontSize}),checkedIcon:o.cloneElement(x,{fontSize:void 0===x.props.fontSize&&"small"===b?b:x.props.fontSize}),ref:t},_))}));t.a=Or((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Hn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Hn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(hi)},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ti}));var r=n(18),i=n(2),o=n(12),a=n.n(o),s=n(5),u=n(4),l=n(26),c=n(13),f=n(15),h=n(6),d=n(20),p=n(22),g=n(300),m=n.n(g),v=function(){function e(t,n,r,i,o){Object(s.a)(this,e),this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(b,this,n)}return Object(u.a)(e,null,[{key:"types",get:function(){return["Unknown","Point","LineString","Polygon"]}}]),Object(u.a)(e,[{key:"loadGeometry",value:function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(i<=0){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new m.a(o,a));else{if(7!==r)throw new Error("unknown command ".concat(r));t&&t.push(t[0].clone())}}return t&&s.push(t),s}},{key:"bbox",value:function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command ".concat(n))}return[a,u,s,l]}},{key:"toGeoJSON",value:function(t,n,r){var i,o,a=this.extent*Math.pow(2,r),s=this.extent*t,u=this.extent*n,l=this.loadGeometry(),c=e.types[this.type];function f(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+u)/a;e[t]=[360*(n.x+s)/a-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<l.length;i++)h[i]=l[i][0];f(l=h);break;case 2:for(i=0;i<l.length;i++)f(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=y(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}n&&i.push(n);return i}(l),i=0;i<l.length;i++)for(o=0;o<l[i].length;o++)f(l[i][o])}return 1===l.length?l=l[0]:c="Multi".concat(c),{type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties}}}]),e}();function y(e){for(var t,n,r=0,i=0,o=e.length-1;i<e.length;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}function b(e,t,n){1===e?t.id=n.readVarint():2===e?function(e,t){var n=e.readVarint()+e.pos;for(;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3===e?t.type=n.readVarint():4===e&&(t._geometry=n.pos)}var _=function(){function e(t,n){Object(s.a)(this,e),this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(w,this,n),this.length=this._features.length}return Object(u.a)(e,[{key:"feature",value:function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new v(this._pbf,t,this.extent,this._keys,this._values)}}]),e}();function w(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){var t=null,n=e.readVarint()+e.pos;for(;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}var x=function e(t,n){Object(s.a)(this,e),this.layers=t.readFields(O,{},n)};function O(e,t,n){if(3===e){var r=new _(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}function k(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t,n,i=0,o=0,a=0,s=0,u=0,l=0,c=0,f=0,h=0,d=new Set,p={},g=k(e);try{for(g.s();!(t=g.n()).done;){var m=t.value,v=m.geometry;switch(v.type){case"Point":o++,i++,d.add(v.coordinates.length);break;case"MultiPoint":o++,i+=v.coordinates.length;var y,b=k(v.coordinates);try{for(b.s();!(y=b.n()).done;){var _=y.value;d.add(_.length)}}catch(U){b.e(U)}finally{b.f()}break;case"LineString":u++,a+=v.coordinates.length,s++;var w,x=k(v.coordinates);try{for(x.s();!(w=x.n()).done;){var O=w.value;d.add(O.length)}}catch(U){x.e(U)}finally{x.f()}break;case"MultiLineString":u++;var S,E=k(v.coordinates);try{for(E.s();!(S=E.n()).done;){var C=S.value;a+=C.length,s++;var A,P=k(C);try{for(P.s();!(A=P.n()).done;){var j=A.value;d.add(j.length)}}catch(U){P.e(U)}finally{P.f()}}}catch(U){E.e(U)}finally{E.f()}break;case"Polygon":h++,c++,f+=v.coordinates.length,l+=F(v.coordinates).length;var T,M=k(F(v.coordinates));try{for(M.s();!(T=M.n()).done;){var R=T.value;d.add(R.length)}}catch(U){M.e(U)}finally{M.f()}break;case"MultiPolygon":h++;var L,I=k(v.coordinates);try{for(I.s();!(L=I.n()).done;){var D=L.value;c++,f+=D.length,l+=F(D).length;var z,N=k(F(D));try{for(N.s();!(z=N.n()).done;){var B=z.value;d.add(B.length)}}catch(U){N.e(U)}finally{N.f()}}}catch(U){I.e(U)}finally{I.f()}break;default:throw new Error("Unsupported geometry type: ".concat(v.type))}if(m.properties)for(var V in m.properties){var $=m.properties[V];p[V]=p[V]||void 0===p[V]?(n=$,Number.isFinite(n)):p[V]}}}catch(U){g.e(U)}finally{g.f()}return{pointPositionsCount:i,pointFeaturesCount:o,linePositionsCount:a,linePathsCount:s,lineFeaturesCount:u,coordLength:d.size>0&&Math.max.apply(Math,Object(r.a)(d)),polygonPositionsCount:l,polygonObjectsCount:c,polygonRingsCount:f,polygonFeaturesCount:h,numericPropKeys:Object.keys(p).filter((function(e){return p[e]}))}}function C(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.pointPositionsCount,i=t.pointFeaturesCount,o=t.linePositionsCount,a=t.linePathsCount,s=t.lineFeaturesCount,u=t.polygonPositionsCount,l=t.polygonObjectsCount,c=t.polygonRingsCount,f=t.polygonFeaturesCount,h=n.coordLength,d=n.numericPropKeys,p=n.PositionDataType,g=void 0===p?Float32Array:p,m=e.length>65535?Uint32Array:Uint16Array,v={positions:new g(r*h),globalFeatureIds:new m(r),featureIds:i>65535?new Uint32Array(r):new Uint16Array(r),numericProps:{},properties:[]},y={pathIndices:o>65535?new Uint32Array(a+1):new Uint16Array(a+1),positions:new g(o*h),globalFeatureIds:new m(o),featureIds:s>65535?new Uint32Array(o):new Uint16Array(o),numericProps:{},properties:[]},b={polygonIndices:u>65535?new Uint32Array(l+1):new Uint16Array(l+1),primitivePolygonIndices:u>65535?new Uint32Array(c+1):new Uint16Array(c+1),positions:new g(u*h),globalFeatureIds:new m(u),featureIds:f>65535?new Uint32Array(u):new Uint16Array(u),numericProps:{},properties:[]},_=0,w=[v,y,b];_<w.length;_++){var x,O=w[_],S=k(d);try{for(S.s();!(x=S.n()).done;){var E=x.value;O.numericProps[E]=new Float32Array(O.positions.length/h)}}catch(V){S.e(V)}finally{S.f()}}y.pathIndices[a]=o,b.polygonIndices[l]=u,b.primitivePolygonIndices[c]=u;var C,I={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0},z=k(e);try{for(z.s();!(C=z.n()).done;){var F=C.value,N=F.geometry,B=F.properties||{};switch(N.type){case"Point":A(N.coordinates,v,I,h,B),v.properties.push(D(B,d)),I.pointFeature++;break;case"MultiPoint":P(N.coordinates,v,I,h,B),v.properties.push(D(B,d)),I.pointFeature++;break;case"LineString":j(N.coordinates,y,I,h,B),y.properties.push(D(B,d)),I.lineFeature++;break;case"MultiLineString":T(N.coordinates,y,I,h,B),y.properties.push(D(B,d)),I.lineFeature++;break;case"Polygon":M(N.coordinates,b,I,h,B),b.properties.push(D(B,d)),I.polygonFeature++;break;case"MultiPolygon":R(N.coordinates,b,I,h,B),b.properties.push(D(B,d)),I.polygonFeature++;break;default:throw new Error("Invalid geometry type")}I.feature++}}catch(V){z.e(V)}finally{z.f()}return L(v,y,b,h)}function A(e,t,n,r,i){t.positions.set(e,n.pointPosition*r),t.globalFeatureIds[n.pointPosition]=n.feature,t.featureIds[n.pointPosition]=n.pointFeature,I(t,i,n.pointPosition,1),n.pointPosition++}function P(e,t,n,r,i){var o,a=k(e);try{for(a.s();!(o=a.n()).done;){A(o.value,t,n,r,i)}}catch(s){a.e(s)}finally{a.f()}}function j(e,t,n,r,i){t.pathIndices[n.linePath]=n.linePosition,n.linePath++,z(t.positions,e,n.linePosition,r);var o=e.length;I(t,i,n.linePosition,o),t.globalFeatureIds.set(new Uint32Array(o).fill(n.feature),n.linePosition),t.featureIds.set(new Uint32Array(o).fill(n.lineFeature),n.linePosition),n.linePosition+=o}function T(e,t,n,r,i){var o,a=k(e);try{for(a.s();!(o=a.n()).done;){j(o.value,t,n,r,i)}}catch(s){a.e(s)}finally{a.f()}}function M(e,t,n,r,i){t.polygonIndices[n.polygonObject]=n.polygonPosition,n.polygonObject++;var o,a=k(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.primitivePolygonIndices[n.polygonRing]=n.polygonPosition,n.polygonRing++,z(t.positions,s,n.polygonPosition,r);var u=s.length;I(t,i,n.polygonPosition,u),t.globalFeatureIds.set(new Uint32Array(u).fill(n.feature),n.polygonPosition),t.featureIds.set(new Uint32Array(u).fill(n.polygonFeature),n.polygonPosition),n.polygonPosition+=u}}catch(l){a.e(l)}finally{a.f()}}function R(e,t,n,r,i){var o,a=k(e);try{for(a.s();!(o=a.n()).done;){M(o.value,t,n,r,i)}}catch(s){a.e(s)}finally{a.f()}}function L(e,t,n,r){var i={points:{positions:{value:e.positions,size:r},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:e.numericProps,properties:e.properties},lines:{pathIndices:{value:t.pathIndices,size:1},positions:{value:t.positions,size:r},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:t.numericProps,properties:t.properties},polygons:{polygonIndices:{value:n.polygonIndices,size:1},primitivePolygonIndices:{value:n.primitivePolygonIndices,size:1},positions:{value:n.positions,size:r},globalFeatureIds:{value:n.globalFeatureIds,size:1},featureIds:{value:n.featureIds,size:1},numericProps:n.numericProps,properties:n.properties}};for(var o in i)for(var a in i[o].numericProps)i[o].numericProps[a]={value:i[o].numericProps[a],size:1};return i}function I(e,t,n,r){for(var i in e.numericProps)i in t&&e.numericProps[i].set(new Array(r).fill(t[i]),n)}function D(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);return n}function z(e,t,n,r){var i,o=n*r,a=k(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;e.set(s,o),o+=r}}catch(u){a.e(u)}finally{a.f()}}function F(e){var t;return(t=[]).concat.apply(t,Object(r.a)(e))}var N=n(299),B=n.n(N),V=["Unknown","Point","LineString","Polygon"];function $(e,t){for(var n=0;n<e.length;n++){var r=e[n];e[n]=[r.x/t.extent,r.y/t.extent]}}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e},n=V[e.type],r=e.loadGeometry();switch(e.type){case 1:for(var i=[],o=0;o<r.length;o++)i[o]=r[o][0];t(r=i,e);break;case 2:for(var a=0;a<r.length;a++)t(r[a],e);break;case 3:r=H(r);for(var s=0;s<r.length;s++)for(var u=0;u<r[s].length;u++)t(r[s][u],e)}return W(n,e,r)}function W(e,t,n){var r=e;1===n.length?n=n[0]:r="Multi".concat(e);var i={type:"Feature",geometry:{type:r,coordinates:n},properties:t.properties||{}};return"id"in t&&(i.id=t.id),i}function H(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=G(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n&&n.push(e[o]))}return n&&i.push(n),i}function G(e){for(var t,n,r=e.length,i=0,o=0,a=r-1;o<r;a=o++)t=e[o],i+=((n=e[a]).x-t.x)*(t.y+n.y);return i}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){(t=t||{}).mvt=t.mvt||{},t.gis=t.gis||{};var n=[];if(e.byteLength>0){var r=new x(new B.a(e)),i=t.mvt;(Array.isArray(i.layers)?i.layers:Object.keys(r.layers)).forEach((function(e){var t=r.layers[e],o=X(X({},i),{},{layerName:e});if(t)for(var a=0;a<t.length;a++){var s=K(t.feature(a),o);n.push(s)}}))}if("binary"===t.gis.format){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=E(e);return C(e,n,{coordLength:t.coordLength||n.coordLength||2,numericPropKeys:t.numericPropKeys||n.numericPropKeys,PositionDataType:t.PositionDataType||Float32Array})}(n);return o.byteLength=e.byteLength,o}return n}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="wgs84"===t.coordinates,r=t.tileIndex&&Number.isFinite(t.tileIndex.x)&&Number.isFinite(t.tileIndex.y)&&Number.isFinite(t.tileIndex.z);if(n&&!r)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property. Check documentation.");var i=n&&r?e.toGeoJSON(t.tileIndex.x,t.tileIndex.y,t.tileIndex.z):U(e,$);return t.layerProperty&&(i.properties[t.layerProperty]=t.layerName),i}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q="2.3.13",ee=J(J({},{id:"mvt",name:"Mapbox Vector Tile",version:Q,extensions:["mvt","pbf"],mimeTypes:["application/vnd.mapbox-vector-tile","application/x-protobuf"],category:"geometry",options:{mvt:{coordinates:"local",layerProperty:"layerName",layers:null,tileIndex:null,_format:"geojson",workerUrl:"https://unpkg.com/@loaders.gl/mvt@".concat(Q,"/dist/mvt-loader.worker.js")}}}),{},{parse:function(){var e=Object(d.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseSync:Z,binary:!0});function te(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t,n){if("geometry"===n)return oe(e);var r=function(e,t){if(!Boolean(e.points||e.lines||e.polygons))return e.type=t||function(e){if(e.pathIndices)return"LineString";if(e.polygonIndices)return"Polygon";return"Point"}(e),[e];var n=[];e.points&&(e.points.type="Point",n.push(e.points));e.lines&&(e.lines.type="LineString",n.push(e.lines));e.polygons&&(e.polygons.type="Polygon",n.push(e.polygons));return n}(e,t);switch(function(e){if(e.length>1)return"FeatureCollection";var t=e[0];if(!(t.featureIds||t.globalFeatureIds||t.numericProps||t.properties))return"Geometry";return"FeatureCollection"}(r)){case"Geometry":return oe(r[0]);case"FeatureCollection":return function(e){var t,n=[],r=te(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(0!==i.featureIds.value.length){for(var o=0,a=i.featureIds.value[0],s=0;s<i.featureIds.value.length;s++){var u=i.featureIds.value[s];u!==a&&(n.push(ie(i,o,s)),o=s,a=u)}n.push(ie(i,o,i.featureIds.value.length))}}}catch(l){r.e(l)}finally{r.f()}return n}(r)}return null}function ie(e,t,n){return{type:"Feature",geometry:oe(e,t,n),properties:function(e,t,n){var r=Object.assign(e.properties[e.featureIds.value[t]]);for(var i in e.numericProps)r[i]=e.numericProps[i].value[t];return r}(e,t)}}function oe(e,t,n){switch(e.type){case"Point":return function(e,t,n){var r=se(e.positions,t,n);if(r.length>1)return{type:"MultiPoint",coordinates:r};return{type:"Point",coordinates:r[0]}}(e,t,n);case"LineString":return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=e.positions,i=e.pathIndices.value.filter((function(e){return e>=t&&e<=n}));if(!(i.length>2)){return{type:"LineString",coordinates:se(r,i[0],i[1])}}for(var o=[],a=0;a<i.length-1;a++){var s=se(r,i[a],i[a+1]);o.push(s)}return{type:"MultiLineString",coordinates:o}}(e,t,n);case"Polygon":return ae(e,t,n);default:throw new Error("Unsupported geometry type: ".concat(e.type))}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=e.positions,i=e.polygonIndices.value.filter((function(e){return e>=t&&e<=n})),o=e.primitivePolygonIndices.value.filter((function(e){return e>=t&&e<=n})),a=i.length>2,s=[];if(!a){for(var u=0;u<o.length-1;u++){var l=o[u],c=o[u+1],f=se(r,l,c);s.push(f)}return{type:"Polygon",coordinates:s}}for(var h=0;h<i.length-1;h++){var d=i[h],p=i[h+1],g=ae(e,d,p).coordinates;s.push(g)}return{type:"MultiPolygon",coordinates:s}}function se(e,t,n){t=t||0,n=n||e.value.length/e.size;for(var r=[],i=t;i<n;i++)r.push(Array.from(e.value.subarray(i*e.size,(i+1)*e.size)));return r}var ue=n(556),le=n(23);function ce(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=["points","lines","polygons"];function ge(e,t){if(!e)return null;var n=e.featureIds.value.indexOf(t);return-1!==n?me(e,t,n):null}function me(e,t,n){var r={properties:de({},e.properties[t])};for(var i in e.numericProps)r.properties[i]=e.numericProps[i].value[n];return r}function ve(e,t,n,r){if(!e)return-1;if(!(r in e)||!e[r].positions.value.length)return-1;var i=-1;if(e[r].numericProps[t])i=e[r].numericProps[t].value.indexOf(n);else{var o=e[r].properties.findIndex((function(e){return e[t]===n}));i=e[r].featureIds.value.indexOf(o)}return i}var ye=n(100),be=n(175),_e=n(43);function we(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var ke=function(e){Object(c.a)(n,e);var t=Oe(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(){}},{key:"setState",value:function(e){Object(l.a)(Object(h.a)(n.prototype),"setState",this).call(this,e),this.setNeedsUpdate()}},{key:"getPickingInfo",value:function(e){var t=e.info,n=t.object;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id?Object.assign(t,{object:n.__source.object,index:n.__source.index}):t}},{key:"renderLayers",value:function(){return null}},{key:"shouldRenderSubLayer",value:function(e,t){var n=this.props._subLayerProps;return t&&t.length||n&&n[e]}},{key:"getSubLayerClass",value:function(e,t){var n=this.props._subLayerProps;return n&&n[e]&&n[e].type||t}},{key:"getSubLayerRow",value:function(e,t,n){return e.__source={parent:this,object:t,index:n},e}},{key:"getSubLayerAccessor",value:function(e){if("function"===typeof e){var t={data:this.props.data,target:[]};return function(n,r){return n&&n.__source?(t.index=n.__source.index,e(n.__source.object,t)):e(n,r)}}return e}},{key:"getSubLayerProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.opacity,r=t.pickable,i=t.visible,o=t.parameters,a=t.getPolygonOffset,s=t.highlightedObjectIndex,u=t.autoHighlight,l=t.highlightColor,c=t.coordinateSystem,f=t.coordinateOrigin,h=t.wrapLongitude,d=t.positionFormat,p=t.modelMatrix,g=t.extensions,m=t._subLayerProps,v={opacity:n,pickable:r,visible:i,parameters:o,getPolygonOffset:a,highlightedObjectIndex:s,autoHighlight:u,highlightColor:l,coordinateSystem:c,coordinateOrigin:f,wrapLongitude:h,positionFormat:d,modelMatrix:p,extensions:g},y=m&&m[e.id],b=y&&y.updateTriggers,_=e.id||"sublayer";if(y){var w=this.constructor._propTypes;for(var x in y){var O=w[x];O&&"accessor"===O.type&&(y[x]=this.getSubLayerAccessor(y[x]))}}Object.assign(v,e,y,{id:"".concat(this.props.id,"-").concat(_),updateTriggers:Object.assign({all:this.props.updateTriggers.all},e.updateTriggers,b)});var k,S=we(g);try{for(S.s();!(k=S.n()).done;){var E=k.value,C=E.getSubLayerProps.call(this,E);C&&Object.assign(v,C,{updateTriggers:Object.assign(v.updateTriggers,C.updateTriggers)})}}catch(A){S.e(A)}finally{S.f()}return v}},{key:"_getAttributeManager",value:function(){return null}},{key:"_renderLayers",value:function(){var e=this.internalState.subLayers,t=!e||this.needsUpdate();t&&(e=this.renderLayers(),e=Object(ye.b)(e,Boolean),this.internalState.subLayers=e),Object(_e.a)("compositeLayer.renderLayers",this,t,e);var n,r=we(e);try{for(r.s();!(n=r.n()).done;){n.value.parent=this}}catch(i){r.e(i)}finally{r.f()}}},{key:"isComposite",get:function(){return!0}},{key:"isLoaded",get:function(){return Object(l.a)(Object(h.a)(n.prototype),"isLoaded",this)&&this.getSubLayers().every((function(e){return e.isLoaded}))}}]),n}(be.a);ke.layerName="CompositeLayer";var Se=n(25),Ee=n(245),Ce=n(290),Ae=n(314),Pe=n(147),je=n(33);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Me={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e);var n=t.id,r=void 0===n?Object(Pe.c)("geometry"):n,i=t.drawMode,o=void 0===i?Me.TRIANGLES:i,a=t.attributes,u=void 0===a?{}:a,l=t.indices,c=void 0===l?null:l,f=t.vertexCount,h=void 0===f?null:f;this.id=r,this.drawMode=0|o,this.attributes={},this.userData={},this._setAttributes(u,c),this.vertexCount=h||this._calculateVertexCount(this.attributes,this.indices)}return Object(u.a)(e,null,[{key:"DRAW_MODE",get:function(){return Me}}]),Object(u.a)(e,[{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getAttributes",value:function(){return this.indices?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({indices:this.indices},this.attributes):this.attributes}},{key:"_print",value:function(e){return"Geometry ".concat(this.id," attribute ").concat(e)}},{key:"_setAttributes",value:function(e,t){for(var n in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var r=e[n];r=ArrayBuffer.isView(r)?{value:r}:r,Object(je.a)(ArrayBuffer.isView(r.value),"".concat(this._print(n),": must be typed array or object with value as typed array")),"POSITION"!==n&&"positions"!==n||r.size||(r.size=3),"indices"===n?(Object(je.a)(!this.indices),this.indices=r):this.attributes[n]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}},{key:"_calculateVertexCount",value:function(e,t){if(t)return t.value.length;var n=1/0;for(var r in e){var i=e[r],o=i.value,a=i.size;!i.constant&&o&&a>=1&&(n=Math.min(n,o.length/a))}return Object(je.a)(Number.isFinite(n)),n}},{key:"mode",get:function(){return this.drawMode}}]),e}();function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var Ie=[0,0,0,255],De={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:Ie},getLineColor:{type:"accessor",value:Ie},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},ze=function(e){Object(c.a)(n,e);var t=Le(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getShaders",value:function(){return Object(l.a)(Object(h.a)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  vec3 offset = positions * project_pixel_size(outerRadiusPixels);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = smoothedge(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter);\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[Ee.a,Ce.a]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;if(Object(l.a)(Object(h.a)(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i}),i.extensionsChanged){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.viewport,r=this.props,i=r.radiusUnits,o=r.radiusScale,a=r.radiusMinPixels,s=r.radiusMaxPixels,u=r.stroked,l=r.filled,c=r.lineWidthUnits,f=r.lineWidthScale,h=r.lineWidthMinPixels,d=r.lineWidthMaxPixels,p="pixels"===i?n.metersPerPixel:1,g="pixels"===c?n.metersPerPixel:1;this.state.model.setUniforms(t).setUniforms({stroked:u?1:0,filled:l,radiusScale:o*p,radiusMinPixels:a,radiusMaxPixels:s,lineWidthScale:f*g,lineWidthMinPixels:h,lineWidthMaxPixels:d}).draw()}},{key:"_getModel",value:function(e){return new Ae.a(e,Object.assign(this.getShaders(),{id:this.props.id,geometry:new Re({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0}))}}]),n}(be.a);ze.layerName="ScatterplotLayer",ze.defaultProps=De;var Fe=n(87),Ne=n(75),Be=n(32),Ve=n(49);function $e(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e);var n=t.attributes,r=void 0===n?{}:n;this.typedArrayManager=Ne.a,this.indexStarts=null,this.vertexStarts=null,this.vertexCount=0,this.instanceCount=0,this.attributes={},this._attributeDefs=r,this.opts=t,this.updateGeometry(t),Object.seal(this)}return Object(u.a)(e,[{key:"updateGeometry",value:function(e){Object.assign(this.opts,e);var t=this.opts,n=t.data,r=t.buffers,i=void 0===r?{}:r,o=t.getGeometry,a=t.geometryBuffer,s=t.positionFormat,u=t.dataChanged,l=t.normalize,c=void 0===l||l;if(this.data=n,this.getGeometry=o,this.positionSize=a&&a.size||("XY"===s?2:3),this.buffers=i,this.normalize=c,a&&(Object(Be.a)(n.startIndices,"binary data missing startIndices"),this.getGeometry=this.getGeometryFromBuffer(a),c||(i.positions=a)),this.geometryBuffer=i.positions,Array.isArray(u)){var f,h=$e(u);try{for(h.s();!(f=h.n()).done;){var d=f.value;this._rebuildGeometry(d)}}catch(p){h.e(p)}finally{h.f()}}else this._rebuildGeometry()}},{key:"updatePartialGeometry",value:function(e){var t=e.startRow,n=e.endRow;this._rebuildGeometry({startRow:t,endRow:n})}},{key:"normalizeGeometry",value:function(e){return e}},{key:"updateGeometryAttributes",value:function(e,t,n){throw new Error("Not implemented")}},{key:"getGeometrySize",value:function(e){throw new Error("Not implemented")}},{key:"getGeometryFromBuffer",value:function(e){var t=e.value||e;return Object(Be.a)(ArrayBuffer.isView(t),"cannot read geometries"),Object(Fe.b)(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices})}},{key:"_allocate",value:function(e,t){var n=this.attributes,r=this.buffers,i=this._attributeDefs,o=this.typedArrayManager;for(var a in i)if(a in r)o.release(n[a]),n[a]=null;else{var s=i[a];s.copy=t,n[a]=o.allocate(n[a],e,s)}}},{key:"_forEachGeometry",value:function(e,t,n){var r,i=this.data,o=this.getGeometry,a=Object(Fe.a)(i,t,n),s=a.iterable,u=a.objectInfo,l=$e(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;u.index++,e(o(c,u),u.index)}}catch(f){l.e(f)}finally{l.f()}}},{key:"_rebuildGeometry",value:function(e){var t=this;if(this.data&&this.getGeometry){var n=this.indexStarts,r=this.vertexStarts,i=this.instanceCount,o=this.data,a=this.geometryBuffer,s=e||{},u=s.startRow,l=void 0===u?0:u,c=s.endRow,f=void 0===c?1/0:c,h={};if(e||(n=[0],r=[0]),this.normalize||!a)this._forEachGeometry((function(e,n){e=t.normalizeGeometry(e),h[n]=e,r[n+1]=r[n]+t.getGeometrySize(e)}),l,f),i=r[r.length-1];else if(a.buffer instanceof Ve.a){var d=a.stride||4*this.positionSize;r=o.startIndices,i=r[o.length]||a.buffer.byteLength/d}else{var p=a.value||a,g=a.stride/p.BYTES_PER_ELEMENT||this.positionSize;r=o.startIndices,i=r[o.length]||p.length/g}this._allocate(i,Boolean(e)),this.indexStarts=n,this.vertexStarts=r,this.instanceCount=i;var m={};this._forEachGeometry((function(e,o){e=h[o]||e,m.vertexStart=r[o],m.indexStart=n[o];var a=o<r.length-1?r[o+1]:i;m.geometrySize=a-r[o],m.geometryIndex=o,t.updateGeometryAttributes(e,m)}),l,f),this.vertexCount=n[n.length-1]}}}]),e}(),He=n(29),Ge=1,qe=-1;function Xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ze(e,n);return r!==t&&(Je(e,n),!0)}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(Ke(e,t))}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0;return Ye(e,(function(e,t,r,i){n+=nt(e,t,r,i)}),t),n/2}function Ye(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.start,i=void 0===r?0:r,o=n.end,a=void 0===o?e.length:o,s=n.size,u=void 0===s?2:s,l=n.isClosed,c=(a-i)/u,f=0;f<c-1;++f)t(e[i+f*u],e[i+f*u+1],e[i+(f+1)*u],e[i+(f+1)*u+1],f,f+1);var h=i+(c-1)*u,d=l||Object(He.c)(e[i],e[h])&&Object(He.c)(e[i+1],e[h+1]);d||t(e[h],e[h+1],e[i],e[i+1],c-1,0)}function Je(e,t){for(var n=t.start,r=void 0===n?0:n,i=t.end,o=void 0===i?e.length:i,a=t.size,s=void 0===a?2:a,u=(o-r)/s,l=Math.floor(u/2),c=0;c<l;++c)for(var f=r+c*s,h=r+(u-1-c)*s,d=0;d<s;++d){var p=e[f+d];e[f+d]=e[h+d],e[h+d]=p}}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(et(e,t))}function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0;return tt(e,(function(e,t){n+=nt(e[0],e[1],t[0],t[1])}),t),n/2}function tt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.start,i=void 0===r?0:r,o=n.end,a=void 0===o?e.length:o,s=n.isClosed,u=i;u<a-1;++u)t(e[u],e[u+1],u,u+1);var l=s||Object(He.c)(e[a-1],e[0]);l||t(e[a-1],e[0],a-1,0)}function nt(e,t,n,r){return(e+n)*(t-r)}!function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,e),this.points=t,this.isFlatArray=!Object(He.e)(t[0]),this.options={start:n.start||0,end:n.end||t.length,size:n.size||2,isClosed:n.isClosed},Object.freeze(this)}Object(u.a)(e,[{key:"getSignedArea",value:function(){return this.isFlatArray?Ke(this.points,this.options):et(this.points,this.options)}},{key:"getArea",value:function(){return Math.abs(this.getSignedArea())}},{key:"getWindingDirection",value:function(){return Math.sign(this.getSignedArea())}},{key:"forEachSegment",value:function(e){this.isFlatArray?Ye(this.points,(function(t,n,r,i,o,a){e([t,n],[r,i],o,a)}),this.options):tt(this.points,e,this.options)}},{key:"modifyWindingDirection",value:function(e){return this.isFlatArray?Xe(this.points,e,this.options):function(e,t){return Qe(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})!==t&&(e.reverse(),!0)}(this.points,e,this.options)}}])}();function rt(e,t){var n=t.length,r=e.length;if(r>0){for(var i=!0,o=0;o<n;o++)if(e[r-n+o]!==t[o]){i=!1;break}if(i)return!1}for(var a=0;a<n;a++)e[r+a]=t[a];return!0}function it(e,t){for(var n=t.length,r=0;r<n;r++)e[r]=t[r]}function ot(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=r+t*n,a=0;a<n;a++)i[a]=e[o+a];return i}function at(e,t,n,r){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&n)i=(r[3]-e[1])/(t[1]-e[1]),o=3;else if(4&n)i=(r[1]-e[1])/(t[1]-e[1]),o=1;else if(2&n)i=(r[2]-e[0])/(t[0]-e[0]),o=2;else{if(!(1&n))return null;i=(r[0]-e[0])/(t[0]-e[0]),o=0}for(var s=0;s<e.length;s++)a[s]=(1&o)===s?r[o]:i*(t[s]-e[s])+e[s];return a}function st(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function ut(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.size,o=void 0===i?2:i,a=r.broken,s=void 0!==a&&a,u=r.gridResolution,l=void 0===u?10:u,c=r.gridOffset,f=void 0===c?[0,0]:c,h=r.startIndex,d=void 0===h?0:h,p=r.endIndex,g=void 0===p?e.length:p,m=(g-d)/o,v=[],y=[v],b=ot(e,0,o,d),_=ht(b,l,f,[]),w=[];rt(v,b);for(var x=1;x<m;x++){for(n=st(t=ot(e,x,o,d,t),_);n;){at(b,t,n,_,w);var O=st(w,_);O&&(at(b,w,O,_,w),n=O),rt(v,w),it(b,w),dt(_,l,n),s&&v.length>o&&(v=[],y.push(v),rt(v,b)),n=st(t,_)}rt(v,t),it(b,t)}return s?y:y[0]}function lt(e,t){for(var n=0;n<t.length;n++)e.push(t[n]);return e}function ct(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.length)return[];for(var r=n.size,i=void 0===r?2:r,o=n.gridResolution,a=void 0===o?10:o,s=n.gridOffset,u=void 0===s?[0,0]:s,l=n.edgeTypes,c=void 0!==l&&l,f=[],h=[{pos:e,types:c&&new Array(e.length/i).fill(1),holes:t||[]}],d=[[],[]],p=[];h.length;){var g=h.shift(),m=g.pos,v=g.types,y=g.holes;pt(m,i,y[0]||m.length,d),p=ht(d[0],a,u,p);var b=st(d[1],p);if(b){var _=ft(m,v,i,0,y[0]||m.length,p,b),w={pos:_[0].pos,types:_[0].types,holes:[]},x={pos:_[1].pos,types:_[1].types,holes:[]};h.push(w,x);for(var O=0;O<y.length;O++)(_=ft(m,v,i,y[O],y[O+1]||m.length,p,b))[0]&&(w.holes.push(w.pos.length),w.pos=lt(w.pos,_[0].pos),c&&(w.types=lt(w.types,_[0].types))),_[1]&&(x.holes.push(x.pos.length),x.pos=lt(x.pos,_[1].pos),c&&(x.types=lt(x.types,_[1].types)))}else{var k={positions:m};c&&(k.edgeTypes=v),y.length&&(k.holeIndices=y),f.push(k)}}return f}function ft(e,t,n,r,i,o,a){for(var s,u,l,c=(i-r)/n,f=[],h=[],d=[],p=[],g=[],m=ot(e,c-1,n,r),v=Math.sign(8&a?m[1]-o[3]:m[0]-o[2]),y=t&&t[c-1],b=0,_=0,w=0;w<c;w++)s=ot(e,w,n,r,s),u=Math.sign(8&a?s[1]-o[3]:s[0]-o[2]),l=t&&t[r/n+w],u&&v&&v!==u&&(at(m,s,a,o,g),rt(f,g)&&d.push(y),rt(h,g)&&p.push(y)),u<=0?(rt(f,s)&&d.push(l),b-=u):d.length&&(d[d.length-1]=0),u>=0?(rt(h,s)&&p.push(l),_+=u):p.length&&(p[p.length-1]=0),it(m,s),v=u,y=l;return[b?{pos:f,types:t&&d}:null,_?{pos:h,types:t&&p}:null]}function ht(e,t,n,r){var i=Math.floor((e[0]-n[0])/t)*t+n[0],o=Math.floor((e[1]-n[1])/t)*t+n[1];return r[0]=i,r[1]=o,r[2]=i+t,r[3]=o+t,r}function dt(e,t,n){8&n?(e[1]+=t,e[3]+=t):4&n?(e[1]-=t,e[3]-=t):2&n?(e[0]+=t,e[2]+=t):1&n&&(e[0]-=t,e[2]-=t)}function pt(e,t,n,r){for(var i=1/0,o=-1/0,a=1/0,s=-1/0,u=0;u<n;u+=t){var l=e[u],c=e[u+1];i=l<i?l:i,o=l>o?l:o,a=c<a?c:a,s=c>s?c:s}return r[0][0]=i,r[0][1]=a,r[1][0]=o,r[1][1]=s,r}function gt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vt=85.051129;function yt(e,t,n,r){for(var i=-1,o=-1,a=n+1;a<r;a+=t){var s=Math.abs(e[a]);s>i&&(i=s,o=a-1)}return o}function bt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vt,o=e[n],a=e[r-t];if(Math.abs(o-a)>180){var s=ot(e,0,t,n);s[0]+=360*Math.round((a-o)/360),rt(e,s),s[1]=Math.sign(s[1])*i,rt(e,s),s[0]=o,rt(e,s)}}function _t(e,t,n,r){for(var i,o=e[0],a=n;a<r;a+=t){var s=(i=e[a])-o;(s>180||s<-180)&&(i-=360*Math.round(s/360)),e[a]=o=i}}function wt(e,t){for(var n,r=e.length/t,i=0;i<r&&((n=e[i*t])+180)%360===0;i++);var o=360*-Math.round(n/360);if(0!==o)for(var a=0;a<r;a++)e[a*t]+=o}function xt(e,t,n,r){var i=e;if(Array.isArray(e[0])){var o=e.length*t;i=new Array(o);for(var a=0;a<e.length;a++)for(var s=0;s<t;s++)i[a*t+s]=e[a][s]||0}return n?ut(i,{size:t,gridResolution:n}):r?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?2:n,i=t.startIndex,o=void 0===i?0:i,a=t.endIndex,s=void 0===a?e.length:a,u=t.normalize,l=void 0===u||u,c=e.slice(o,s);_t(c,r,0,s-o);var f=ut(c,{size:r,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(l){var h,d=gt(f);try{for(d.s();!(h=d.n()).done;){wt(h.value,r)}}catch(p){d.e(p)}finally{d.f()}}return f}(i,{size:t}):i}function Ot(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var At=function(e){Object(c.a)(n,e);var t=Ct(n);function n(e){return Object(s.a)(this,n),t.call(this,Et(Et({},e),{},{attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}}))}return Object(u.a)(n,[{key:"getGeometryFromBuffer",value:function(e){return this.normalize?Object(l.a)(Object(h.a)(n.prototype),"getGeometryFromBuffer",this).call(this,e):function(){return null}}},{key:"normalizeGeometry",value:function(e){return this.normalize?xt(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}},{key:"get",value:function(e){return this.attributes[e]}},{key:"getGeometrySize",value:function(e){if(Array.isArray(e[0])){var t,n=0,r=Ot(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(a){r.e(a)}finally{r.f()}return n}var o=this.getPathLength(e);return o<2?0:this.isClosed(e)?o<3?0:o+2:o}},{key:"updateGeometryAttributes",value:function(e,t){if(0!==t.geometrySize)if(e&&Array.isArray(e[0])){var n,r=Ot(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o}}catch(a){r.e(a)}finally{r.f()}}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}},{key:"_updateSegmentTypes",value:function(e,t){var n=this.attributes.segmentTypes,r=this.isClosed(e),i=t.vertexStart,o=t.geometrySize;n.fill(0,i,i+o),r?(n[i]=4,n[i+o-2]=4):(n[i]+=1,n[i+o-2]+=2),n[i+o-1]=4}},{key:"_updatePositions",value:function(e,t){var n=this.attributes.positions;if(n)for(var r=t.vertexStart,i=t.geometrySize,o=new Array(3),a=r,s=0;s<i;a++,s++)this.getPointOnPath(e,s,o),n[3*a]=o[0],n[3*a+1]=o[1],n[3*a+2]=o[2]}},{key:"getPathLength",value:function(e){return e.length/this.positionSize}},{key:"getPointOnPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.positionSize;t*r>=e.length&&(t+=1-e.length/r);var i=t*r;return n[0]=e[i],n[1]=e[i+1],n[2]=3===r&&e[i+2]||0,n}},{key:"isClosed",value:function(e){if(!this.normalize)return this.opts.loop;var t=this.positionSize,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}]),n}(We);function Pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var jt=[0,0,0,255],Tt={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},rounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:function(e){return e.path}},getColor:{type:"accessor",value:jt},getWidth:{type:"accessor",value:1}},Mt={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},Rt=function(e){Object(c.a)(n,e);var t=Pt(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getShaders",value:function(){return Object(l.a)(Object(h.a)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\nuniform bool billboard;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  vec2 dir = isEnd ? dirA : dirB;\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * jointType * 4.0 * flipIfTrue(isStartCap), isJoint);\n  }\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.worldPosition = instanceStartPositions;\n  geometry.worldPositionAlt = instanceEndPositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec2 widthPixels = vec2(clamp(project_size_to_pixel(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  if (billboard) {\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float jointType;\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    if (jointType > 0.0 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    if (jointType == 0.0 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[Ee.a,Ce.a]})}},{key:"initializeState",value:function(){var e=this;this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:Mt,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Mt,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:Mt,defaultValue:jt},instancePickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)}}}),this.setState({pathTesselator:new At({fp64:this.use64bitPositions()})}),this.props.getDashArray&&!this.props.extensions.length&&Se.a.removed("getDashArray","PathStyleExtension")()}},{key:"updateState",value:function(e){var t=e.oldProps,r=e.props,i=e.changeFlags;Object(l.a)(Object(h.a)(n.prototype),"updateState",this).call(this,{props:r,oldProps:t,changeFlags:i});var o=this.getAttributeManager();if(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPath)){var a=this.state.pathTesselator,s=r.data.attributes||{};a.updateGeometry({data:r.data,geometryBuffer:s.getPath,buffers:s,normalize:!r._pathType,loop:"loop"===r._pathType,getGeometry:r.getPath,positionFormat:r.positionFormat,wrapLongitude:r.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:i.dataChanged}),this.setState({numInstances:a.instanceCount,startIndices:a.vertexStarts}),i.dataChanged||o.invalidateAll()}if(i.extensionsChanged){var u=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(u)}),o.invalidateAll()}}},{key:"getPickingInfo",value:function(e){var t=Object(l.a)(Object(h.a)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.viewport,r=this.props,i=r.rounded,o=r.billboard,a=r.miterLimit,s=r.widthUnits,u=r.widthScale,l=r.widthMinPixels,c=r.widthMaxPixels,f="pixels"===s?n.metersPerPixel:1;this.state.model.setUniforms(Object.assign({},t,{jointType:Number(i),billboard:o,widthScale:u*f,miterLimit:a,widthMinPixels:l,widthMaxPixels:c})).draw()}},{key:"_getModel",value:function(e){return new Ae.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new Re({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0}))}},{key:"calculatePositions",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateSegmentTypes",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}},{key:"wrapLongitude",get:function(){return!1}}]),n}(be.a);Rt.layerName="PathLayer",Rt.defaultProps=Tt;var Lt=n(558),It=n(528),Dt=n(220),zt=n(8),Ft=n(302),Nt=n.n(Ft);function Bt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t=Ge,Ut=qe,Wt={isClosed:!0};function Ht(e,t,n,r){for(var i=0;i<t;i++)if(e[n+i]!==e[r-t+i])return!1;return!0}function Gt(e,t,n,r,i){for(var o=t,a=n.length,s=0;s<a;s++)for(var u=0;u<r;u++)e[o++]=n[s][u]||0;if(!function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}(n))for(var l=0;l<r;l++)e[o++]=n[0][l]||0;return Wt.start=t,Wt.end=o,Wt.size=r,Xe(e,i,Wt),o}function qt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=(o=o||n.length)-i;if(s<=0)return t;for(var u=t,l=0;l<s;l++)e[u++]=n[i+l];if(!Ht(n,r,i,o))for(var c=0;c<r;c++)e[u++]=n[i+c];return Wt.start=t,Wt.end=u,Wt.size=r,Xe(e,a,Wt),u}function Xt(e,t){!function(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}(e);var n=[],r=[];if(e.positions){var i=e,o=i.positions,a=i.holeIndices;if(a){for(var s=0,u=0;u<=a.length;u++)s=qt(n,s,o,t,a[u-1],a[u],0===u?$t:Ut),r.push(s);return r.pop(),{positions:n,holeIndices:r}}e=o}if(Number.isFinite(e[0]))return qt(n,0,e,t,0,n.length,$t),n;if(!function(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}(e)){var l,c=0,f=Bt(e.entries());try{for(f.s();!(l=f.n()).done;){var h=Object(zt.a)(l.value,2),d=h[0];c=Gt(n,c,h[1],t,0===d?$t:Ut),r.push(c)}}catch(p){f.e(p)}finally{f.f()}return r.pop(),{positions:n,holeIndices:r}}return Gt(n,0,e,t,$t),n}function Zt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var en=function(e){Object(c.a)(n,e);var t=Qt(n);function n(e){Object(s.a)(this,n);var r=e.fp64,i=e.IndexType,o=void 0===i?Uint32Array:i;return t.call(this,Jt(Jt({},e),{},{attributes:{positions:{size:3,type:r?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:o,size:1}}}))}return Object(u.a)(n,[{key:"get",value:function(e){var t=this.attributes;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}},{key:"updateGeometry",value:function(e){Object(l.a)(Object(h.a)(n.prototype),"updateGeometry",this).call(this,e);var t=this.buffers.indices;t&&(this.vertexCount=(t.value||t).length)}},{key:"normalizeGeometry",value:function(e){if(this.normalize){if(e=Xt(e,this.positionSize),this.opts.resolution)return ct(e.positions||e,e.holeIndices,{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0});if(this.opts.wrapLongitude)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.size,i=void 0===r?2:r,o=n.normalize,a=void 0===o||o,s=n.edgeTypes,u=void 0!==s&&s;t=t||[];for(var l=[],c=[],f=0,h=0,d=0;d<=t.length;d++){for(var p=t[d]||e.length,g=h,m=yt(e,i,f,p),v=m;v<p;v++)l[h++]=e[v];for(var y=f;y<m;y++)l[h++]=e[y];_t(l,i,g,h),bt(l,i,g,h,n.maxLatitude),f=p,c[d]=h}c.pop();var b=ct(l,c,{size:i,gridResolution:360,gridOffset:[-180,-180],edgeTypes:u});if(a){var _,w=gt(b);try{for(w.s();!(_=w.n()).done;){wt(_.value.positions,i)}}catch(x){w.e(x)}finally{w.f()}}return b}(e.positions||e,e.holeIndices,{size:this.positionSize,maxLatitude:86,edgeTypes:!0})}return e}},{key:"getGeometrySize",value:function(e){if(Array.isArray(e)&&!Number.isFinite(e[0])){var t,n=0,r=Zt(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(o){r.e(o)}finally{r.f()}return n}return(e.positions||e).length/this.positionSize}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize||!this.buffers.indices?Object(l.a)(Object(h.a)(n.prototype),"getGeometryFromBuffer",this).call(this,e):function(){return null}}},{key:"updateGeometryAttributes",value:function(e,t){if(Array.isArray(e)&&!Number.isFinite(e[0])){var n,r=Zt(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o,t.indexStart=this.indexStarts[t.geometryIndex+1]}}catch(a){r.e(a)}finally{r.f()}}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}},{key:"_updateIndices",value:function(e,t){var n=t.geometryIndex,r=t.vertexStart,i=t.indexStart,o=this.attributes,a=this.indexStarts,s=this.typedArrayManager,u=o.indices;if(u){var l=i,c=function(e,t,n){var r=null;e.holeIndices&&(r=e.holeIndices.map((function(e){return e/t})));var i=e.positions||e;if(n){var o=i.length;i=i.slice();for(var a=[],s=0;s<o;s+=t){a[0]=i[s],a[1]=i[s+1];var u=n(a);i[s]=u[0],i[s+1]=u[1]}}return Nt()(i,r,t)}(e,this.positionSize,this.opts.preproject);u=s.allocate(u,i+c.length,{copy:!0});for(var f=0;f<c.length;f++)u[l++]=c[f]+r;a[n+1]=i+c.length,o.indices=u}}},{key:"_updatePositions",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.attributes.positions,o=this.positionSize;if(i)for(var a=e.positions||e,s=n,u=0;u<r;s++,u++){var l=a[u*o],c=a[u*o+1],f=o>2?a[u*o+2]:0;i[3*s]=l,i[3*s+1]=c,i[3*s+2]=f}}},{key:"_updateVertexValid",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.attributes.vertexValid,o=this.positionSize,a=e&&e.holeIndices;if(e&&e.edgeTypes?i.set(e.edgeTypes,n):i.fill(1,n,n+r),a)for(var s=0;s<a.length;s++)i[n+a[s]/o-1]=0;i[n+r-1]=0}}]),n}(We),tn="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n\n#ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n    geometry.normal = normal;\n  }\n\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",nn="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(tn,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),rn="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(tn,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n");function on(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var an=[0,0,0,255],sn={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:function(e){return e.polygon}},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:an},getLineColor:{type:"accessor",value:an},material:!0},un={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},ln=function(e){Object(c.a)(n,e);var t=on(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getShaders",value:function(e){return Object(l.a)(Object(h.a)(n.prototype),"getShaders",this).call(this,{vs:"top"===e?nn:rn,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[Ee.a,Lt.a,Ce.a]})}},{key:"initializeState",value:function(){var e=this,t=this.context,n=t.gl,r=t.viewport,i=this.props.coordinateSystem;r.isGeospatial&&i===le.a.DEFAULT&&(i=le.a.LNGLAT),this.setState({numInstances:0,polygonTesselator:new en({preproject:i===le.a.LNGLAT&&r.projectFlat,fp64:this.use64bitPositions(),IndexType:!n||Object(It.c)(n,Dt.a.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});var o=this.getAttributeManager(),a=!0;o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:a},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:un,accessor:"getPolygon",update:this.calculatePositions,noAlloc:a,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:a},elevations:{size:1,transition:un,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{alias:"colors",size:this.props.colorFormat.length,type:5121,normalized:!0,transition:un,accessor:"getFillColor",defaultValue:an,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{alias:"colors",size:this.props.colorFormat.length,type:5121,normalized:!0,transition:un,accessor:"getLineColor",defaultValue:an,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}},{key:"getPickingInfo",value:function(e){var t=Object(l.a)(Object(h.a)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.extruded,i=n.filled,o=n.wireframe,a=n.elevationScale,s=this.state,u=s.topModel,l=s.sideModel,c=s.polygonTesselator,f=Object.assign({},t,{extruded:Boolean(r),elevationScale:a});l&&(l.setInstanceCount(c.instanceCount-1),l.setUniforms(f),o&&(l.setDrawMode(3),l.setUniforms({isWireframe:!0}).draw()),i&&(l.setDrawMode(6),l.setUniforms({isWireframe:!1}).draw())),u&&(u.setVertexCount(c.vertexCount),u.setUniforms(f).draw())}},{key:"updateState",value:function(e){Object(l.a)(Object(h.a)(n.prototype),"updateState",this).call(this,e),this.updateGeometry(e);var t=e.props,r=e.oldProps,i=e.changeFlags,o=this.getAttributeManager();(i.extensionsChanged||t.filled!==r.filled||t.extruded!==r.extruded)&&(this.state.models&&this.state.models.forEach((function(e){return e.delete()})),this.setState(this._getModels(this.context.gl)),o.invalidateAll())}},{key:"updateGeometry",value:function(e){var t=e.props,n=(e.oldProps,e.changeFlags);if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon)){var r=this.state.polygonTesselator,i=t.data.attributes||{};r.updateGeometry({data:t.data,normalize:t._normalize,geometryBuffer:i.getPolygon,buffers:i,getGeometry:t.getPolygon,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:n.dataChanged}),this.setState({numInstances:r.instanceCount,startIndices:r.vertexStarts}),n.dataChanged||this.getAttributeManager().invalidateAll()}}},{key:"_getModels",value:function(e){var t,n,r=this.props,i=r.id,o=r.filled,a=r.extruded;if(o){var s=this.getShaders("top");s.defines.NON_INSTANCED_MODEL=1,t=new Ae.a(e,Object.assign({},s,{id:"".concat(i,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0}))}return a&&((n=new Ae.a(e,Object.assign({},this.getShaders("side"),{id:"".concat(i,"-side"),geometry:new Re({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}))).userData.excludeAttributes={indices:!0}),{models:[n,t].filter(Boolean),topModel:t,sideModel:n}}},{key:"calculateIndices",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.indexStarts,e.value=t.get("indices")}},{key:"calculatePositions",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateVertexValid",value:function(e){e.value=this.state.polygonTesselator.get("vertexValid")}},{key:"wrapLongitude",get:function(){return!1}}]),n}(be.a);function cn(e){for(var t=e.data,n=e.getIndex,r=e.dataRange,i=e.replace,o=r.startRow,a=void 0===o?0:o,s=r.endRow,u=void 0===s?1/0:s,l=t.length,c=l,f=l,h=0;h<l;h++){var d=n(t[h]);if(c>h&&d>=a&&(c=h),d>=u){f=h;break}}for(var p=c,g=f-c!==i.length,m=g&&t.slice(f),v=0;v<i.length;v++)t[p++]=i[v];if(g){for(var y=0;y<m.length;y++)t[p++]=m[y];t.length=p}return{startRow:c,endRow:c+i.length}}function fn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},i=n.startRow,o=void 0===i?0:i,a=n.endRow,s=void 0===a?e.length:a,u=o;u<s;u++){var l=e[u];Se.a.assert(l&&l.geometry,"GeoJSON does not have geometry");var c=l.geometry;if("GeometryCollection"===c.type){Se.a.assert(Array.isArray(c.geometries),"GeoJSON does not have geometries array");for(var f=c.geometries,h=0;h<f.length;h++){var d=f[h];hn(d,r,t,l,u)}}else hn(c,r,t,l,u)}return r}function hn(e,t,n,r,i){var o=e.type,a=e.coordinates,s=t.pointFeatures,u=t.lineFeatures,l=t.polygonFeatures,c=t.polygonOutlineFeatures;if(function(e,t){var n=dn[e];Se.a.assert(n,"Unknown GeoJSON type ".concat(e));for(;t&&--n>0;)t=t[0];return t&&Number.isFinite(t[0])}(o,a))switch(o){case"Point":s.push(n({geometry:e},r,i));break;case"MultiPoint":a.forEach((function(e){s.push(n({geometry:{type:"Point",coordinates:e}},r,i))}));break;case"LineString":u.push(n({geometry:e},r,i));break;case"MultiLineString":a.forEach((function(e){u.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"Polygon":l.push(n({geometry:e},r,i)),a.forEach((function(e){c.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"MultiPolygon":a.forEach((function(e){l.push(n({geometry:{type:"Polygon",coordinates:e}},r,i)),e.forEach((function(e){c.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}))}))}else Se.a.warn("".concat(o," coordinates are malformed"))()}ln.layerName="SolidPolygonLayer",ln.defaultProps=sn;var dn={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function pn(e){return e.geometry.coordinates}function gn(e,t,n){var r={points:{},lines:{},polygons:{},polygonsOutline:{}},i=e.points,o=e.lines,a=e.polygons,s=function(e,t){var n={points:null,lines:null,polygons:null};for(var r in n){var i=e[r].featureIds.value;n[r]=new Uint8ClampedArray(3*i.length);for(var o=[],a=0;a<i.length;a++)t(i[a],o),n[r][3*a+0]=o[0],n[r][3*a+1]=o[1],n[r][3*a+2]=o[2]}return n}(e,t);return r.points.data={length:i.positions.value.length/i.positions.size,attributes:{getPosition:i.positions,pickingColors:{size:3,value:s.points}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},r.lines.data={length:o.pathIndices.value.length-1,startIndices:o.pathIndices.value,attributes:{getPath:o.positions,pickingColors:{size:3,value:s.lines}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},r.lines._pathType="open",r.polygons.data={length:a.primitivePolygonIndices.value.length,startIndices:a.primitivePolygonIndices.value,attributes:{getPolygon:a.positions,pickingColors:{size:3,value:s.polygons}},properties:a.properties,numericProps:a.numericProps,featureIds:a.featureIds},r.polygons._normalize=!1,r.polygonsOutline.data={length:a.primitivePolygonIndices.value.length,startIndices:a.primitivePolygonIndices.value,attributes:{getPath:a.positions,instancePickingColors:{size:3,value:s.polygons}},properties:a.properties,numericProps:a.numericProps,featureIds:a.featureIds},r.polygonsOutline._pathType="open",r}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _n(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var wn=[0,0,0,255],xn={stroked:!0,filled:!0,extruded:!1,wireframe:!1,lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,elevationScale:1,pointRadiusUnits:"meters",pointRadiusScale:1,pointRadiusMinPixels:0,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,getLineColor:{type:"accessor",value:wn},getFillColor:{type:"accessor",value:[0,0,0,255]},getRadius:{type:"accessor",value:1},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0},On=function(e){Object(c.a)(n,e);var t=_n(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"initializeState",value:function(){this.state={layerProps:{},features:{}},this.props.getLineDashArray&&Se.a.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(e){var t=e.props,n=e.changeFlags;if(n.dataChanged){var r=this.props.data,i=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:i}),i?this._updateStateBinary({props:t,changeFlags:n}):this._updateStateJSON({props:t,changeFlags:n})}}},{key:"_updateStateBinary",value:function(e){var t=e.props,n=(e.changeFlags,gn(t.data,this.encodePickingColor));this.setState({layerProps:n})}},{key:"_updateStateJSON",value:function(e){var t=e.props,n=e.changeFlags,r=function(e){if(Array.isArray(e))return e;switch(Se.a.assert(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return Se.a.assert(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(t.data),i=this.getSubLayerRow.bind(this),o={},a={};if(Array.isArray(n.dataChanged)){var s=this.state.features;for(var u in s)o[u]=s[u].slice(),a[u]=[];var l,c=yn(n.dataChanged);try{for(c.s();!(l=c.n()).done;){var f=l.value,h=fn(r,i,f);for(var d in s)a[d].push(cn({data:o[d],getIndex:function(e){return e.__source.index},dataRange:f,replace:h[d]}))}}catch(g){c.e(g)}finally{c.f()}}else o=fn(r,i);var p=function(e,t){var n={points:{},lines:{},polygons:{},polygonsOutline:{}},r=e.pointFeatures,i=e.lineFeatures,o=e.polygonFeatures,a=e.polygonOutlineFeatures;return n.points.data=r,n.points._dataDiff=t.pointFeatures&&function(){return t.pointFeatures},n.points.getPosition=pn,n.lines.data=i,n.lines._dataDiff=t.lineFeatures&&function(){return t.lineFeatures},n.lines.getPath=pn,n.polygons.data=o,n.polygons._dataDiff=t.polygonFeatures&&function(){return t.polygonFeatures},n.polygons.getPolygon=pn,n.polygonsOutline.data=a,n.polygonsOutline._dataDiff=t.polygonOutlineFeatures&&function(){return t.polygonOutlineFeatures},n.polygonsOutline.getPath=pn,n}(o,a);this.setState({features:o,featuresDiff:a,layerProps:p})}},{key:"renderLayers",value:function(){var e=this.props,t=e.stroked,n=e.filled,r=e.extruded,i=e.wireframe,o=e.material,a=e.transitions,s=this.props,u=s.lineWidthUnits,l=s.lineWidthScale,c=s.lineWidthMinPixels,f=s.lineWidthMaxPixels,h=s.lineJointRounded,d=s.lineMiterLimit,p=s.pointRadiusUnits,g=s.pointRadiusScale,m=s.pointRadiusMinPixels,v=s.pointRadiusMaxPixels,y=s.elevationScale,b=s.lineDashJustified,_=this.props,w=_.getLineColor,x=_.getFillColor,O=_.getRadius,k=_.getLineWidth,S=_.getLineDashArray,E=_.getElevation,C=_.updateTriggers,A=this.getSubLayerClass("polygons-fill",ln),P=this.getSubLayerClass("polygons-stroke",Rt),j=this.getSubLayerClass("line-strings",Rt),T=this.getSubLayerClass("points",ze),M=this.state.layerProps,R=this.shouldRenderSubLayer("polygons-fill",M.polygons.data)&&new A({extruded:r,elevationScale:y,filled:n,wireframe:i,material:o,getElevation:this.getSubLayerAccessor(E),getFillColor:this.getSubLayerAccessor(x),getLineColor:this.getSubLayerAccessor(r&&i?w:wn),transitions:a&&{getPolygon:a.geometry,getElevation:a.getElevation,getFillColor:a.getFillColor,getLineColor:a.getLineColor}},this.getSubLayerProps({id:"polygons-fill",updateTriggers:{getElevation:C.getElevation,getFillColor:C.getFillColor,lineColors:r&&i,getLineColor:C.getLineColor}}),M.polygons);return[!r&&R,!r&&t&&this.shouldRenderSubLayer("polygons-stroke",M.polygonsOutline.data)&&new P({widthUnits:u,widthScale:l,widthMinPixels:c,widthMaxPixels:f,rounded:h,miterLimit:d,dashJustified:b,getColor:this.getSubLayerAccessor(w),getWidth:this.getSubLayerAccessor(k),getDashArray:this.getSubLayerAccessor(S),transitions:a&&{getPath:a.geometry,getColor:a.getLineColor,getWidth:a.getLineWidth}},this.getSubLayerProps({id:"polygons-stroke",updateTriggers:{getColor:C.getLineColor,getWidth:C.getLineWidth,getDashArray:C.getLineDashArray}}),M.polygonsOutline),this.shouldRenderSubLayer("linestrings",M.lines.data)&&new j({widthUnits:u,widthScale:l,widthMinPixels:c,widthMaxPixels:f,rounded:h,miterLimit:d,dashJustified:b,getColor:this.getSubLayerAccessor(w),getWidth:this.getSubLayerAccessor(k),getDashArray:this.getSubLayerAccessor(S),transitions:a&&{getPath:a.geometry,getColor:a.getLineColor,getWidth:a.getLineWidth}},this.getSubLayerProps({id:"line-strings",updateTriggers:{getColor:C.getLineColor,getWidth:C.getLineWidth,getDashArray:C.getLineDashArray}}),M.lines),this.shouldRenderSubLayer("points",M.points.data)&&new T({stroked:t,filled:n,radiusUnits:p,radiusScale:g,radiusMinPixels:m,radiusMaxPixels:v,lineWidthUnits:u,lineWidthScale:l,lineWidthMinPixels:c,lineWidthMaxPixels:f,getFillColor:this.getSubLayerAccessor(x),getLineColor:this.getSubLayerAccessor(w),getRadius:this.getSubLayerAccessor(O),getLineWidth:this.getSubLayerAccessor(k),transitions:a&&{getPosition:a.geometry,getFillColor:a.getFillColor,getLineColor:a.getLineColor,getRadius:a.getRadius,getLineWidth:a.getLineWidth}},this.getSubLayerProps({id:"points",updateTriggers:{getFillColor:C.getFillColor,getLineColor:C.getLineColor,getRadius:C.getRadius,getLineWidth:C.getLineWidth}}),vn(vn({},M.points),{},{highlightedObjectIndex:this._getHighlightedIndex(M.points.data)})),r&&R]}},{key:"_getHighlightedIndex",value:function(e){var t=this.props.highlightedObjectIndex;return this.state.binary?t:Number.isFinite(t)?e.findIndex((function(e){return e.__source.index===t})):null}},{key:"getSubLayerAccessor",value:function(e){return this.state.binary&&"function"===typeof e?function(t,n){var r=function(e,t){if(!e)return null;var n="startIndices"in e?e.startIndices[t]:t,r=e.featureIds.value[n];return-1!==n?me(e,r,n):null}(n.data,n.index);return e(r,n)}:Object(l.a)(Object(h.a)(n.prototype),"getSubLayerAccessor",this).call(this,e)}}]),n}(ke);On.layerName="GeoJsonLayer",On.defaultProps=xn;var kn=function(){function e(t){var n=t.x,r=t.y,i=t.z,o=t.onTileLoad,a=t.onTileError;Object(s.a)(this,e),this.x=n,this.y=r,this.z=i,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._isLoaded=!1,this._isCancelled=!1,this.onTileLoad=o,this.onTileError=a}return Object(u.a)(e,[{key:"_loadData",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n){var r,i,o,s,u,l,c,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.x,i=this.y,o=this.z,s=this.bbox,this._abortController=new AbortController,u=this._abortController.signal,e.next=5,n.scheduleRequest(this,(function(e){return e.isSelected?1:-1}));case 5:if(l=e.sent){e.next=9;break}return this._isCancelled=!0,e.abrupt("return");case 9:if(!this._isCancelled){e.next=12;break}return l.done(),e.abrupt("return");case 12:return e.prev=12,e.next=15,t({x:r,y:i,z:o,bbox:s,signal:u});case 15:c=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),f=e.t0||!0;case 21:return e.prev=21,l.done(),this._isCancelled&&!c?this._isLoaded=!1:(this._isLoaded=!0,this._isCancelled=!1),e.finish(21);case 25:if(this._isLoaded){e.next=27;break}return e.abrupt("return");case 27:f?this.onTileError(f,this):(this.content=c,this.onTileLoad(this));case 28:case"end":return e.stop()}}),e,this,[[12,18,21,25]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadData",value:function(e,t){var n=this;e&&(this._isCancelled=!1,this._loader=this._loadData(e,t),this._loader.finally((function(){n._loader=void 0})))}},{key:"abort",value:function(){this.isLoaded||(this._isCancelled=!0,this._abortController.abort())}},{key:"data",get:function(){return this._isLoaded?this.content:this._loader}},{key:"isLoaded",get:function(){return this._isLoaded}},{key:"isLoading",get:function(){return Boolean(this._loader)}},{key:"isCancelled",get:function(){return this._isCancelled}},{key:"byteLength",get:function(){var e=this.content?this.content.byteLength:0;return Number.isFinite(e)||Se.a.error("byteLength not defined in tile data")(),e}}]),e}(),Sn=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),En=n(288),Cn=new En.a,An=new En.a,Pn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(s.a)(this,e),r=r||Cn.copy(t).add(n).scale(.5),this.center=new En.a(r),this.halfDiagonal=new En.a(n).subtract(this.center),this.minimum=new En.a(t),this.maximum=new En.a(n)}return Object(u.a)(e,[{key:"clone",value:function(){return new e(this.minimum,this.maximum,this.center)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}},{key:"intersectPlane",value:function(e){var t=this.halfDiagonal,n=An.from(e.normal),r=t.x*Math.abs(n.x)+t.y*Math.abs(n.y)+t.z*Math.abs(n.z),i=this.center.dot(n)+e.distance;return i-r>0?Sn.INSIDE:i+r<0?Sn.OUTSIDE:Sn.INTERSECTING}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t,n=Cn.from(e).subtract(this.center),r=this.halfDiagonal,i=0;return(t=Math.abs(n.x)-r.x)>0&&(i+=t*t),(t=Math.abs(n.y)-r.y)>0&&(i+=t*t),(t=Math.abs(n.z)-r.z)>0&&(i+=t*t),i}}]),e}(),jn=n(24),Tn=new En.a,Mn=new En.a,Rn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(s.a)(this,e),this.radius=-0,this.center=new En.a,this.fromCenterRadius(t,n)}return Object(u.a)(e,[{key:"fromCenterRadius",value:function(e,t){return this.center.from(e),this.radius=t,this}},{key:"fromCornerPoints",value:function(e,t){return t=Tn.from(t),this.center=(new En.a).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}},{key:"clone",value:function(){return new e(this.center,this.radius)}},{key:"union",value:function(e){var t=this.center,n=this.radius,r=e.center,i=e.radius,o=Tn.copy(r).subtract(t),a=o.magnitude();if(n>=a+i)return this.clone();if(i>=a+n)return e.clone();var s=.5*(n+a+i);return Mn.copy(o).scale((-n+s)/a).add(t),this.center.copy(Mn),this.radius=s,this}},{key:"expand",value:function(e){var t=(e=Tn.from(e)).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}},{key:"intersectPlane",value:function(e){var t=this.center,n=this.radius,r=e.normal.dot(t)+e.distance;return r<-n?Sn.OUTSIDE:r<n?Sn.INTERSECTING:Sn.INSIDE}},{key:"transform",value:function(e){this.center.transform(e);var t=jn.e(Tn,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}},{key:"distanceSquaredTo",value:function(e){return(e=Tn.from(e)).subtract(this.center).lengthSquared()-this.radius*this.radius}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}}]),e}(),Ln=n(243),In=n(289),Dn=new En.a,zn=new En.a,Fn=new En.a,Nn=new En.a,Bn=new En.a,Vn=new En.a,$n=new En.a,Un=new En.a,Wn=new En.a,Hn=new En.a,Gn=0,qn=1,Xn=2,Zn=3,Kn=4,Yn=5,Jn=6,Qn=7,er=8,tr=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];Object(s.a)(this,e),this.center=(new En.a).from(t),this.halfAxes=new Ln.a(n)}Object(u.a)(e,[{key:"fromCenterHalfSizeQuaternion",value:function(e,t,n){var r=new In.a(n),i=(new Ln.a).fromQuaternion(r);return i[0]=i[0]*t[0],i[1]=i[1]*t[0],i[2]=i[2]*t[0],i[3]=i[3]*t[1],i[4]=i[4]*t[1],i[5]=i[5]*t[1],i[6]=i[6]*t[2],i[7]=i[7]*t[2],i[8]=i[8]*t[2],this.center=(new En.a).from(e),this.halfAxes=i,this}},{key:"clone",value:function(){return new e(this.center,this.halfAxes)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}},{key:"getBoundingSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Rn,t=this.halfAxes,n=t.getColumn(0,Un),r=t.getColumn(1,Wn),i=t.getColumn(2,Hn),o=Dn.copy(n).add(r).add(i);return e.center.copy(this.center),e.radius=o.magnitude(),e}},{key:"intersectPlane",value:function(e){var t=this.center,n=e.normal,r=this.halfAxes,i=n.x,o=n.y,a=n.z,s=Math.abs(i*r[Gn]+o*r[qn]+a*r[Xn])+Math.abs(i*r[Zn]+o*r[Kn]+a*r[Yn])+Math.abs(i*r[Jn]+o*r[Qn]+a*r[er]),u=n.dot(t)+e.distance;return u<=-s?Sn.OUTSIDE:u>=s?Sn.INSIDE:Sn.INTERSECTING}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t=zn.from(e).subtract(this.center),n=this.halfAxes,r=n.getColumn(0,Fn),i=n.getColumn(1,Nn),o=n.getColumn(2,Bn),a=r.magnitude(),s=i.magnitude(),u=o.magnitude();r.normalize(),i.normalize(),o.normalize();var l,c=0;return(l=Math.abs(t.dot(r))-a)>0&&(c+=l*l),(l=Math.abs(t.dot(i))-s)>0&&(c+=l*l),(l=Math.abs(t.dot(o))-u)>0&&(c+=l*l),c}},{key:"computePlaneDistances",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=this.center,a=this.halfAxes,s=a.getColumn(0,Fn),u=a.getColumn(1,Nn),l=a.getColumn(2,Bn),c=Vn.copy(s).add(u).add(l).add(o),f=$n.copy(c).subtract(e),h=t.dot(f);return r=Math.min(h,r),i=Math.max(h,i),c.copy(o).add(s).add(u).subtract(l),f.copy(c).subtract(e),h=t.dot(f),r=Math.min(h,r),i=Math.max(h,i),c.copy(o).add(s).subtract(u).add(l),f.copy(c).subtract(e),h=t.dot(f),r=Math.min(h,r),i=Math.max(h,i),c.copy(o).add(s).subtract(u).subtract(l),f.copy(c).subtract(e),h=t.dot(f),r=Math.min(h,r),i=Math.max(h,i),o.copy(c).subtract(s).add(u).add(l),f.copy(c).subtract(e),h=t.dot(f),r=Math.min(h,r),i=Math.max(h,i),o.copy(c).subtract(s).add(u).subtract(l),f.copy(c).subtract(e),h=t.dot(f),r=Math.min(h,r),i=Math.max(h,i),o.copy(c).subtract(s).subtract(u).add(l),f.copy(c).subtract(e),h=t.dot(f),r=Math.min(h,r),i=Math.max(h,i),o.copy(c).subtract(s).subtract(u).subtract(l),f.copy(c).subtract(e),h=t.dot(f),r=Math.min(h,r),i=Math.max(h,i),n[0]=r,n[1]=i,n}},{key:"getTransform",value:function(){}},{key:"halfSize",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new En.a(e).len(),new En.a(t).len(),new En.a(n).len()]}},{key:"quaternion",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),i=new En.a(e).normalize(),o=new En.a(t).normalize(),a=new En.a(n).normalize();return(new In.a).fromMatrix3(new Ln.a([].concat(Object(r.a)(i),Object(r.a)(o),Object(r.a)(a))))}}])}(),n(57)),nr=new En.a,rr=new En.a,ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(s.a)(this,e),this.normal=new En.a,this.distance=-0,this.fromNormalDistance(t,n)}return Object(u.a)(e,[{key:"fromNormalDistance",value:function(e,t){return Object(tr.a)(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}},{key:"fromPointNormal",value:function(e,t){e=nr.from(e),this.normal.from(t).normalize();var n=-this.normal.dot(e);return this.distance=n,this}},{key:"fromCoefficients",value:function(e,t,n,r){return this.normal.set(e,t,n),Object(tr.a)(Object(He.c)(this.normal.len(),1)),this.distance=r,this}},{key:"clone",value:function(t){return new e(this.normal,this.distance)}},{key:"equals",value:function(e){return Object(He.c)(this.distance,e.distance)&&Object(He.c)(this.normal,e.normal)}},{key:"getPointDistance",value:function(e){return this.normal.dot(e)+this.distance}},{key:"transform",value:function(e){var t=rr.copy(this.normal).transformAsVector(e).normalize(),n=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(n,t)}},{key:"projectPointOntoPlane",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];e=nr.from(e);var n=this.getPointDistance(e),r=rr.copy(this.normal).scale(n);return e.subtract(r).to(t)}}]),e}();function or(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sr=[new En.a([1,0,0]),new En.a([0,1,0]),new En.a([0,0,1])],ur=new En.a,lr=new En.a,cr=(new ir(new En.a(1,0,0),0),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(s.a)(this,e),this.planes=t,Object(tr.a)(this.planes.every((function(e){return e instanceof ir})))}return Object(u.a)(e,null,[{key:"MASK_OUTSIDE",get:function(){return 4294967295}},{key:"MASK_INSIDE",get:function(){return 0}},{key:"MASK_INDETERMINATE",get:function(){return 2147483647}}]),Object(u.a)(e,[{key:"fromBoundingSphere",value:function(e){this.planes.length=2*sr.length;var t,n=e.center,r=e.radius,i=0,o=or(sr);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=this.planes[i],u=this.planes[i+1];s||(s=this.planes[i]=new ir),u||(u=this.planes[i+1]=new ir);var l=ur.copy(a).scale(-r).add(n);a.dot(l);s.fromPointNormal(l,a);var c=ur.copy(a).scale(r).add(n),f=lr.copy(a).negate();f.dot(c);u.fromPointNormal(c,f),i+=2}}catch(h){o.e(h)}finally{o.f()}return this}},{key:"computeVisibility",value:function(e){Object(tr.a)(e);var t,n=Sn.INSIDE,r=or(this.planes);try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(e.intersectPlane(i)){case Sn.OUTSIDE:return Sn.OUTSIDE;case Sn.INTERSECTING:n=Sn.INTERSECTING}}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"computeVisibilityWithPlaneMask",value:function(t,n){if(Object(tr.a)(t,"boundingVolume is required."),Object(tr.a)(Number.isFinite(n),"parentPlaneMask is required."),n===e.MASK_OUTSIDE||n===e.MASK_INSIDE)return n;for(var r=e.MASK_INSIDE,i=this.planes,o=0;o<this.planes.length;++o){var a=o<31?1<<o:0;if(!(o<31&&0===(n&a))){var s=i[o],u=t.intersectPlane(s);if(u===Sn.OUTSIDE)return e.MASK_OUTSIDE;u===Sn.INTERSECTING&&(r|=a)}}return r}}]),e}()),fr=n(242);function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pr=new En.a,gr=new En.a,mr=new En.a,vr=new En.a,yr=new En.a,br=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),t=dr({near:1,far:5e8},t),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=t.near,this._near=this.near,this.far=t.far,this._far=this.far,this._cullingVolume=new cr([new ir,new ir,new ir,new ir,new ir,new ir]),this._perspectiveMatrix=new fr.a,this._infinitePerspective=new fr.a}return Object(u.a)(e,[{key:"clone",value:function(){return new e({right:this.right,left:this.left,top:this.top,bottom:this.bottom,near:this.near,far:this.far})}},{key:"equals",value:function(t){return t&&t instanceof e&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far}},{key:"computeCullingVolume",value:function(e,t,n){Object(tr.a)(e,"position is required."),Object(tr.a)(t,"direction is required."),Object(tr.a)(n,"up is required.");var r=this._cullingVolume.planes;n=pr.copy(n).normalize();var i=gr.copy(t).cross(n).normalize(),o=mr.copy(t).multiplyByScalar(this.near).add(e),a=vr.copy(t).multiplyByScalar(this.far).add(e),s=yr;return s.copy(i).multiplyByScalar(this.left).add(o).subtract(e).cross(n),r[0].fromPointNormal(e,s),s.copy(i).multiplyByScalar(this.right).add(o).subtract(e).cross(n).negate(),r[1].fromPointNormal(e,s),s.copy(n).multiplyByScalar(this.bottom).add(o).subtract(e).cross(i).negate(),r[2].fromPointNormal(e,s),s.copy(n).multiplyByScalar(this.top).add(o).subtract(e).cross(i),r[3].fromPointNormal(e,s),s=(new En.a).copy(t),r[4].fromPointNormal(o,s),s.negate(),r[5].fromPointNormal(a,s),this._cullingVolume}},{key:"getPixelDimensions",value:function(e,t,n,r){_r(this),Object(tr.a)(Number.isFinite(e)&&Number.isFinite(t)),Object(tr.a)(e>0),Object(tr.a)(t>0),Object(tr.a)(n>0),Object(tr.a)(r);var i=1/this.near,o=this.top*i,a=2*n*o/t,s=2*n*(o=this.right*i)/e;return r.x=s,r.y=a,r}},{key:"projectionMatrix",get:function(){return _r(this),this._perspectiveMatrix}},{key:"infiniteProjectionMatrix",get:function(){return _r(this),this._infinitePerspective}}]),e}();function _r(e){Object(tr.a)(Number.isFinite(e.right)&&Number.isFinite(e.left)&&Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.near)&&Number.isFinite(e.far));var t=e.top,n=e.bottom,r=e.right,i=e.left,o=e.near,a=e.far;t===e._top&&n===e._bottom&&i===e._left&&r===e._right&&o===e._near&&a===e._far||(Object(tr.a)(e.near>0&&e.near<e.far,"near must be greater than zero and less than far."),e._left=i,e._right=r,e._top=t,e._bottom=n,e._near=o,e._far=a,e._perspectiveMatrix=(new fr.a).frustum({left:i,right:r,bottom:n,top:t,near:o,far:a}),e._infinitePerspective=(new fr.a).frustum({left:i,right:r,bottom:n,top:t,near:o,far:1/0}))}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),t=xr({near:1,far:5e8,xOffset:0,yOffset:0},t),this._offCenterFrustum=new br,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=t.near,this._near=this.near,this.far=t.far,this._far=this.far,this.xOffset=t.xOffset,this._xOffset=this.xOffset,this.yOffset=t.yOffset,this._yOffset=this.yOffset}Object(u.a)(e,[{key:"clone",value:function(){return new e({aspectRatio:this.aspectRatio,fov:this.fov,near:this.near,far:this.far})}},{key:"equals",value:function(t){return null!==(n=t)&&"undefined"!==typeof n&&t instanceof e&&(Or(this),Or(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this.near===t.near&&this.far===t.far&&this._offCenterFrustum.equals(t._offCenterFrustum));var n}},{key:"computeCullingVolume",value:function(e,t,n){return Or(this),this._offCenterFrustum.computeCullingVolume(e,t,n)}},{key:"getPixelDimensions",value:function(e,t,n,r){return Or(this),this._offCenterFrustum.getPixelDimensions(e,t,n,r)}},{key:"projectionMatrix",get:function(){return Or(this),this._offCenterFrustum.projectionMatrix}},{key:"infiniteProjectionMatrix",get:function(){return Or(this),this._offCenterFrustum.infiniteProjectionMatrix}},{key:"fovy",get:function(){return Or(this),this._fovy}},{key:"sseDenominator",get:function(){return Or(this),this._sseDenominator}}])}();function Or(e){Object(tr.a)(Number.isFinite(e.fov)&&Number.isFinite(e.aspectRatio)&&Number.isFinite(e.near)&&Number.isFinite(e.far));var t=e._offCenterFrustum;e.fov===e._fov&&e.aspectRatio===e._aspectRatio&&e.near===e._near&&e.far===e._far&&e.xOffset===e._xOffset&&e.yOffset===e._yOffset||(Object(tr.a)(e.fov>=0&&e.fov<Math.PI),Object(tr.a)(e.aspectRatio>0),Object(tr.a)(e.near>=0&&e.near<e.far),e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset)}new En.a,new En.a,new En.a,new En.a,new En.a,new En.a,new En.a,new En.a,new En.a,new En.a,new En.a,new En.a,Math.PI;n(244),new Ln.a,new Ln.a,new Ln.a,new Ln.a,new Ln.a;new En.a,new En.a,new En.a,new En.a,new En.a,new Ln.a,new Ln.a,new Ln.a;function kr(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Er=function(){function e(t,n,r){Object(s.a)(this,e),this.x=t,this.y=n,this.z=r}return Object(u.a)(e,[{key:"update",value:function(e){var t=e.viewport,n=e.cullingVolume,r=e.elevationBounds,i=e.minZ,o=e.maxZ,a=e.offset,s=e.project,u=this.getBoundingVolume(r,a,s);if(n.computeVisibility(u)<0)return!1;if(!this.childVisible){var l=this.z;if(l<o&&l>=i){var c=u.distanceTo(t.cameraPosition)*t.scale/t.height;l+=Math.floor(Math.log2(c))}if(l>=o)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;var f,h=kr(this.children);try{for(h.s();!(f=h.n()).done;){f.value.update(e)}}catch(d){h.e(d)}finally{h.f()}return!0}},{key:"getSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selected&&e.push(this),this._children){var t,n=kr(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.getSelected(e)}}catch(i){n.e(i)}finally{n.f()}}return e}},{key:"getBoundingVolume",value:function(e,t,n){if(n){var r=Rr(this.x,this.y,this.z),i=Rr(this.x+1,this.y+1,this.z),o=Rr(this.x+.5,this.y+.5,this.z);r.z=e[1],i.z=e[1],o.z=e[0];var a=n(r),s=n(i),u=new p.b(n(o)),l=Math.max(u.distance(a),u.distance(s));return new Rn(u,l)}var c=512/Math.pow(2,this.z),f=this.x*c+512*t,h=512-(this.y+1)*c;return new Pn([f,h,e[0]],[f+c,h+c,e[1]])}},{key:"children",get:function(){if(!this._children){var t=2*this.x,n=2*this.y,r=this.z+1;this._children=[new e(t,n,r),new e(t,n+1,r),new e(t+1,n,r),new e(t+1,n+1,r)]}return this._children}}]),e}();var Cr=512,Ar=[-1/0,-1/0,1/0,1/0],Pr={type:"url",value:"",validate:function(e){return"string"===typeof e||Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},equals:function(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}};function jr(e,t){var n=[t.transformPoint([e[0],e[1]]),t.transformPoint([e[2],e[1]]),t.transformPoint([e[0],e[3]]),t.transformPoint([e[2],e[3]])];return[Math.min.apply(Math,Object(r.a)(n.map((function(e){return e[0]})))),Math.min.apply(Math,Object(r.a)(n.map((function(e){return e[1]})))),Math.max.apply(Math,Object(r.a)(n.map((function(e){return e[0]})))),Math.max.apply(Math,Object(r.a)(n.map((function(e){return e[1]}))))]}function Tr(e,t){if(!e||!e.length)return null;Array.isArray(e)&&(e=e[Math.abs(t.x+t.y)%e.length]);var n=t.x,r=t.y,i=t.z;return e.replace("{x}",n).replace("{y}",r).replace("{z}",i).replace("{-y}",Math.pow(2,i)-r-1)}function Mr(e){return Math.pow(2,e)}function Rr(e,t,n){var r=Mr(n),i=e/r*360-180,o=Math.PI-2*Math.PI*t/r;return[i,180/Math.PI*Math.atan(.5*(Math.exp(o)-Math.exp(-o)))]}function Lr(e,t,n){var r=Mr(n);return[e/r*Cr,t/r*Cr]}function Ir(e,t,n,r){if(e.isGeospatial){var i=Rr(t,n,r),o=Object(zt.a)(i,2),a=o[0],s=o[1],u=Rr(t+1,n+1,r),l=Object(zt.a)(u,2);return{west:a,north:s,east:l[0],south:l[1]}}var c=Lr(t,n,r),f=Object(zt.a)(c,2),h=f[0],d=f[1],p=Lr(t+1,n+1,r),g=Object(zt.a)(p,2);return{left:h,top:d,right:g[0],bottom:g[1]}}function Dr(e,t,n,r){for(var i=function(e,t,n){return n?jr(e,n).map((function(e){return e*t/Cr})):e.map((function(e){return e*t/Cr}))}(function(e,t,n){var r;if(t&&2===t.length){var i=Object(zt.a)(t,2),o=i[0],a=i[1],s=e.getBounds({z:o}),u=e.getBounds({z:a});r=[Math.min(s[0],u[0]),Math.min(s[1],u[1]),Math.max(s[2],u[2]),Math.max(s[3],u[3])]}else r=e.getBounds();return e.isGeospatial?[Math.max(r[0],n[0]),Math.max(r[1],n[1]),Math.min(r[2],n[2]),Math.min(r[3],n[3])]:[Math.max(Math.min(r[0],n[2]),n[0]),Math.max(Math.min(r[1],n[3]),n[1]),Math.min(Math.max(r[2],n[0]),n[2]),Math.min(Math.max(r[3],n[1]),n[3])]}(e,null,n),Mr(t),r),o=Object(zt.a)(i,4),a=o[0],s=o[1],u=o[2],l=o[3],c=[],f=Math.floor(a);f<u;f++)for(var h=Math.floor(s);h<l;h++)c.push({x:f,y:h,z:t});return c}function zr(e){var t=e.viewport,n=e.maxZoom,r=e.minZoom,i=e.zRange,o=e.extent,a=e.tileSize,s=void 0===a?Cr:a,u=e.modelMatrix,l=e.modelMatrixInverse,c=Math.round(t.zoom+Math.log2(Cr/s));if(Number.isFinite(r)&&c<r){if(!o)return[];c=r}Number.isFinite(n)&&c>n&&(c=n);var f=o;return u&&l&&o&&!t.isGeospatial&&(f=jr(o,u)),t.isGeospatial?function(e,t,n){var r=e.resolution?e.projectPosition:null,i=Object.values(e.getFrustumPlanes()).map((function(e){var t=e.normal,n=e.distance;return new ir(t.clone().negate(),n)})),o=new cr(i),a=e.distanceScales.unitsPerMeter[2],s=n&&n[0]*a||0,u=n&&n[1]*a||0,l=e.pitch<=60?t:0,c=new Er(0,0,0),f={viewport:e,project:r,cullingVolume:o,elevationBounds:[s,u],minZ:l,maxZ:t,offset:0};if(c.update(f),e.subViewports&&e.subViewports.length>1){for(f.offset=-1;c.update(f)&&!(--f.offset<-3););for(f.offset=1;c.update(f)&&!(++f.offset>3););}return c.getSelected()}(t,c,i):Dr(t,c,f||Ar,l)}var Fr=n(223);function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vr="Queued Requests",$r="Active Requests",Ur="Cancelled Requests",Wr="Queued Requests Ever",Hr="Active Requests Ever",Gr={id:"request-scheduler",throttleRequests:!0,maxRequests:6},qr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.props=Br(Br({},Gr),t),this.requestQueue=[],this.activeRequestCount=0,this.requestMap=new Map,this.stats=new Fr.a({id:t.id}),this.stats.get(Vr),this.stats.get($r),this.stats.get(Ur),this.stats.get(Wr),this.stats.get(Hr),this._deferredUpdate=null}return Object(u.a)(e,[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var n={handle:e,getPriority:t},r=new Promise((function(e){return n.resolve=e,n}));return this.requestQueue.push(n),this.requestMap.set(e,r),this._issueNewRequests(),r}},{key:"_issueRequest",value:function(e){var t=this,n=e.handle,r=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(n),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,r?r({done:o}):Promise.resolve({done:o})}},{key:"_issueNewRequests",value:function(){var e=this;this._deferredUpdate||(this._deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this._deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t)if(this.requestQueue.length>0){var n=this.requestQueue.shift();this._issueRequest(n)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var n=e[t];this._updateRequest(n)||(e.splice(t,1),this.requestMap.delete(n.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}]),e}();function Xr(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kr="best-available",Yr=function(){function e(t){var n=this;Object(s.a)(this,e),this.opts=t,this._getTileData=t.getTileData,this.onTileError=t.onTileError,this.onTileLoad=function(e){t.onTileLoad(e),n.opts.maxCacheByteSize&&(n._cacheByteSize+=e.byteLength,n._resizeCache())},this.onTileUnload=t.onTileUnload,this._requestScheduler=new qr({maxRequests:t.maxRequests,throttleRequests:t.maxRequests>0}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._selectedTiles=null,this._frameNumber=0,this.setOptions(t)}return Object(u.a)(e,[{key:"setOptions",value:function(e){Object.assign(this.opts,e),Number.isFinite(e.maxZoom)&&(this._maxZoom=Math.floor(e.maxZoom)),Number.isFinite(e.minZoom)&&(this._minZoom=Math.ceil(e.minZoom))}},{key:"finalize",value:function(){var e,t=Xr(this._cache.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isLoading&&n.abort()}}catch(r){t.e(r)}finally{t.f()}}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.zRange,i=n.modelMatrix,o=new p.a(i),a=!o.equals(this._modelMatrix);if(!e.equals(this._viewport)||a){a&&(this._modelMatrixInverse=i&&o.clone().invert(),this._modelMatrix=i&&o),this._viewport=e;var s=this.getTileIndices({viewport:e,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:r,modelMatrix:this._modelMatrix,modelMatrixInverse:this._modelMatrixInverse});this._selectedTiles=s.map((function(e){return t._getTile(e,!0)})),this._dirty&&this._rebuildTree()}var u=this.updateTileStates();return this._dirty&&this._resizeCache(),u&&this._frameNumber++,this._frameNumber}},{key:"getTileIndices",value:function(e){var t=e.viewport,n=e.maxZoom,r=e.minZoom,i=e.zRange,o=e.modelMatrix,a=e.modelMatrixInverse,s=this.opts;return zr({viewport:t,maxZoom:n,minZoom:r,zRange:i,tileSize:s.tileSize,extent:s.extent,modelMatrix:o,modelMatrixInverse:a})}},{key:"getTileMetadata",value:function(e){var t=e.x,n=e.y,r=e.z;return{bbox:Ir(this._viewport,t,n,r)}}},{key:"getParentIndex",value:function(e){return e.x=Math.floor(e.x/2),e.y=Math.floor(e.y/2),e.z-=1,e}},{key:"updateTileStates",value:function(){this._updateTileStates(this.selectedTiles);var e,t=this.opts.maxRequests,n=[],r=0,i=!1,o=Xr(this._cache.values());try{for(o.s();!(e=o.n()).done;){var a=e.value,s=Boolean(1&a.state);a.isVisible!==s&&(i=!0,a.isVisible=s),a.isSelected=5===a.state,a.isLoading&&(r++,a.isSelected||n.push(a))}}catch(u){o.e(u)}finally{o.f()}if(t>0)for(;r>t&&n.length>0;){n.shift().abort(),r--}return i}},{key:"_rebuildTree",value:function(){var e,t=this._cache,n=Xr(t.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.parent=null,r.children.length=0}}catch(u){n.e(u)}finally{n.f()}var i,o=Xr(t.values());try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this._getNearestAncestor(a.x,a.y,a.z);a.parent=s,s&&s.children.push(a)}}catch(u){o.e(u)}finally{o.f()}}},{key:"_updateTileStates",value:function(e){var t,n=this._cache,r=this.opts.refinementStrategy||Kr,i=Xr(n.values());try{for(i.s();!(t=i.n()).done;){t.value.state=0}}catch(h){i.e(h)}finally{i.f()}var o,a=Xr(e);try{for(a.s();!(o=a.n()).done;){o.value.state=5}}catch(h){a.e(h)}finally{a.f()}if("never"!==r){var s,u=Xr(e);try{for(u.s();!(s=u.n()).done;){Qr(s.value,r)}}catch(h){u.e(h)}finally{u.f()}var l,c=Xr(e);try{for(c.s();!(l=c.n()).done;){var f=l.value;Jr(f)&&ei(f)}}catch(h){c.e(h)}finally{c.f()}}}},{key:"_resizeCache",value:function(){var e=this._cache,t=this.opts,n=t.maxCacheSize||(t.maxCacheByteSize?1/0:5*this.selectedTiles.length),r=t.maxCacheByteSize||1/0;if(e.size>n||this._cacheByteSize>r){var i,o=Xr(e);try{for(o.s();!(i=o.n()).done;){var a=Object(zt.a)(i.value,2),s=a[0],u=a[1];if(u.isVisible||(this._cacheByteSize-=t.maxCacheByteSize?u.byteLength:0,e.delete(s),this.onTileUnload(u)),e.size<=n&&this._cacheByteSize<=r)break}}catch(l){o.e(l)}finally{o.f()}this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort((function(e,t){return e.z-t.z})),this._dirty=!1)}},{key:"_getTile",value:function(e,t){var n=e.x,r=e.y,i=e.z,o="".concat(n,",").concat(r,",").concat(i),a=this._cache.get(o);return!a&&t?(a=new kn({x:n,y:r,z:i,onTileLoad:this.onTileLoad,onTileError:this.onTileError}),Object.assign(a,this.getTileMetadata(a)),a.loadData(this._getTileData,this._requestScheduler),this._cache.set(o,a),this._dirty=!0):a&&a.isCancelled&&!a.isLoading&&a.loadData(this._getTileData,this._requestScheduler),a}},{key:"_getNearestAncestor",value:function(e,t,n){for(var r=this._minZoom,i=void 0===r?0:r,o={x:e,y:t,z:n};o.z>i;){o=this.getParentIndex(o);var a=this._getTile(o);if(a)return a}return null}},{key:"tiles",get:function(){return this._tiles}},{key:"selectedTiles",get:function(){return this._selectedTiles}},{key:"isLoaded",get:function(){return this._selectedTiles.every((function(e){return e.isLoaded}))}}]),e}();function Jr(e){for(var t=e;t;){if(!1&t.state)return!0;if(t.isLoaded)return!1;t=t.parent}return!0}function Qr(e,t){for(var n,r=3;n=e.parent;){if(e.isLoaded&&(r=4,t===Kr))return;n.state=Math.max(n.state,r),e=n}}function ei(e){var t,n=Xr(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.state=Math.max(r.state,3),r.isLoaded||ei(r)}}catch(i){n.e(i)}finally{n.f()}}function ti(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ii={data:[],dataComparator:Pr.equals,renderSubLayers:{type:"function",value:function(e){return new On(e)},compare:!1},getTileData:{type:"function",optional:!0,value:null,compare:!1},onViewportLoad:{type:"function",optional:!0,value:null,compare:!1},onTileLoad:{type:"function",value:function(e){},compare:!1},onTileUnload:{type:"function",value:function(e){},compare:!1},onTileError:{type:"function",value:function(e){return console.error(e)},compare:!1},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:Kr,zRange:null,fetch:{type:"function",value:function(e,t){var n=t.layer,r=t.signal,i=ri({},n.getLoadOptions());return i.fetch=ri(ri({},i.fetch),{},{signal:r}),Object(ue.a)(e,i)},compare:!1},maxRequests:6},oi=function(e){Object(c.a)(n,e);var t=ti(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"initializeState",value:function(){this.state={tileset:null,isLoaded:!1}}},{key:"finalizeState",value:function(){var e=this.state.tileset;e&&e.finalize()}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var t=e.props,n=(e.oldProps,e.context,e.changeFlags),r=this.state.tileset;if(!r||n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getTileData)){r&&r.finalize();var i=Number.isFinite(this.state.maxZoom)?this.state.maxZoom:t.maxZoom,o=Number.isFinite(this.state.minZoom)?this.state.minZoom:t.minZoom,a=t.tileSize,s=t.maxCacheSize,u=t.maxCacheByteSize,l=t.refinementStrategy,c=t.extent,f=t.maxRequests;r=new Yr({getTileData:this.getTileData.bind(this),maxCacheSize:s,maxCacheByteSize:u,maxZoom:i,minZoom:o,tileSize:a,refinementStrategy:l,extent:c,onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this),maxRequests:f}),this.setState({tileset:r})}else(n.propsChanged||n.updateTriggersChanged)&&(r.setOptions(t),this.state.tileset.tiles.forEach((function(e){e.layers=null})));this._updateTileset()}},{key:"_updateTileset",value:function(){var e=this.state.tileset,t=this.props,n=t.zRange,r=t.modelMatrix,i=e.update(this.context.viewport,{zRange:n,modelMatrix:r}),o=e.isLoaded,a=this.state.isLoaded!==o,s=this.state.frameNumber!==i;o&&(a||s)&&this._onViewportLoad(),s&&this.setState({frameNumber:i}),this.state.isLoaded=o}},{key:"_onViewportLoad",value:function(){var e=this.state.tileset,t=this.props.onViewportLoad;t&&t(e.selectedTiles)}},{key:"_onTileLoad",value:function(e){this.getCurrentLayer().props.onTileLoad(e),e.isVisible&&this.setNeedsUpdate()}},{key:"_onTileError",value:function(e,t){var n=this.getCurrentLayer();n.props.onTileError(e),n._updateTileset(),t.isVisible&&this.setNeedsUpdate()}},{key:"_onTileUnload",value:function(e){this.getCurrentLayer().props.onTileUnload(e)}},{key:"getTileData",value:function(e){var t=this.props.data,n=this.getCurrentLayer().props,r=n.getTileData,i=n.fetch,o=e.signal;return e.url=Tr(t,e),r?r(e):e.url?i(e.url,{layer:this,signal:o}):null}},{key:"renderSubLayers",value:function(e){return this.props.renderSubLayers(e)}},{key:"getHighlightedObjectIndex",value:function(){return-1}},{key:"getPickingInfo",value:function(e){var t=e.info,n=e.sourceLayer;return t.sourceLayer=n,t.tile=n.props.tile,t}},{key:"renderLayers",value:function(){var e=this,t=this.props.visible;return this.state.tileset.tiles.map((function(n){var r=t&&n.isVisible,i=e.getHighlightedObjectIndex(n);if(n.isLoaded)if(n.layers)!n.layers[0]||n.layers[0].props.visible===r&&n.layers[0].props.highlightedObjectIndex===i||(n.layers=n.layers.map((function(e){return e.clone({visible:r,highlightedObjectIndex:i})})));else{var o=e.renderSubLayers(Object.assign({},e.props,{id:"".concat(e.id,"-").concat(n.x,"-").concat(n.y,"-").concat(n.z),data:n.data,visible:r,_offset:0,tile:n,highlightedObjectIndex:i}));n.layers=Object(ye.b)(o,Boolean)}else;return n.layers}))}},{key:"isLoaded",get:function(){return this.state.tileset.selectedTiles.every((function(e){return e.layers&&e.layers.every((function(e){return e.isLoaded}))}))}}]),n}(ke);oi.layerName="TileLayer",oi.defaultProps=ii;var ai=n(83),si=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.opts=t}return Object(u.a)(e,[{key:"equals",value:function(e){return this===e||this.constructor===e.constructor&&Object(ai.a)(this.opts,e.opts)}},{key:"getShaders",value:function(e){return null}},{key:"getSubLayerProps",value:function(e){var t=e.constructor.defaultProps,n=void 0===t?{}:t,r={updateTriggers:{}};for(var i in n)if(i in this.props){var o=n[i],a=this.props[i];r[i]=a,o&&"accessor"===o.type&&(r.updateTriggers[i]=this.props.updateTriggers[i],"function"===typeof a&&(r[i]=this.getSubLayerAccessor(a,!0)))}return r}},{key:"initializeState",value:function(e,t){}},{key:"updateState",value:function(e,t){}},{key:"draw",value:function(e,t){}},{key:"finalizeState",value:function(e){}}]),e}();function ui(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var li={clipBounds:[0,0,1,1]},ci="\nuniform vec4 clip_bounds;\n\nbool clip_isInBounds(vec2 position) {\n  return position.x >= clip_bounds[0] && position.y >= clip_bounds[1] && position.x < clip_bounds[2] && position.y < clip_bounds[3];\n}\n",fi={name:"clip-vs",vs:ci},hi={"vs:#decl":"\nvarying float clip_isVisible;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_isVisible = float(clip_isInBounds(geometry.worldPosition.xy));\n","fs:#decl":"\nvarying float clip_isVisible;\n","fs:DECKGL_FILTER_COLOR":"\n  if (clip_isVisible < 0.5) discard;\n"},di={name:"clip-fs",fs:ci},pi={"vs:#decl":"\nvarying vec2 clip_commonPosition;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_commonPosition = geometry.position.xy;\n","fs:#decl":"\nvarying vec2 clip_commonPosition;\n","fs:DECKGL_FILTER_COLOR":"\n  if (!clip_isInBounds(clip_commonPosition)) discard;\n"},gi=function(e){Object(c.a)(n,e);var t=ui(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getShaders",value:function(){var e="instancePositions"in this.getAttributeManager().attributes;return"clipByInstance"in this.props&&(e=this.props.clipByInstance),this.state.clipByInstance=e,e?{modules:[fi],inject:hi}:{modules:[di],inject:pi}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.clipBounds,r=void 0===n?li.clipBounds:n;if(this.state.clipByInstance)t.clip_bounds=r;else{var i=this.projectPosition([r[0],r[1],0]),o=this.projectPosition([r[2],r[3],0]);t.clip_bounds=[Math.min(i[0],o[0]),Math.min(i[1],o[1]),Math.max(i[0],o[0]),Math.max(i[1],o[1])]}}}]),n}(si);function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi.extensionName="ClipExtension",gi.defaultProps=li;var yi={Point:bi,MultiPoint:function(e,t,n){return _i(e,t,n)},LineString:wi,MultiLineString:function(e,t,n){return e.map((function(e){return wi(e,t,n)}))},Polygon:xi,MultiPolygon:function(e,t,n){return e.map((function(e){return xi(e,t,n)}))}};function bi(e,t,n){var r=Object(zt.a)(e,2),i=r[0],o=r[1],a=Object(zt.a)(t,2),s=a[0],u=a[1],l=Object(p.e)(s[0],u[0],i),c=Object(p.e)(s[1],u[1],o);return n.unprojectFlat([l,c])}function _i(e,t,n){return e.map((function(e){return bi(e,t,n)}))}function wi(e,t,n){return _i(e,t,n)}function xi(e,t,n){return e.map((function(e){return _i(e,t,n)}))}function Oi(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ki(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var i=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var Ai={uniqueIdProperty:{type:"string",value:""},highlightedFeatureId:null,loaders:[ee],binary:!1};function Pi(e){return ji.apply(this,arguments)}function ji(){return(ji=Object(d.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ue.a)(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error("An error occurred fetching TileJSON: ".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Ti=function(e){Object(c.a)(n,e);var t=Ci(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"initializeState",value:function(){Object(l.a)(Object(h.a)(n.prototype),"initializeState",this).call(this),this.setState({data:null,tileJSON:null})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.context,o=e.changeFlags;o.dataChanged&&this._updateTileData({props:t}),this.state.data&&(Object(l.a)(Object(h.a)(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,context:i,changeFlags:o}),this._setWGS84PropertyForTiles())}},{key:"_updateTileData",value:function(){var e=Object(d.a)(a.a.mark((function e(t){var n,r,i,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=this.props.onDataLoad,i=n.data,o=null,s=n.minZoom,u=n.maxZoom,"string"!==typeof i||/(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(i)){e.next=13;break}return this.setState({data:null,tileJSON:null}),e.next=9,Pi(i);case 9:o=e.sent,r&&r(o),e.next=14;break;case 13:i.tilejson&&(o=i);case 14:o&&(i=o.tiles,Number.isFinite(o.minzoom)&&o.minzoom>s&&(s=o.minzoom),Number.isFinite(o.maxzoom)&&(!Number.isFinite(u)||o.maxzoom<u)&&(u=o.maxzoom)),this.setState({data:i,tileJSON:o,minZoom:s,maxZoom:u});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderLayers",value:function(){return this.state.data?Object(l.a)(Object(h.a)(n.prototype),"renderLayers",this).call(this):null}},{key:"getTileData",value:function(e){var t=Tr(this.state.data,e);if(!t)return Promise.reject("Invalid URL");var n=this.getLoadOptions();return n=Ei(Ei({},n),{},{mvt:Ei(Ei({},n&&n.mvt),{},{coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:{x:e.x,y:e.y,z:e.z}}),gis:this.props.binary?{format:"binary"}:{}}),Object(ue.a)(t,this.props.loaders[0],n)}},{key:"renderSubLayers",value:function(e){var t=e.tile,i=Math.pow(2,t.z),o=512/i,a=-o,s=512*t.x/i,u=512*(1-t.y/i),c=(new p.a).scale([o,a,1]);return e.autoHighlight=!1,this.context.viewport.resolution||(e.modelMatrix=c,e.coordinateOrigin=[s,u,0],e.coordinateSystem=le.a.CARTESIAN,e.extensions=[].concat(Object(r.a)(e.extensions||[]),[new gi])),Object(l.a)(Object(h.a)(n.prototype),"renderSubLayers",this).call(this,e)}},{key:"onHover",value:function(e,t){var r=this.props,i=r.uniqueIdProperty;if(r.autoHighlight){var o,a=this.state.hoveredFeatureId,s=e.object;s&&(o=Mi(s,i)),a!==o&&-1!==o&&this.setState({hoveredFeatureId:o})}return Object(l.a)(Object(h.a)(n.prototype),"onHover",this).call(this,e,t)}},{key:"getPickingInfo",value:function(e){var t=Object(l.a)(Object(h.a)(n.prototype),"getPickingInfo",this).call(this,e),r=this.context.viewport.resolution;if(t.object&&!r)t.object=Li(t.object,t.tile.bbox,this.context.viewport);else if(this.props.binary&&-1!==t.index){var i=e.sourceLayer.props.data;t.object=ge(i.points,t.index)||ge(i.lines,t.index)||ge(i.polygons,t.index)}return t}},{key:"getHighlightedObjectIndex",value:function(e){var t=this.state.hoveredFeatureId,n=this.props,r=n.uniqueIdProperty,i=n.highlightedFeatureId,o=n.binary,a=e.data;if(!(Ri(t)||Ri(i)))return-1;var s=Ri(i)?i:t;if(Array.isArray(a))return a.findIndex((function(e){return Mi(e,r)===s}));if(a&&o)for(var u=function(e,t,n){if(!e)return-1;var r,i=ce(pe);try{for(i.s();!(r=i.n()).done;){var o=ve(e,t,n,r.value);if(-1!==o)return o}}catch(a){i.e(a)}finally{i.f()}return-1}(a,r,s),l=0,c=["points","lines","polygons"];l<c.length;l++){var f=c[l],h=a[f]&&a[f].featureIds.value[u];if(void 0!==h)return h}return-1}},{key:"_pickObjects",value:function(e){var t=this.context,n=t.deck,r=t.viewport,i=r.width,o=r.height,a=r.x,s=r.y,u=[this.id];return n.pickObjects({x:a,y:s,width:i,height:o,layerIds:u,maxObjects:e})}},{key:"getRenderedFeatures",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this._pickObjects(t),r=new Set,i=[],o=Oi(n);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=Mi(a.object,this.props.uniqueIdProperty);-1===s?i.push(a.object):r.has(s)||(r.add(s),i.push(a.object))}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"_setWGS84PropertyForTiles",value:function(){var e=this,t="dataInWGS84";this.state.tileset.selectedTiles.forEach((function(n){n.hasOwnProperty(t)||Object.defineProperty(n,t,{get:function(){if(!n.content)return null;if(e.props.binary&&Array.isArray(n.content)&&!n.content.length)return[];if(void 0===n._contentWGS84){var t=e.props.binary?re(n.content):n.content;n._contentWGS84=t.map((function(t){return Li(t,n.bbox,e.context.viewport)}))}return n._contentWGS84}})}))}},{key:"isLoaded",get:function(){return this.state.data&&this.state.tileset&&Object(l.a)(Object(h.a)(n.prototype),"isLoaded",this)}}]),n}(oi);function Mi(e,t){return t?e.properties[t]:"id"in e?e.id:-1}function Ri(e){return void 0!==e&&null!==e&&""!==e}function Li(e,t,n){var r=Ei(Ei({},e),{},{geometry:{type:e.geometry.type}});return Object.defineProperty(r.geometry,"coordinates",{get:function(){return function(e,t,n){var r=[n.projectFlat([t.west,t.north]),n.projectFlat([t.east,t.south])];return vi(vi({},e),{},{coordinates:yi[e.type](e.coordinates,r,n)})}(e.geometry,t,n).coordinates}}),r}Ti.layerName="MVTLayer",Ti.defaultProps=Ai},function(e,t,n){"use strict";n.d(t,"a",(function(){return Fr}));var r=n(5),i=n(4),o=n(27),a=n(13),s=n(15),u=n(6),l=n(0),c=n.n(l),f=n(1),h=n.n(f),d=n(2),p=n(8);function g(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=1,y=1,b=function(){function e(){Object(r.a)(this,e),this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}return Object(i.a)(e,[{key:"addChannel",value:function(e){var t=e.delay,n=void 0===t?0:t,r=e.duration,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.rate,a=void 0===o?1:o,s=e.repeat,u=v++,l={time:0,delay:n,duration:i,rate:a,repeat:void 0===s?1:s};return this._setChannelTime(l,this.time),this.channels.set(u,l),u}},{key:"removeChannel",value:function(e){this.channels.delete(e);var t,n=g(this.animations);try{for(n.s();!(t=n.n()).done;){var r=Object(p.a)(t.value,2),i=r[0];r[1].channel===e&&this.detachAnimation(i)}}catch(o){n.e(o)}finally{n.f()}}},{key:"isFinished",value:function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}},{key:"getTime",value:function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time}},{key:"setTime",value:function(e){this.time=Math.max(0,e);var t,n=g(this.channels.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setChannelTime(r,this.time)}}catch(l){n.e(l)}finally{n.f()}var i,o=g(this.animations.values());try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.animation,u=a.channel;s.setTime(this.getTime(u))}}catch(l){o.e(l)}finally{o.f()}}},{key:"play",value:function(){this.playing=!0}},{key:"pause",value:function(){this.playing=!1,this.lastEngineTime=-1}},{key:"reset",value:function(){this.setTime(0)}},{key:"attachAnimation",value:function(e,t){var n=y++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n}},{key:"detachAnimation",value:function(e){this.animations.delete(e)}},{key:"update",value:function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}},{key:"_setChannelTime",value:function(e,t){var n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}]),e}(),_=n(175),w=n(44),x=n(25),O=n(43),k=n(100),S=n(223),E=n(556);function C(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(){function e(t,n,i){Object(r.a)(this,e),this.id=t,this.context=i,this._loadCount=0,this._subscribers=new Set,this.setData(n)}return Object(i.a)(e,[{key:"subscribe",value:function(e){this._subscribers.add(e)}},{key:"unsubscribe",value:function(e){this._subscribers.delete(e)}},{key:"inUse",value:function(){return this._subscribers.size>0}},{key:"delete",value:function(){}},{key:"getData",value:function(){var e=this;return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((function(){return e.getData()}))}},{key:"setData",value:function(e,t){var n=this;if(e!==this._data||t){this._data=e;var r=++this._loadCount,i=e;"string"===typeof e&&(i=Object(E.a)(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then((function(e){n._loadCount===r&&(n.isLoaded=!0,n._error=null,n._content=e)})).catch((function(e){n._loadCount===r&&(n.isLoaded=!0,n._error=e||!0)}))):(this.isLoaded=!0,this._error=null,this._content=e);var o,a=C(this._subscribers);try{for(a.s();!(o=a.n()).done;){o.value.onChange(this.getData())}}catch(s){a.e(s)}finally{a.f()}}}}]),e}(),j=function(){function e(t){var n=t.gl,i=t.protocol;Object(r.a)(this,e),this.protocol=i||"resource://",this._context={gl:n,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}return Object(i.a)(e,[{key:"contains",value:function(e){return!!e.startsWith(this.protocol)||e in this._resources}},{key:"add",value:function(e){var t=e.resourceId,n=e.data,r=e.forceUpdate,i=void 0!==r&&r,o=e.persistent,a=void 0===o||o,s=this._resources[t];s?s.setData(n,i):(s=new P(t,n,this._context),this._resources[t]=s),s.persistent=a}},{key:"remove",value:function(e){var t=this._resources[e];t&&(t.delete(),delete this._resources[e])}},{key:"unsubscribe",value:function(e){var t=e.consumerId,n=this._consumers[t];if(n){for(var r in n){var i=n[r];i.resource&&i.resource.unsubscribe(i)}delete this._consumers[t],this.prune()}}},{key:"subscribe",value:function(e){var t=e.resourceId,n=e.onChange,r=e.consumerId,i=e.requestId,o=void 0===i?"default":i,a=this._resources,s=this.protocol;t.startsWith(s)&&(a[t=t.replace(s,"")]||this.add({resourceId:t,data:null,persistent:!1}));var u=a[t];if(this._track(r,o,u,n),u)return u.getData()}},{key:"prune",value:function(){var e=this;this._pruneRequest||(this._pruneRequest=setTimeout((function(){return e._prune()}),0))}},{key:"finalize",value:function(){for(var e in this._resources)this._resources[e].delete()}},{key:"_track",value:function(e,t,n,r){var i=this._consumers,o=i[e]=i[e]||{},a=o[t]||{};a.resource&&(a.resource.unsubscribe(a),a.resource=null,this.prune()),n&&(o[t]=a,a.onChange=r,a.resource=n,n.subscribe(a))}},{key:"_prune",value:function(){this._pruneRequest=null;for(var e=0,t=Object.keys(this._resources);e<t.length;e++){var n=t[e],r=this._resources[n];r.persistent||r.inUse()||(r.delete(),delete this._resources[n])}}}]),e}(),T=n(110),M=n(315),R={name:"geometry",vs:"\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry;\n",fs:"\n#define SMOOTH_EDGE_RADIUS 0.5\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n"},L=n(108);function I(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=[R,L.a],F=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function N(e){var t,n=M.a.getDefaultProgramManager(e),r=I(z);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.addDefaultModule(i)}}catch(u){r.e(u)}finally{r.f()}var o,a=I(F);try{for(a.s();!(o=a.n()).done;){var s=o.value;n.addShaderHook(s)}}catch(u){a.e(u)}finally{a.f()}return n}function B(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $="layerManager.setLayers",U=Object.seal({layerManager:null,resourceManager:null,deck:null,gl:null,stats:null,shaderCache:null,pickingFBO:null,mousePosition:null,userData:{}}),W=function(e){return e instanceof _.a?"".concat(e):e?"invalid":"null"},H=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.deck,o=n.stats,a=n.viewport,s=n.timeline;Object(r.a)(this,e),this.lastRenderedLayers=[],this.layers=[],this.resourceManager=new j({gl:t,protocol:"deck://"}),this.context=Object.assign({},U,{layerManager:this,gl:t,deck:i,programManager:t&&N(t),stats:o||new S.a({id:"deck.gl"}),viewport:a||new T.a({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:s||new b,resourceManager:this.resourceManager}),this._needsRedraw="Initial render",this._needsUpdate=!1,this._debug=!1,this._onError=null,this.activateViewport=this.activateViewport.bind(this),Object.seal(this)}return Object(i.a)(e,[{key:"finalize",value:function(){this.resourceManager.finalize();var e,t=B(this.layers);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._finalizeLayer(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var n,r=B(this.layers);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.getNeedsRedraw(e);t=t||o}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"needsUpdate",value:function(){return this._needsUpdate}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e}},{key:"getLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerIds,n=void 0===t?null:t;return n?this.layers.filter((function(e){return n.find((function(t){return 0===e.id.indexOf(t)}))})):this.layers}},{key:"setProps",value:function(e){"onError"in e&&(this._onError=e.onError),"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&this.setLayers(e.layers)}},{key:"setLayers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t||e!==this.lastRenderedLayers;if(Object(O.a)($,this,n,e),!n)return this;this.lastRenderedLayers=e;var r,i=B(e=Object(k.b)(e,Boolean));try{for(i.s();!(r=i.n()).done;){var o=r.value;o.context=this.context}}catch(a){i.e(a)}finally{i.f()}return this._updateLayers(this.layers,e),this}},{key:"updateLayers",value:function(){var e=this.needsUpdate();if(e){this.setNeedsRedraw("updating layers: ".concat(e));this.setLayers(this.lastRenderedLayers,!0)}}},{key:"activateViewport",value:function(e){return Object(O.a)("layerManager.activateViewport",this,e),e&&(this.context.viewport=e),this}},{key:"_handleError",value:function(e,t,n){this._onError?this._onError(t,n):x.a.error("error during ".concat(e," of ").concat(W(n)),t)()}},{key:"_updateLayers",value:function(e,t){var n,r={},i=B(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[o.id]?x.a.warn("Multiple old layers with same id ".concat(W(o)))():r[o.id]=o}}catch(c){i.e(c)}finally{i.f()}var a=[];this._updateSublayersRecursively(t,r,a),this._finalizeOldLayers(r);for(var s=!1,u=0,l=a;u<l.length;u++){if(l[u].hasUniformTransition()){s=!0;break}}this._needsUpdate=s,this.layers=a}},{key:"_updateSublayersRecursively",value:function(e,t,n){var r,i=B(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.context=this.context;var a=t[o.id];null===a&&x.a.warn("Multiple new layers with same id ".concat(W(o)))(),t[o.id]=null;var s=null;try{this._debug&&a!==o&&o.validateProps(),a?(this._transferLayerState(a,o),this._updateLayer(o)):this._initializeLayer(o),n.push(o),s=o.isComposite&&o.getSubLayers()}catch(u){this._handleError("matching",u,o)}s&&this._updateSublayersRecursively(s,t,n)}}catch(u){i.e(u)}finally{i.f()}}},{key:"_finalizeOldLayers",value:function(e){for(var t in e){var n=e[t];n&&this._finalizeLayer(n)}}},{key:"_initializeLayer",value:function(e){try{e._initialize(),e.lifecycle=w.a.INITIALIZED}catch(t){this._handleError("initialization",t,e)}}},{key:"_transferLayerState",value:function(e,t){t._transferState(e),t.lifecycle=w.a.MATCHED,t!==e&&(e.lifecycle=w.a.AWAITING_GC)}},{key:"_updateLayer",value:function(e){try{e._update()}catch(t){this._handleError("update",t,e)}}},{key:"_finalizeLayer",value:function(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(W(e)),e.lifecycle=w.a.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=w.a.FINALIZED}catch(t){this._handleError("finalization",t,e)}}}]),e}(),G=n(32),q=n(83);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=t.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="Initial render",this._needsUpdate=!0,this._eventManager=t.eventManager,this._eventCallbacks={onViewStateChange:t.onViewStateChange,onInteractionStateChange:t.onInteractionStateChange},Object.seal(this),this.setProps(t)}return Object(i.a)(e,[{key:"finalize",value:function(){for(var e in this.controllers)this.controllers[e]&&this.controllers[e].finalize();this.controllers={}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}},{key:"updateViewStates",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.updateTransition()}}},{key:"getViewports",value:function(e){return e?this._viewports.filter((function(t){return t.containsPixel(e)})):this._viewports}},{key:"getViews",value:function(){var e={};return this.views.forEach((function(t){e[t.id]=t})),e}},{key:"getView",value:function(e){return"string"===typeof e?this.views.find((function(t){return t.id===e})):e}},{key:"getViewState",value:function(e){var t=this.getView(e),n=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(n):n}},{key:"getViewport",value:function(e){return this._viewportMap[e]}},{key:"unproject",value:function(e,t){for(var n=this.getViewports(),r={x:e[0],y:e[1]},i=n.length-1;i>=0;--i){var o=n[i];if(o.containsPixel(r)){var a=e.slice();return a[0]-=o.x,a[1]-=o.y,o.unproject(a,t)}}return null}},{key:"setProps",value:function(e){"views"in e&&this._setViews(e.views),"viewState"in e&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}},{key:"_update",value:function(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}},{key:"_setSize",value:function(e,t){Object(G.a)(Number.isFinite(e)&&Number.isFinite(t)),e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}},{key:"_setViews",value:function(e){e=Object(k.b)(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}},{key:"_setViewState",value:function(e){e?(!Object(q.a)(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):x.a.warn("missing `viewState` or `initialViewState`")()}},{key:"_onViewStateChange",value:function(e,t){t.viewId=e,this._eventCallbacks.onViewStateChange(t)}},{key:"_createController",value:function(e,t){return new(0,t.type)(Z({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:function(t){return e._getViewport(t,{width:t.width,height:t.height})}},t))}},{key:"_updateController",value:function(e,t,n,r){var i=e.controller;return i?(i=Z(Z(Z(Z({},t),e.props),i),{},{id:e.id,x:n.x,y:n.y,width:n.width,height:n.height}),r?r.setProps(i):r=this._createController(e,i),r):null}},{key:"_rebuildViewports",value:function(){var e=this.width,t=this.height,n=this.views,r=this.controllers;this._viewports=[],this.controllers={};for(var i=n.length;i--;){var o=n[i],a=this.getViewState(o),s=o.makeViewport({width:e,height:t,viewState:a});this.controllers[o.id]=this._updateController(o,a,s,r[o.id]),this._viewports.unshift(s)}for(var u in r)r[u]&&!this.controllers[u]&&r[u].finalize();this._buildViewportMap()}},{key:"_buildViewportMap",value:function(){var e=this;this._viewportMap={},this._viewports.forEach((function(t){t.id&&(e._viewportMap[t.id]=e._viewportMap[t.id]||t)}))}},{key:"_diffViews",value:function(e,t){return e.length!==t.length||e.some((function(n,r){return!e[r].equals(t[r])}))}}]),e}(),Y=n(19),J=/([0-9]+\.?[0-9]*)(%|px)/;function Q(e){switch(Object(Y.a)(e)){case"number":return{position:e,relative:!1};case"string":var t=e.match(J);if(t&&t.length>=3){var n="%"===t[2],r=parseFloat(t[1]);return{position:n?r/100:r,relative:n}}default:throw new Error("Could not parse position string ".concat(e))}}function ee(e,t){return e.relative?Math.round(e.position*t):e.position}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e);var n=t.id,i=void 0===n?null:n,o=t.x,a=void 0===o?0:o,s=t.y,u=void 0===s?0:s,l=t.width,c=void 0===l?"100%":l,f=t.height,h=void 0===f?"100%":f,d=t.projectionMatrix,p=void 0===d?null:d,g=t.fovy,m=void 0===g?50:g,v=t.near,y=void 0===v?.1:v,b=t.far,_=void 0===b?1e3:b,w=t.modelMatrix,x=void 0===w?null:w,O=t.viewportInstance,k=void 0===O?null:O,S=t.type,E=void 0===S?T.a:S;Object(G.a)(!k||k instanceof T.a),this.viewportInstance=k,this.id=i||this.constructor.displayName||"view",this.type=E,this.props=Object.assign({},t,{id:this.id,projectionMatrix:p,fovy:m,near:y,far:_,modelMatrix:x}),this._parseDimensions({x:a,y:u,width:c,height:h}),this.equals=this.equals.bind(this),Object.seal(this)}return Object(i.a)(e,[{key:"equals",value:function(e){return this===e||(this.viewportInstance?e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):Object(q.a)(this.props,e.props))}},{key:"makeViewport",value:function(e){var t=e.width,n=e.height,r=e.viewState;if(this.viewportInstance)return this.viewportInstance;r=this.filterViewState(r);var i=this.getDimensions({width:t,height:n});return this._getViewport(r,i)}},{key:"getViewStateId",value:function(){switch(Object(Y.a)(this.props.viewState)){case"string":return this.props.viewState;case"object":return this.props.viewState&&this.props.viewState.id;default:return this.id}}},{key:"filterViewState",value:function(e){if(this.props.viewState&&"object"===Object(Y.a)(this.props.viewState)){if(!this.props.viewState.id)return this.props.viewState;var t=Object.assign({},e);for(var n in this.props.viewState)"id"!==n&&(t[n]=this.props.viewState[n]);return t}return e}},{key:"getDimensions",value:function(e){var t=e.width,n=e.height;return{x:ee(this._x,t),y:ee(this._y,n),width:ee(this._width,t),height:ee(this._height,n)}}},{key:"_getControllerProps",value:function(e){var t=this.props.controller;return t?!0===t?e:("function"===typeof t&&(t={type:t}),Object.assign({},e,t)):null}},{key:"_getViewport",value:function(e,t){return new(0,this.type)(ne(ne(ne({},e),this.props),t))}},{key:"_parseDimensions",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height;this._x=Q(t),this._y=Q(n),this._width=Q(r),this._height=Q(i)}}]),e}(),ie=n(170),oe=n(22),ae=n(85),se=function(){},ue=1,le=2,ce=3,fe={transitionEasing:function(e){return e},transitionInterruption:ue,onTransitionStart:se,onTransitionInterrupt:se,onTransitionEnd:se},he=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.a)(this,e),this.ControllerState=t,this.props=Object.assign({},fe,n),this.propsInTransition=null,this.transition=new ae.a(n.timeline),this.onViewStateChange=n.onViewStateChange||se,this.onStateChange=n.onStateChange||se,this._onTransitionUpdate=this._onTransitionUpdate.bind(this)}return Object(i.a)(e,[{key:"finalize",value:function(){this.transition.cancel()}},{key:"getViewportInTransition",value:function(){return this.propsInTransition}},{key:"processViewStateChange",value:function(e){var t=!1,n=this.props;if(e=Object.assign({},fe,e),this.props=e,this._shouldIgnoreViewportChange(n,e))return t;if(this._isTransitionEnabled(e)){var r=this.transition.settings,i=r.interruption,o=r.endProps,a=Object.assign({},n,i===le?o:this.propsInTransition||n);this._triggerTransition(a,e),t=!0}else this.transition.cancel();return t}},{key:"updateTransition",value:function(){this.transition.update()}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,n=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.transition.inProgress&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this.transition.inProgress?this.transition.settings.interruption===ce||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){var n=new this.ControllerState(e),r=new this.ControllerState(t).shortestPathFrom(n),i=t.transitionInterpolator,o=i.getDuration?i.getDuration(e,t):t.transitionDuration;if(0!==o){var a=t.transitionInterpolator.initializeProps(e,r);this.propsInTransition={},this.duration=o,this.transition.start({duration:o,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)}),this.onStateChange({inTransition:!0}),this.updateTransition()}}},{key:"_onTransitionEnd",value:function(e){var t=this;return function(n){t.propsInTransition=null,t.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e(n)}}},{key:"_onTransitionUpdate",value:function(e){var t=e.time,n=e.settings,r=n.interpolator,i=n.startProps,o=n.endProps,a=n.duration,s=(0,n.easing)(t/a),u=r.interpolateProps(i,o,s);this.propsInTransition=new this.ControllerState(Object.assign({},this.props,u)).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}}]),e}();function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge={transitionDuration:0},me=function(e){return 1-(1-e)*(1-e)},ve=["wheel"],ye=["panstart","panmove","panend"],be=["pinchstart","pinchmove","pinchend"],_e=["tripanstart","tripanmove","tripanend"],we=["doubletap"],xe=["keydown"],Oe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.a)(this,e),Object(G.a)(t),this.ControllerState=t,this.controllerState=null,this.controllerStateProps=null,this.eventManager=null,this.transitionManager=new he(t,pe(pe({},n),{},{onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)})),this._events=null,this._interactionState={isDragging:!1},this._customEvents=[],this.onViewStateChange=null,this.onStateChange=null,this.handleEvent=this.handleEvent.bind(this),this.setProps(n)}return Object(i.a)(e,[{key:"finalize",value:function(){for(var e in this._events)this._events[e]&&this.eventManager.off(e,this.handleEvent);this.transitionManager.finalize()}},{key:"handleEvent",value:function(e){var t=this.ControllerState;this.controllerState=new t(pe(pe({makeViewport:this.makeViewport},this.controllerStateProps),this._state));var n=this._eventStartBlocked;switch(e.type){case"panstart":return!n&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!n&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!n&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=this.controllerStateProps,n=t.x,r=t.y,i=e.offsetCenter;return[i.x-n,i.y-r]}},{key:"isPointInBounds",value:function(e,t){var n=this.controllerStateProps,r=n.width,i=n.height;if(t&&t.handled)return!1;var o=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=i;return o&&t&&t.stopPropagation(),o}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"isDragging",value:function(){return this._interactionState.isDragging}},{key:"blockEvents",value:function(e){var t=this,n=setTimeout((function(){t._eventStartBlocked===n&&(t._eventStartBlocked=null)}),e);this._eventStartBlocked=n}},{key:"setProps",value:function(e){"onViewStateChange"in e&&(this.onViewStateChange=e.onViewStateChange),"onStateChange"in e&&(this.onStateChange=e.onStateChange),"makeViewport"in e&&(this.makeViewport=e.makeViewport),"dragMode"in e&&(this.dragMode=e.dragMode),this.controllerStateProps=e,"eventManager"in e&&this.eventManager!==e.eventManager&&(this.eventManager=e.eventManager,this._events={},this.toggleEvents(this._customEvents,!0)),"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);var t=e.inertia;!0===t&&(t=300),this.inertia=t;var n=e.scrollZoom,r=void 0===n||n,i=e.dragPan,o=void 0===i||i,a=e.dragRotate,s=void 0===a||a,u=e.doubleClickZoom,l=void 0===u||u,c=e.touchZoom,f=void 0===c||c,h=e.touchRotate,d=void 0!==h&&h,p=e.keyboard,g=void 0===p||p,m=Boolean(this.onViewStateChange);this.toggleEvents(ve,m&&r),this.toggleEvents(ye,m&&(o||s)),this.toggleEvents(be,m&&(f||d)),this.toggleEvents(_e,m&&d),this.toggleEvents(we,m&&l),this.toggleEvents(xe,m&&g),this.scrollZoom=r,this.dragPan=o,this.dragRotate=s,this.doubleClickZoom=l,this.touchZoom=f,this.touchRotate=d,this.keyboard=g}},{key:"updateTransition",value:function(){this.transitionManager.updateTransition()}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},e.getViewportProps(),t),i=this.controllerState!==e;if(this._state=e.getState(),this._setInteractionState(n),i){var o=this.controllerState?this.controllerState.getViewportProps():null;this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:o})}}},{key:"_onTransition",value:function(e){this.onViewStateChange&&(e.interactionState=this._interactionState,this.onViewStateChange(e))}},{key:"_setInteractionState",value:function(e){Object.assign(this._interactionState,e),this.onStateChange&&this.onStateChange(this._interactionState)}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.isFunctionKeyPressed(e)||e.rightButton;(this.invertPan||"pan"===this.dragMode)&&(n=!n);var r=this.controllerState[n?"panStart":"rotateStart"]({pos:t});return this._panMove=n,this.updateViewport(r,ge,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}},{key:"_onPanEnd",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.controllerState.pan({pos:t});return this.updateViewport(n,ge,{isDragging:!0,isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(e){var t=this.inertia;if(this.dragPan&&t&&e.velocity){var n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.pan({pos:r}).panEnd();this.updateViewport(i,pe(pe({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:me}),{isDragging:!1,isPanning:!0})}else{var o=this.controllerState.panEnd();this.updateViewport(o,null,{isDragging:!1,isPanning:!1})}return!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=this.getCenter(e),n=this.controllerState.rotate({pos:t});return this.updateViewport(n,ge,{isDragging:!0,isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(e){var t=this.inertia;if(this.dragRotate&&t&&e.velocity){var n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.rotate({pos:r}).rotateEnd();this.updateViewport(i,pe(pe({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:me}),{isDragging:!1,isRotating:!0})}else{var o=this.controllerState.rotateEnd();this.updateViewport(o,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.preventDefault();var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.scrollZoom,r=n.speed,i=void 0===r?.01:r,o=n.smooth,a=void 0!==o&&o,s=e.delta,u=2/(1+Math.exp(-Math.abs(s*i)));s<0&&0!==u&&(u=1/u);var l=this.controllerState.zoom({pos:t,scale:u});return this.updateViewport(l,pe(pe({},this._getTransitionProps({around:t})),{},{transitionDuration:a?250:1}),{isZooming:!0,isPanning:!0}),!0}},{key:"_onTriplePanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.controllerState.rotateStart({pos:t});return this.updateViewport(n,ge,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.getCenter(e);t[0]-=e.deltaX;var n=this.controllerState.rotate({pos:t});return this.updateViewport(n,ge,{isDragging:!0,isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia;if(this.touchRotate&&t&&e.velocityY){var n=this.getCenter(e),r=[n[0],n[1]+=e.velocityY*t/2],i=this.controllerState.rotate({pos:r});this.updateViewport(i,pe(pe({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:me}),{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{var o=this.controllerState.rotateEnd();this.updateViewport(o,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return this._startPinchRotation=e.rotation,this._lastPinchEvent=e,this.updateViewport(n,ge,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.controllerState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation;t=t.rotate({deltaAngleX:this._startPinchRotation-i})}return this.updateViewport(t,ge,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),this._lastPinchEvent=e,!0}},{key:"_onPinchEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia,n=this._lastPinchEvent;if(this.touchZoom&&t&&n&&e.scale!==n.scale){var r=this.getCenter(e),i=this.controllerState.rotateEnd(),o=Math.log2(e.scale),a=(o-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),s=Math.pow(2,o+a*t/2);i=i.zoom({pos:r,scale:s}).zoomEnd(),this.updateViewport(i,pe(pe({},this._getTransitionProps({around:r})),{},{transitionDuration:t,transitionEasing:me}),{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{var u=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(u,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),r=this.keyboard,i=r.zoomSpeed,o=r.moveSpeed,a=r.rotateSpeedX,s=r.rotateSpeedY,u=this.controllerState,l={};switch(e.srcEvent.code){case"Minus":t=n?u.zoomOut(i).zoomOut(i):u.zoomOut(i),l.isZooming=!0;break;case"Equal":t=n?u.zoomIn(i).zoomIn(i):u.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":n?(t=u.rotateLeft(a),l.isRotating=!0):(t=u.moveLeft(o),l.isPanning=!0);break;case"ArrowRight":n?(t=u.rotateRight(a),l.isRotating=!0):(t=u.moveRight(o),l.isPanning=!0);break;case"ArrowUp":n?(t=u.rotateUp(s),l.isRotating=!0):(t=u.moveUp(o),l.isPanning=!0);break;case"ArrowDown":n?(t=u.rotateDown(s),l.isRotating=!0):(t=u.moveDown(o),l.isPanning=!0);break;default:return!1}return this.updateViewport(t,this._getTransitionProps(),l),!0}},{key:"_getTransitionProps",value:function(){return ge}},{key:"events",set:function(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.setProps(this.controllerStateProps)}}]),e}(),ke=function(){function e(t){Object(r.a)(this,e),Object(G.a)(Number.isFinite(t.width),"`width` must be supplied"),Object(G.a)(Number.isFinite(t.height),"`height` must be supplied"),this._viewportProps=this._applyConstraints(t)}return Object(i.a)(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}},{key:"shortestPathFrom",value:function(e){return this._viewportProps}},{key:"_applyConstraints",value:function(e){return e}}]),e}(),Se=n(36),Ee=n(26);function Ce(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e),Array.isArray(t)&&(t={compare:t,extract:t,required:t});var n=t,i=n.compare,o=n.extract,a=n.required;this._propsToCompare=i,this._propsToExtract=o,this._requiredProps=a}return Object(i.a)(e,[{key:"arePropsEqual",value:function(e,t){var n,r=Ce(this._propsToCompare||Object.keys(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!(i in e)||!(i in t)||!Object(oe.d)(e[i],t[i]))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"initializeProps",value:function(e,t){var n;if(this._propsToExtract){var r,i={},o={},a=Ce(this._propsToExtract);try{for(a.s();!(r=a.n()).done;){var s=r.value;i[s]=e[s],o[s]=t[s]}}catch(u){a.e(u)}finally{a.f()}n={start:i,end:o}}else n={start:e,end:t};return this._checkRequiredProps(n.start),this._checkRequiredProps(n.end),n}},{key:"interpolateProps",value:function(e,t,n){return t}},{key:"getDuration",value:function(e,t){return t.transitionDuration}},{key:"_checkRequiredProps",value:function(e){this._requiredProps&&this._requiredProps.forEach((function(t){var n=e[t];Object(G.a)(Number.isFinite(n)||Array.isArray(n),"".concat(t," is required for transition"))}))}}]),e}();function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var Ie=["longitude","latitude","zoom","bearing","pitch"],De=["longitude","latitude","zoom"],ze=function(e){Object(a.a)(n,e);var t=Le(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,n);var o=Array.isArray(i)?i:i.transitionProps;return(e=t.call(this,o||{compare:Ie,extract:Ie,required:De})).opts=i,e}return Object(i.a)(n,[{key:"initializeProps",value:function(e,t){var r=Object(Ee.a)(Object(u.a)(n.prototype),"initializeProps",this).call(this,e,t),i=this.opts,o=i.makeViewport,a=i.around;if(o&&a){var s=o(e),l=o(t),c=s.unproject(a);r.start.around=a,Object.assign(r.end,{around:l.project(c),aroundLngLat:c,width:t.width,height:t.height})}return r}},{key:"interpolateProps",value:function(e,t,n){var r,i={},o=Me(this._propsToExtract);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=Object(oe.e)(e[a]||0,t[a]||0,n)}}catch(f){o.e(f)}finally{o.f()}if(t.aroundLngLat){var s=this.opts.makeViewport(Te(Te({},t),i)).getMapCenterByLngLatPosition({lngLat:t.aroundLngLat,pos:Object(oe.e)(e.around,t.around,n)}),u=Object(p.a)(s,2),l=u[0],c=u[1];i.longitude=l,i.latitude=c}return i}}]),n}(Pe);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var Ve={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new ze,transitionInterruption:ue},$e=0,Ue=0,We=1.5,He=0,Ge=20,qe=0,Xe=60,Ze=function(e){Object(a.a)(n,e);var t=Be(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.makeViewport,a=i.width,s=i.height,u=i.latitude,l=i.longitude,c=i.zoom,f=i.bearing,h=void 0===f?Ue:f,d=i.pitch,p=void 0===d?$e:d,g=i.altitude,m=void 0===g?We:g,v=i.maxZoom,y=void 0===v?Ge:v,b=i.minZoom,_=void 0===b?He:b,w=i.maxPitch,x=void 0===w?Xe:w,O=i.minPitch,k=void 0===O?qe:O,S=i.startPanLngLat,E=i.startZoomLngLat,C=i.startRotatePos,A=i.startBearing,P=i.startPitch,j=i.startZoom;return Object(r.a)(this,n),Object(G.a)(Number.isFinite(l),"`longitude` must be supplied"),Object(G.a)(Number.isFinite(u),"`latitude` must be supplied"),Object(G.a)(Number.isFinite(c),"`zoom` must be supplied"),(e=t.call(this,{width:a,height:s,latitude:u,longitude:l,zoom:c,bearing:h,pitch:p,altitude:m,maxZoom:y,minZoom:_,maxPitch:x,minPitch:k}))._state={startPanLngLat:S,startZoomLngLat:E,startRotatePos:C,startBearing:A,startPitch:P,startZoom:j},e.makeViewport=o,e}return Object(i.a)(n,[{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._state.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:t}),o=Object(p.a)(i,2),a=o[0],s=o[1];return this._getUpdatedState({longitude:a,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this._state,u=s.startRotatePos,l=s.startBearing,c=s.startPitch;return u&&Number.isFinite(l)&&Number.isFinite(c)?(t=n?this._calculateNewPitchAndBearing(Ne(Ne({},this._getRotationParams(n,u)),{},{startBearing:l,startPitch:c})):{bearing:l+i,pitch:c+a},this._getUpdatedState(t)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this._state,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(t));var s=this._calculateNewZoom({scale:r,startZoom:o}),u=this.makeViewport(Ne(Ne({},this._viewportProps),{},{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:t}),l=Object(p.a)(u,2),c=l[0],f=l[1];return this._getUpdatedState({zoom:s,longitude:c,latitude:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(1/e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([e,0])}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([-e,0])}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,e])}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,-e])}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this._viewportProps.bearing-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this._viewportProps.bearing+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this._viewportProps.pitch+e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this._viewportProps.pitch-e})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=Object.assign({},this._viewportProps),r=n.bearing,i=n.longitude;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}},{key:"_zoomFromCenter",value:function(e){var t=this._viewportProps,n=t.width,r=t.height;return this.zoom({pos:[n/2,r/2],scale:e})}},{key:"_panFromCenter",value:function(e){var t=this._viewportProps,n=t.width,r=t.height;return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new this.constructor(Ne(Ne(Ne({makeViewport:this.makeViewport},this._viewportProps),this._state),e))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=Object(oe.c)(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=Object(oe.c)(a,o,i),Object.assign(e,Object(Se.l)(e)),e}},{key:"_unproject",value:function(e){var t=this.makeViewport(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,n=e.pos;return this.makeViewport(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom,a=n+Math.log2(t);return Object(oe.c)(a,o,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=e.startBearing,i=e.startPitch;n=Object(oe.c)(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*t}}},{key:"_getRotationParams",value:function(e,t){var n=e[0]-t[0],r=e[1]-t[1],i=e[1],o=t[1],a=this._viewportProps,s=a.width,u=a.height,l=n/s,c=0;return r>0?Math.abs(u-o)>5&&(c=r/(o-u)*1.2):r<0&&o>5&&(c=1-i/o),{deltaScaleX:l,deltaScaleY:c=Math.min(1,Math.max(-1,c))}}}]),n}(ke),Ke=function(e){Object(a.a)(n,e);var t=Be(n);function n(e){return Object(r.a)(this,n),e.dragMode=e.dragMode||"pan",t.call(this,Ze,e)}return Object(i.a)(n,[{key:"_getTransitionProps",value:function(e){return e?Ne(Ne({},Ve),{},{transitionInterpolator:new ze(Ne(Ne({},e),{},{makeViewport:this.controllerState.makeViewport}))}):Ve}}]),n}(Oe);function Ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var Je=function(e){Object(a.a)(n,e);var t=Ye(n);function n(e){return Object(r.a)(this,n),t.call(this,Object.assign({},e,{type:ie.a}))}return Object(i.a)(n,[{key:"controller",get:function(){return this._getControllerProps({type:Ke})}}]),n}(re);Je.displayName="MapView";var Qe=n(126),et=[255,255,255],tt=0,nt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e);var n=t.color,i=void 0===n?et:n,o=t.intensity,a=void 0===o?1:o;this.id=t.id||"ambient-".concat(tt++),this.color=i,this.intensity=a,this.type="ambient"},rt=[255,255,255],it=[0,0,-1],ot=0,at=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e);var n=t.color,i=void 0===n?rt:n,o=t.intensity,a=void 0===o?1:o,s=t.direction,u=void 0===s?it:s,l=t._shadow,c=void 0!==l&&l;this.id=t.id||"directional-".concat(ot++),this.color=i,this.intensity=a,this.type="directional",this.direction=new oe.b(u).normalize().toArray(),this.shadow=c}return Object(i.a)(e,[{key:"getProjectedLight",value:function(){return this}}]),e}(),st=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e);var n=t.id,i=void 0===n?"effect":n;this.id=i,this.props={},Object.assign(this.props,t)}return Object(i.a)(e,[{key:"preRender",value:function(){}},{key:"getModuleParameters",value:function(){}},{key:"cleanup",value:function(){}}]),e}(),ut=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.a)(this,e);var i=n.id,o=void 0===i?"pass":i;this.id=o,this.gl=t,this.props={},Object.assign(this.props,n)}return Object(i.a)(e,[{key:"setProps",value:function(e){Object.assign(this.props,e)}},{key:"render",value:function(){}},{key:"cleanup",value:function(){}}]),e}(),lt=n(9),ct=n(221);function ft(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var pt=function(e){Object(a.a)(n,e);var t=dt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(e){var t=this.gl;return Object(lt.m)(t,{framebuffer:e.target}),this._drawLayers(e)}},{key:"_drawLayers",value:function(e){var t=e.viewports,n=e.views,r=e.onViewportActive,i=e.clearCanvas,o=void 0===i||i,a=this.gl;o&&function(e){var t=e.drawingBufferWidth,n=e.drawingBufferHeight;Object(lt.m)(e,{viewport:[0,0,t,n]}),e.clear(16640)}(a);var s,u=[],l=ft(t);try{for(l.s();!(s=l.n()).done;){var c=s.value,f=c.viewport||c,h=n&&n[f.id];r(f);var d=this._getDrawLayerParams(f,e);e.view=h;var p,g=ft(f.subViewports||[f]);try{for(g.s();!(p=g.n()).done;){var m=p.value;e.viewport=m;var v=this._drawLayersInViewport(a,e,d);u.push(v)}}catch(y){g.e(y)}finally{g.f()}}}catch(y){l.e(y)}finally{l.f()}return u}},{key:"_getDrawLayerParams",value:function(e,t){for(var n=t.layers,r=t.pass,i=void 0===r?"unknown":r,o=t.layerFilter,a=t.effects,s=t.moduleParameters,u=[],l=gt(),c=0;c<n.length;c++){var f=n[c],h=this._shouldDrawLayer(f,e,i,o),d={shouldDrawLayer:h,layerRenderIndex:l(f,h)};h&&(d.moduleParameters=this._getModuleParameters(f,a,i,s),d.layerParameters=this.getLayerParameters(f,c)),u[c]=d}return u}},{key:"_drawLayersInViewport",value:function(e,t,n){var r=t.layers,i=t.onError,o=t.viewport,a=t.view,s=function(e,t){var n=t.viewport,r=e.canvas?e.canvas.clientHeight||e.canvas.height:100,i=n,o=Object(lt.e)(e);return[i.x*o,(r-i.y-i.height)*o,i.width*o,i.height*o]}(e,{viewport:o});if(a&&a.props.clear){var u=!0===a.props.clear?{color:!0,depth:!0}:a.props.clear;Object(lt.n)(e,{scissorTest:!0,scissor:s},(function(){return Object(ct.a)(e,u)}))}var l={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};Object(lt.m)(e,{viewport:s});for(var c=0;c<r.length;c++){var f=r[c],h=n[c],d=h.shouldDrawLayer,p=h.layerRenderIndex,g=h.moduleParameters,m=h.layerParameters;if(d&&f.props.pickable&&l.pickableCount++,f.isComposite)l.compositeCount++;else if(d){l.visibleCount++,g.viewport=o;try{f.drawLayer({moduleParameters:g,uniforms:{layerIndex:p},parameters:m})}catch(v){i?i(v,f):x.a.error("error during drawing of ".concat(f),v)()}}}return l}},{key:"shouldDrawLayer",value:function(e){return!0}},{key:"getModuleParameters",value:function(e,t){return null}},{key:"getLayerParameters",value:function(e,t){return e.props.parameters}},{key:"_shouldDrawLayer",value:function(e,t,n,r){var i=this.shouldDrawLayer(e)&&e.props.visible;return i&&r&&(i=r({layer:e,viewport:t,isPicking:n.startsWith("picking"),renderPass:n})),i&&e.activateViewport(t),i}},{key:"_getModuleParameters",value:function(e,t,n,r){var i=Object.assign(Object.create(e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:Object(lt.e)(this.gl)});if(t){var o,a=ft(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;Object.assign(i,s.getModuleParameters(e))}}catch(u){a.e(u)}finally{a.f()}}return Object.assign(i,this.getModuleParameters(e,t),r)}}]),n}(ut);function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=function r(i,o){var a,s=i.props._offset,u=i.id,l=i.parent&&i.parent.id;if(l&&!(l in t)&&r(i.parent,!1),l in n){var c=n[l]=n[l]||gt(t[l],t);a=c(i,o),n[u]=c}else Number.isFinite(s)?(a=s+(t[l]||0),n[u]=null):a=e;return o&&a>=e&&(e=a+1),t[u]=a,a};return r}var mt=n(114),vt=n(84);function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var wt=function(e){Object(a.a)(n,e);var t=_t(n);function n(e,i){var o,a,s;return Object(r.a)(this,n),(s=t.call(this,e,i)).shadowMap=new Qe.a(e,{width:1,height:1,parameters:(o={},Object(d.a)(o,10241,9729),Object(d.a)(o,10240,9729),Object(d.a)(o,10242,33071),Object(d.a)(o,10243,33071),o)}),s.depthBuffer=new mt.a(e,{format:33189,width:1,height:1}),s.fbo=new vt.a(e,{id:"shadowmap",width:1,height:1,attachments:(a={},Object(d.a)(a,36064,s.shadowMap),Object(d.a)(a,36096,s.depthBuffer),a)}),s}return Object(i.a)(n,[{key:"render",value:function(e){var t=this,r=this.fbo;Object(lt.n)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(function(){var i=e.viewports[0],o=Object(lt.e)(t.gl),a=i.width*o,s=i.height*o;a===r.width&&s===r.height||r.resize({width:a,height:s}),Object(Ee.a)(Object(u.a)(n.prototype),"render",t).call(t,bt(bt({},e),{},{target:r,pass:"shadow"}))}))}},{key:"shouldDrawLayer",value:function(e){return!1!==e.props.shadowEnabled}},{key:"getModuleParameters",value:function(){return{drawToShadowMap:!0}}},{key:"delete",value:function(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}]),n}(pt),xt=n(18),Ot=n(23),kt=n(109);function St(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ct=Object(kt.a)((function(e){var t=e.viewport,n=e.center;return new oe.a(t.viewProjectionMatrix).invert().transform(n)})),At=Object(kt.a)((function(e){var t,n=e.viewport,r=e.shadowMatrices,i=[],o=n.pixelUnprojectionMatrix,a=n.isGeospatial?void 0:1,s=[[0,0,a],[n.width,0,a],[0,n.height,a],[n.width,n.height,a],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map((function(e){return function(e,t){var n=Object(p.a)(e,3),r=n[0],i=n[1],o=n[2],a=Object(Se.m)([r,i,o],t);if(Number.isFinite(o))return a;return[a[0],a[1],0]}(e,o)})),u=St(r);try{var l=function(){var e=t.value,r=e.clone().translate(new oe.b(n.center).negate()),o=s.map((function(e){return r.transform(e)})),a=(new oe.a).ortho({left:Math.min.apply(Math,Object(xt.a)(o.map((function(e){return e[0]})))),right:Math.max.apply(Math,Object(xt.a)(o.map((function(e){return e[0]})))),bottom:Math.min.apply(Math,Object(xt.a)(o.map((function(e){return e[1]})))),top:Math.max.apply(Math,Object(xt.a)(o.map((function(e){return e[1]})))),near:Math.min.apply(Math,Object(xt.a)(o.map((function(e){return-e[2]})))),far:Math.max.apply(Math,Object(xt.a)(o.map((function(e){return-e[2]}))))});i.push(a.multiplyRight(e))};for(u.s();!(t=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}return i})),Pt=[0,0,0,1],jt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function Tt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||Pt,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},r=Ct({viewport:e.viewport,center:t.project_uCenter}),i=[],o=At({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice(),a=0;a<e.shadowMatrices.length;a++){var s=o[a],u=s.clone().translate(new oe.b(e.viewport.center).negate());t.project_uCoordinateSystem===Ot.a.LNGLAT&&t.project_uProjectionMode===Ot.c.WEB_MERCATOR?(o[a]=u,i[a]=r):(o[a]=s.clone().multiplyRight(jt),i[a]=u.transform(r))}for(var l=0;l<o.length;l++)n["shadow_uViewProjectionMatrices[".concat(l,"]")]=o[l],n["shadow_uProjectCenters[".concat(l,"]")]=i[l],e.shadowMaps&&e.shadowMaps.length>0?n["shadow_uShadowMap".concat(l)]=e.shadowMaps[l]:n["shadow_uShadowMap".concat(l)]=e.dummyShadowMap;return n}var Mt={name:"shadow",dependencies:[L.a],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0){var n={},r=e.shadowEnabled,i=void 0===r||r;return i&&e.shadowMatrices&&e.shadowMatrices.length>0?Object.assign(n,Tt(e,t)):Object.assign(n,{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1}),n}return{}}};function Rt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var Dt={color:[255,255,255],intensity:1},zt=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],Ft=[0,0,0,200/255],Nt=function(e){Object(a.a)(n,e);var t=It(n);function n(e){var i;for(var o in Object(r.a)(this,n),(i=t.call(this,e)).ambientLight=null,i.directionalLights=[],i.pointLights=[],i.shadowColor=Ft,i.shadowPasses=[],i.shadowMaps=[],i.dummyShadowMap=null,i.shadow=!1,i.programManager=null,e){var a=e[o];switch(a.type){case"ambient":i.ambientLight=a;break;case"directional":i.directionalLights.push(a);break;case"point":i.pointLights.push(a)}}return i._applyDefaultLights(),i.shadow=i.directionalLights.some((function(e){return e.shadow})),i}return Object(i.a)(n,[{key:"preRender",value:function(e,t){var n=t.layers,r=t.layerFilter,i=t.viewports,o=t.onViewportActive,a=t.views;if(this.shadow){this.shadowMatrices=this._createLightMatrix(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=M.a.getDefaultProgramManager(e),Mt&&this.programManager.addDefaultModule(Mt)),this.dummyShadowMap||(this.dummyShadowMap=new Qe.a(e,{width:1,height:1}));for(var s=0;s<this.shadowPasses.length;s++){this.shadowPasses[s].render({layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:a,moduleParameters:{shadowLightId:s,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}},{key:"getModuleParameters",value:function(e){var t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((function(t){return t.getProjectedLight({layer:e})})),pointLights:this.pointLights.map((function(t){return t.getProjectedLight({layer:e})}))},t}},{key:"cleanup",value:function(){var e,t=Rt(this.shadowPasses);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(Mt),this.programManager=null)}},{key:"_createLightMatrix",value:function(){var e,t=[],n=Rt(this.directionalLights);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=(new oe.a).lookAt({eye:new oe.b(r.direction).negate()});t.push(i)}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"_createShadowPasses",value:function(e){for(var t=0;t<this.directionalLights.length;t++){var n=new wt(e);this.shadowPasses[t]=n,this.shadowMaps[t]=n.shadowMap}}},{key:"_applyDefaultLights",value:function(){var e=this.ambientLight,t=this.pointLights,n=this.directionalLights;e||0!==t.length||0!==n.length||(this.ambientLight=new nt(Dt),this.directionalLights.push(new at(zt[0]),new at(zt[1])))}}]),n}(st);function Bt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t=new Nt,Ut=function(){function e(){Object(r.a)(this,e),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}return Object(i.a)(e,[{key:"setProps",value:function(e){"effects"in e&&(e.effects.length===this.effects.length&&Object(q.a)(e.effects,this.effects)||(this.setEffects(e.effects),this._needsRedraw="effects changed"))}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"getEffects",value:function(){return this._internalEffects}},{key:"finalize",value:function(){this.cleanup()}},{key:"setEffects",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cleanup(),this.effects=e,this._createInternalEffects()}},{key:"cleanup",value:function(){var e,t=Bt(this.effects);try{for(t.s();!(e=t.n()).done;){e.value.cleanup()}}catch(i){t.e(i)}finally{t.f()}var n,r=Bt(this._internalEffects);try{for(r.s();!(n=r.n()).done;){n.value.cleanup()}}catch(i){r.e(i)}finally{r.f()}this.effects.length=0,this._internalEffects.length=0}},{key:"_createInternalEffects",value:function(){this._internalEffects=this.effects.slice(),this.effects.some((function(e){return e instanceof Nt}))||this._internalEffects.push($t)}}]),e}();function Wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var Ht=function(e){Object(a.a)(n,e);var t=Wt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(pt);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var Zt={blendFunc:[1,0,32771,0],blendEquation:32774},Kt=function(e){Object(a.a)(n,e);var t=Xt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(e){e.pickingFBO?(this.useAlpha=!0,this._drawPickingBuffer(e)):(this.useAlpha=!1,Object(Ee.a)(Object(u.a)(n.prototype),"render",this).call(this,e))}},{key:"_drawPickingBuffer",value:function(e){var t=this,r=e.layers,i=e.layerFilter,o=e.views,a=e.viewports,s=e.onViewportActive,l=e.pickingFBO,c=e.deviceRect,f=c.x,h=c.y,d=c.width,p=c.height,g=e.pass,m=void 0===g?"picking":g,v=e.redrawReason,y=e.pickZ,b=this.gl;return this.pickZ=y,Object(lt.n)(b,qt(qt({scissorTest:!0,scissor:[f,h,d,p],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0]},Zt),{},{blend:!y}),(function(){Object(Ee.a)(Object(u.a)(n.prototype),"render",t).call(t,{target:l,layers:r,layerFilter:i,views:o,viewports:a,onViewportActive:s,pass:m,redrawReason:v})}))}},{key:"shouldDrawLayer",value:function(e){return e.props.pickable}},{key:"getModuleParameters",value:function(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}},{key:"getLayerParameters",value:function(e,t){var n=this.pickZ?{blend:!1}:qt(qt({},Zt),{},{blend:!0,blendColor:[0,0,0,this.useAlpha?(t+1)/255:1]});return Object.assign({},e.props.parameters,n)}}]),n}(pt);function Yt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn=function(){function e(t){Object(r.a)(this,e),this.gl=t,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new Ht(t),this.pickLayersPass=new Kt(t),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null,this._onError=null}return Object(i.a)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed"),"onError"in e&&(this._onError=e.onError)}},{key:"renderLayers",value:function(e){var t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=this.layerFilter,e.onError=this._onError,e.effects=e.effects||[],e.target=e.target||vt.a.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);var n=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render(en(en({},e),{},{target:n}));this._postRender(e.effects,e),this.renderCount++,Object(O.a)("deckRenderer.renderLayers",this,r,e)}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"finalize",value:function(){var e,t=this.renderBuffers,n=Yt(t);try{for(n.s();!(e=n.n()).done;){e.value.delete()}}catch(r){n.e(r)}finally{n.f()}t.length=0}},{key:"_preRender",value:function(e,t){var n,r=null,i=Yt(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.preRender(this.gl,t),o.postRender&&(r=o)}}catch(a){i.e(a)}finally{i.f()}r&&this._resizeRenderBuffers(),this.lastPostProcessEffect=r}},{key:"_resizeRenderBuffers",value:function(){var e=this.renderBuffers;0===e.length&&e.push(new vt.a(this.gl),new vt.a(this.gl));var t,n=Yt(e);try{for(n.s();!(t=n.n()).done;){t.value.resize()}}catch(r){n.e(r)}finally{n.f()}}},{key:"_postRender",value:function(e,t){var n,r=this.renderBuffers,i={inputBuffer:r[0],swapBuffer:r[1],target:null},o=Yt(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.postRender){if(a===this.lastPostProcessEffect){i.target=t.target,a.postRender(this.gl,i);break}var s=a.postRender(this.gl,i);i.inputBuffer=s,i.swapBuffer=s===r[0]?r[1]:r[0]}}}catch(u){o.e(u)}finally{o.f()}}}]),e}(),nn=n(224),rn={pickedColor:null,pickedLayer:null,pickedObjectIndex:-1};function on(e){var t=e.pickedColors,n=e.layers,r=e.deviceX,i=e.deviceY,o=e.deviceRadius,a=e.deviceRect;if(t){for(var s=a.x,u=a.y,l=a.width,c=a.height,f=o*o,h=-1,d=0,p=0;p<c;p++){var g=p+u-i,m=g*g;if(m>f)d+=4*l;else for(var v=0;v<l;v++){if(t[d+3]-1>=0){var y=v+s-r,b=y*y+m;b<=f&&(f=b,h=d)}d+=4}}if(h>=0){var _=t[h+3]-1,w=t.slice(h,h+4),O=n[_];if(O){var k=O.decodePickingColor(w),S=Math.floor(h/4/l);return{pickedColor:w,pickedLayer:O,pickedObjectIndex:k,pickedX:s+(h/4-S*l),pickedY:u+S}}x.a.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return rn}function an(e){var t=e.pickInfo,n=e.mode,r=e.viewports,i=e.layerFilter,o=e.pixelRatio,a=e.x,s=e.y,u=e.z,l=t&&t.pickedLayer,c=function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.containsPixel(t)&&(!n||n(i)))return i}return e[0]}(r,{x:a,y:s},i&&l&&function(e){return i({layer:l,viewport:e,isPicking:!0,renderPass:"picking:".concat(n)})}),f=c&&c.unproject([a-c.x,s-c.y],{targetZ:u});return{color:null,layer:null,viewport:c,index:-1,picked:!1,x:a,y:s,pixel:[a,s],coordinate:f,devicePixel:t&&[t.pickedX,t.pickedY],pixelRatio:o}}function sn(e){var t=e.pickInfo,n=e.lastPickedInfo,r=e.mode,i=e.layers,o=t.pickedColor,a=t.pickedLayer,s=t.pickedObjectIndex,u=a?[a]:[];if("hover"===r){var l=n.index,c=n.layerId,f=a&&a.props.id;if(f!==c||s!==l){if(f!==c){var h=i.find((function(e){return e.props.id===c}));h&&u.unshift(h)}n.layerId=f,n.index=s,n.info=null}}var d=an(e),p=new Map;return p.set(null,d),u.forEach((function(e){var t=Object.assign({},d);if(e===a&&(t.color=o,t.index=s,t.picked=!0),t=un({layer:e,info:t,mode:r}),e===a&&"hover"===r&&(n.info=t),t&&p.set(t.layer.id,t),"hover"===r&&e.props.autoHighlight){var i={pickingSelectedColor:a===e?o:null},u=e.props.highlightColor;a===e&&"function"===typeof u&&(i.pickingHighlightColor=u(t)),e.setModuleParameters(i),e.setNeedsRedraw()}})),p}function un(e){for(var t=e.layer,n=e.info,r=e.mode;t&&n;){var i=n.layer||t;n.layer=t,n=t.getPickingInfo({info:n,mode:r,sourceLayer:i}),t=t.parent}return n}function ln(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fn=function(){function e(t){Object(r.a)(this,e),this.gl=t,this.pickingFBO=null,this.pickLayersPass=new Kt(t),this.layerFilter=null,this.lastPickedInfo={index:-1,layerId:null,info:null},this._onError=null}return Object(i.a)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"onError"in e&&(this._onError=e.onError),"_pickable"in e&&(this._pickable=e._pickable)}},{key:"finalize",value:function(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}},{key:"pickObject",value:function(e){return this._pickClosestObject(e)}},{key:"pickObjects",value:function(e){return this._pickVisibleObjects(e)}},{key:"getLastPickedObject",value:function(e){var t=e.x,n=e.y,r=e.layers,i=e.viewports,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info,a=o&&o.layer&&o.layer.id,s=o&&o.viewport&&o.viewport.id,u=a?r.find((function(e){return e.id===a})):null,l=s&&i.find((function(e){return e.id===s}))||i[0],c=l&&l.unproject([t-l.x,n-l.y]),f={x:t,y:n,viewport:l,coordinate:c,layer:u};return u?Object.assign({},o,f):Object.assign(f,{color:null,object:null,index:-1})}},{key:"_resizeBuffer",value:function(){var e=this.gl;return this.pickingFBO||(this.pickingFBO=new vt.a(e),vt.a.isSupported(e,{colorBufferFloat:!0})&&(this.depthFBO=new vt.a(e),this.depthFBO.attach(Object(d.a)({},36064,new Qe.a(e,{format:Object(lt.i)(e)?34836:6408,type:5126}))))),this.pickingFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.depthFBO&&this.depthFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.pickingFBO}},{key:"_getPickable",value:function(e){if(!1===this._pickable)return null;var t=e.filter((function(e){return e.isPickable()&&!e.isComposite}));return t.length>255?(x.a.warn("Too many pickable layers, only picking the first 255")(),t.slice(0,255)):t.length?t:null}},{key:"_pickClosestObject",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.x,o=e.y,a=e.radius,s=void 0===a?0:a,u=e.depth,l=void 0===u?1:u,c=e.mode,f=void 0===c?"query":c,h=e.unproject3D,d=e.onViewportActive;if(!(t=this._getPickable(t)))return{result:[],emptyInfo:an({viewports:r,x:i,y:o})};this._resizeBuffer();for(var p,g=Object(lt.e)(this.gl),m=Object(lt.d)(this.gl,[i,o],!0),v=[m.x+Math.floor(m.width/2),m.y+Math.floor(m.height/2)],y=Math.round(s*g),b=this.pickingFBO,_=b.width,w=b.height,x=this._getPickingRect({deviceX:v[0],deviceY:v[1],deviceRadius:y,deviceWidth:_,deviceHeight:w}),O=[],k={},S=0;S<l;S++){var E=on({pickedColors:x&&this._drawAndSample({layers:t,views:n,viewports:r,onViewportActive:d,deviceRect:x,pass:"picking:".concat(f),redrawReason:f}),layers:t,deviceX:v[0],deviceY:v[1],deviceRadius:y,deviceRect:x}),C=void 0;if(E.pickedLayer&&h&&this.depthFBO)C=this._drawAndSample({layers:[E.pickedLayer],views:n,viewports:r,onViewportActive:d,deviceRect:{x:E.pickedX,y:E.pickedY,width:1,height:1},pass:"picking:".concat(f),redrawReason:"pick-z",pickZ:!0})[0]*r[0].distanceScales.metersPerUnit[2]+r[0].position[2];if(E.pickedColor&&S+1<l){var A=E.pickedColor[3]-1;k[A]=!0,t[A].disablePickingIndex(E.pickedObjectIndex)}var P,j=ln((p=sn({pickInfo:E,lastPickedInfo:this.lastPickedInfo,mode:f,layers:t,layerFilter:this.layerFilter,viewports:r,x:i,y:o,z:C,pixelRatio:g})).values());try{for(j.s();!(P=j.n()).done;){var T=P.value;T.layer&&O.push(T)}}catch(R){j.e(R)}finally{j.f()}if(!E.pickedColor)break}for(var M in k)t[M].restorePickingColors();return{result:O,emptyInfo:p&&p.get(null)}}},{key:"_pickVisibleObjects",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.x,o=e.y,a=e.width,s=void 0===a?1:a,u=e.height,l=void 0===u?1:u,c=e.mode,f=void 0===c?"query":c,h=e.maxObjects,d=void 0===h?null:h,p=e.onViewportActive;if(!(t=this._getPickable(t)))return[];this._resizeBuffer();for(var g=Object(lt.e)(this.gl),m=Object(lt.d)(this.gl,[i,o],!0),v=m.x,y=m.y+m.height,b=Object(lt.d)(this.gl,[i+s,o+l],!0),_=b.x+b.width,w=b.y,O={x:v,y:w,width:_-v,height:y-w},k=function(e){var t=e.pickedColors,n=e.layers,r=new Map;if(t)for(var i=0;i<t.length;i+=4){var o=t[i+3]-1;if(o>=0){var a=t.slice(i,i+4),s=a.join(",");if(!r.has(s)){var u=n[o];u?r.set(s,{pickedColor:a,pickedLayer:u,pickedObjectIndex:u.decodePickingColor(a)}):x.a.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(r.values())}({pickedColors:this._drawAndSample({layers:t,views:n,viewports:r,onViewportActive:p,deviceRect:O,pass:"picking:".concat(f),redrawReason:f}),layers:t}),S=new Map,E=Number.isFinite(d),C=0;C<k.length&&!(E&&S.size>=d);C++){var A=k[C],P={color:A.pickedColor,layer:null,index:A.pickedObjectIndex,picked:!0,x:i,y:o,width:s,height:l,pixelRatio:g};P=un({layer:A.pickedLayer,info:P,mode:f}),S.has(P.object)||S.set(P.object,P)}return Array.from(S.values())}},{key:"_drawAndSample",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.onViewportActive,o=e.deviceRect,a=e.pass,s=e.redrawReason,u=e.pickZ;if(Object(G.a)(o.width>0&&o.height>0),t.length<1)return null;var l=u?this.depthFBO:this.pickingFBO;this.pickLayersPass.render({layers:t,layerFilter:this.layerFilter,onError:this._onError,views:n,viewports:r,onViewportActive:i,pickingFBO:l,deviceRect:o,pass:a,redrawReason:s,pickZ:u});var c=o.x,f=o.y,h=o.width,d=o.height,p=new(u?Float32Array:Uint8Array)(h*d*4);return Object(nn.b)(l,{sourceX:c,sourceY:f,sourceWidth:h,sourceHeight:d,target:p}),p}},{key:"_getPickingRect",value:function(e){var t=e.deviceX,n=e.deviceY,r=e.deviceRadius,i=e.deviceWidth,o=e.deviceHeight,a=Math.max(0,t-r),s=Math.max(0,n-r),u=Math.min(i,t+r+1)-a,l=Math.min(o,n+r+1)-s;return u<=0||l<=0?null:{x:a,y:s,width:u,height:l}}}]),e}(),hn={zIndex:1,position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:0,left:0,display:"none"},dn=function(){function e(t){Object(r.a)(this,e);var n=t.parentElement;n&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,hn),n.appendChild(this.el))}return Object(i.a)(e,[{key:"setTooltip",value:function(e,t,n){var r=this.el;if("string"===typeof e)r.innerText=e;else{if(!e)return void(r.style.display="none");"text"in e&&(r.innerText=e.text),"html"in e&&(r.innerHTML=e.html),"className"in e&&(r.className=e.className),Object.assign(r.style,e.style)}r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}},{key:"remove",value:function(){this.el&&this.el.remove()}}]),e}(),pn=n(75),gn=n(301),mn=n(12),vn=n.n(mn),yn=n(20);function bn(e,t){if(!e)throw new Error(t)}var _n=n(141),wn=_n.a._parseImageNode,xn="undefined"!==typeof Image,On="undefined"!==typeof ImageBitmap,kn=Boolean(wn),Sn=!!_n.b||kn;function En(e){var t=An(e);if(!t)throw new Error("Not an image");return t}function Cn(e){switch(En(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),n=t.getContext("2d");if(n)return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:return bn(!1)}}function An(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===Object(Y.a)(e)&&e.data&&e.width&&e.height?"data":null}var Pn=/^data:image\/svg\+xml/,jn=/\.svg((\?|#).*)?$/;function Tn(e){return e&&(Pn.test(e)||jn.test(e))}function Mn(e,t){if(Tn(t)){var n=(new TextDecoder).decode(e);return"data:image/svg+xml;base64,".concat(btoa(n))}return Rn(e,t)}function Rn(e,t){if(Tn(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function Ln(e,t,n){return In.apply(this,arguments)}function In(){return(In=Object(yn.a)(vn.a.mark((function e(t,n,r){var i,o,a;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mn(t,r),o=self.URL||self.webkitURL,a="string"!==typeof i&&o.createObjectURL(i),e.prev=3,e.next=6,Dn(a||i,n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,a&&o.revokeObjectURL(a),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function Dn(e,t){return zn.apply(this,arguments)}function zn(){return(zn=Object(yn.a)(vn.a.mark((function e(t,n){var r;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new Image).src=t,!(n.image&&n.image.decode&&r.decode)){e.next=6;break}return e.next=5,r.decode();case 5:return e.abrupt("return",r);case 6:return e.next=8,new Promise((function(e,n){try{r.onload=function(){return e(r)},r.onerror=function(e){return n(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(i){n(i)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fn={},Nn=!0;function Bn(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(yn.a)(vn.a.mark((function e(t,n,r){var i,o,a;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Tn(r)){e.next=7;break}return e.next=3,Ln(t,n,r);case 3:o=e.sent,i=o,e.next=8;break;case 7:i=Rn(t,r);case 8:return a=n&&n.imagebitmap,e.next=11,$n(i,a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(e){return Un.apply(this,arguments)}function Un(){return(Un=Object(yn.a)(vn.a.mark((function e(t){var n,r=arguments;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wn(n=r.length>1&&void 0!==r[1]?r[1]:null)&&Nn||(n=null),!n){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,n);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),Nn=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Wn(e){for(var t in e||Fn)return!1;return!0}var Hn=!1,Gn=!0;function qn(e){var t=Xn(e);return function(e){var t=Xn(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,Hn)))return null;return{mimeType:"image/png",width:t.getUint32(16,Hn),height:t.getUint32(20,Hn)}}(t)||function(e){var t=Xn(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,Hn)&&255===t.getUint8(2)))return null;var n=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),r=n.tableMarkers,i=n.sofMarkers,o=2;for(;o+9<t.byteLength;){var a=t.getUint16(o,Hn);if(i.has(a))return{mimeType:"image/jpeg",height:t.getUint16(o+5,Hn),width:t.getUint16(o+7,Hn)};if(!r.has(a))return null;o+=2,o+=t.getUint16(o,Hn)}return null}(t)||function(e){var t=Xn(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,Hn)))return null;return{mimeType:"image/gif",width:t.getUint16(6,Gn),height:t.getUint16(8,Gn)}}(t)||function(e){var t=Xn(e);if(!(t.byteLength>=14&&16973===t.getUint16(0,Hn)&&t.getUint32(2,Gn)===t.byteLength))return null;return{mimeType:"image/bmp",width:t.getUint32(18,Gn),height:t.getUint32(22,Gn)}}(t)}function Xn(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}function Zn(e,t){var n=(qn(e)||{}).mimeType,r=_n.a._parseImageNode;return bn(r),r(e,n,t)}function Kn(){return(Kn=Object(yn.a)(vn.a.mark((function e(t,n,r){var i,o,a,s,u;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(n=n||{}).image||{},o=i.type||"auto",a=(r||{}).url,s=Yn(o),e.t0=s,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,Bn(t,n,a);case 10:return u=e.sent,e.abrupt("break",21);case 12:return e.next=14,Ln(t,n,a);case 14:return u=e.sent,e.abrupt("break",21);case 16:return e.next=18,Zn(t,n);case 18:return u=e.sent,e.abrupt("break",21);case 20:bn(!1);case 21:return"data"===o&&(u=Cn(u)),e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e){switch(e){case"auto":case"data":return function(){if(On)return"imagebitmap";if(xn)return"image";if(Sn)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return On||xn||Sn;case"imagebitmap":return On;case"image":return xn;case"data":return Sn;case"html":return xn;case"ndarray":return Sn;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}var Jn={id:"image",name:"Images",version:"2.3.13",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function(e,t,n){return Kn.apply(this,arguments)},tests:[function(e){return Boolean(qn(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}},Qn=n(34);var er={name:"JSON",extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(e){var t=e[0],n=e[e.length-1];return"{"===t&&"}"===n||"["===t&&"]"===n},parseTextSync:JSON.parse},tr="8.4.12",nr=Qn.global.deck&&Qn.global.deck.VERSION;if(nr&&nr!==tr)throw new Error("deck.gl - multiple versions detected: ".concat(nr," vs ").concat(tr));nr||(Qn.global.deck=Object.assign(Qn.global.deck||{},{VERSION:tr,version:tr,log:x.a,_registerLoggers:O.b}),Object(gn.b)([er,[Jn,{imagebitmap:{premultiplyAlpha:"none"}}]]));var rr=Qn.global.deck,ir=n(143),or=n(33),ar=n(52),sr=n(528),ur=n(220);function lr(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var hr=function(e){Object(a.a)(n,e);var t=fr(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,n),(i=t.call(this,e,a)).target=null,i._queryPending=!1,i._pollingPromise=null,Object.seal(Object(o.a)(i)),i}return Object(i.a)(n,null,[{key:"isSupported",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(lt.i)(e),i=Object(sr.c)(e,ur.a.TIMER_QUERY),o=r||i,a=lr(n);try{for(a.s();!(t=a.n()).done;){var s=t.value;switch(s){case"queries":o=o&&r;break;case"timers":o=o&&i;break;default:Object(or.a)(!1)}}}catch(u){a.e(u)}finally{a.f()}return o}}]),Object(i.a)(n,[{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conservative,n=void 0!==t&&t;return this.begin(n?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}},{key:"isTimerDisjoint",value:function(){return this.gl2.getParameter(36795)}},{key:"getResult",value:function(){return this.gl2.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var n=0;return this._pollingPromise=new Promise((function(r,i){requestAnimationFrame((function o(){e.isResultAvailable()?(r(e.getResult()),e._pollingPromise=null):n++>t?(i("Timed out"),e._pollingPromise=null):requestAnimationFrame(o)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return n.isSupported(this.gl)?this.gl2.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl2.deleteQuery(this.handle)}}]),n}(ar.a);function dr(e){return"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e)}var pr=Object(Qn.isBrowser)()&&"undefined"!==typeof document,gr=0,mr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e);var n=t.onCreateContext,i=void 0===n?function(e){return Object(lt.c)(e)}:n,o=t.onAddHTML,a=void 0===o?null:o,s=t.onInitialize,u=void 0===s?function(){}:s,l=t.onRender,c=void 0===l?function(){}:l,f=t.onFinalize,h=void 0===f?function(){}:f,d=t.onError,p=t.gl,g=void 0===p?null:p,m=t.glOptions,v=void 0===m?{}:m,y=t.debug,b=void 0!==y&&y,_=t.createFramebuffer,w=void 0!==_&&_,x=t.autoResizeViewport,O=void 0===x||x,k=t.autoResizeDrawingBuffer,S=void 0===k||k,E=t.stats,C=void 0===E?ir.a.get("animation-loop-".concat(gr++)):E,A=t.useDevicePixels,P=void 0===A||A;"useDevicePixelRatio"in t&&(lt.j.deprecated("useDevicePixelRatio","useDevicePixels")(),P=t.useDevicePixelRatio),this.props={onCreateContext:i,onAddHTML:a,onInitialize:u,onRender:c,onFinalize:h,onError:d,gl:g,glOptions:v,debug:b,createFramebuffer:w},this.gl=g,this.needsRedraw=null,this.timeline=null,this.stats=C,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:O,autoResizeDrawingBuffer:S,useDevicePixels:P}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}return Object(i.a)(e,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(e){return Object(or.a)("string"===typeof e),this.needsRedraw=this.needsRedraw||e,this}},{key:"setProps",value:function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var n=this._getPageLoadPromise().then((function(){return!e._running||e._initialized?null:(e._createWebGLContext(t),e._createFramebuffer(),e._startEventHandling(),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport(),e._gpuTimeQuery=hr.isSupported(e.gl,["timers"])?new hr(e.gl):null,e._initialized=!0,e.onInitialize(e.animationProps))})).then((function(t){e._running&&(e._addCallbackData(t||{}),!1!==t&&e._startLoop())}));return this.props.onError&&n.catch(this.props.onError),this}},{key:"redraw",value:function(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),dr(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(e){return this.timeline=e,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var e=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(t){e._resolveNextFrame=t}))),this._nextFramePromise}},{key:"toDataURL",value:function(){var e=Object(yn.a)(vn.a.mark((function e(){return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setNeedsRedraw("toDataURL"),e.next=3,this.waitForRender();case 3:return e.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isContextLost",value:function(){return this.gl.isContextLost()}},{key:"onCreateContext",value:function(){var e;return(e=this.props).onCreateContext.apply(e,arguments)}},{key:"onInitialize",value:function(){var e;return(e=this.props).onInitialize.apply(e,arguments)}},{key:"onRender",value:function(){var e;return(e=this.props).onRender.apply(e,arguments)}},{key:"onFinalize",value:function(){var e;return(e=this.props).onFinalize.apply(e,arguments)}},{key:"getHTMLControlValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=document.getElementById(e);return n?Number(n.value):t}},{key:"setViewParameters",value:function(){return lt.j.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var e=this;dr(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function t(){e._running&&(e.redraw(),e._animationFrameId=e._requestAnimationFrame(t))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=pr?new Promise((function(e,t){pr&&"complete"===document.readyState?e(document):window.addEventListener("load",(function(){e(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}},{key:"_requestAnimationFrame",value:function(e){var t;this.display&&this.display.requestAnimationFrame(e)||(t=e,"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60))}},{key:"_renderFrame",value:function(){var e;this.display?(e=this.display)._renderFrame.apply(e,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var e=this._getSizeAndAspect(),t=e.width,n=e.height,r=e.aspect;t===this.animationProps.width&&n===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(e){"object"===Object(Y.a)(e)&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}},{key:"_createWebGLContext",value:function(e){if(this.offScreen=e.canvas&&"undefined"!==typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?Object(lt.g)(this.props.gl,e):this.onCreateContext(e),!Object(lt.h)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Object(lt.k)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";var t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);var n=this.props.onAddHTML(t);n&&(t.innerHTML=n)}}},{key:"_getSizeAndAspect",value:function(){var e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight,n=1,r=this.gl.canvas;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:e>0&&t>0&&(n=e/t),{width:e,height:t,aspect:n}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&Object(lt.l)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new vt.a(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var e=this.gl.canvas;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}},{key:"_onMouseleave",value:function(e){this.animationProps._mousePosition=null}}]),e}(),vr=n(177);function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(){}var Or={id:"deckgl-overlay",width:"100%",height:"100%",pickingRadius:0,layerFilter:null,glOptions:{},gl:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},onWebGLInitialized:xr,onResize:xr,onViewStateChange:xr,onInteractionStateChange:xr,onBeforeRender:xr,onAfterRender:xr,onLoad:xr,onError:null,_onMetrics:null,getCursor:function(e){return e.isDragging?"grabbing":"grab"},debug:!1,drawPickingColors:!1},kr=function(){function e(t){Object(r.a)(this,e),t=Object.assign({},Or,t),this.props={},this.width=0,this.height=0,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this._needsRedraw=!0,this._pickRequest={},this._lastPointerDownInfo=null,this.viewState=null,this.interactiveState={isHovering:!1,isDragging:!1},this._onEvent=this._onEvent.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._pickAndCallback=this._pickAndCallback.bind(this),this._onRendererInitialized=this._onRendererInitialized.bind(this),this._onRenderFrame=this._onRenderFrame.bind(this),this._onViewStateChange=this._onViewStateChange.bind(this),this._onInteractionStateChange=this._onInteractionStateChange.bind(this),t.viewState&&t.initialViewState&&x.a.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===Object(Qn.getBrowser)()&&x.a.warn("IE 11 support will be deprecated in v8.0")(),t.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(t)),this.animationLoop=this._createAnimationLoop(t),this.stats=new S.a({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(t),t._typedArrayManagerProps&&pn.a.setProps(t._typedArrayManagerProps),this.animationLoop.start()}return Object(i.a)(e,[{key:"finalize",value:function(){this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager&&(this.layerManager.finalize(),this.layerManager=null,this.viewManager.finalize(),this.viewManager=null,this.effectManager.finalize(),this.effectManager=null,this.deckRenderer.finalize(),this.deckRenderer=null,this.deckPicker.finalize(),this.deckPicker=null,this.eventManager.destroy(),this.eventManager=null,this.tooltip.remove(),this.tooltip=null),this.props.canvas||this.props.gl||!this.canvas||(this.canvas.parentElement.removeChild(this.canvas),this.canvas=null)}},{key:"setProps",value:function(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&x.a.removed("onLayerHover","onHover")(),"onLayerClick"in e&&x.a.removed("onLayerClick","onClick")(),e.initialViewState&&!Object(q.a)(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);var t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(this.props._animate)return"Deck._animate";var t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var n=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),i=this.effectManager.needsRedraw(e),o=this.deckRenderer.needsRedraw(e);return t=t||n||r||i||o}},{key:"redraw",value:function(e){if(this.layerManager){var t=e||this.needsRedraw({clearRedrawFlags:!0});t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}}},{key:"getViews",value:function(){return this.viewManager.views}},{key:"getViewports",value:function(e){return this.viewManager.getViewports(e)}},{key:"pickObject",value:function(e){var t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}},{key:"pickMultipleObjects",value:function(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}},{key:"pickObjects",value:function(e){return this._pick("pickObjects","pickObjects Time",e)}},{key:"_addResources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:t})}},{key:"_removeResources",value:function(e){var t,n=_r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.layerManager.resourceManager.remove(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_pick",value:function(e,t,n){var r=this.stats;r.get("Pick Count").incrementCount(),r.get(t).timeStart();var i=this.deckPicker[e](Object.assign({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport},n));return r.get(t).timeEnd(),i}},{key:"_createCanvas",value:function(e){var t=e.canvas;("string"===typeof t&&(t=document.getElementById(t),Object(G.a)(t)),t)||(t=document.createElement("canvas"),(e.parent||document.body).appendChild(t));var n=e.id,r=e.style;return t.id=n,Object.assign(t.style,r),t}},{key:"_setCanvasSize",value:function(e){if(this.canvas){var t=e.width,n=e.height;(t||0===t)&&(t=Number.isFinite(t)?"".concat(t,"px"):t,this.canvas.style.width=t),(n||0===n)&&(n=Number.isFinite(n)?"".concat(n,"px"):n,this.canvas.style.position="absolute",this.canvas.style.height=n)}}},{key:"_updateCanvasSize",value:function(){if(this._checkForCanvasSizeChange()){var e=this.width,t=this.height;this.viewManager.setProps({width:e,height:t}),this.props.onResize({width:this.width,height:this.height})}}},{key:"_checkForCanvasSizeChange",value:function(){var e=this.canvas;if(!e)return!1;var t=e.clientWidth||e.width,n=e.clientHeight||e.height;return(t!==this.width||n!==this.height)&&(this.width=t,this.height=n,!0)}},{key:"_createAnimationLoop",value:function(e){var t=this,n=e.width,r=e.height,i=e.gl,o=e.glOptions,a=e.debug,s=e.useDevicePixels,u=e.autoResizeDrawingBuffer;return new mr({width:n,height:r,useDevicePixels:s,autoResizeDrawingBuffer:u,autoResizeViewport:!1,gl:i,onCreateContext:function(e){return Object(lt.c)(Object.assign({},o,e,{canvas:t.canvas,debug:a}))},onInitialize:this._onRendererInitialized,onRender:this._onRenderFrame,onBeforeRender:e.onBeforeRender,onAfterRender:e.onAfterRender,onError:e.onError})}},{key:"_getViewState",value:function(){return this.props.viewState||this.viewState}},{key:"_getViews",value:function(){var e=this.props.views||[new Je({id:"default-view"})];return(e=Array.isArray(e)?e:[e]).length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}},{key:"_onPointerMove",value:function(e){var t=this._pickRequest;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;var n=e.offsetCenter;if(!n)return;t.x=n.x,t.y=n.y,t.radius=this.props.pickingRadius}this.layerManager&&(this.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e,t.mode="hover"}},{key:"_pickAndCallback",value:function(){var e=this._pickRequest;if(e.event){var t=this._pick("pickObject","pickObject Time",e),n=t.result,r=t.emptyInfo;this.interactiveState.isHovering=n.length>0;var i,o=r,a=!1,s=_r(n);try{for(s.s();!(i=s.n()).done;){var u=i.value;o=u,a=u.layer.onHover(u,e.event)}}catch(c){s.e(c)}finally{s.f()}if(!a&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip){var l=this.props.getTooltip(o);this.tooltip.setTooltip(l,o.x,o.y)}e.event=null}}},{key:"_updateCursor",value:function(){var e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.interactiveState))}},{key:"_setGLContext",value:function(e){if(!this.layerManager){this.canvas||(this.canvas=e.canvas,Object(lt.g)(e,{enable:!0,copyState:!0})),this.tooltip=new dn(this.canvas),Object(lt.m)(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);var t=new b;for(var n in t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new vr.a(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}}),Ot.b)this.eventManager.on(n,this._onEvent);this.viewManager=new K({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange,onInteractionStateChange:this._onInteractionStateChange,views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});var r=this.viewManager.getViewports()[0];this.layerManager=new H(e,{deck:this,stats:this.stats,viewport:r,timeline:t}),this.effectManager=new Ut,this.deckRenderer=new tn(e),this.deckPicker=new fn(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}}},{key:"_drawLayers",value:function(e,t){var n=this.layerManager.context.gl;Object(lt.m)(n,this.props.parameters),this.props.onBeforeRender({gl:n}),this.deckRenderer.renderLayers(Object.assign({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects()},t)),this.props.onAfterRender({gl:n})}},{key:"_onRendererInitialized",value:function(e){var t=e.gl;this._setGLContext(t)}},{key:"_onRenderFrame",value:function(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),x.a.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(!1),this.viewManager&&this.viewManager.updateViewStates()}},{key:"_onViewStateChange",value:function(e){var t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState=br(br({},this.viewState),{},Object(d.a)({},e.viewId,t)),this.props.viewState||this.viewManager.setProps({viewState:this.viewState}))}},{key:"_onInteractionStateChange",value:function(e){this.interactiveState.isDragging=e.isDragging,this.props.onInteractionStateChange(e)}},{key:"_onEvent",value:function(e){var t=Ot.b[e.type],n=e.offsetCenter;if(t&&n){var r=this.layerManager.getLayers(),i=this.deckPicker.getLastPickedObject({x:n.x,y:n.y,layers:r,viewports:this.getViewports(n)},this._lastPointerDownInfo),o=i.layer,a=o&&(o[t.handler]||o.props[t.handler]),s=this.props[t.handler],u=!1;a&&(u=a.call(o,i,e)),!u&&s&&s(i,e)}}},{key:"_onPointerDown",value:function(e){var t=e.offsetCenter;this._lastPointerDownInfo=this.pickObject({x:t.x,y:t.y,radius:this.props.pickingRadius})}},{key:"_getFrameStats",value:function(){var e=this.stats;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();var t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}},{key:"_getMetrics",value:function(){var e=this.metrics,t=this.stats;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();var n=ir.a.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}]),e}();function Sr(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}function Er(e){return e?"function"===typeof e?Object(l.createElement)(re,{},e):Array.isArray(e)?e.map(Er):e.type===c.a.Fragment?Er(e.props.children):(Sr(e.type,re),e):e}function Cr(e){var t=e.children,n=e.layers,r=e.views,i=[],o=[],a={};return c.a.Children.forEach(Er(t),(function(e){if(e){var t=e.type;if(Sr(t,_.a)){var n=function(e,t){var n={},r=e.defaultProps||{};for(var i in t)r[i]!==t[i]&&(n[i]=t[i]);return new e(n)}(t,e.props);o.push(n)}else i.push(e);if(t!==re&&Sr(t,re)&&e.props.id){var r=new t(e.props);a[r.id]=r}}})),Object.keys(a).length>0&&(Array.isArray(r)?r.forEach((function(e){a[e.id]=e})):r&&(a[r.id]=r),r=Object.values(a)),{layers:n=o.length>0?[].concat(o,Object(xt.a)(n)):n,children:i,views:r}}kr.getPropTypes=function(e){return{id:e.string,width:e.oneOfType([e.number,e.string]),height:e.oneOfType([e.number,e.string]),layers:e.oneOfType([e.object,e.array]),layerFilter:e.func,views:e.oneOfType([e.object,e.array]),viewState:e.object,effects:e.arrayOf(e.instanceOf(st)),controller:e.oneOfType([e.func,e.bool,e.object]),gl:e.object,glOptions:e.object,parameters:e.object,pickingRadius:e.number,useDevicePixels:e.oneOfType([e.bool,e.number]),touchAction:e.string,eventRecognizerOptions:e.object,onWebGLInitialized:e.func,onResize:e.func,onViewStateChange:e.func,onInteractionStateChange:e.func,onBeforeRender:e.func,onAfterRender:e.func,onLoad:e.func,onError:e.func,debug:e.bool,drawPickingColors:e.bool,_framebuffer:e.object,_animate:e.bool,_pickable:e.bool,_typedArrayManagerProps:e.object}},kr.defaultProps=Or,kr.VERSION=rr.VERSION;var Ar={position:"absolute",zIndex:-1};function Pr(e,t){return e?"function"===typeof e?e(t):Array.isArray(e)?e.map((function(e){return Pr(e,t)})):function(e){var t=e&&e.type,n=t&&t.defaultProps;return n&&n.mapStyle}(e)?(t.style=Ar,Object(l.cloneElement)(e,t)):function(e){var t=e&&e.type;return t&&t.deckGLViewProps}(e)?Object(l.cloneElement)(e,t):e:e}function jr(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mr(e){var t=e.children,n=(e.viewports,e.deck),r=e.ContextProvider,i=(n||{}).viewManager;if(!i||!i.views.length)return[];var o,a={},s=i.views[0].id,u=jr(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,f=s,h=c;Sr(c.type,re)&&(f=c.props.id||s,h=c.props.children);var d=i.getViewport(f),p=i.getViewState(f);if(d)h=Pr(h,{x:d.x,y:d.y,width:d.width,height:d.height,viewport:d,viewState:p}),a[f]||(a[f]={viewport:d,children:[]}),a[f].children.push(h)}}catch(g){u.e(g)}finally{u.f()}return Object.keys(a).map((function(e){var t=a[e],i=t.viewport,o=t.children,s={position:"absolute",left:i.x,top:i.y,width:i.width,height:i.height},u="view-".concat(e),c=l.createElement.apply(void 0,["div",{key:u,id:u,style:s}].concat(Object(xt.a)(o)));if(r){var f={viewport:i,container:n.canvas.offsetParent,eventManager:n.eventManager,onViewStateChange:function(t){t.viewId=e,n._onViewStateChange(t)}};return Object(l.createElement)(r,{key:u,value:f},c)}return c}))}var Rr={mixBlendMode:null};function Lr(e){var t=e.width,n=e.height,r=e.style,i={position:"absolute",zIndex:0,left:0,top:0,width:t,height:n},o={left:0,top:0};if(r)for(var a in r)a in Rr?o[a]=r[a]:i[a]=r[a];return{containerStyle:i,canvasStyle:o}}function Ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var Dr=kr.getPropTypes(h.a),zr=kr.defaultProps,Fr=function(e){Object(a.a)(n,e);var t=Ir(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).viewports=null,i.children=null,i._needsRedraw=null,i._containerRef=c.a.createRef(),i._canvasRef=c.a.createRef(),i.pickObject=i.pickObject.bind(Object(o.a)(i)),i.pickMultipleObjects=i.pickMultipleObjects.bind(Object(o.a)(i)),i.pickObjects=i.pickObjects.bind(Object(o.a)(i)),i._extractJSXLayers=Object(kt.a)(Cr),i._positionChildrenUnderViews=Object(kt.a)(Mr),i._extractStyles=Object(kt.a)(Lr),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.Deck||kr;this.deck=this.deck||new e(Object.assign({},this.props,{parent:this._containerRef.current,canvas:this._canvasRef.current,style:null,width:"100%",height:"100%",_customRender:this._customRender.bind(this)})),this._updateFromProps(this.props)}},{key:"shouldComponentUpdate",value:function(e){this._updateFromProps(e);var t=this.children!==this._parseJSX(e).children,n=this.deck.viewManager&&this.deck.viewManager.needsRedraw();return t&&!n}},{key:"componentDidUpdate",value:function(){this._redrawDeck()}},{key:"componentWillUnmount",value:function(){this.deck.finalize()}},{key:"pickObject",value:function(e){return this.deck.pickObject(e)}},{key:"pickMultipleObjects",value:function(e){return this.deck.pickMultipleObjects(e)}},{key:"pickObjects",value:function(e){return this.deck.pickObjects(e)}},{key:"_redrawDeck",value:function(){this._needsRedraw&&(this.deck._drawLayers(this._needsRedraw),this._needsRedraw=null)}},{key:"_customRender",value:function(e){this._needsRedraw=e,this.deck.viewManager.getViewports()!==this.viewports?this.forceUpdate():this._redrawDeck()}},{key:"_parseJSX",value:function(e){return this._extractJSXLayers({layers:e.layers,views:e.views,children:e.children})}},{key:"_updateFromProps",value:function(e){var t=this._parseJSX(e),n=t.layers,r=t.views,i=Object.assign({},e,{style:null,width:"100%",height:"100%",layers:n,views:r});this.deck.setProps(i)}},{key:"render",value:function(){var e=this.props,t=e.ContextProvider,n=e.width,r=e.height,i=e.style,o=(this.deck||{}).viewManager;this.viewports=o&&o.getViewports(),this.children=this._parseJSX(this.props).children;var a=this._positionChildrenUnderViews({children:this.children,viewports:this.viewports,deck:this.deck,ContextProvider:t}),s=this._extractStyles({width:n,height:r,style:i}),u=s.containerStyle,c=s.canvasStyle,f=Object(l.createElement)("canvas",{key:"canvas",ref:this._canvasRef,style:c});return Object(l.createElement)("div",{id:"deckgl-wrapper",ref:this._containerRef,style:u},[f,a])}}]),n}(c.a.Component);Fr.propTypes=Dr,Fr.defaultProps=zr},function(e,t,n){"use strict";n.d(t,"a",(function(){return Be}));var r=n(12),i=n.n(r),o=n(20),a=n(31),s=n(93),u=n(95),l=n(76),c="2.3.13";function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;Object(l.a)(e,"no loader provided");var n=e.version;t&&n&&(t=h(t),n=h(n))}function h(e){var t=e.split(".").map(Number);return{major:t[0],minor:t[1]}}var d=n(124),p=n(19),g=n(219);function m(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){if(g.toArrayBuffer&&(e=g.toArrayBuffer(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"===typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return e&&"object"===Object(p.a)(e)&&e._toArrayBuffer?e._toArrayBuffer():Object(l.a)(!1)}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),o=i.reduce((function(e,t){return e+t.byteLength}),0),a=new Uint8Array(o),s=0,u=m(i);try{for(u.s();!(r=u.n()).done;){var l=r.value;a.set(l,s),s+=l.byteLength}}catch(c){u.e(c)}finally{u.f()}return a.buffer}function _(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(i.a.mark((function e(t){var n,r,o,a,s,u,c,f,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=[],o=!0,a=!1,e.prev=4,u=Object(d.a)(t);case 6:return e.next=8,u.next();case 8:return c=e.sent,o=c.done,e.next=12,c.value;case 12:if(f=e.sent,o){e.next=19;break}"string"===typeof(h=f)?r.push(h):n.push(h);case 16:o=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),a=!0,s=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==u.return){e.next=30;break}return e.next=30,u.return();case 30:if(e.prev=30,!a){e.next=33;break}throw s;case 33:return e.finish(30);case 34:return e.finish(25);case 35:if(!(r.length>0)){e.next=38;break}return Object(l.a)(0===n.length),e.abrupt("return",r.join(""));case 38:return e.abrupt("return",b.apply(void 0,n));case 39:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}var x=i.a.mark(O);function O(e){var t,n,r,o,a,s,u,l=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=l.length>1&&void 0!==l[1]?l[1]:{},n=t.chunkSize,r=void 0===n?262144:n,o=0,a=new TextEncoder;case 4:if(!(o<e.length)){i.next=12;break}return s=Math.min(e.length-o,r),u=e.slice(o,o+s),o+=s,i.next=10,a.encode(u);case 10:i.next=4;break;case 12:case"end":return i.stop()}}),x)}var k=i.a.mark(S);function S(e){var t,n,r,o,a,s,u,l=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=l.length>1&&void 0!==l[1]?l[1]:{},n=t.chunkSize,r=void 0===n?262144:n,o=0;case 3:if(!(o<e.byteLength)){i.next=14;break}return a=Math.min(e.byteLength-o,r),s=new ArrayBuffer(a),u=new Uint8Array(e,o,a),new Uint8Array(s).set(u),o+=a,i.next=12,s;case 12:i.next=3;break;case 14:case"end":return i.stop()}}),k)}function E(e){this.wrapped=e}function C(e){return new E(e)}function A(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof E;Promise.resolve(s?a.wrapped:a).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!==typeof e.return&&(this.return=void 0)}function P(e){return function(){return new A(e.apply(this,arguments))}}"function"===typeof Symbol&&Symbol.asyncIterator&&(A.prototype[Symbol.asyncIterator]=function(){return this}),A.prototype.next=function(e){return this._invoke("next",e)},A.prototype.throw=function(e){return this._invoke("throw",e)},A.prototype.return=function(e){return this._invoke("return",e)};var j=1048576;function T(e){return M.apply(this,arguments)}function M(){return(M=P(i.a.mark((function e(t){var n,r,o,a,s,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.chunkSize||j,o=0;case 3:if(!(o<t.size)){e.next=13;break}return a=o+r,e.next=7,C(R(t,o,a));case 7:return s=e.sent,o=a,e.next=11,s;case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){var o=t.slice(n,r),a=new FileReader;a.onload=function(t){return e(t.target&&t.target.result)},a.onerror=function(e){return i(e)},a.readAsArrayBuffer(o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=n(551);function D(e){if(I.b||I.c>=10){if("function"===typeof e[Symbol.asyncIterator])return function(e){return z.apply(this,arguments)}(e);if("function"===typeof e.getIterator)return e.getIterator()}return I.b?function(e){return F.apply(this,arguments)}(e):function(e){return N.apply(this,arguments)}(e)}function z(){return(z=P(i.a.mark((function e(t){var n,r,o,a,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,e.prev=2,a=Object(d.a)(t);case 4:return e.next=6,C(a.next());case 6:return s=e.sent,n=s.done,e.next=10,C(s.value);case 10:if(u=e.sent,n){e.next=18;break}return l=u,e.next=15,y(l);case 15:n=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),r=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==a.return){e.next=29;break}return e.next=29,C(a.return());case 29:if(e.prev=29,!r){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function F(){return(F=P(i.a.mark((function e(t){var n,r,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getReader(),e.prev=1;case 2:return e.next=5,C(n.read());case 5:if(r=e.sent,o=r.done,a=r.value,!o){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,y(a);case 12:e.next=2;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n.releaseLock();case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function N(){return(N=P(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:t=e.sent;case 3:if(null===(n=t.read())){e.next=9;break}return e.next=8,y(n);case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,C(B(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return V.apply(this,arguments)}function V(){return(V=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.once("readable",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?O(e,t):e instanceof ArrayBuffer?S(e,t):Object(a.b)(e)?T(e,t):Object(a.h)(e)?D(e):Object(a.i)(e)?D(e.body):Object(l.a)(!1)}var U=n(113),W="Cannot convert supplied data type";function H(e,t){if(t.text&&"string"===typeof e)return e;if(e instanceof ArrayBuffer){var n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)||Object(a.c)(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var r=e.buffer,i=e.byteLength||e.length;return 0===e.byteOffset&&i===r.byteLength||(r=r.slice(e.byteOffset,e.byteOffset+i)),r}throw new Error(W)}function G(e,t){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(i.a.mark((function e(t,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!==typeof t&&!r){e.next=3;break}return e.abrupt("return",H(t,n));case 3:if(!Object(a.b)(t)){e.next=7;break}return e.next=6,Object(U.b)(t);case 6:t=e.sent;case 7:if(!Object(a.i)(t)){e.next=21;break}return o=t,e.next=11,Object(U.a)(o);case 11:if(!n.binary){e.next=17;break}return e.next=14,o.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,o.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if(Object(a.h)(t)&&(t=$(t)),!Object(a.d)(t)&&!Object(a.a)(t)){e.next=24;break}return e.abrupt("return",_(t));case 24:throw new Error(W);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=n(18),Z=n(2);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(Z.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n||(e=Y({fetch:Object(u.a)(t||{},e)},e),Array.isArray(e.loaders)||(e.loaders=null),e)}function Q(e,t){if(!t&&e&&!Array.isArray(e))return e;var n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){var r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[].concat(Object(X.a)(n),Object(X.a)(r)):r}return n&&n.length?n:null}var ee=n(5),te=n(4),ne=new Map;function re(e){return"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n}")}function ie(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n||new Set;if(e){if(oe(e))r.add(e);else if(oe(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===Object(p.a)(e))for(var i in e)ie(e[i],t,r)}else;return void 0===n?Array.from(r):[]}function oe(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var ae=0;function se(e){var t=e.data;(0,e.resolve)(t)}var ue=function(){function e(t){var n=t.source,r=t.name,i=void 0===r?"web-worker-".concat(ae++):r,o=t.onMessage;Object(ee.a)(this,e);var a=function(e){if(Object(l.a)("string"===typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")")){var t=e.match(/^url\((.*)\)$/)[1];if(t&&!t.startsWith("http"))return t;e=re(t)}var n=ne.get(e);if(!n){var r=new Blob([e],{type:"application/javascript"});n=URL.createObjectURL(r),ne.set(e,n)}return n}(n);this.worker=new Worker(a,{name:i}),this.name=i,this.onMessage=o||se}return Object(te.a)(e,[{key:"process",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.worker.onmessage=function(t){n.onMessage({worker:n.worker,data:t.data,resolve:e,reject:r})},n.worker.onerror=function(e){var t="".concat(n.name,": WorkerThread.process() failed");e.message&&(t+=" ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));var i=new Error(t);console.error(e),r(i)};var i=ie(t);n.worker.postMessage(t,i)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.worker.terminate(),this.worker=null}}]),e}(),le=function(){function e(t){var n=t.source,r=t.name,i=void 0===r?"unnamed":r,o=t.maxConcurrency,a=void 0===o?1:o,s=t.onMessage,u=t.onDebug,l=void 0===u?function(){}:u,c=t.reuseWorkers,f=void 0===c||c;Object(ee.a)(this,e),this.source=n,this.name=i,this.maxConcurrency=a,this.onMessage=s,this.onDebug=l,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.reuseWorkers=f}return Object(te.a)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"process",value:function(e,t){var n=this;return new Promise((function(r,i){n.jobQueue.push({data:e,jobName:t,resolve:r,reject:i}),n._startQueuedJob()}))}},{key:"_startQueuedJob",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:return n=this.jobQueue.shift(),this.onDebug({message:"processing",worker:t.name,job:n.jobName,backlog:this.jobQueue.length}),e.prev=7,e.t0=n,e.next=11,t.process(n.data);case 11:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=18;break;case 15:e.prev=15,e.t2=e.catch(7),n.reject(e.t2);case 18:return e.prev=18,this._onWorkerDone(t),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,15,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"_onWorkerDone",value:function(e){this.isDestroyed?e.destroy():(this.reuseWorkers?this.idleQueue.push(e):(e.destroy(),this.count--),this._startQueuedJob())}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new ue({source:this.source,onMessage:this.onMessage,name:e})}return null}}]),e}(),ce=function(){function e(t){var n=t.maxConcurrency,r=void 0===n?5:n,i=t.onMessage,o=void 0===i?null:i,a=t.onDebug,s=void 0===a?function(){}:a,u=t.reuseWorkers,l=void 0===u||u;Object(ee.a)(this,e),this.maxConcurrency=r,this.onMessage=o,this.onDebug=s,this.workerPools=new Map,this.reuseWorkers=l}return Object(te.a)(e,null,[{key:"isSupported",value:function(){return"undefined"!==typeof Worker}}]),Object(te.a)(e,[{key:"setProps",value:function(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug),"reuseWorkers"in e&&(this.reuseWorkers=e.reuseWorkers)}},{key:"destroy",value:function(){this.workerPools.forEach((function(e){return e.destroy()}))}},{key:"process",value:function(){var e=Object(o.a)(i.a.mark((function e(t,n,r){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._getWorkerPool(t,n),e.abrupt("return",o.process(r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_getWorkerPool",value:function(e,t){var n=this.workerPools.get(t);return n||(n=new le({source:e,name:t,onMessage:fe.bind(null,this.onMessage),maxConcurrency:this.maxConcurrency,onDebug:this.onDebug,reuseWorkers:this.reuseWorkers}),this.workerPools.set(t,n)),n}}]),e}();function fe(e,t){var n=t.worker,r=t.data,i=t.resolve,o=t.reject;if(e)e({worker:n,data:r,resolve:i,reject:o});else switch(r.type){case"done":i(r.result);break;case"error":o(r.message)}}var he="2.3.13";function de(e,t,n,r){if(!ce.isSupported())return!1;var i=n&&n[e.id];return!!("local"===n.worker&&i&&i.localWorkerUrl||n.worker&&i&&i.workerUrl)&&(!e.useWorker||e.useWorker(n))}function pe(e,t,n,r){var i=(n||{}).worker,o=n&&n[e.id]||{},a="local"===i?o.localWorkerUrl:o.workerUrl,s="url(".concat(a,")"),u=e.name,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);"reuseWorkers"in e&&(t.reuseWorkers=e.reuseWorkers);ge||(ge=new ce({onMessage:me}));return ge.setProps(t),ge}(n);n=JSON.parse(JSON.stringify(n));var c=e.version!==he?"(core version ".concat(he,")"):"";return l.process(s,"".concat(u,"-worker@").concat(e.version).concat(c),{arraybuffer:y(t),options:n,source:"loaders.gl@".concat(he),type:"parse"})}var ge=null;function me(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(i.a.mark((function e(t){var n,r,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.worker,r=t.data,o=t.resolve,a=t.reject,e.t0=r.type,e.next="done"===e.t0?4:"parse"===e.t0?6:"error"===e.t0?17:19;break;case 4:return o(r.result),e.abrupt("break",19);case 6:return e.prev=6,e.next=9,De(r.arraybuffer,r.options,r.url);case 9:s=e.sent,n.postMessage({type:"parse-done",id:r.id,result:s},ie(s)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),n.postMessage({type:"parse-error",id:r.id,message:e.t1.message});case 16:return e.abrupt("break",19);case 17:return a(r.message),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}var ye=n(102),be=n(301);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(Z.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=/\.([^.]+)$/;function Se(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(o.a)(i.a.mark((function e(t){var n,r,o,s,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:[],r=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3&&void 0!==u[3]?u[3]:{},!(s=Ce(t,n,we(we({},r),{},{nothrow:!0}),o))){e.next=6;break}return e.abrupt("return",s);case 6:if(!Object(a.b)(t)){e.next=11;break}return e.next=9,R(t,0,10);case 9:t=e.sent,s=Ce(t,n,r,o);case 11:if(s||r.nothrow){e.next=13;break}throw new Error(Ae(t));case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&!Array.isArray(t))return Object(s.b)(t);Pe(t=[].concat(Object(X.a)(t||[]),Object(X.a)(Object(be.a)())));var i=Object(ye.b)(e),o=i.url,a=i.type,u=je(t,o||r.url);if(!(u=(u=u||Te(t,a))||Me(t,e))&&!n.nothrow)throw new Error(Ae(e));return u}function Ae(e){var t=Object(ye.b)(e),n=t.url,r=t.type,i="No valid loader found";return e&&(i+=' data: "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Ie(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer)return Ie(e,0,t);return""}(e),'", contentType: "').concat(r,'"')),n&&(i+=" url: ".concat(n)),i}function Pe(e){var t,n=xe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;Object(s.b)(r)}}catch(i){n.e(i)}finally{n.f()}}function je(e,t){var n=t&&t.match(ke),r=n&&n[1];return r&&function(e,t){t=t.toLowerCase();var n,r=xe(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=xe(o.extensions);try{for(a.s();!(i=a.n()).done;){if(i.value.toLowerCase()===t)return o}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e,r)}function Te(e,t){var n,r=xe(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(o){r.e(o)}finally{r.f()}return null}function Me(e,t){if(!t)return null;var n,r=xe(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("string"===typeof t){if(Re(t,i))return i}else if(ArrayBuffer.isView(t)){if(Le(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(Le(t,0,i))return i}}}catch(o){r.e(o)}finally{r.f()}return null}function Re(e,t){return t.testText&&t.testText(e)}function Le(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((function(r){return function(e,t,n,r){if(r instanceof ArrayBuffer)return function(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;for(var r=new Uint8Array(e),i=new Uint8Array(t),o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(r,e,r.byteLength);switch(Object(p.a)(r)){case"function":return r(e,n);case"string":return r===Ie(e,t,r.length);default:return!1}}(e,t,n,r)}))}function Ie(e,t,n){if(e.byteLength<t+n)return"";for(var r=new DataView(e),i="",o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}function De(e,t,n,r){return ze.apply(this,arguments)}function ze(){return(ze=Object(o.a)(i.a.mark((function e(t,n,r,o){var a,c,f,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.a)(!o||"string"!==typeof o,"parse no longer accepts final url"),!n||Array.isArray(n)||Object(s.a)(n)||(o=r,r=n,n=null),e.next=4,t;case 4:return t=e.sent,r=r||{},a=Object(ye.b)(t),c=a.url,f=Q(n,o),e.next=10,Se(t,f,r);case 10:if(h=e.sent){e.next=13;break}return e.abrupt("return",null);case 13:return r=Object(u.c)(r,h,f,c),o=J({url:c,parse:De,loaders:f},r,o),e.next=17,Fe(h,t,r,o);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t,n,r){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(o.a)(i.a.mark((function e(t,n,r,o){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(t),e.next=3,G(n,t);case 3:if(n=e.sent,!t.parseTextSync||"string"!==typeof n){e.next=7;break}return r.dataType="text",e.abrupt("return",t.parseTextSync(n,r,o,t));case 7:if(!de(t,0,r)){e.next=11;break}return e.next=10,pe(t,n,r);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parseText||"string"!==typeof n){e.next=15;break}return e.next=14,t.parseText(n,r,o,t);case 14:return e.abrupt("return",e.sent);case 15:if(!t.parse){e.next=19;break}return e.next=18,t.parse(n,r,o,t);case 18:return e.abrupt("return",e.sent);case 19:return Object(l.a)(!t.parseSync),e.abrupt("return",Object(l.a)(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t,n){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(o.a)(i.a.mark((function e(t,n,r){var o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)||Object(s.a)(n)||(r=n,n=null),o=Object(u.a)(r||{}),l=t,"string"!==typeof t){e.next=9;break}return e.next=6,o(t);case 6:l=e.sent,e.next=10;break;case 9:t=null;case 10:if(!Object(a.b)(t)){e.next=15;break}return e.next=13,o(t);case 13:l=e.sent,t=null;case 15:return e.next=17,De(l,n,r);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var r,i=n(5),o=n(4),a=n(27),s=n(26),u=n(13),l=n(15),c=n(6),f=n(52),h=n(62),d=n(84),p=n(2),g=n(9),m=n(114),v=n(33),y=(r={},Object(p.a)(r,5126,R.bind(null,"uniform1fv",k,1,L)),Object(p.a)(r,35664,R.bind(null,"uniform2fv",k,2,L)),Object(p.a)(r,35665,R.bind(null,"uniform3fv",k,3,L)),Object(p.a)(r,35666,R.bind(null,"uniform4fv",k,4,L)),Object(p.a)(r,5124,R.bind(null,"uniform1iv",S,1,L)),Object(p.a)(r,35667,R.bind(null,"uniform2iv",S,2,L)),Object(p.a)(r,35668,R.bind(null,"uniform3iv",S,3,L)),Object(p.a)(r,35669,R.bind(null,"uniform4iv",S,4,L)),Object(p.a)(r,35670,R.bind(null,"uniform1iv",S,1,L)),Object(p.a)(r,35671,R.bind(null,"uniform2iv",S,2,L)),Object(p.a)(r,35672,R.bind(null,"uniform3iv",S,3,L)),Object(p.a)(r,35673,R.bind(null,"uniform4iv",S,4,L)),Object(p.a)(r,35674,R.bind(null,"uniformMatrix2fv",k,4,I)),Object(p.a)(r,35675,R.bind(null,"uniformMatrix3fv",k,9,I)),Object(p.a)(r,35676,R.bind(null,"uniformMatrix4fv",k,16,I)),Object(p.a)(r,35678,M),Object(p.a)(r,35680,M),Object(p.a)(r,5125,R.bind(null,"uniform1uiv",E,1,L)),Object(p.a)(r,36294,R.bind(null,"uniform2uiv",E,2,L)),Object(p.a)(r,36295,R.bind(null,"uniform3uiv",E,3,L)),Object(p.a)(r,36296,R.bind(null,"uniform4uiv",E,4,L)),Object(p.a)(r,35685,R.bind(null,"uniformMatrix2x3fv",k,6,I)),Object(p.a)(r,35686,R.bind(null,"uniformMatrix2x4fv",k,8,I)),Object(p.a)(r,35687,R.bind(null,"uniformMatrix3x2fv",k,6,I)),Object(p.a)(r,35688,R.bind(null,"uniformMatrix3x4fv",k,12,I)),Object(p.a)(r,35689,R.bind(null,"uniformMatrix4x2fv",k,8,I)),Object(p.a)(r,35690,R.bind(null,"uniformMatrix4x3fv",k,12,I)),Object(p.a)(r,35678,M),Object(p.a)(r,35680,M),Object(p.a)(r,35679,M),Object(p.a)(r,35682,M),Object(p.a)(r,36289,M),Object(p.a)(r,36292,M),Object(p.a)(r,36293,M),Object(p.a)(r,36298,M),Object(p.a)(r,36299,M),Object(p.a)(r,36300,M),Object(p.a)(r,36303,M),Object(p.a)(r,36306,M),Object(p.a)(r,36307,M),Object(p.a)(r,36308,M),Object(p.a)(r,36311,M),r),b={},_={},w={},x=[0];function O(e,t,n,r){1===t&&"boolean"===typeof e&&(e=e?1:0),Number.isFinite(e)&&(x[0]=e,e=x);var i=e.length;if(i%t&&g.j.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof n)return e;var o=r[i];o||(o=new n(i),r[i]=o);for(var a=0;a<i;a++)o[a]=e[a];return o}function k(e,t){return O(e,t,Float32Array,b)}function S(e,t){return O(e,t,Int32Array,_)}function E(e,t){return O(e,t,Uint32Array,w)}function C(e,t,n){var r=y[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,e,t)}function A(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function P(e,t,n){for(var r in e){var i=e[r];if((!n||Boolean(n[r]))&&!j(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(r),i),new Error("".concat(t," Bad uniform ").concat(r))}return!0}function j(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),n=0;n<t;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof h.a||(e instanceof m.a||e instanceof d.a&&Boolean(e.texture))))}function T(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(e[t])for(var r=e[t],i=0,o=n.length;i<o;++i)r[i]=n[i];else e[t]=n.slice();else e[t]=n}function M(){var e=null;return function(t,n,r){var i=e!==r;return i&&(t.uniform1i(n,r),e=r),i}}function R(e,t,n,r){var i=null,o=null;return function(a,s,u){var l=t(u,n),c=l.length,f=!1;if(null===i)i=new Float32Array(c),o=c,f=!0;else{Object(v.a)(o===c,"Uniform length cannot change.");for(var h=0;h<c;++h)if(l[h]!==i[h]){f=!0;break}}return f&&(r(a,e,s,l),i.set(l)),f}}function L(e,t,n,r){e[t](n,r)}function I(e,t,n,r){e[t](n,!1,r)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,r=e.match(n);return r?r[1]:t}function z(e,t,n,r){for(var i=e.split(/\r?\n/),o={},a={},s=r||D(t)||"(unnamed)",u="".concat(function(e){switch(e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(n)," shader ").concat(s),l=0;l<i.length;l++){var c=i[l];if(!(c.length<=1)){var f=c.split(":"),h=f[0],d=parseInt(f[2],10);if(isNaN(d))throw new Error("GLSL compilation error in ".concat(u,": ").concat(e));"WARNING"!==h?o[d]=c:a[d]=c}}var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",r=e.split(/\r?\n/),i=String(r.length+t-1).length;return r.map((function(e,r){var o=String(r+t),a=o.length;return N(o,i-a)+n+e}))}(t);return{shaderName:u,errors:F(o,p),warnings:F(a,p)}}function F(e,t){for(var n="",r=0;r<t.length;r++){var i=t[r];if((e[r+3]||e[r+2]||e[r+1])&&(n+="".concat(i,"\n"),e[r+1])){var o=e[r+1],a=o.split(":",3),s=a[0],u=parseInt(a[1],10)||0,l=o.substring(a.join(":").length+1).trim();n+=N("^^^ ".concat(s,": ").concat(l,"\n\n"),u)}}return n}function N(e,t){for(var n="",r=0;r<t;++r)n+=" ";return"".concat(n).concat(e)}var B=n(147);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var $=function(e){Object(u.a)(n,e);var t=V(n);function n(e,r){var o;Object(i.a)(this,n),Object(g.b)(e),Object(v.a)("string"===typeof r.source,"Shader: GLSL source code must be a JavaScript string");var a=D(r.source,null)||r.id||Object(B.c)("unnamed ".concat(n.getTypeName(r.shaderType)));return(o=t.call(this,e,{id:a})).shaderType=r.shaderType,o.source=r.source,o.initialize(r),o}return Object(o.a)(n,null,[{key:"getTypeName",value:function(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return Object(v.a)(!1),"unknown"}}}]),Object(o.a)(n,[{key:"initialize",value:function(e){var t=e.source,n=D(t,null);n&&(this.id=Object(B.c)(n)),this._compile(t)}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return"".concat(n.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return D(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var t=this.getParameter(35713);if(!t){var n=this.gl.getShaderInfoLog(this.handle),r=z(n,this.source,this.shaderType,this.id),i=r.shaderName,o=r.errors,a=r.warnings;throw g.j.error("GLSL compilation errors in ".concat(i,"\n").concat(o))(),g.j.warn("GLSL compilation warnings in ".concat(i,"\n").concat(a))(),new Error("GLSL compilation errors in ".concat(i))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}]),n}(f.a),U=function(e){Object(u.a)(n,e);var t=V(n);function n(e,r){return Object(i.a)(this,n),"string"===typeof r&&(r={source:r}),t.call(this,e,Object.assign({},r,{shaderType:35633}))}return Object(o.a)(n,[{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),n}($),W=function(e){Object(u.a)(n,e);var t=V(n);function n(e,r){return Object(i.a)(this,n),"string"===typeof r&&(r={source:r}),t.call(this,e,Object.assign({},r,{shaderType:35632}))}return Object(o.a)(n,[{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),n}($),H=n(69),G=n(94),q=function(){function e(t){Object(i.a)(this,e),this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}return Object(o.a)(e,[{key:"getAttributeInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}},{key:"getAttributeLocation",value:function(e){var t=this.getAttributeInfo(e);return t?t.location:-1}},{key:"getAttributeAccessor",value:function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null}},{key:"getVaryingInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}},{key:"getVaryingIndex",value:function(e){var t=this.getVaryingInfo();return t?t.location:-1}},{key:"getVaryingAccessor",value:function(e){var t=this.getVaryingInfo();return t?t.accessor:null}},{key:"_readAttributesFromProgram",value:function(e){for(var t=e.gl,n=t.getProgramParameter(e.handle,35721),r=0;r<n;r++){var i=t.getActiveAttrib(e.handle,r),o=i.name,a=i.type,s=i.size,u=t.getAttribLocation(e.handle,o);u>=0&&this._addAttribute(u,o,a,s)}this.attributeInfos.sort((function(e,t){return e.location-t.location}))}},{key:"_readVaryingsFromProgram",value:function(e){var t=e.gl;if(Object(g.i)(t)){for(var n=t.getProgramParameter(e.handle,35971),r=0;r<n;r++){var i=t.getTransformFeedbackVarying(e.handle,r),o=i.name,a=i.type,s=i.size;this._addVarying(r,o,a,s)}this.varyingInfos.sort((function(e,t){return e.location-t.location}))}}},{key:"_addAttribute",value:function(e,t,n,r){var i=Object(G.a)(n),o={type:i.type,size:r*i.components};this._inferProperties(e,t,o);var a={location:e,name:t,accessor:new H.a(o)};this.attributeInfos.push(a),this.attributeInfosByLocation[e]=a,this.attributeInfosByName[a.name]=a}},{key:"_inferProperties",value:function(e,t,n){/instance/i.test(t)&&(n.divisor=1)}},{key:"_addVarying",value:function(e,t,n,r){var i=Object(G.a)(n),o=i.type,a=i.components,s={location:e,name:t,accessor:new H.a({type:o,size:r*a})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s}}]),e}(),X=n(104);function Z(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var J=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],Q=function(e){Object(u.a)(n,e);var t=Y(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,n),(r=t.call(this,e,o)).stubRemovedMethods("Program","v6.0",J),r._isCached=!1,r.initialize(o),Object.seal(Object(a.a)(r)),r._setId(o.id),r}return Object(o.a)(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hash,n=e.vs,r=e.fs,i=e.varyings,o=e.bufferMode,a=void 0===o?35981:o;return this.hash=t||"",this.vs="string"===typeof n?new U(this.gl,{id:"".concat(e.id,"-vs"),source:n}):n,this.fs="string"===typeof r?new W(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,Object(v.a)(this.vs instanceof U),Object(v.a)(this.fs instanceof W),this.uniforms={},this._textureUniforms={},i&&i.length>0&&(Object(g.a)(this.gl),this.varyings=i,this.gl2.transformFeedbackVaryings(this.handle,i,a)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new q(this),this.setProps(e)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:Object(s.a)(Object(c.a)(n.prototype),"delete",this).call(this,e)}},{key:"setProps",value:function(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}},{key:"draw",value:function(e){var t=this,n=e.logPriority,r=e.drawMode,i=void 0===r?4:r,o=e.vertexCount,a=e.offset,s=void 0===a?0:a,u=e.start,l=e.end,c=e.isIndexed,f=void 0!==c&&c,h=e.indexType,d=void 0===h?5123:h,p=e.instanceCount,m=void 0===p?0:p,y=e.isInstanced,b=void 0===y?m>0:y,_=e.vertexArray,w=void 0===_?null:_,x=e.transformFeedback,O=e.framebuffer,k=e.parameters,S=void 0===k?{}:k,E=e.uniforms,C=e.samplers;if((E||C)&&(g.j.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(E||{})),g.j.priority>=n){var A=O?O.id:"default",P="mode=".concat(Object(X.a)(this.gl,i)," verts=").concat(o," ")+"instances=".concat(m," indexType=").concat(Object(X.a)(this.gl,d)," ")+"isInstanced=".concat(b," isIndexed=").concat(f," ")+"Framebuffer=".concat(A);g.j.log(n,P)()}return Object(v.a)(w),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===o||b&&0===m)&&(w.bindForDraw(o,m,(function(){if(void 0!==O&&(S=Object.assign({},S,{framebuffer:O})),x){var e=Object(G.c)(i);x.begin(e)}t._bindTextures(),Object(g.n)(t.gl,S,(function(){f&&b?t.gl2.drawElementsInstanced(i,o,d,s,m):f&&Object(g.i)(t.gl)&&!isNaN(u)&&!isNaN(l)?t.gl2.drawRangeElements(i,u,l,o,d,s):f?t.gl.drawElements(i,o,d,s):b?t.gl2.drawArraysInstanced(i,s,o,m):t.gl.drawArrays(i,s,o)})),x&&x.end()})),!0)}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in g.j.priority>=2&&P(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle),e){var n=e[t],r=this._uniformSetters[t];if(r){var i=n,o=!1;if(i instanceof d.a&&(i=i.texture),i instanceof h.a)if(o=this.uniforms[t]!==n){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);var a=i,s=r.textureIndex;a.bind(s),i=s,this._textureUniforms[t]=a}else i=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(i)||o)&&T(this.uniforms,t,n)}}return this}},{key:"_areTexturesRenderable",value:function(){var e=!0;for(var t in this._textureUniforms){var n=this._textureUniforms[t];n.update(),e=e&&n.loaded}return e}},{key:"_bindTextures",value:function(){for(var e in this._textureUniforms){var t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(e){var t,n={},r=Z(this.gl.getAttachedShaders(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:n.vs=new U({handle:i});break;case 35632:n.fs=new W({handle:i})}}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=Object(B.c)(t)}}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?"".concat(e,"-program"):"program"}},{key:"_compileAndLink",value:function(){var e=this.gl;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),g.j.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),g.j.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||g.j.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var t=0;t<this._uniformCount;t++){var n=this.gl.getActiveUniform(this.handle,t),r=A(n.name).name,i=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=C(e,i,n),n.size>1)for(var o=0;o<n.size;o++)i=e.getUniformLocation(this.handle,"".concat(r,"[").concat(o,"]")),this._uniformSetters["".concat(r,"[").concat(o,"]")]=C(e,i,n)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}},{key:"getUniformBlockIndex",value:function(e){return this.gl2.getUniformBlockIndex(this.handle,e)}},{key:"getActiveUniformBlockParameter",value:function(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}},{key:"uniformBlockBinding",value:function(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}]),n}(f.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n";function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a={lightSources:{}};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=void 0===t?[0,0,0]:t,r=e.intensity,i=void 0===r?1:r;return n.map((function(e){return e*i/255}))}function u(e){var t=e.ambientLight,n=e.pointLights,r=void 0===n?[]:n,i=e.directionalLights,o=void 0===i?[]:i,a={};return a["lighting_uAmbientLight.color"]=t?s(t):[0,0,0],r.forEach((function(e,t){a["lighting_uPointLight[".concat(t,"].color")]=s(e),a["lighting_uPointLight[".concat(t,"].position")]=e.position,a["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),a.lighting_uPointLightCount=r.length,o.forEach((function(e,t){a["lighting_uDirectionalLight[".concat(t,"].color")]=s(e),a["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),a.lighting_uDirectionalLightCount=o.length,a}var l={name:"lights",vs:r,fs:r,getUniforms:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;if("lightSources"in t){var n=t.lightSources||{},r=n.ambientLight,o=n.pointLights,s=n.directionalLights,l=r||o&&o.length>0||s&&s.length>0;return l?Object.assign({},u({ambientLight:r,pointLights:o,directionalLights:s}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){var c,f={pointLights:[],directionalLights:[]},h=i(t.lights||[]);try{for(h.s();!(c=h.n()).done;){var d=c.value;switch(d.type){case"ambient":f.ambientLight=d;break;case"directional":f.directionalLights.push(d);break;case"point":f.pointLights.push(d)}}}catch(p){h.e(p)}finally{h.f()}return e({lightSources:f})}return{}},defines:{MAX_LIGHTS:3}},c="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",f={};function h(e){var t=e.ambient,n=void 0===t?.35:t,r=e.diffuse,i=void 0===r?.6:r,o=e.shininess,a=void 0===o?32:o,s=e.specularColor;return{lighting_uAmbient:n,lighting_uDiffuse:i,lighting_uShininess:a,lighting_uSpecularColor:(void 0===s?[30,30,30]:s).map((function(e){return e/255}))}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;if(!("material"in e))return{};var t=e.material;return t?h(t):{lighting_uEnabled:!1}}var p={name:"gouraud-lighting",dependencies:[l],vs:c,defines:{LIGHTING_VERTEX:1},getUniforms:d}}]]);
//# sourceMappingURL=2.d9c11ba5.chunk.js.map